{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../components/common/dom.js","webpack:///../components/ripple/index.js","webpack:///../components/button/index.js","webpack:///./components/datatable.pug","webpack:///../components/menu/item.js","webpack:///../components/menu/index.js","webpack:///../components/datatable/index.js","webpack:///../adapters/datatable/column.js","webpack:///../adapters/datatable/index.js","webpack:///./components/datatable.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","getPassiveEventListenerOption","nextTick","cancelTick","getChildElementByClass","findElementParentByClassName","isRtl","dispatchDomEvent","iterateArrayLike","iterateSomeOfArrayLike","iterateElementSiblings","getTextNode","setTextNode","scrollToElement","passiveEventListenerSupported","options","passive","window","addEventListener","removeEventListener","err","testPassiveEventListenerOptionSupport","requestAnimationFrame","cb","setTimeout","cancelAnimationFrame","clearTimeout","element","className","child","getElementsByClassName","parentElement","includeSelf","el","classList","contains","document","documentElement","hasAttribute","getAttribute","toLowerCase","type","event","createEvent","initEvent","dispatchEvent","arrayLike","fn","Array","forEach","some","distance","sibling","previousElementSibling","nextElementSibling","node","textNode","childNodes","childNode","nodeType","Node","TEXT_NODE","createTextNode","appendChild","nodeValue","removeChild","smooth","parent","scrollLeft","offsetLeft","scrollTo","top","left","behavior","style","setProperty","removeProperty","attach","detach","_common_dom__WEBPACK_IMPORTED_MODULE_0__","ripple","createElement","add","firstChild","insertBefore","rippleInner","setAttribute","targetElement","HTMLButtonElement","onClick","onMouseEvent","onTouchEvent","onKeyEvent","onAnimationEnd","currentTarget","detail","removeAttribute","rect","getBoundingClientRect","updateRipplePosition","pageX","pageXOffset","pageY","pageYOffset","drawRipple","clearRipple","touch","changedTouches","x","y","matches","msMatchesSelector","isActive","width","height","xPos","yPos","clientWidth","clientHeight","hypotenuse","Math","sqrt","concat","_ripple_index__WEBPACK_IMPORTED_MODULE_0__","Ripple","HTMLInputElement","onKeyDown","buttonElement","stopPropagation","preventDefault","newEvent","ACTIVATE_EVENT","CHECK_EVENT","UNCHECK_EVENT","_ripple_index__WEBPACK_IMPORTED_MODULE_1__","onMouseMove","role","useAriaChecked","length","setupARIA","menuItemElement","isDisabled","toggleChecked","setChecked","previousFocus","activeElement","focus","checked","isCheckable","isChecked","MenuStack","state","previousState","originalEvent","_classCallCheck","this","pendingResizeOperation","OPEN_MENUS","HIDE_EVENT","menuElement","onMenuClick","onMenuScroll","popupElement","scrollTop","scrollHeight","scrollWidth","target","hide","onWindowResize","lastOpenMenu","updateMenuPosition","onPopState","keys","every","selectNextMenuItem","MenuItem","menu","backwards","menuItems","foundTarget","candidate","firstFocusableItem","lastFocusableElement","focusable","alignTarget","transformOrigin","useAlignTarget","margin","mdwPosition","mdwDirection","alignTop","indexOf","alignBottom","alignVCenter","alignStart","alignEnd","alignLeft","alignRight","alignHCenter","openUp","openDown","openNormal","openReverse","openVCenter","openHCenter","openLtr","openRtl","isPageRTL","offsetTop","offsetY","offsetBottom","offsetX","offsetRight","popupElementHeight","popupElementWidth","canOpenDownwardsFromBottom","innerHeight","canOpenDownwardsFromTop","canOpenUpwardsFromTop","canOpenUpwardsFromBottom","canOpenRightwardsFromLeft","innerWidth","canOpenRightwardsFromRight","canOpenLeftwardsFromRight","canOpenLeftwardsFromLeft","canOpenFromCenter","candidates","map","index","filter","candidateNumber","number","show","HTMLAnchorElement","changed","newState","hash","random","toString","substr","history","pushState","replaceState","title","menuStack","push","menuItem","refreshMenuItems","pointerType","stackIndex","stack","splice","back","headerRow","getHeaderRow","tbody","getTableBody","cellFocusable","rowFocusable","onHeaderRowClick","onTableBodyKeyDown","onTableBodyClick","firstRow","foundTabbableRow","firstCell","foundTabbableCell","rows","row","cells","cell","updateTabIndex","mdwDataTable","findParentCell","hasSelection","checkboxes","querySelectorAll","checkbox","HTMLTableRowElement","HTMLTableCellElement","removeOtherTabIndexes","HTMLTableSectionElement","td","tr","HTMLTableElement","cellIndex","mdwTable","ascending","getElementsByTagName","th","item","deleteRow","sort","a","b","aCell","bCell","aText","textContent","bText","dataset","parseFloat","localeCompare","reverse","fragment","createDocumentFragment","currentSelection","isRow","nextSelection","sectionRowIndex","newRow","newIndex","ctrlKey","newRowIndex","newCellIndex","isRtlEnabled","isLeft","isRight","getScroller","datatableElement","scroller","footer","table","getTable","tableElement","thead","DataTableAdapterColumn","innerHTML","sortable","sortIcon","customSortIcon","hasChildNodes","tooltip","wrapper","primaryColumn","rowSelector","checkboxLabel","input","icon","constructTableCheckbox","renderer","defaultCheckboxRenderer","defaultCellRenderer","formatter","stringValue","foundTextNode","DataTableAdapter","_this","datatable_classCallCheck","datatable","datasource","sorter","onValueChangeRequested","onValueChanged","onElementClickListener","handleClickInteraction","onElementScrollListener","onElementScroll","tabindexRow","tabindexRowData","getDataForTableRow","DataTable","columns","page","pageLimit","debounceTimeMs","throttleTimeMs","useLazyRendering","filteredDatasource","forceRefresh","arguments","undefined","performLazyRender","throttledRenderPending","scheduleThrottledRender","_this2","performThrottledRender","_this3","debounceTimeout","currentCell","getTableCell","tagName","setCheckOnAllRows","setHasSelection","currentRow","getTableRow","selectedRows","getSelectedRows","updateSortIcons","updateSortColumn","tableHeaderCell","refresh","tableColumn","direction","valueA","valueB","sortedTableHeaderCell","otherTableHeader","columnIndex","column","selectorColumn","getDatasource","buildScrollListener","destroyScrollListener","min","total","max","paginationDetailsElement","previousPageButton","nextPageButton","_this4","getFooter","disabled","display","needsDraw","optionsElement","rowsPerPageText","limits","limitsElement","select","limit","option","dropdownIcon","parseInt","updateRowCount","updatePaginator","refreshRows","paginationControls","buttons","Button","viewportTop","viewportBottom","offsetHeight","rowTop","rowBottom","visibleRows","firstRowIndex","Infinity","lastRowIndex","lastChild","_this5","len","minRowCount","screen","foundFirstVisibleRow","startIndex","endIndex","isRowVisible","_this6","getLazyRenderRows","refreshRow","clearNonvisibleRows","refreshFilter","slice","_this7","rowLength","rowsToDisplay","offset","rowDifference","newRows","_this8","getTableRowForData","data","datasourceIndex","minIndex","rowIndex","_this9","refreshCell","missingColumn","missingCell","insertCell","formattedValue","search","_this10","dynamicTableAdapter","Menu","count","text","substring","text2","check1","increment","floor","getElementById","addColumn","setUseLazyRendering","setPagination","filterButton","optionsButton","menus","filterMenu","optionsMenu","setFilter","buildDynamicTable"],"mappings":"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","file":"datatable.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 34);\n","let passiveEventListenerSupported = null;\n\n/** @return {void} */\nfunction testPassiveEventListenerOptionSupport() {\n  try {\n    passiveEventListenerSupported = false;\n    const options = {\n      get passive() {\n        passiveEventListenerSupported = true;\n        return true;\n      },\n    };\n    // @ts-ignore\n    window.addEventListener('test', options, options);\n    // @ts-ignore\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveEventListenerSupported = false;\n  }\n}\n\n/** @return {Object|boolean} */\nexport function getPassiveEventListenerOption() {\n  if (passiveEventListenerSupported == null) {\n    testPassiveEventListenerOptionSupport();\n  }\n  if (passiveEventListenerSupported) {\n    return { passive: true };\n  }\n  return false;\n}\n\nexport const nextTick = window.requestAnimationFrame || (cb => window.setTimeout(cb, 17));\n\nexport const cancelTick = window.cancelAnimationFrame || window.clearTimeout;\n\n/**\n * @param {Element} element\n * @param {string} className\n * @return {Element}\n */\nexport function getChildElementByClass(element, className) {\n  const child = element.getElementsByClassName(className)[0];\n  if (child && child.parentElement !== element) {\n    return null;\n  }\n  return child;\n}\n\n/**\n * @param {HTMLElement} element\n * @param {string} className\n * @param {boolean=} [includeSelf=true]\n * @return {HTMLElement}\n */\nexport function findElementParentByClassName(element, className, includeSelf) {\n  /** @type {HTMLElement} */\n  let el;\n  if (includeSelf === false) {\n    el = element.parentElement;\n  } else {\n    el = element;\n  }\n  while (el != null && !el.classList.contains(className)) {\n    el = el.parentElement;\n  }\n  return el;\n}\n\n/** @return {boolean} */\nexport function isRtl() {\n  return document.documentElement.hasAttribute('dir')\n    && document.documentElement.getAttribute('dir').toLowerCase() === 'rtl';\n}\n\n/**\n * @param {Element} element\n * @param {string} type\n * @return {boolean}\n */\nexport function dispatchDomEvent(element, type) {\n  const event = document.createEvent('Event');\n  event.initEvent(type, true, true);\n  return element.dispatchEvent(event);\n}\n\n/**\n * @param {ArrayLike<T>} arrayLike\n * @param {function(T, number, ArrayLike<T>):any} fn\n * @return {void}\n * @template {any} T\n */\nexport function iterateArrayLike(arrayLike, fn) {\n  Array.prototype.forEach.call(arrayLike, fn);\n}\n\n/**\n * @param {ArrayLike<T>} arrayLike\n * @param {function(T, number, ArrayLike<T>):boolean|void} fn\n * @return {boolean}\n * @template {any} T\n */\nexport function iterateSomeOfArrayLike(arrayLike, fn) {\n  return Array.prototype.some.call(arrayLike, fn);\n}\n\n/**\n * @param {Element} element\n * @param {function(Element, number):boolean|void} fn\n * @return {boolean}\n */\nexport function iterateElementSiblings(element, fn) {\n  let distance = -1;\n  let sibling = element.previousElementSibling;\n  while (sibling) {\n    fn(sibling, distance);\n    sibling = sibling.previousElementSibling;\n    distance -= 1;\n  }\n  sibling = element.nextElementSibling;\n  distance = 1;\n  while (sibling) {\n    fn(sibling, distance);\n    sibling = sibling.nextElementSibling;\n    distance += 1;\n  }\n  return false;\n}\n\n/**\n * @param {Element} element\n * @param {function(Element, number):boolean|void} fn\n * @return {boolean}\n */\nexport function iterateSomeOfElementSiblings(element, fn) {\n  let distance = -1;\n  let sibling = element.previousElementSibling;\n  while (sibling) {\n    if (fn(sibling, distance)) {\n      return true;\n    }\n    sibling = sibling.previousElementSibling;\n    distance -= 1;\n  }\n  sibling = element.nextElementSibling;\n  distance = 1;\n  while (sibling) {\n    if (fn(sibling, distance)) {\n      return true;\n    }\n    sibling = sibling.previousElementSibling;\n    distance += 1;\n  }\n  return false;\n}\n\n/**\n * @param {Node} node\n * @param {boolean=} create\n * @return {Node}\n */\nexport function getTextNode(node, create) {\n  let textNode;\n  iterateSomeOfArrayLike(node.childNodes, (childNode) => {\n    if (childNode.nodeType !== Node.TEXT_NODE) {\n      return false;\n    }\n    textNode = childNode;\n    return true;\n  });\n  if (create && !textNode) {\n    textNode = document.createTextNode('');\n    node.appendChild(textNode);\n  }\n  return textNode;\n}\n\n/**\n * @param {Node} node\n * @param {string} value\n * @return {Node}\n */\nexport function setTextNode(node, value) {\n  /** @type {ChildNode} */\n  let textNode;\n  iterateSomeOfArrayLike(node.childNodes, (childNode) => {\n    if (childNode.nodeType !== Node.TEXT_NODE) {\n      return false;\n    }\n    textNode = childNode;\n    return true;\n  });\n  if (value) {\n    if (!textNode) {\n      textNode = document.createTextNode(value);\n      node.appendChild(textNode);\n    } else {\n      textNode.nodeValue = value;\n    }\n  } else if (textNode) {\n    node.removeChild(textNode);\n  }\n  return textNode;\n}\n\n/**\n * @param {HTMLElement} element\n * @param {boolean} [smooth=false]\n * @return {void}\n */\nexport function scrollToElement(element, smooth) {\n  if (!element) {\n    return;\n  }\n  const parent = element.parentElement;\n  if (!parent) {\n    return;\n  }\n  if (parent.scrollLeft === element.offsetLeft) {\n    return;\n  }\n  if (smooth && parent.scrollTo) {\n    parent.scrollTo({\n      top: 0,\n      left: element.offsetLeft,\n      behavior: 'smooth',\n    });\n    return;\n  }\n  parent.style.setProperty('scroll-behavior', 'auto');\n  parent.scrollLeft = element.offsetLeft;\n  nextTick(() => {\n    parent.style.removeProperty('scroll-behavior');\n  });\n}\n","import { getChildElementByClass, nextTick, getPassiveEventListenerOption } from '../common/dom';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  let ripple = getChildElementByClass(element, 'mdw-ripple');\n  if (!ripple) {\n    ripple = document.createElement('div');\n    ripple.classList.add('mdw-ripple');\n    if (element.firstChild) {\n      element.insertBefore(ripple, element.firstChild);\n    } else {\n      element.appendChild(ripple);\n    }\n  }\n\n  let rippleInner = getChildElementByClass(ripple, 'mdw-ripple__inner');\n  if (!rippleInner) {\n    rippleInner = document.createElement('div');\n    rippleInner.classList.add('mdw-ripple__inner');\n    ripple.appendChild(rippleInner);\n  }\n  element.setAttribute('mdw-ripple', '');\n  let targetElement = ripple;\n  if (element instanceof HTMLButtonElement) {\n    // Firefox doesn't support listening on HTMLButtonElement children\n    targetElement = element;\n  }\n\n  targetElement.addEventListener('click', onClick, getPassiveEventListenerOption());\n  targetElement.addEventListener('mousedown', onMouseEvent, getPassiveEventListenerOption());\n  targetElement.addEventListener('mouseup', onMouseEvent, getPassiveEventListenerOption());\n  targetElement.addEventListener('mouseout', onMouseEvent, getPassiveEventListenerOption());\n  targetElement.addEventListener('touchstart', onTouchEvent, getPassiveEventListenerOption());\n  targetElement.addEventListener('touchend', onTouchEvent, getPassiveEventListenerOption());\n  targetElement.addEventListener('touchcancel', onTouchEvent, getPassiveEventListenerOption());\n  element.addEventListener('keydown', onKeyEvent, getPassiveEventListenerOption());\n  element.addEventListener('keyup', onKeyEvent, getPassiveEventListenerOption());\n  rippleInner.addEventListener('animationend', onAnimationEnd, getPassiveEventListenerOption());\n}\n\n/**\n * @param {PointerEvent|MouseEvent} event\n * @return {void}\n */\nexport function onMouseEvent(event) {\n  /** @type {HTMLElement} */\n  let ripple = (event.currentTarget);\n  if (!ripple.classList.contains('mdw-ripple')) {\n    /** @type {HTMLElement} */\n    ripple = (getChildElementByClass(ripple, 'mdw-ripple'));\n  }\n  if (!ripple) {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const rippleInner = (getChildElementByClass(ripple, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n  if (event.type === 'mousedown') {\n    if (!('pointerType' in event) && !event.detail) {\n      return;\n    }\n    if (rippleInner.hasAttribute('mdw-touchstart')) {\n      return;\n    }\n    rippleInner.setAttribute('mdw-mousedown', '');\n    rippleInner.removeAttribute('mdw-mouseout');\n    const rect = ripple.getBoundingClientRect();\n    const x = event.pageX - rect.left - window.pageXOffset;\n    const y = event.pageY - rect.top - window.pageYOffset;\n    updateRipplePosition(rippleInner, x, y);\n    drawRipple(rippleInner);\n  } else if (event.type === 'mouseup') {\n    if (rippleInner.hasAttribute('mdw-mousedown')) {\n      rippleInner.setAttribute('mdw-mouseup', '');\n      clearRipple(rippleInner);\n      rippleInner.removeAttribute('mdw-mousedown');\n      rippleInner.removeAttribute('mdw-mouseup');\n    }\n  } else if (event.type === 'mouseout') {\n    if (rippleInner.hasAttribute('mdw-mousedown')) {\n      rippleInner.removeAttribute('mdw-mousedown');\n      rippleInner.setAttribute('mdw-mouseout', '');\n    }\n  }\n}\n\n/**\n * @param {TouchEvent} event\n * @return {void}\n */\nexport function onTouchEvent(event) {\n  /** @type {HTMLElement} */\n  let ripple = (event.currentTarget);\n  if (!ripple.classList.contains('mdw-ripple')) {\n    /** @type {HTMLElement} */\n    ripple = (getChildElementByClass(ripple, 'mdw-ripple'));\n  }\n  if (!ripple) {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const rippleInner = (getChildElementByClass(ripple, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n  const touch = event.changedTouches[0];\n  if (!touch) {\n    return;\n  }\n  if (event.type === 'touchstart') {\n    rippleInner.setAttribute('mdw-touchstart', '');\n    rippleInner.removeAttribute('mdw-touchcancel');\n    rippleInner.removeAttribute('mdw-mouseout');\n    const rect = ripple.getBoundingClientRect();\n    const x = touch.pageX - rect.left - window.pageXOffset;\n    const y = touch.pageY - rect.top - window.pageYOffset;\n    updateRipplePosition(rippleInner, x, y);\n    drawRipple(rippleInner);\n  } else if (event.type === 'touchend') {\n    rippleInner.setAttribute('mdw-touchend', '');\n    clearRipple(rippleInner);\n    rippleInner.removeAttribute('mdw-touchend');\n    nextTick(() => {\n      rippleInner.removeAttribute('mdw-touchstart');\n    });\n  } else if (event.type === 'touchcancel') {\n    rippleInner.setAttribute('mdw-touchcancel', '');\n    nextTick(() => {\n      rippleInner.removeAttribute('mdw-touchstart');\n    });\n  }\n}\n\n/**\n * @param {TouchEvent} event\n * @return {void}\n */\nexport function onKeyEvent(event) {\n  /** @type {HTMLElement} */\n  let ripple = (event.currentTarget);\n  if (!ripple.classList.contains('mdw-ripple')) {\n    /** @type {HTMLElement} */\n    ripple = (getChildElementByClass(ripple, 'mdw-ripple'));\n  }\n  if (!ripple) {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const rippleInner = (getChildElementByClass(ripple, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n\n  nextTick(() => {\n    if (isActive(ripple.parentElement)) {\n      if (rippleInner.hasAttribute('mdw-keydown')) {\n        return;\n      }\n      rippleInner.setAttribute('mdw-keydown', '');\n      rippleInner.removeAttribute('mdw-mouseout');\n      updateRipplePosition(rippleInner);\n      drawRipple(rippleInner);\n    } else if (rippleInner.hasAttribute('mdw-keydown')) {\n      rippleInner.setAttribute('mdw-keyup', '');\n      clearRipple(rippleInner);\n      rippleInner.removeAttribute('mdw-keydown');\n      rippleInner.removeAttribute('mdw-keyup');\n    }\n  });\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isActive(element) {\n  if (element.matches) {\n    return element.matches(':active');\n  }\n  if (element.msMatchesSelector) {\n    element.msMatchesSelector(':active');\n  }\n  return false;\n}\n\n/**\n * @param {HTMLElement} rippleInner\n * @param {number=} x\n * @param {number=} y\n * @return {void}\n */\nexport function updateRipplePosition(rippleInner, x, y) {\n  let width;\n  let height;\n  let xPos = x;\n  let yPos = y;\n  if (x == null) {\n    xPos = rippleInner.parentElement.clientWidth / 2;\n    width = xPos;\n  } else if (x >= rippleInner.parentElement.clientWidth / 2) {\n    width = x;\n    // furthest horizontal side is left\n  } else {\n    width = rippleInner.parentElement.clientWidth - x;\n    // furthest horizontal side is right\n  }\n  if (y == null) {\n    yPos = rippleInner.parentElement.clientHeight / 2;\n    height = yPos;\n  } else if (y >= rippleInner.parentElement.clientHeight / 2) {\n    height = y;\n    // furthest vertical side is bottom\n  } else {\n    height = rippleInner.parentElement.clientHeight - y;\n    // furthest vertical side is top\n  }\n  const hypotenuse = Math.sqrt((width * width) + (height * height));\n  rippleInner.style.setProperty('height', `${hypotenuse}px`);\n  rippleInner.style.setProperty('width', `${hypotenuse}px`);\n  rippleInner.style.setProperty('left', `${xPos - (hypotenuse / 2)}px`);\n  rippleInner.style.setProperty('top', `${yPos - (hypotenuse / 2)}px`);\n}\n\n/**\n * @param {Element} rippleInner\n * @return {void}\n */\nexport function drawRipple(rippleInner) {\n  rippleInner.setAttribute('mdw-fade-in', '');\n  rippleInner.removeAttribute('mdw-fade-in-complete');\n  rippleInner.removeAttribute('mdw-fade-out');\n  rippleInner.removeAttribute('mdw-fade-out-ready');\n  rippleInner.removeAttribute('mdw-fade-in-out');\n}\n\n/**\n * @param {AnimationEvent} event\n * @return {void}\n */\nexport function onAnimationEnd(event) {\n  /** @type {HTMLElement} */\n  const rippleInner = (event.currentTarget);\n  if (rippleInner.hasAttribute('mdw-fade-in')) {\n    rippleInner.setAttribute('mdw-fade-in-complete', '');\n  }\n  if (rippleInner.hasAttribute('mdw-fade-out-ready')) {\n    clearRipple(rippleInner);\n    return;\n  }\n  if (rippleInner.hasAttribute('mdw-fade-out')) {\n    rippleInner.removeAttribute('mdw-fade-out');\n  }\n}\n\n/**\n * @param {Element} rippleInner\n * @return {void}\n */\nexport function clearRipple(rippleInner) {\n  const hasFadeOutReady = rippleInner.hasAttribute('mdw-fade-out-ready');\n  if (!hasFadeOutReady) {\n    if (!rippleInner.hasAttribute('mdw-fade-in')) {\n      return;\n    }\n    if (rippleInner.hasAttribute('mdw-keydown') && !rippleInner.hasAttribute('mdw-keyup')) {\n      return;\n    }\n    if (rippleInner.hasAttribute('mdw-mousedown') && !rippleInner.hasAttribute('mdw-mouseup')) {\n      return;\n    }\n    if (rippleInner.hasAttribute('mdw-touchstart') && !rippleInner.hasAttribute('mdw-touchend')) {\n      return;\n    }\n    if (!rippleInner.hasAttribute('mdw-fade-in-complete')) {\n      rippleInner.setAttribute('mdw-fade-out-ready', '');\n      return;\n    }\n  }\n  rippleInner.removeAttribute('mdw-fade-in');\n  rippleInner.removeAttribute('mdw-fade-in-complete');\n  rippleInner.removeAttribute('mdw-fade-out-ready');\n  rippleInner.setAttribute('mdw-fade-out', '');\n}\n\n/**\n * @param {PointerEvent|MouseEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  /** @type {HTMLElement} */\n  let ripple = (event.currentTarget);\n  if (!ripple.classList.contains('mdw-ripple')) {\n    /** @type {HTMLElement} */\n    ripple = (getChildElementByClass(ripple, 'mdw-ripple'));\n  }\n  if (!ripple) {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const rippleInner = (getChildElementByClass(ripple, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n  if ('pointerType' in event || event.detail) {\n    return;\n  }\n  if (rippleInner.hasAttribute('mdw-keydown')) {\n    // Already handled by keydown\n    return;\n  }\n  updateRipplePosition(rippleInner);\n  drawRipple(rippleInner);\n  nextTick(() => {\n    clearRipple(rippleInner);\n  });\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  const ripple = getChildElementByClass(element, 'mdw-ripple');\n  if (ripple) {\n    element.removeChild(ripple);\n  }\n  element.removeAttribute('mdw-ripple');\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('mousedown', onMouseEvent);\n  element.removeEventListener('mouseup', onMouseEvent);\n  element.removeEventListener('mouseout', onMouseEvent);\n  element.removeEventListener('touchstart', onTouchEvent);\n  element.removeEventListener('touchend', onTouchEvent);\n  element.removeEventListener('touchcancel', onTouchEvent);\n  element.removeEventListener('keydown', onKeyEvent);\n  element.removeEventListener('keyup', onKeyEvent);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#button\n\nimport * as Ripple from '../ripple/index';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-js', '');\n  Ripple.attach(element);\n  if (element instanceof HTMLButtonElement === false\n    && element instanceof HTMLInputElement === false) {\n    element.addEventListener('keydown', onKeyDown);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-js');\n  Ripple.detach(element);\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  const buttonElement = event.currentTarget;\n  if (!buttonElement) {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  buttonElement.dispatchEvent(newEvent);\n}\n","module.exports = __webpack_public_path__ + \"datatable.html\";","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport {\n  dispatchDomEvent,\n  iterateArrayLike,\n  iterateElementSiblings,\n} from '../common/dom';\n\nimport * as Ripple from '../ripple/index';\n\nexport const ACTIVATE_EVENT = 'mdw:menuitem-activate';\nexport const CHECK_EVENT = 'mdw:menuitem-check';\nexport const UNCHECK_EVENT = 'mdw:menuitem-uncheck';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-js', '');\n  Ripple.attach(element);\n  // If mouseover is used, an item can still lose focus via keyboard navigation.\n  // An extra event listener would need to be created to catch blur but the cursor\n  // would still remain over the element, thus needing another mousemove event.\n  // Prioritization is given to less event listeners rather than operations per second.\n  element.addEventListener('mousemove', onMouseMove);\n  element.addEventListener('click', onClick);\n  element.addEventListener('keydown', onKeyDown);\n  setupARIA(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function setupARIA(element) {\n  if (element.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  const role = element.getAttribute('role');\n  let useAriaChecked = false;\n  if (role === 'menuitemcheckbox' || role === 'menuitemradio') {\n    useAriaChecked = true;\n  } else if (role !== 'menuitem') {\n    if (element.getElementsByClassName('mdw-menu__check').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemcheckbox');\n    } else if (element.getElementsByClassName('mdw-menu__radio').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemradio');\n    } else {\n      element.setAttribute('role', 'menuitem');\n    }\n  }\n  if (useAriaChecked && !element.hasAttribute('aria-checked')) {\n    element.setAttribute('aria-checked', 'false');\n  }\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__icon'),\n    el => el.setAttribute('aria-hidden', 'true'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__text'),\n    el => el.setAttribute('role', 'text'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__check'),\n    el => el.setAttribute('aria-hidden', 'true'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__info'),\n    el => el.setAttribute('role', 'note'));\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent|PointerEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  event.stopPropagation();\n\n  /** @type {HTMLElement} */\n  const menuItemElement = (event.currentTarget);\n  if (isDisabled(menuItemElement)) {\n    return;\n  }\n  const role = menuItemElement.getAttribute('role');\n  if (role === 'menuitemcheckbox') {\n    toggleChecked(menuItemElement);\n  } else if (role === 'menuitemradio') {\n    setChecked(menuItemElement, true);\n  }\n  dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onMouseMove(event) {\n  const el = event.currentTarget;\n  if (!el) {\n    return;\n  }\n  const previousFocus = document.activeElement;\n  if (previousFocus === el) {\n    // Already focused\n    return;\n  }\n  el.focus();\n  if (document.activeElement !== el) {\n    if (previousFocus && document.activeElement !== previousFocus) {\n      previousFocus.focus();\n    }\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  /** @type {HTMLElement} */\n  const menuItemElement = (event.currentTarget);\n\n  if (event.key === 'Enter') {\n    event.stopPropagation();\n    if (isDisabled(menuItemElement)) {\n      return;\n    }\n    onClick(event);\n    return;\n  }\n\n  if (event.key === 'Spacebar' || (event.key === ' ')) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (isDisabled(menuItemElement)) {\n      return;\n    }\n    const role = menuItemElement.getAttribute('role');\n    if (role === 'menuitemcheckbox') {\n      toggleChecked(menuItemElement);\n    } else if (role === 'menuitemradio') {\n      setChecked(menuItemElement, true);\n    } else {\n      dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n    }\n  }\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isChecked(element) {\n  return (element.getAttribute('aria-checked') === 'true');\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isDisabled(element) {\n  return (element.getAttribute('aria-disabled') === 'true');\n}\n\n/**\n * @param {Element} element\n * @param {boolean} checked\n * @return {boolean} uiChanged\n */\nexport function setChecked(element, checked) {\n  const role = element.getAttribute('role');\n  let isCheckable = false;\n  if (role === 'menuitemcheckbox') {\n    isCheckable = true;\n    if (!dispatchDomEvent(element, checked ? CHECK_EVENT : UNCHECK_EVENT)) {\n      return false;\n    }\n  }\n  if (role === 'menuitemradio') {\n    isCheckable = true;\n    if (checked) {\n      if (!dispatchDomEvent(element, CHECK_EVENT)) {\n        return false;\n      }\n      iterateElementSiblings(element, (sibling) => {\n        if (sibling.getAttribute('role') === 'menuitemradio') {\n          sibling.setAttribute('aria-checked', 'false');\n        }\n      });\n    }\n  }\n  if (!isCheckable) {\n    return false;\n  }\n  element.setAttribute('aria-checked', checked ? 'true' : 'false');\n  return true;\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function toggleChecked(element) {\n  const checked = !isChecked(element);\n  return setChecked(element, checked);\n}\n\n/**\n * @param {Element} element\n * @return {boolean} handled\n */\nexport function openSubMenu(element) {\n  const hasPopup = element.getAttribute('aria-haspopup');\n  if (hasPopup !== 'menu' && hasPopup !== 'true') {\n    return false;\n  }\n\n  // TODO: Open new menu\n  return false;\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('mousemove', onMouseMove);\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-js');\n  Ripple.detach(element);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport {\n  dispatchDomEvent,\n  isRtl,\n  iterateArrayLike,\n  iterateSomeOfArrayLike,\n  nextTick,\n  cancelTick,\n} from '../common/dom';\n\nimport * as MenuItem from './item';\n\nclass MenuStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   * @param {Object=} state\n   * @param {Object=} previousState\n   * @param {MouseEvent=} originalEvent\n   */\n  constructor(element, previousFocus, state, previousState, originalEvent) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n    this.originalEvent = originalEvent;\n    this.pendingResizeOperation = null;\n  }\n}\n\n/** @type {MenuStack[]} */\nconst OPEN_MENUS = [];\n\nexport const HIDE_EVENT = 'mdw:menu-hide';\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function attach(menuElement) {\n  menuElement.setAttribute('mdw-js', '');\n  menuElement.addEventListener('click', onMenuClick);\n  menuElement.addEventListener('scroll', onMenuScroll);\n  menuElement.addEventListener('touchmove', onMenuScroll);\n  menuElement.addEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  setupARIA(menuElement);\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function setupARIA(menuElement) {\n  if (menuElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  if (!menuElement.hasAttribute('aria-hidden')) {\n    menuElement.setAttribute('aria-hidden', 'true');\n  }\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__divider'),\n    el => el.setAttribute('role', 'separator'));\n  menuElement.setAttribute('role', 'menu');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.setAttribute('role', 'none');\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onMenuScroll(event) {\n  // JS needed for Safari\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.type !== 'scroll') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (element.scrollTop !== element.scrollHeight / 4) {\n    element.scrollTop = element.scrollHeight / 4;\n  }\n  if (element.scrollLeft !== element.scrollWidth / 4) {\n    element.scrollLeft = element.scrollWidth / 4;\n  }\n}\n\nexport function onMenuClick(event) {\n  if (event.currentTarget === event.target) {\n    event.stopPropagation();\n    hide(event.currentTarget);\n  }\n}\n\n/**\n * @return {void}\n */\nexport function onWindowResize() {\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.originalEvent) {\n    return;\n  }\n  if (lastOpenMenu.pendingResizeOperation) {\n    cancelTick(lastOpenMenu.pendingResizeOperation);\n  }\n  lastOpenMenu.pendingResizeOperation = nextTick(() => {\n    updateMenuPosition(\n      lastOpenMenu.element,\n      lastOpenMenu.element.getElementsByClassName('mdw-menu__popup')[0],\n      lastOpenMenu.originalEvent\n    );\n    lastOpenMenu.pendingResizeOperation = null;\n  });\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.previousState) {\n    return;\n  }\n  if ((lastOpenMenu.previousState === event.state) || Object.keys(event.state)\n    .every(key => event.state[key] === lastOpenMenu.previousState[key])) {\n    hide(lastOpenMenu.element);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  /** @type {HTMLElement} */\n  const menuElement = (event.currentTarget);\n  if (!menuElement || menuElement.getAttribute('aria-hidden') === 'true') {\n    return;\n  }\n\n  if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, false);\n    return;\n  }\n  if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, true);\n    return;\n  }\n  if (event.key === 'Tab') {\n    // Hide menu allowing focus to revert to calling element\n    // To then allow browser default Tab interaction\n    // Unless menu hiding is cancelled\n    if (!hide(menuElement)) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    event.stopPropagation();\n    event.preventDefault();\n    hide(menuElement);\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function detach(menuElement) {\n  hide(menuElement);\n  menuElement.removeEventListener('click', onMenuClick);\n  menuElement.removeEventListener('scroll', onMenuScroll);\n  menuElement.removeEventListener('touchmove', onMenuScroll);\n  menuElement.removeEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  menuElement.removeAttribute('mdw-js');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__item'), MenuItem.detach);\n}\n\n/**\n * @param {Element} menu\n * @param {boolean} [backwards=false]\n * @return {void}\n */\nexport function selectNextMenuItem(menu, backwards) {\n  const menuItems = menu.getElementsByClassName('mdw-menu__item');\n  let foundTarget = false;\n  let candidate = null;\n  let firstFocusableItem = null;\n  let lastFocusableElement = null;\n  const target = document.activeElement;\n\n  // Hidden elements cannot be focused\n  // Disabled elements cannot be focused on IE11\n  // Skip elements that fail to receive focus\n  iterateSomeOfArrayLike(menuItems, (el) => {\n    el.focus();\n    const focusable = (document.activeElement === el);\n    if (focusable) {\n      if (!firstFocusableItem) {\n        firstFocusableItem = el;\n      }\n      lastFocusableElement = el;\n    }\n    if (el === target) {\n      foundTarget = true;\n      if (backwards && candidate) {\n        return true;\n      }\n      return false;\n    }\n    if (backwards) {\n      if (focusable) {\n        candidate = el;\n      }\n      return false;\n    }\n    if (foundTarget) {\n      if (focusable) {\n        candidate = el;\n        return true;\n      }\n      return false;\n    }\n    return false;\n  });\n  if (!candidate) {\n    if (backwards) {\n      candidate = lastFocusableElement;\n    } else {\n      candidate = firstFocusableItem;\n    }\n  }\n  if (candidate && document.activeElement !== candidate) {\n    candidate.focus();\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @param {Element} popupElement\n * @param {MouseEvent=} event\n * @param {boolean=} [alignTarget=true]\n * @return {void}\n */\nexport function updateMenuPosition(menuElement, popupElement, event, alignTarget) {\n  let top = 'auto';\n  let left = 'auto';\n  let transformOrigin = '';\n  const useAlignTarget = (alignTarget !== false);\n  const margin = useAlignTarget ? '0' : '';\n  const mdwPosition = menuElement.getAttribute('mdw-position') || '';\n  const mdwDirection = menuElement.getAttribute('mdw-direction') || '';\n  let alignTop = mdwPosition.indexOf('top') !== -1;\n  let alignBottom = mdwPosition.indexOf('bottom') !== -1;\n  let alignVCenter = mdwPosition.indexOf('vcenter') !== -1;\n\n  const alignStart = mdwPosition.indexOf('start') !== -1;\n  const alignEnd = mdwPosition.indexOf('end') !== -1;\n  let alignLeft = mdwPosition.indexOf('left') !== -1;\n  let alignRight = mdwPosition.indexOf('right') !== -1;\n  let alignHCenter = mdwPosition.indexOf('hcenter') !== -1;\n\n  let openUp = mdwDirection.indexOf('up') !== -1;\n  let openDown = mdwDirection.indexOf('down') !== -1;\n  const openNormal = mdwDirection.indexOf('normal') !== -1;\n  const openReverse = mdwDirection.indexOf('reverse') !== -1;\n  let openVCenter = mdwDirection.indexOf('vcenter') !== -1;\n  let openHCenter = mdwDirection.indexOf('hcenter') !== -1;\n  let openLtr = mdwDirection.indexOf('ltr') !== -1;\n  let openRtl = mdwDirection.indexOf('rtl') !== -1;\n\n  /** @type {HTMLElement} */\n  const target = (event.currentTarget || event.target);\n\n  let isPageRTL = null;\n  if (alignStart || alignEnd || openNormal || openReverse) {\n    // Using page-direction based values\n    isPageRTL = isRtl();\n    if (alignStart || alignEnd) {\n      if (alignStart) {\n        if (isPageRTL) {\n          alignRight = true;\n        } else {\n          alignLeft = true;\n        }\n      } else if (isPageRTL) {\n        alignLeft = true;\n      } else {\n        alignRight = true;\n      }\n    }\n    if (openNormal || openReverse) {\n      if (openNormal) {\n        if (isPageRTL) {\n          openRtl = true;\n        } else {\n          openLtr = true;\n        }\n      } else if (isPageRTL) {\n        openLtr = true;\n      } else {\n        openRtl = true;\n      }\n    }\n  }\n  const offsetTop = useAlignTarget ? 0 : -event.offsetY;\n  const offsetBottom = useAlignTarget ? target.clientHeight : event.offsetY;\n  const offsetLeft = useAlignTarget ? 0 : -event.offsetX;\n  const offsetRight = useAlignTarget ? target.clientWidth : event.offsetX;\n  const rect = target.getBoundingClientRect();\n  const pageX = rect.left;\n  const pageY = rect.top;\n\n  /* Automatic Positioning\n    *\n    * 9 Positions\n    *   3      7      4\n    *     ┌─────────┐\n    *     │         │\n    *   5 │    9    │ 6\n    *     │         │\n    *     └─────────┘\n    *   1      8      2\n    *\n    * 1: Bottom Left\n    * 2: Bottom Right\n    * 3: Top Left\n    * 4: Top Right\n    * 5: VCenter Left\n    * 6: VCenter Right\n    * 7: HCenter Top\n    * 8: HCenter Bottom\n    * 9: VCenter HCenter\n    *\n    * 9 Directions:\n    * a - Down LTR\n    * b - Down RTL\n    * c - Up LTR\n    * d - Up RTL\n    * e - LTR\n    * f - RTL\n    * g - Down\n    * h - Up\n    * i - Center\n    *\n    *\n    * 16 total combos\n    * 1a 1b 1c 1d  └↘ └↙ └↗ └↖\n    * 2a 2b 2c 2d  ┘↘ ┘↙ ┘↗ ┘↖\n    * 3a 3b 3c 3d  ┌↘ ┌↙ ┌↗ ┌↖\n    * 4a 4b 4c 4d  ┐↘ ┐↙ ┐↗ ┐↖\n    *\n    * Avoid using opposite angle\n    *\n    * 1a XX 1c 1d  └↘ ██ └↗ └↖\n    * XX 2b 2c 2d  ██ ┘↙ ┘↗ ┘↖\n    * 1a 3b 3c XX  ┌↘ ┌↙ ┌↗ ██\n    * 4a 4b XX 4d  ┐↘ ┐↙ ██ ┐↖\n    *\n    *\n    * Preference Order:\n    * - Flow from corner           1a 2b 3c 4d    └↘ ┘↙ ┌↗ ┐↖\n    * - Open adjacent to target    4a 3b 2c 1d    ┐↘ ┌↙ ┘↗ └↖\n    * - Overlay target             3a 4b 1c 2d    ┌↘ ┐↙ └↗ ┘↖\n    * - Open from horizontal side  5e 6f          │→ │←\n    * - Open from center           9i             █·\n    */\n\n  popupElement.style.setProperty('max-height', 'none');\n  const popupElementHeight = popupElement.clientHeight;\n  const popupElementWidth = popupElement.clientWidth;\n  const canOpenDownwardsFromBottom = !alignTop && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetBottom) <= window.innerHeight;\n  const canOpenDownwardsFromTop = !alignBottom && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetTop) <= window.innerHeight;\n  const canOpenUpwardsFromTop = !alignBottom && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetTop >= popupElementHeight;\n  const canOpenUpwardsFromBottom = !alignTop && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetBottom >= popupElementHeight;\n  const canOpenRightwardsFromLeft = !alignRight && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetLeft) <= window.innerWidth;\n  const canOpenRightwardsFromRight = !alignLeft && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetRight) <= window.innerWidth;\n  const canOpenLeftwardsFromRight = !alignLeft && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetRight >= popupElementWidth;\n  const canOpenLeftwardsFromLeft = !alignRight && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetLeft >= popupElementWidth;\n  const canOpenFromCenter = !alignLeft && !alignRight && !alignTop && !alignBottom\n    && !openUp && !openDown\n    && ((pageX + offsetLeft) / 2) >= (popupElementWidth / 2)\n    && (popupElementWidth / 2) + ((pageX + offsetLeft) / 2) <= window.innerWidth;\n  popupElement.style.removeProperty('max-height');\n  const candidates = [\n    canOpenDownwardsFromBottom && canOpenRightwardsFromLeft, // 1a └↘\n    canOpenDownwardsFromBottom && canOpenLeftwardsFromRight, // 2b ┘↙\n    canOpenUpwardsFromTop && canOpenRightwardsFromLeft, // 3c ┌↗\n    canOpenUpwardsFromTop && canOpenLeftwardsFromLeft, // 4d ┐↖\n    canOpenDownwardsFromTop && canOpenRightwardsFromRight, // 4a ┐↘\n    canOpenDownwardsFromTop && canOpenLeftwardsFromLeft, // 3b ┌↙\n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2c ┘↗\n    canOpenUpwardsFromBottom && canOpenLeftwardsFromLeft, // 1d └↖\n    canOpenDownwardsFromTop && canOpenRightwardsFromLeft, // 3a ┌↘\n    canOpenDownwardsFromTop && canOpenLeftwardsFromRight, // 4b ┐↙\n    canOpenUpwardsFromBottom && canOpenRightwardsFromLeft, // 1c └↗\n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2d ┘↖\n    canOpenRightwardsFromLeft, // 5e │→\n    canOpenLeftwardsFromRight, // 6f │←\n    canOpenFromCenter, // 9i █·\n  ].map((value, index) => {\n    if (value) {\n      return index + 1;\n    }\n    return 0;\n  }).filter(value => value !== 0);\n  if (candidates.length) {\n    let candidateNumber;\n    if (isPageRTL === null) {\n      isPageRTL = isRtl();\n    }\n    if (isPageRTL) {\n      candidateNumber = [2, 1, 4, 3, 6, 5, 8, 7, 10, 9, 12, 11, 14, 13, 15]\n        .filter(number => candidates.indexOf(number) !== -1)[0];\n    } else {\n      candidateNumber = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n        .filter(number => candidates.indexOf(number) !== -1)[0];\n    }\n    if (candidateNumber == null) {\n      candidateNumber = isPageRTL ? 2 : 1;\n    }\n    switch (candidateNumber) {\n      // Position\n      default:\n      case 1:\n      case 8:\n      case 11:\n        alignBottom = true; alignLeft = true;\n        break;\n      case 2:\n      case 7:\n      case 12:\n        alignBottom = true; alignRight = true;\n        break;\n      case 3:\n      case 6:\n      case 9:\n        alignTop = true; alignLeft = true;\n        break;\n      case 4:\n      case 5:\n      case 10:\n        alignTop = true; alignRight = true;\n        break;\n      case 13:\n        alignVCenter = true; alignLeft = true;\n        break;\n      case 14:\n        alignVCenter = true; alignRight = true;\n        break;\n      case 15:\n        alignVCenter = true; alignHCenter = true;\n    }\n    switch (candidateNumber) {\n      // Direction\n      default:\n      case 1:\n      case 5:\n      case 9:\n        openDown = true; openLtr = true;\n        break;\n      case 2:\n      case 6:\n      case 10:\n        openDown = true; openRtl = true;\n        break;\n      case 3:\n      case 7:\n      case 11:\n        openUp = true; openLtr = true;\n        break;\n      case 4:\n      case 8:\n      case 12:\n        openUp = true; openRtl = true;\n        break;\n      case 13:\n        openLtr = true; openVCenter = true;\n        break;\n      case 14:\n        openRtl = true; openVCenter = true;\n        break;\n      case 15:\n        openHCenter = true; openVCenter = true;\n        break;\n    }\n  }\n\n  if (openLtr) {\n    if (alignRight) {\n      left = `${pageX + offsetRight}px`;\n    } else if (alignHCenter) {\n      left = `${pageX + ((offsetLeft + offsetRight) / 2)}px`;\n    } else {\n      left = `${pageX + offsetLeft}px`;\n    }\n    transformOrigin = 'left';\n  } else if (openHCenter) {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - (popupElementWidth / 2)}px`;\n    } else if (alignRight) {\n      left = `${(pageX + offsetRight) - (popupElementWidth / 2)}px`;\n    } else {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - (popupElementWidth / 2)}px`;\n    }\n    transformOrigin = 'center';\n  } else {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - popupElementWidth}px`;\n    } else if (alignHCenter) {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - popupElementWidth}px`;\n    } else {\n      left = `${(pageX + offsetRight) - popupElementWidth}px`;\n    }\n    transformOrigin = 'right';\n  }\n\n  if (openUp) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - popupElement.clientHeight}px`;\n    } else if (alignVCenter) {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - popupElement.clientHeight}px`;\n    } else {\n      top = `${(pageY + offsetTop) - popupElement.clientHeight}px`;\n    }\n    transformOrigin += ' bottom';\n  } else if (openVCenter) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - (popupElement.clientHeight / 2)}px`;\n    } else if (alignTop) {\n      top = `${(pageY + offsetTop) - (popupElement.clientHeight / 2)}px`;\n    } else {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - (popupElement.clientHeight / 2)}px`;\n    }\n    transformOrigin += ' center';\n  } else {\n    if (alignTop) {\n      top = `${pageY + offsetTop}px`;\n    } else if (alignVCenter) {\n      top = `${pageY + ((offsetTop + offsetBottom) / 2)}px`;\n    } else {\n      top = `${pageY + offsetBottom}px`;\n    }\n    transformOrigin += ' top';\n  }\n\n  popupElement.style.setProperty('top', top);\n  popupElement.style.setProperty('left', left);\n  popupElement.style.setProperty('right', 'auto');\n  popupElement.style.setProperty('bottom', 'auto');\n  popupElement.style.setProperty('margin', margin);\n  popupElement.style.setProperty('transform-origin', transformOrigin);\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function refreshMenuItems(menuElement) {\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__item'), (menuItem) => {\n    menuItem.setAttribute('tabindex', '-1');\n    MenuItem.attach(menuItem);\n  });\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  popupElement.setAttribute('tabindex', '-1');\n}\n\n/**\n * @param {Element} menuElement\n * @param {MouseEvent=} event\n * @param {boolean=} [alignTarget=true]\n * @return {boolean} handled\n */\nexport function show(menuElement, event, alignTarget) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  let changed = false;\n  if (event) {\n    updateMenuPosition(menuElement, popupElement, event, alignTarget);\n  } else {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  if (menuElement.getAttribute('aria-hidden') !== 'false') {\n    menuElement.setAttribute('aria-hidden', 'false');\n    changed = true;\n  }\n  if (changed) {\n    attach(menuElement);\n    const previousFocus = document.activeElement;\n    const newState = { hash: Math.random().toString(36).substr(2, 16) };\n    let previousState = null;\n    if (window.history && window.history.pushState) {\n      if (!window.history.state) {\n        // Create new previous state\n        window.history.replaceState({\n          hash: Math.random().toString(36).substr(2, 16),\n        }, document.title);\n      }\n      previousState = window.history.state;\n      window.history.pushState(newState, document.title);\n      window.addEventListener('popstate', onPopState);\n      window.addEventListener('resize', onWindowResize);\n    }\n    const menuStack = new MenuStack(menuElement, previousFocus, newState, previousState, event);\n    OPEN_MENUS.push(menuStack);\n    refreshMenuItems(menuElement);\n    if (event && !event.pointerType && !event.detail) {\n      // Triggered with keyboard event\n      selectNextMenuItem(menuElement);\n    } else {\n      popupElement.focus();\n    }\n  }\n  return changed;\n}\n\n/**\n * @param {Element} menuElement\n * @return {boolean} handled\n */\nexport function hide(menuElement) {\n  if (menuElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  menuElement.setAttribute('aria-hidden', 'true');\n  let stackIndex = -1;\n  OPEN_MENUS.some((stack, index) => {\n    if (stack.element === menuElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const menuStack = OPEN_MENUS[stackIndex];\n    if (menuStack.previousFocus) {\n      menuStack.previousFocus.focus();\n    }\n    OPEN_MENUS.splice(stackIndex, 1);\n    if (menuStack.state && window.history && window.history.state) {\n      // IE11 returns a cloned state object, not the original\n      if (menuStack.state.hash === window.history.state.hash) {\n        window.history.back();\n      }\n    }\n  }\n  if (!OPEN_MENUS.length) {\n    window.removeEventListener('popstate', onPopState);\n    window.removeEventListener('resize', onWindowResize);\n  }\n  dispatchDomEvent(menuElement, HIDE_EVENT);\n  return true;\n}\n","// https://www.w3.org/TR/wai-aria-practices/#grid\n\nimport {\n  dispatchDomEvent,\n  isRtl,\n  findElementParentByClassName,\n  iterateArrayLike,\n  iterateSomeOfArrayLike,\n} from '../common/dom';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  if (!element.hasAttribute('role')) {\n    element.setAttribute('role', 'grid');\n  }\n  element.setAttribute('mdw-js', '');\n  const headerRow = getHeaderRow(element);\n  const tbody = getTableBody(element);\n  const cellFocusable = element.hasAttribute('mdw-cell-focusable');\n  const rowFocusable = element.hasAttribute('mdw-row-focusable');\n\n  headerRow.addEventListener('click', onHeaderRowClick);\n  tbody.addEventListener('keydown', onTableBodyKeyDown);\n  tbody.addEventListener('click', onTableBodyClick);\n  let firstRow = null;\n  let foundTabbableRow = false;\n  let firstCell = null;\n  let foundTabbableCell = false;\n  iterateArrayLike(tbody.rows, (row) => {\n    if (rowFocusable) {\n      if (!firstRow) {\n        firstRow = row;\n      }\n      if (!foundTabbableRow && row.getAttribute('tabindex') === '0') {\n        foundTabbableRow = true;\n      } else {\n        row.setAttribute('tabindex', '-1');\n      }\n    } else {\n      row.removeAttribute('tabindex');\n    }\n    iterateArrayLike(row.cells, (cell) => {\n      if (cellFocusable && !rowFocusable) {\n        if (!firstCell) {\n          firstCell = cell;\n        }\n        if (!foundTabbableCell && cell.getAttribute('tabindex') === '0') {\n          foundTabbableCell = true;\n        } else {\n          cell.setAttribute('tabindex', '-1');\n        }\n      } else {\n        cell.removeAttribute('tabindex');\n      }\n    });\n  });\n  if (rowFocusable && !foundTabbableRow && firstRow) {\n    updateTabIndex(firstRow, false);\n  } else if (cellFocusable && !foundTabbableCell && firstCell) {\n    updateTabIndex(firstCell, false);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onTableBodyClick(event) {\n  /** @type {HTMLTableSectionElement} */\n  const tbody = (event.currentTarget);\n  const mdwDataTable = findElementParentByClassName(tbody, 'mdw-datatable');\n  const { target } = event;\n  let cell = null;\n  /** @type {HTMLTableRowElement} */\n  let row = null;\n\n  if (target instanceof HTMLInputElement && target.getAttribute('type') === 'checkbox') {\n    if (mdwDataTable.hasAttribute('mdw-adapter')) {\n      return;\n    }\n    // Checkbox clicked\n    cell = findParentCell(target);\n    if (!cell.hasAttribute('mdw-selector')) {\n      return;\n    }\n    event.stopPropagation();\n    /** @type {HTMLTableRowElement} */\n    row = (cell.parentElement);\n    let hasSelection = false;\n    if (target.checked) {\n      row.setAttribute('mdw-selected', '');\n      hasSelection = true;\n    } else {\n      row.removeAttribute('mdw-selected');\n      /** @type {NodeListOf<HTMLInputElement>} */\n      const checkboxes = (mdwDataTable.querySelectorAll('td[mdw-selector] input[type=checkbox]'));\n      hasSelection = iterateSomeOfArrayLike(checkboxes, checkbox => checkbox.checked);\n    }\n    if (hasSelection) {\n      mdwDataTable.setAttribute('mdw-has-selection', '');\n    } else {\n      mdwDataTable.removeAttribute('mdw-has-selection');\n    }\n    return;\n  }\n  if (target instanceof HTMLTableRowElement) {\n    row = target;\n  } else if (target instanceof HTMLTableCellElement) {\n    cell = target;\n  } else {\n    cell = findParentCell(/** @type {Element} */ (target));\n  }\n\n  if (cell) {\n    /** @type {HTMLTableRowElement} */\n    row = (cell.parentElement);\n    const cellFocusable = mdwDataTable.hasAttribute('mdw-cell-focusable');\n    if (cellFocusable) {\n      updateTabIndex(cell);\n      return;\n    }\n  }\n  if (row) {\n    const rowFocusable = mdwDataTable.hasAttribute('mdw-row-focusable');\n    if (rowFocusable) {\n      updateTabIndex(row);\n    }\n  }\n}\n\n/**\n * @param {HTMLTableRowElement|HTMLTableCellElement} element\n * @param {boolean} [removeOtherTabIndexes=true]\n * @return {void}\n */\nexport function updateTabIndex(element, removeOtherTabIndexes) {\n  if (removeOtherTabIndexes !== false) {\n    /** @type {HTMLElement} */\n    let tbody = element;\n    while (tbody != null && tbody instanceof HTMLTableSectionElement === false) {\n      tbody = tbody.parentElement;\n    }\n    if (element instanceof HTMLTableCellElement) {\n      iterateArrayLike(tbody.querySelectorAll('td[tabindex=\"0\"]'), (td) => {\n        if (td !== element) {\n          td.setAttribute('tabindex', '-1');\n        }\n      });\n    }\n    if (element instanceof HTMLTableRowElement) {\n      iterateArrayLike(tbody.querySelectorAll('tr[tabindex=\"0\"]'), (tr) => {\n        if (tr !== element) {\n          tr.setAttribute('tabindex', '-1');\n        }\n      });\n    }\n  }\n  if (element.getAttribute('tabindex') !== '0') {\n    element.setAttribute('tabindex', '0');\n    dispatchDomEvent(element, 'mdw:tabindexchanged');\n  }\n}\n\n/**\n * @param {Element} element\n * @return {HTMLTableCellElement}\n */\nexport function findParentCell(element) {\n  let el = element;\n  while (el != null) {\n    if (el instanceof HTMLTableElement) {\n      return null;\n    }\n    if (el instanceof HTMLTableCellElement) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onHeaderRowClick(event) {\n  /** @type {HTMLElement} */\n  const targetElement = (event.target);\n  const cell = findParentCell(targetElement);\n  if (!cell) {\n    return;\n  }\n  if (cell.cellIndex === -1) {\n    return;\n  }\n  if (!cell.hasAttribute('mdw-sortable')) {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const headerRow = (event.currentTarget);\n  const mdwTable = findElementParentByClassName(headerRow, 'mdw-datatable');\n  if (!mdwTable) {\n    return;\n  }\n  if (mdwTable.hasAttribute('mdw-adapter')) {\n    return;\n  }\n  let ascending = true;\n  if (cell.hasAttribute('mdw-sorted') && !cell.getAttribute('mdw-sorted')) {\n    ascending = false;\n  }\n  if (ascending) {\n    cell.setAttribute('mdw-sorted', '');\n  } else {\n    cell.setAttribute('mdw-sorted', 'desc');\n  }\n  iterateArrayLike(cell.parentElement.getElementsByTagName('th'), (th) => {\n    if (th !== cell) {\n      th.removeAttribute('mdw-sorted');\n    }\n  });\n\n  /** @type {HTMLTableSectionElement} */\n  const tbody = getTableBody(mdwTable);\n  const rows = [];\n  for (let i = tbody.rows.length - 1; i >= 0; i -= 1) {\n    rows.push(tbody.rows.item(i));\n    tbody.deleteRow(i);\n  }\n  rows.sort((a, b) => {\n    const aCell = a.cells.item(cell.cellIndex);\n    const bCell = b.cells.item(cell.cellIndex);\n    const aText = aCell.textContent;\n    const bText = bCell.textContent;\n    if (aCell.dataset.type === 'number') {\n      return parseFloat(bText) - parseFloat(aText);\n    }\n    return bText.localeCompare(aText);\n  });\n  if (ascending) {\n    rows.reverse();\n  }\n  const fragment = document.createDocumentFragment();\n  rows.forEach((row) => {\n    fragment.appendChild(row);\n  });\n  tbody.appendChild(fragment);\n  event.stopPropagation();\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onTableBodyKeyDown(event) {\n  const currentSelection = document.activeElement;\n  let cellIndex = 0;\n  /** @type {HTMLTableRowElement} */\n  let row = null;\n  let isRow = false;\n  /** @type {HTMLTableRowElement|HTMLTableCellElement} */\n  let nextSelection = null;\n  if (currentSelection instanceof HTMLTableCellElement) {\n    ({ cellIndex } = currentSelection);\n    /** @type {HTMLTableRowElement} */\n    row = (currentSelection.parentElement);\n  } else if (currentSelection instanceof HTMLTableRowElement) {\n    isRow = true;\n    row = currentSelection;\n  }\n  if (!row) {\n    return;\n  }\n  /** @type {HTMLTableSectionElement} */\n  const tbody = (event.currentTarget);\n  if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n    if (row.sectionRowIndex === 0) {\n      return;\n    }\n    const newRow = tbody.rows.item(row.sectionRowIndex - 1);\n    if (isRow) {\n      nextSelection = newRow;\n    } else {\n      nextSelection = newRow.cells.item(cellIndex);\n    }\n  } else if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n    const newIndex = row.sectionRowIndex + 1;\n    if (newIndex >= tbody.rows.length) {\n      return;\n    }\n    const newRow = tbody.rows.item(newIndex);\n    if (isRow) {\n      nextSelection = newRow;\n    } else {\n      nextSelection = newRow.cells.item(cellIndex);\n    }\n  } else if (event.ctrlKey && event.key === 'Home') {\n    if (row.sectionRowIndex === 0 && cellIndex === 0) {\n      return;\n    }\n    const newRow = tbody.rows.item(0);\n    if (isRow) {\n      nextSelection = newRow;\n    } else {\n      nextSelection = newRow.cells.item(0);\n    }\n  } else if (event.ctrlKey && event.key === 'End') {\n    const newRowIndex = tbody.rows.length - 1;\n    let newCellIndex = 0;\n    if (!isRow) {\n      newCellIndex = row.cells.length - 1;\n    }\n    if (row.sectionRowIndex === newRowIndex && cellIndex === newCellIndex) {\n      return;\n    }\n    const newRow = tbody.rows.item(newRowIndex);\n    if (isRow) {\n      nextSelection = newRow;\n    } else {\n      nextSelection = newRow.cells.item(newCellIndex);\n    }\n  } else if (event.key === 'Home') {\n    if (isRow) {\n      return;\n    }\n    if (cellIndex === 0) {\n      return;\n    }\n    nextSelection = row.cells.item(0);\n  } else if (event.key === 'End') {\n    if (isRow) {\n      return;\n    }\n    const newIndex = row.cells.length - 1;\n    if (newIndex === cellIndex) {\n      return;\n    }\n    nextSelection = row.cells.item(newIndex);\n  } else {\n    const isRtlEnabled = isRtl();\n    let isLeft = false;\n    let isRight = false;\n    if (event.key === 'ArrowLeft' || (event.key === 'Left')) {\n      if (isRtlEnabled) {\n        isRight = true;\n      } else {\n        isLeft = true;\n      }\n    }\n    if (event.key === 'ArrowRight' || (event.key === 'Right')) {\n      if (isRtlEnabled) {\n        isLeft = true;\n      } else {\n        isRight = true;\n      }\n    }\n    if (isLeft) {\n      if (isRow) {\n        return;\n      }\n      if (cellIndex === 0) {\n        return;\n      }\n      nextSelection = row.cells.item(cellIndex - 1);\n    } else if (isRight) {\n      if (isRow) {\n        return;\n      }\n      const newIndex = cellIndex + 1;\n      if (newIndex >= row.cells.length) {\n        return;\n      }\n      nextSelection = row.cells.item(newIndex);\n    }\n  }\n  if (nextSelection) {\n    event.stopPropagation();\n    event.preventDefault();\n    currentSelection.setAttribute('tabindex', '-1');\n    nextSelection.focus();\n    updateTabIndex(nextSelection, false);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeAttribute('mdw-js');\n  const headerRow = getHeaderRow(element);\n  const tbody = getTableBody(element);\n  headerRow.removeEventListener('click', onHeaderRowClick);\n  tbody.removeEventListener('keydown', onTableBodyKeyDown);\n  tbody.removeEventListener('click', onTableBodyClick);\n}\n\n/**\n * @param {Element} datatableElement\n * @return {HTMLElement}\n */\nexport function getScroller(datatableElement) {\n  /** @type {HTMLElement} */\n  let scroller = (datatableElement.getElementsByClassName('mdw-datatable__scroller')[0]);\n  if (!scroller) {\n    scroller = document.createElement('div');\n    scroller.classList.add('mdw-datatable__scroller');\n    const footer = datatableElement.getElementsByClassName('mdw-datatable__footer')[0];\n    if (footer) {\n      datatableElement.insertBefore(scroller, footer);\n    } else {\n      datatableElement.appendChild(scroller);\n    }\n    // Move table into scroller if it exists\n    const table = datatableElement.getElementsByTagName('table')[0];\n    if (table) {\n      table.parentElement.removeChild(table);\n      scroller.appendChild(table);\n    }\n  }\n  return scroller;\n}\n\n/**\n * @param {Element} datatableElement\n * @return {HTMLTableElement}\n */\nexport function getTable(datatableElement) {\n  if (datatableElement instanceof HTMLTableElement) {\n    return datatableElement;\n  }\n  let table = datatableElement.getElementsByTagName('table')[0];\n  if (!table) {\n    const scroller = getScroller(datatableElement);\n    table = document.createElement('table');\n    scroller.appendChild(table);\n  }\n  return table;\n}\n\n/**\n * @param {Element} tableElement\n * @return {HTMLTableRowElement}\n */\nexport function getHeaderRow(tableElement) {\n  let thead = tableElement.getElementsByTagName('thead')[0];\n  if (!thead) {\n    const table = getTable(tableElement);\n    thead = document.createElement('thead');\n    table.appendChild(thead);\n  }\n  let headerRow = thead.getElementsByTagName('tr')[0];\n  if (!headerRow) {\n    headerRow = document.createElement('tr');\n    thead.appendChild(headerRow);\n  }\n  return headerRow;\n}\n\n/**\n * @param {Element} datatableElement\n * @return {HTMLTableSectionElement}\n */\nexport function getTableBody(datatableElement) {\n  let tbody = datatableElement.getElementsByTagName('tbody')[0];\n  if (!tbody) {\n    const table = getTable(datatableElement);\n    tbody = document.createElement('tbody');\n    table.appendChild(tbody);\n  }\n  return tbody;\n}\n","/**\n * @callback DataTableAdapterColumnFormatter<T>\n * @param {any} value\n * @param {T=} object\n * @return {any}\n * @template T\n */\n\n/**\n * @callback DataTableAdapterColumnRenderer<T>\n * @param {HTMLTableCellElement} cell,\n * @param {any} value\n * @param {T} data\n * @return {void}\n * @template T\n */\n\n/**\n * Constructor options for DataTableAdapterColumn\n * @typedef DataTableAdapterColumnOptions<T>\n * @property {string} key\n * @property {(string|DocumentFragment)=} name\n * @property {string=} type\n * @property {boolean=} rowSelector\n * @property {string=} tooltip\n * @property {boolean=} sortable\n * @property {boolean=} primaryColumn\n * @property {HTMLElement=} customSortIcon\n * @property {string=} innerHTML\n * @property {DocumentFragment=} fragment\n * @property {DataTableAdapterColumnRenderer<T>=} renderer\n * @property {DataTableAdapterColumnFormatter<T>=} formatter\n * @template T\n */\n\n\n/** @return {HTMLLabelElement} */\nfunction constructTableCheckbox() {\n  const checkboxLabel = document.createElement('label');\n  checkboxLabel.classList.add('mdw-selection');\n  const input = document.createElement('input');\n  input.classList.add('mdw-selection__input');\n  input.setAttribute('type', 'checkbox');\n  const icon = document.createElement('div');\n  icon.classList.add('mdw-selection__icon');\n  checkboxLabel.appendChild(input);\n  checkboxLabel.appendChild(icon);\n  return checkboxLabel;\n}\n\n\n/**\n * @template T\n */\nexport default class DataTableAdapterColumn {\n  /** @param {DataTableAdapterColumnOptions<T>} options */\n  constructor(options) {\n    this.element = document.createElement('th');\n    if (options.innerHTML != null) {\n      this.element.innerHTML = options.innerHTML;\n    } else if (options.fragment) {\n      this.element.appendChild(options.fragment);\n    }\n    this.key = options.key;\n    this.element.dataset.key = options.key;\n\n    if (options.sortable) {\n      this.element.setAttribute('mdw-sortable', '');\n      let sortIcon = options.customSortIcon;\n      if (!sortIcon) {\n        sortIcon = document.createElement('div');\n        sortIcon.classList.add('mdw-datatable__sort-icon');\n        sortIcon.classList.add('material-icons');\n        sortIcon.textContent = 'arrow_downward';\n      }\n      if (this.element.hasChildNodes()) {\n        this.element.insertBefore(this.element.firstChild, options.customSortIcon);\n      } else {\n        this.element.appendChild(sortIcon);\n      }\n    }\n    if (options.tooltip) {\n      const wrapper = document.createElement('span');\n      wrapper.classList.add('mdw-tooltip__wrapper');\n      const target = document.createElement('span');\n      target.classList.add('mdw-tooltip__target');\n      if (!options.name) {\n        target.textContent = '';\n      } else if (typeof options.name === 'string') {\n        target.textContent = options.name;\n      } else {\n        target.appendChild(options.name);\n      }\n      const tooltip = document.createElement('div');\n      tooltip.classList.add('mdw-tooltip');\n      tooltip.textContent = options.tooltip;\n      wrapper.appendChild(target);\n      wrapper.appendChild(tooltip);\n      this.element.appendChild(wrapper);\n    } else if (options.name) {\n      let node;\n      if (typeof options.name === 'string') {\n        node = document.createTextNode(options.name);\n      } else {\n        node = options.name;\n      }\n      this.element.appendChild(node);\n    }\n\n    this.primaryColumn = options.primaryColumn;\n    if (options.primaryColumn) {\n      this.element.setAttribute('mdw-primary-column', '');\n    }\n\n    this.rowSelector = options.rowSelector;\n\n    if (this.rowSelector) {\n      this.element.setAttribute('mdw-selector', '');\n    }\n    if (options.type) {\n      this.element.dataset.type = options.type;\n      this.type = options.type;\n    }\n    if (this.rowSelector && this.type === 'checkbox') {\n      const checkboxLabel = constructTableCheckbox();\n      this.element.appendChild(checkboxLabel);\n    }\n\n    if (options.renderer) {\n      this.renderer = options.renderer;\n    } else if (options.type === 'checkbox') {\n      this.renderer = DataTableAdapterColumn.defaultCheckboxRenderer;\n    } else {\n      this.renderer = DataTableAdapterColumn.defaultCellRenderer;\n    }\n    this.formatter = options.formatter || (value => value);\n  }\n\n  /**\n   * @param {HTMLTableCellElement} cell\n   * @param {any} value\n   * @return {void}\n   */\n  static defaultCheckboxRenderer(cell, value) {\n    let input = cell.getElementsByTagName('input')[0];\n    const checked = !!value;\n    if (!input) {\n      const checkboxLabel = document.createElement('label');\n      checkboxLabel.classList.add('mdw-selection');\n      input = document.createElement('input');\n      input.classList.add('mdw-selection__input');\n      input.setAttribute('type', 'checkbox');\n      input.checked = checked;\n      const icon = document.createElement('div');\n      icon.classList.add('mdw-selection__icon');\n      checkboxLabel.appendChild(input);\n      checkboxLabel.appendChild(icon);\n      cell.appendChild(checkboxLabel);\n    }\n    if (input.checked !== checked) {\n      input.checked = checked;\n    }\n  }\n\n  /**\n   * @param {HTMLTableCellElement} cell\n   * @param {any} value\n   * @return {void}\n   */\n  static defaultCellRenderer(cell, value) {\n    let stringValue;\n    if (value == null) {\n      stringValue = '';\n    } else {\n      stringValue = value.toString();\n    }\n    const len = cell.childNodes.length;\n    let foundTextNode = false;\n    for (let i = len - 1; i >= 0; i -= 1) {\n      const node = cell.childNodes.item(i);\n      if (!foundTextNode && node.nodeType === Node.TEXT_NODE) {\n        if (node.nodeValue !== stringValue) {\n          node.nodeValue = stringValue;\n        }\n        foundTextNode = true;\n      } else {\n        cell.removeChild(node);\n      }\n    }\n    if (!foundTextNode) {\n      const node = document.createTextNode(stringValue);\n      cell.appendChild(node);\n    }\n  }\n}\n","import { iterateArrayLike, iterateSomeOfArrayLike } from '../../components/common/dom';\n\nimport * as Button from '../../components/button/index';\nimport * as DataTable from '../../components/datatable/index';\nimport DataTableAdapterColumn from './column';\n\n/**\n * @typedef {import('./column').DataTableAdapterColumnOptions<T>} DataTableAdapterColumnOptions<T>\n * @template T\n */\n\n/**\n * Callback fired when value change is requested\n * Return truthy value to cancel updating object\n * @callback DataTableAdapterOnValueChangeRequestedCallback<T>\n * @param {T} object\n * @param {string} key\n * @param {any} value\n * @return {boolean} cancel\n * @template T\n */\n\n/**\n * Callback fired when value is changed\n * @callback DataTableAdapterOnValueChangedCallback<T>\n * @param {T} object\n * @param {string} key\n * @param {any} value\n * @return {void}\n * @template T\n */\n\n/**\n * @callback DataTableAdapterFilter<T>\n * @param {T} element\n * @param {number=} index\n * @param {T[]=} array\n * @return {any}\n * @template T\n */\n\n/**\n * @callback DataTableAdapterSorter<T>\n * @param {T} a\n * @param {T} b\n * @return {number}\n * @template T\n */\n\n/**\n * @template T\n */\nexport default class DataTableAdapter {\n  /**\n   * @param {Object} options\n   * @param {HTMLElement} options.datatable\n   * @param {T[]} options.datasource Object array\n   * @param {DataTableAdapterFilter<T>=} options.filter\n   * @param {DataTableAdapterOnValueChangeRequestedCallback<T>=} options.onValueChangeRequested\n   * @param {DataTableAdapterOnValueChangedCallback<T>=} options.onValueChanged\n   * @param {DataTableAdapterSorter<T>=} options.sorter\n   */\n  constructor(options) {\n    this.element = options.datatable;\n    this.datasource = options.datasource;\n    this.filter = options.filter;\n    this.sorter = options.sorter;\n    this.onValueChangeRequested = options.onValueChangeRequested || (() => false);\n    this.onValueChanged = options.onValueChanged || (() => {});\n\n    this.onElementClickListener = (event) => {\n      this.handleClickInteraction(event);\n    };\n    // Use one click event listener to reduce overhead and allow dynamic content\n    this.element.addEventListener('click', this.onElementClickListener);\n\n    this.onElementScrollListener = () => {\n      this.onElementScroll();\n    };\n\n    /** @type {HTMLTableRowElement} */\n    this.tabindexRow = null;\n    /** @type {Object} */\n    this.tabindexRowData = null;\n    this.element.addEventListener('mdw:tabindexchanged', (event) => {\n      if (this.element.hasAttribute('mdw-row-focusable')) {\n        this.tabindexRow = /** @type {HTMLTableRowElement} */ (event.target);\n        this.tabindexRowData = this.getDataForTableRow(this.tabindexRow);\n      }\n    });\n    DataTable.attach(this.element);\n    this.scroller = DataTable.getScroller(this.element);\n    this.element.setAttribute('mdw-adapter', '');\n    /** @type {DataTableAdapterColumn<T>[]} */\n    this.columns = [];\n    this.page = 0;\n    this.pageLimit = 0;\n    this.debounceTimeMs = 0;\n    this.throttleTimeMs = 0;\n    this.useLazyRendering = false;\n  }\n\n  detach() {\n    this.element.removeAttribute('mdw-adapter');\n    this.element = null;\n    this.datasource = null;\n    this.filteredDatasource = null;\n  }\n\n  /**\n   * @param {boolean=} [forceRefresh=false]\n   * @return {void}\n   */\n  performThrottledRender(forceRefresh = false) {\n    this.performLazyRender(forceRefresh);\n    if (this.throttledRenderPending) {\n      this.throttledRenderPending = false;\n      this.scheduleThrottledRender();\n    }\n  }\n\n  /**\n   * @param {boolean=} [forceRefresh=false]\n   * @return {void}\n   */\n  scheduleThrottledRender(forceRefresh = false) {\n    if (this.throttleTimeMs < 17) {\n      window.requestAnimationFrame(() => this.performThrottledRender(forceRefresh));\n    } else {\n      setTimeout(() => this.performThrottledRender(forceRefresh), this.throttleTimeMs);\n    }\n  }\n\n  onElementScroll() {\n    if (this.debounceTimeout) {\n      clearTimeout(this.debounceTimeout);\n      this.debounceTimeout = null;\n    }\n    if (this.throttledRenderPending) {\n      // Will perform in the future\n      return;\n    }\n    if (this.debounceTimeMs) {\n      this.debounceTimeout = setTimeout(() => {\n        this.scheduleThrottledRender();\n        this.throttledRenderPending = true;\n      }, this.debounceTimeMs);\n    } else {\n      this.scheduleThrottledRender();\n      this.throttledRenderPending = true;\n    }\n  }\n\n  buildScrollListener() {\n    this.scroller.addEventListener('scroll', this.onElementScrollListener);\n  }\n\n  destroyScrollListener() {\n    this.scroller.removeEventListener('scroll', this.onElementScrollListener);\n  }\n\n  /**\n   * @param {PointerEvent|MouseEvent} event\n   * @return {void}\n   */\n  handleClickInteraction(event) {\n    const { target } = event;\n    if (target instanceof HTMLInputElement) {\n      if (target.hasAttribute('type') && target.getAttribute('type') === 'checkbox') {\n        event.stopPropagation();\n        const currentCell = this.getTableCell(target);\n        if (currentCell.tagName.toLowerCase() === 'th') {\n          this.setCheckOnAllRows(target.checked, currentCell.cellIndex);\n          this.setHasSelection(target.checked);\n          return;\n        }\n        const currentRow = this.getTableRow(target);\n        const object = this.getDataForTableRow(currentRow);\n        if (this.onValueChangeRequested(object, currentCell.dataset.key, target.checked)) {\n          event.preventDefault();\n          return;\n        }\n        object[currentCell.dataset.key] = target.checked;\n        this.onValueChanged(object, currentCell.dataset.key, target.checked);\n        if (currentCell.hasAttribute('mdw-selector')) {\n          if (target.checked) {\n            currentRow.setAttribute('mdw-selected', '');\n            this.setHasSelection(true);\n          } else {\n            currentRow.removeAttribute('mdw-selected');\n            const selectedRows = this.getSelectedRows();\n            this.setHasSelection(selectedRows.length !== 0);\n          }\n        }\n      }\n      return;\n    }\n    const currentCell = this.getTableCell(/** @type {HTMLElement} */ (target));\n    if (currentCell) {\n      if (currentCell.tagName.toLowerCase() === 'th' && currentCell.hasAttribute('mdw-sortable')) {\n        event.stopPropagation();\n        let ascending = true;\n        if (currentCell.hasAttribute('mdw-sorted') && !currentCell.getAttribute('mdw-sorted')) {\n          ascending = false;\n        }\n        this.updateSortIcons(currentCell, ascending);\n        if (this.updateSortColumn) {\n          this.updateSortColumn(currentCell, ascending);\n        }\n      }\n    }\n  }\n\n  /**\n   * Overridable sorting method\n   * @param {HTMLTableHeaderCellElement=} tableHeaderCell null if none\n   * @param {boolean} [ascending=false]\n   * @return {void}\n   */\n  updateSortColumn(tableHeaderCell, ascending) {\n    if (!tableHeaderCell) {\n      this.sorter = null;\n      this.refresh();\n      return;\n    }\n    if (tableHeaderCell.cellIndex === -1) {\n      // Header not attached to row!\n      return;\n    }\n    const index = tableHeaderCell.cellIndex;\n    const tableColumn = this.columns[index];\n    const direction = ascending ? 1 : -1;\n    this.sorter = ((a, b) => {\n      const valueA = a[tableColumn.key];\n      const valueB = b[tableColumn.key];\n      if (valueA == null) {\n        if (valueB == null) {\n          return 0;\n        }\n        return -1 * direction;\n      }\n      if (valueB == null) {\n        return direction;\n      }\n      if (tableColumn.type === 'number') {\n        return (parseFloat(valueA) - parseFloat(valueB)) * direction;\n      }\n      if (tableColumn.type === 'checkbox') {\n        return ((valueA ? 1 : 0) - (valueB ? 1 : 0)) * direction;\n      }\n      if (valueA.localeCompare) {\n        return valueA.localeCompare(valueB) * direction;\n      }\n      // eslint-disable-next-line eqeqeq\n      if (valueA == valueB) {\n        return 0;\n      }\n      return (valueA - valueB) * direction;\n    });\n    this.refresh();\n  }\n\n  /**\n   * @param {HTMLTableHeaderCellElement=} sortedTableHeaderCell null if none\n   * @param {boolean=} [ascending=false]\n   * @return {void}\n   */\n  updateSortIcons(sortedTableHeaderCell, ascending) {\n    if (sortedTableHeaderCell) {\n      if (ascending) {\n        sortedTableHeaderCell.setAttribute('mdw-sorted', '');\n      } else {\n        sortedTableHeaderCell.setAttribute('mdw-sorted', 'desc');\n      }\n    }\n    iterateArrayLike(this.element.getElementsByTagName('th'), (otherTableHeader) => {\n      if (otherTableHeader !== sortedTableHeaderCell) {\n        otherTableHeader.removeAttribute('mdw-sorted');\n      }\n    });\n  }\n\n  /**\n   * @param {boolean} value\n   * @param {number} columnIndex\n   * @return {void}\n   */\n  setCheckOnAllRows(value, columnIndex) {\n    const column = this.columns[columnIndex];\n    this.datasource.forEach((object) => {\n      object[column.key] = value; // eslint-disable-line no-param-reassign\n    });\n    this.refresh();\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableRowElement}\n   */\n  getTableRow(element) {\n    if (element === this.element) {\n      return null;\n    }\n    if (element instanceof HTMLTableRowElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return this.getTableRow(element.parentElement);\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableCellElement}\n   */\n  getTableCell(element) {\n    if (element === this.element) {\n      return null;\n    }\n    if (element instanceof HTMLTableCellElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return this.getTableCell(element.parentElement);\n  }\n\n  /** @return {T[]} */\n  getSelectedRows() {\n    const selectorColumn = this.columns.filter(column => column.rowSelector)[0];\n    if (!selectorColumn) {\n      return [];\n    }\n    return this.getDatasource().filter(row => row[selectorColumn.key]);\n  }\n\n  /**\n   * @param {boolean} value\n   * @return {void}\n   */\n  setHasSelection(value) {\n    if (value) {\n      this.element.setAttribute('mdw-has-selection', '');\n      return;\n    }\n    this.element.removeAttribute('mdw-has-selection');\n  }\n\n  /**\n   * @param {T[]} datasource Object array\n   * @return {void}\n   */\n  setDatasource(datasource) {\n    this.datasource = datasource;\n  }\n\n  /**\n   * Toggle lazy rending for datasources\n   * @param {boolean} value\n   * @return {void}\n   */\n  setUseLazyRendering(value) {\n    this.useLazyRendering = value;\n    if (value) {\n      this.buildScrollListener();\n    } else {\n      this.destroyScrollListener();\n    }\n  }\n\n  /**\n   * @param {DataTableAdapterColumn<T>} options\n   * @return {DataTableAdapterColumn<T>}\n   */\n  addColumn(options) {\n    const tableColumn = new DataTableAdapterColumn(options);\n    const headerRow = this.getHeaderRow();\n    headerRow.appendChild(tableColumn.element);\n    this.columns.push(tableColumn);\n    return tableColumn;\n  }\n\n  updatePaginator() {\n    if (!this.pageLimit) {\n      return;\n    }\n    const min = this.page * this.pageLimit;\n    const total = this.getDatasource().length;\n    let max = this.pageLimit + min;\n    if (max > total) {\n      max = total;\n    }\n    this.paginationDetailsElement.textContent = `${min + 1}-${max} of ${total}`;\n    if (min === 0) {\n      this.previousPageButton.setAttribute('disabled', '');\n    } else {\n      this.previousPageButton.removeAttribute('disabled');\n    }\n    if (max === total) {\n      this.nextPageButton.setAttribute('disabled', '');\n    } else {\n      this.nextPageButton.removeAttribute('disabled');\n    }\n  }\n\n  /**\n   * @param {Object} options\n   * @param {boolean=} [options.disabled=false]\n   * @param {number=} [options.limit=10]\n   * @param {number[]=} [options.limits=[10,25,50,100]]\n   * @return {void}\n   */\n  setPagination(options = {}) {\n    const footer = this.getFooter(!options.disabled);\n    if (options.disabled) {\n      this.pageLimit = 0;\n      this.page = 0;\n      if (footer) {\n        footer.style.display = 'none';\n      }\n      this.needsDraw = true;\n      return;\n    }\n    footer.style.display = '';\n    let optionsElement = footer.getElementsByClassName('mdw-datatable__footer-options')[0];\n    if (!optionsElement) {\n      optionsElement = document.createElement('div');\n      optionsElement.classList.add('mdw-datatable__footer-options');\n      const rowsPerPageText = document.createElement('span');\n      rowsPerPageText.textContent = 'Rows per page';\n      const limits = options.limits || [10, 25, 50, 100];\n      const limitsElement = document.createElement('label');\n      limitsElement.classList.add('mdw-textfield');\n      limitsElement.setAttribute('mdw-solo', '');\n      const select = document.createElement('select');\n      select.classList.add('mdw-textfield__input');\n      limits.forEach((limit) => {\n        const option = document.createElement('option');\n        option.value = limit.toString();\n        option.textContent = limit.toString();\n        select.appendChild(option);\n      });\n      select.setAttribute('value', (options.limit && options.limit.toString()) || '10');\n      const dropdownIcon = document.createElement('div');\n      dropdownIcon.classList.add('mdw-textfield__icon');\n      dropdownIcon.setAttribute('mdw-dropdown', '');\n      limitsElement.appendChild(select);\n      limitsElement.appendChild(dropdownIcon);\n      optionsElement.appendChild(rowsPerPageText);\n      optionsElement.appendChild(limitsElement);\n      footer.appendChild(optionsElement);\n      select.addEventListener('input', () => {\n        this.pageLimit = parseInt(select.value, 10);\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n    }\n    if (!this.paginationDetailsElement) {\n      this.paginationDetailsElement = footer.getElementsByClassName('mdw-datatable__footer-details')[0];\n    }\n    if (!this.paginationDetailsElement) {\n      this.paginationDetailsElement = document.createElement('div');\n      this.paginationDetailsElement.classList.add('mdw-datatable__footer-details');\n      footer.appendChild(this.paginationDetailsElement);\n    }\n    if (!this.paginationControls) {\n      this.paginationControls = footer.getElementsByClassName('mdw-datatable__footer-controls')[0];\n    }\n    if (!this.paginationControls) {\n      this.paginationControls = document.createElement('div');\n      this.paginationControls.classList.add('mdw-datatable__footer-controls');\n      footer.appendChild(this.paginationControls);\n    }\n    if (!this.previousPageButton || !this.nextPageButton) {\n      const buttons = this.paginationControls.getElementsByClassName('mdw-button');\n      if (buttons.length !== 2) {\n        this.previousPageButton = document.createElement('button');\n        this.previousPageButton.classList.add('mdw-button');\n        this.previousPageButton.classList.add('material-icons');\n        this.previousPageButton.setAttribute('mdw-icon', '');\n        this.previousPageButton.textContent = 'chevron_left';\n        this.paginationControls.appendChild(this.previousPageButton);\n        Button.attach(this.previousPageButton);\n\n        this.nextPageButton = document.createElement('button');\n        this.nextPageButton.classList.add('mdw-button');\n        this.nextPageButton.classList.add('material-icons');\n        this.nextPageButton.setAttribute('mdw-icon', '');\n        this.nextPageButton.textContent = 'chevron_right';\n        this.paginationControls.appendChild(this.nextPageButton);\n        Button.attach(this.nextPageButton);\n      } else {\n        this.previousPageButton = buttons[0];\n        this.nextPageButton = buttons[1];\n      }\n      this.previousPageButton.addEventListener('click', () => {\n        if (this.previousPageButton.hasAttribute('disabled')) {\n          return;\n        }\n        this.page -= 1;\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n      this.nextPageButton.addEventListener('click', () => {\n        if (this.nextPageButton.hasAttribute('disabled')) {\n          return;\n        }\n        this.page += 1;\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n    }\n    this.pageLimit = options.limit || 10;\n    this.updateRowCount(false);\n    this.updatePaginator();\n    this.refreshRows();\n  }\n\n  /**\n   * @param {boolean} create\n   * @return {HTMLElement}\n   */\n  getFooter(create) {\n    /** @type {HTMLElement} */\n    let footer = (this.element.getElementsByClassName('mdw-datatable__footer')[0]);\n    if (!footer && create) {\n      footer = document.createElement('div');\n      footer.classList.add('mdw-datatable__footer');\n      this.element.appendChild(footer);\n    }\n    return footer;\n  }\n\n  /**\n   * @param {HTMLTableRowElement} el\n   * @param {?number} viewportTop\n   * @param {?number} viewportBottom\n   * @return {boolean}\n   */\n  isRowVisible(\n    el,\n    viewportTop = this.scroller.scrollTop,\n    viewportBottom = this.scroller.scrollTop + this.scroller.offsetHeight\n  ) {\n    const rowTop = el.offsetTop;\n    const rowBottom = rowTop + el.offsetHeight;\n    if (rowTop > viewportTop && rowTop < viewportBottom) {\n      // Top of row is visible\n      return true;\n    }\n    if (rowBottom > viewportTop && rowBottom < viewportBottom) {\n      // Bottom of row is visible\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {(HTMLTableRowElement[])} visibleRows\n   * @return {void}\n   */\n  clearNonvisibleRows(visibleRows) {\n    const tbody = this.getTableBody();\n    if (visibleRows.length === tbody.rows.length) {\n      return;\n    }\n    let firstRowIndex = Infinity;\n    let lastRowIndex = -Infinity;\n    if (visibleRows.length) {\n      firstRowIndex = visibleRows[0].sectionRowIndex;\n      lastRowIndex = visibleRows[visibleRows.length - 1].sectionRowIndex;\n    }\n    iterateArrayLike(tbody.rows, (row, index) => {\n      if (index >= firstRowIndex && index <= lastRowIndex) {\n        return;\n      }\n      if (row.lastChild) {\n        // Store row height to prevent layout shifting\n        row.style.setProperty('height', `${row.offsetHeight || 0}px`);\n      }\n      while (row.lastChild) {\n        row.removeChild(row.lastChild);\n      }\n    });\n  }\n\n  /**\n   * @return {HTMLTableRowElement[]}\n   */\n  getLazyRenderRows() {\n    const tbody = this.getTableBody();\n    const len = tbody.rows.length;\n    const rows = [];\n    const minRowCount = window.screen.height / 48;\n    if (len <= minRowCount) {\n      iterateArrayLike(tbody.rows, (row) => {\n        rows.push(row);\n      });\n      return rows;\n    }\n    let foundFirstVisibleRow = false;\n    let startIndex = 0;\n    let endIndex = 0;\n    const viewportTop = this.scroller.scrollTop;\n    const viewportBottom = viewportTop + this.scroller.offsetHeight;\n    iterateSomeOfArrayLike(tbody.rows, (row, index) => {\n      if (this.isRowVisible(row, viewportTop, viewportBottom)) {\n        if (!foundFirstVisibleRow) {\n          foundFirstVisibleRow = true;\n          startIndex = index;\n        }\n        endIndex = index;\n      } else if (foundFirstVisibleRow) {\n        return true;\n      }\n      return false;\n    });\n\n    while ((endIndex - startIndex) + 1 < minRowCount) {\n      if (startIndex === 0) {\n        endIndex += 1;\n      } else if (endIndex === len - 1) {\n        startIndex -= 1;\n      } else {\n        startIndex -= 1;\n        endIndex += 1;\n      }\n    }\n    for (let i = startIndex; i <= endIndex; i += 1) {\n      rows.push(tbody.rows.item(i));\n    }\n\n    return rows;\n  }\n\n  /**\n   * @param {boolean} forceRefresh\n   * @return {void}\n   */\n  performLazyRender(forceRefresh = false) {\n    const visibleRows = this.getLazyRenderRows();\n    visibleRows.forEach((row) => {\n      if (forceRefresh || !row.cells.length) {\n        this.refreshRow(row.sectionRowIndex);\n      }\n    });\n    this.clearNonvisibleRows(visibleRows);\n  }\n\n  /**\n   * @param {DataTableAdapterFilter<T>} filter\n   * @return {void}\n   */\n  setFilter(filter) {\n    this.filter = filter;\n    this.refreshFilter();\n  }\n\n  /**\n   * @param {DataTableAdapterSorter<T>} sorter\n   * @return {void}\n   */\n  setSorter(sorter) {\n    this.sorter = sorter;\n    this.refreshFilter();\n  }\n\n  refreshFilter() {\n    if (this.filter && this.sorter) {\n      this.filteredDatasource = this.datasource.filter(this.filter).sort(this.sorter);\n    } else if (this.filter) {\n      this.filteredDatasource = this.datasource.filter(this.filter);\n    } else if (this.sorter) {\n      this.filteredDatasource = this.datasource.slice(0).sort(this.sorter);\n    } else {\n      this.filteredDatasource = null;\n    }\n  }\n\n  /**\n   * Get filtered datasource\n   * @return {T[]}\n   */\n  getDatasource() {\n    if (this.filter || this.sorter) {\n      if (this.filteredDatasource == null) {\n        this.refreshFilter();\n      }\n      return this.filteredDatasource;\n    }\n    return this.datasource;\n  }\n\n  /**\n   * Update number of rows in table\n   * @param {boolean=} refresh Refresh new rows\n   * @return {void}\n   */\n  updateRowCount(refresh) {\n    const tbody = this.getTableBody();\n    const rowLength = tbody.rows.length;\n\n    const datasource = this.getDatasource();\n    let rowsToDisplay = datasource.length;\n    if (this.pageLimit) {\n      let offset = this.page * this.pageLimit;\n      if (offset > rowsToDisplay) {\n        // Datasource or filter likely changed\n        // Reset to page 0\n        this.page = 0;\n        offset = 0;\n      }\n      rowsToDisplay -= offset;\n      if (rowsToDisplay > this.pageLimit) {\n        rowsToDisplay = this.pageLimit;\n      }\n    }\n\n    const rowDifference = rowsToDisplay - rowLength;\n    const newRows = [];\n\n    if (rowDifference < 0) {\n      // too many rows\n      for (let i = rowLength - 1; i >= rowsToDisplay; i -= 1) {\n        const row = tbody.rows.item(i);\n        tbody.removeChild(row);\n      }\n    }\n    if (rowDifference > 0) {\n      const fragment = document.createDocumentFragment();\n      for (let i = 0; i < rowDifference; i += 1) {\n        const row = document.createElement('tr');\n        if (this.element.hasAttribute('mdw-row-focusable')) {\n          row.setAttribute('tabindex', '-1');\n        }\n        newRows.push(row);\n        fragment.appendChild(row);\n      }\n      tbody.appendChild(fragment);\n    }\n    if (refresh && rowDifference !== 0) {\n      if (this.useLazyRendering) {\n        this.scheduleThrottledRender(true);\n      } else {\n        newRows.forEach((row) => {\n          this.refreshRow(row.sectionRowIndex);\n        });\n      }\n    }\n  }\n\n  /** @return {void} */\n  refreshRows() {\n    if (this.useLazyRendering) {\n      this.performLazyRender(true);\n    } else {\n      const tbody = this.getTableBody();\n      iterateArrayLike(tbody.rows, (row, index) => {\n        this.refreshRow(index);\n      });\n    }\n    if (this.tabindexRowData) {\n      const row = this.getTableRowForData(this.tabindexRowData);\n      if (row !== this.tabindexRow) {\n        if (this.tabindexRow) {\n          this.tabindexRow.setAttribute('tabindex', '-1');\n        }\n        if (row) {\n          if (document.activeElement === this.tabindexRow) {\n            row.focus();\n          }\n          DataTable.updateTabIndex(row, false);\n        }\n        this.tabindexRow = row;\n      }\n    }\n    if (this.useLazyRendering) {\n      this.scheduleThrottledRender();\n    }\n  }\n\n  /** @return {void} */\n  refresh() {\n    this.refreshFilter();\n    this.updateRowCount(false);\n    this.updatePaginator();\n    this.refreshRows();\n  }\n\n  /**\n   * @param {HTMLTableRowElement} row\n   * @return {T}\n   */\n  getDataForTableRow(row) {\n    const index = (row.sectionRowIndex) + (this.page * this.pageLimit);\n    return this.getDatasource()[index];\n  }\n\n  /**\n   * @param {T} data\n   * @return {HTMLTableRowElement} row\n   */\n  getTableRowForData(data) {\n    const datasourceIndex = this.getDatasource().indexOf(data);\n    if (datasourceIndex === -1) {\n      return null;\n    }\n    const minIndex = this.page * this.pageLimit;\n    return this.getTableBody().rows.item(datasourceIndex - minIndex);\n  }\n\n  /**\n   * @param {number} rowIndex\n   * @return {void}\n   */\n  refreshRow(rowIndex) {\n    const row = this.getTableBody().rows.item(rowIndex);\n    row.style.removeProperty('height');\n    this.columns.forEach((column, columnIndex) => {\n      this.refreshCell(columnIndex, rowIndex);\n    });\n  }\n\n  /**\n   * @param {number} columnIndex\n   * @param {number} rowIndex\n   * @return {void}\n   */\n  refreshCell(columnIndex, rowIndex) {\n    const tableColumn = this.columns[columnIndex];\n    const row = this.getTableBody().rows.item(rowIndex);\n    let len = row.cells.length;\n    while (len <= columnIndex) {\n      // Generate cells\n      const missingColumn = this.columns[len];\n      const missingCell = row.insertCell();\n      if (missingColumn.type) {\n        missingCell.dataset.type = missingColumn.type;\n      }\n      missingCell.dataset.key = missingColumn.key;\n      if (missingColumn.rowSelector) {\n        missingCell.setAttribute('mdw-selector', '');\n      }\n      if (missingColumn.primaryColumn) {\n        missingCell.setAttribute('mdw-primary-column', '');\n      }\n      len += 1;\n    }\n    const cell = row.cells.item(columnIndex);\n    const data = this.getDataForTableRow(row);\n    const value = data[tableColumn.key];\n    if (tableColumn.rowSelector) {\n      if (value) {\n        if (!row.hasAttribute('mdw-selected')) {\n          row.setAttribute('mdw-selected', '');\n        }\n      } else if (row.hasAttribute('mdw-selected')) {\n        row.removeAttribute('mdw-selected');\n      }\n    }\n    const formattedValue = tableColumn.formatter(value, data);\n    tableColumn.renderer(cell, formattedValue, data);\n  }\n\n  /**\n   * @param {HTMLTableCellElement|DataTableAdapterColumn|number|string} search\n   * @return {DataTableAdapterColumn<T>}\n   */\n  getColumn(search) {\n    if (search instanceof DataTableAdapterColumn) {\n      return search;\n    }\n    if (search instanceof HTMLTableCellElement) {\n      return this.columns.filter(column => column.element === search)[0];\n    }\n    if (typeof search === 'string') {\n      return this.columns.filter(column => column.element.dataset.key === search)[0];\n    }\n    return this.columns[search];\n  }\n\n  /** @return {HTMLTableElement} */\n  getTable() {\n    let table = this.element.getElementsByTagName('table')[0];\n    if (!table) {\n      table = document.createElement('table');\n      const footer = this.element.getElementsByClassName('mdw-datatable__footer')[0];\n      if (footer) {\n        this.element.insertBefore(table, footer);\n      } else {\n        this.element.appendChild(table);\n      }\n    }\n    return table;\n  }\n\n  /** @return {HTMLTableRowElement} */\n  getHeaderRow() {\n    let thead = this.element.getElementsByTagName('thead')[0];\n    if (!thead) {\n      const table = this.getTable();\n      thead = document.createElement('thead');\n      table.appendChild(thead);\n    }\n    let headerRow = thead.getElementsByTagName('tr')[0];\n    if (!headerRow) {\n      headerRow = document.createElement('tr');\n      thead.appendChild(headerRow);\n    }\n    return headerRow;\n  }\n\n  /** @return {HTMLTableSectionElement} */\n  getTableBody() {\n    if (this.tbody) {\n      return this.tbody;\n    }\n    this.tbody = this.element.getElementsByTagName('tbody')[0];\n    if (!this.tbody) {\n      const table = this.getTable();\n      this.tbody = document.createElement('tbody');\n      table.appendChild(this.tbody);\n    }\n    return this.tbody;\n  }\n\n  /**\n   * @param {number} columnIndex\n   * @return {void}\n   */\n  refreshColumn(columnIndex) {\n    const tbody = this.getTableBody();\n    iterateArrayLike(tbody.rows, (row, rowIndex) => {\n      this.refreshCell(columnIndex, rowIndex);\n    });\n  }\n}\n","import { iterateArrayLike } from '../../components/common/dom';\nimport * as Button from '../../components/button/index';\nimport * as DataTable from '../../components/datatable/index';\nimport * as Menu from '../../components/menu/index';\nimport * as MenuItem from '../../components/menu/item';\nimport DataTableAdapter from '../../adapters/datatable/index';\n\n/** @return {void} */\nfunction initializeMdwComponents() {\n  iterateArrayLike(document.querySelectorAll('.mdw-datatable.js'), DataTable.attach);\n  iterateArrayLike(document.getElementsByClassName('mdw-button'), Button.attach);\n  iterateArrayLike(document.getElementsByClassName('mdw-menu'), Menu.attach);\n}\n\n\n/** @type {DataTableAdapter} */\nlet dynamicTableAdapter = null;\n/** @return {void} */\nfunction buildDynamicTable() {\n  const datasource = [];\n  let count = 1;\n  const addDatasourceObject = () => {\n    datasource.push({\n      text: Math.random().toString(36).substring(2),\n      text2: Math.random().toString(36).substring(2),\n      check1: Math.random() > 0.5,\n      increment: count,\n      random: Math.floor(Math.random() * 99999),\n    });\n    count += 1;\n  };\n  for (let i = 0; i < 256; i += 1) {\n    addDatasourceObject();\n  }\n\n  const datatable = document.getElementById('dynamic-table');\n  dynamicTableAdapter = new DataTableAdapter({ datatable, datasource });\n  dynamicTableAdapter.addColumn({\n    key: 'selected',\n    type: 'checkbox',\n    rowSelector: true,\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'text',\n    name: 'Primary Column (full-width)',\n    primaryColumn: true,\n    sortable: true,\n    type: 'text',\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'text2',\n    name: 'Text field',\n    sortable: true,\n    type: 'text',\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'check1',\n    name: 'bool',\n    type: 'checkbox',\n    tooltip: 'Non-selection boolean value',\n    sortable: true,\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'increment',\n    name: 'Increment',\n    type: 'number',\n    sortable: true,\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'random',\n    name: 'Random',\n    sortable: true,\n    type: 'number',\n  });\n  dynamicTableAdapter.setUseLazyRendering(true);\n  dynamicTableAdapter.setPagination();\n  dynamicTableAdapter.refresh();\n  const buttons = dynamicTableAdapter.element.querySelectorAll('.mdw-datatable__header-controls .mdw-button');\n  const filterButton = buttons[0];\n  const optionsButton = buttons[1];\n  const menus = dynamicTableAdapter.element.querySelectorAll('.mdw-datatable__header-controls .mdw-menu');\n  const filterMenu = menus[0];\n  const optionsMenu = menus[1];\n  Menu.attach(filterMenu);\n  Menu.attach(optionsMenu);\n\n  filterButton.addEventListener('click', event => Menu.show(filterMenu, event));\n  optionsButton.addEventListener('click', event => Menu.show(optionsMenu, event));\n\n  filterMenu.addEventListener(MenuItem.CHECK_EVENT, (event) => {\n    /** @type {HTMLElement} */\n    const menuItem = (event.target);\n    switch (menuItem.dataset.filter) {\n      default:\n      case 'none':\n        dynamicTableAdapter.setFilter(null);\n        break;\n      case 'md':\n        dynamicTableAdapter.setFilter(data => data.text.indexOf('md') !== -1 || data.text2.indexOf('md') !== -1);\n        break;\n      case 'div9':\n        dynamicTableAdapter.setFilter(data => data.random % 9 === 0);\n        break;\n      case 'bool':\n        dynamicTableAdapter.setFilter(data => data.check1);\n        break;\n    }\n    dynamicTableAdapter.refresh();\n    if (dynamicTableAdapter.filter) {\n      filterButton.setAttribute('aria-pressed', 'true');\n    } else {\n      filterButton.setAttribute('aria-pressed', 'false');\n    }\n  });\n  filterMenu.addEventListener(MenuItem.ACTIVATE_EVENT, () => Menu.hide(filterMenu));\n  \n  optionsMenu.addEventListener(MenuItem.CHECK_EVENT, (event) => {\n    /** @type {HTMLElement} */\n    const menuItem = (event.target);\n    switch (menuItem.dataset.option) {\n      default:\n        break;\n      case 'throttle':\n        dynamicTableAdapter.setUseLazyRendering(true);\n        break;\n      case 'paginate':\n        dynamicTableAdapter.setPagination();\n        break;\n    }\n    dynamicTableAdapter.refresh();\n  });\n  optionsMenu.addEventListener(MenuItem.UNCHECK_EVENT, (event) => {\n    /** @type {HTMLElement} */\n    const menuItem = (event.target);\n    switch (menuItem.dataset.option) {\n      default:\n        break;\n      case 'throttle':\n        dynamicTableAdapter.setUseLazyRendering(false);\n        break;\n      case 'paginate':\n        dynamicTableAdapter.setPagination({ disabled: true });\n        break;\n    }\n    dynamicTableAdapter.refresh();\n  });\n  optionsMenu.addEventListener(MenuItem.ACTIVATE_EVENT, () => Menu.hide(optionsMenu));\n}\n\ninitializeMdwComponents();\nbuildDynamicTable();\n"],"sourceRoot":""}