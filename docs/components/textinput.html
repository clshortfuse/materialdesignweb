<!DOCTYPE html>
<html lang="en">

<head>
  <title>Text Inputs</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link rel="stylesheet" href="../theme.css" />
  <link rel="stylesheet" href="../demo.css" />
  <script src="../demo.min.js"></script>
</head>

<body>
  <demo-page>
    <section>
      <mdw-headline size=medium text-padding=0.5em>Filled</mdw-headline>
      <mdw-box flex=column wrap gap=16 padding=24>
        <mdw-input filled label="Label"></mdw-input>
        <mdw-input filled placeholder="Placeholder only" aria-label="Blank"></mdw-input>
        <mdw-input filled ink="tertiary" label="Ink only"></mdw-input>
        <mdw-input filled color="secondary-container" ink="secondary" value="default value" label="Label">
        </mdw-input>
        <mdw-input filled color="tertiary-container" ink="tertiary"
          label="Very long label that label will clip selectively" placeholder="Label"></mdw-input>
        <mdw-input filled placeholder="Placeholder" color="green-container" ink="green"
          type-style="headline" icon=edit label="Custom typography and icon"></mdw-input>
        <mdw-input filled shape-style="full" type=search icon=search placeholder="Full shape, icon, type=search">
        </mdw-input>
        <mdw-input filled shape-style="large" placeholder="Placeholder" icon=edit label="Large shape with icon">
        </mdw-input>
        <mdw-input filled shape-style="full" placeholder="Placeholder" icon=edit label="Full shape with icon">
        </mdw-input>
        <mdw-input filled icon=edit color="alias-container" ink="alias" input-prefix="$"
          placeholder="10" type="number" label="Price"></mdw-input>
        <mdw-input filled icon=email input-suffix="@gmail.com" type="text" placeholder="frank" minlength="4"
          maxlength="8" supporting required label="Email"></mdw-input>
        <mdw-input filled icon=edit color="alias-container" ink="alias"
          supporting="I'm being helpful!" label=Name* required></mdw-input>
        <mdw-input filled icon=edit supporting label="Customized supporting" value="deleteme">
          <div slot="supporting">
            You are <mdw-inline ink="primary">awesome</mdw-inline>!
          </div>
        </mdw-input>
        <mdw-input filled color=secondary-container error="I am error" label="Errored"></mdw-input>
        <mdw-input filled color=secondary-container disabled label="Disabled"></mdw-input>
        <mdw-input filled color=secondary-container disabled error="Unavailable" value="filled">Disabled
        </mdw-input>
      </mdw-box>
    </section>
    <section>
      <mdw-headline size=medium text-padding=0.5em>Outlined</mdw-headline>
      <mdw-box flex=column wrap gap=16 padding=24>
        <mdw-input outlined label="Label"></mdw-input>
        <mdw-input outlined placeholder="Placeholder only" aria-label="Blank"></mdw-input>
        <mdw-input outlined ink="tertiary" label="Ink only"></mdw-input>
        <mdw-input outlined color="secondary-container" ink="secondary" value="default value" label="Label">
        </mdw-input>
        <mdw-input outlined color="tertiary-container" ink="tertiary"
          label="Very long label that label will clip selectively" placeholder="Label"></mdw-input>
        <mdw-input outlined placeholder="Placeholder" color="green-container" ink="green"
          type-style="headline" icon=edit label="Custom typography and icon"></mdw-input>
        <mdw-input outlined shape-style="full" type=search icon=search placeholder="Full shape, icon, type=search">
        </mdw-input>
        <mdw-input outlined shape-style="large" placeholder="Placeholder" icon=edit label="Large shape with icon">
        </mdw-input>
        <mdw-input outlined shape-style="full" placeholder="Placeholder" icon=edit label="Full shape with icon">
        </mdw-input>
        <mdw-input outlined icon=edit color="alias-container" ink="alias" input-prefix="$"
          placeholder="10" type="number" label="Price"></mdw-input>
        <mdw-input outlined icon=email input-suffix="@gmail.com" type="text" placeholder="frank" minlength="4"
          maxlength="8" supporting required label="Email"></mdw-input>
        <mdw-input outlined icon=edit color="alias-container" ink="alias"
          supporting="I'm being helpful!" label=Name* required></mdw-input>
        <mdw-input outlined icon=edit supporting label="Customized supporting" value="deleteme">
          <div slot="supporting">
            You are <mdw-inline ink="primary">awesome</mdw-inline>!
          </div>
        </mdw-input>
        <mdw-input outlined color=secondary-container error="I am error" label="Errored"></mdw-input>
        <mdw-input outlined color=secondary-container disabled label="Disabled"></mdw-input>
        <mdw-input outlined color=secondary-container disabled error="Unavailable" value="filled">Disabled
        </mdw-input>
      </mdw-box>
    </section>
    <section>
      <mdw-headline size=medium text-padding=0.5em>Outlined Dense</mdw-headline>
      <mdw-box flex=column wrap gap=16 padding=24>
        <mdw-input outlined density=-2 label="Label"></mdw-input>
        <mdw-input outlined density=-2 placeholder="Placeholder only" aria-label="Blank"></mdw-input>
        <mdw-input outlined density=-2 ink="tertiary" label="Ink only"></mdw-input>
        <mdw-input outlined density=-2 color="secondary-container" ink="secondary" value="default value" label="Label">
        </mdw-input>
        <mdw-input outlined density=-2 color="tertiary-container" ink="tertiary"
          label="Very long label that label will clip selectively" placeholder="Label"></mdw-input>
        <mdw-input outlined density=-2 placeholder="Placeholder" color="green-container" ink="green"
          type-style="headline" icon=edit label="Custom typography and icon"></mdw-input>
        <mdw-input outlined density=-2 shape-style="full" type=search icon=search
          placeholder="Full shape, icon, type=search">
        </mdw-input>
        <mdw-input outlined density=-2 shape-style="large" placeholder="Placeholder" icon=edit
          label="Large shape with icon">
        </mdw-input>
        <mdw-input outlined density=-2 shape-style="full" placeholder="Placeholder" icon=edit
          label="Full shape with icon">
        </mdw-input>
        <mdw-input outlined density=-2 icon=edit color="alias-container" ink="alias" input-prefix="$"
          placeholder="10" type="number" label="Price"></mdw-input>
        <mdw-input outlined density=-2 icon=email input-suffix="@gmail.com" type="text" placeholder="frank"
          minlength="4" maxlength="8" supporting required label="Email"></mdw-input>
        <mdw-input outlined density=-2 icon=edit color="alias-container" ink="alias"
          supporting="I'm being helpful!" label=Name* required></mdw-input>
        <mdw-input outlined density=-2 icon=edit supporting label="Customized supporting" value="deleteme">
          <div slot="supporting">
            You are <mdw-inline ink="primary">awesome</mdw-inline>!
          </div>
        </mdw-input>
        <mdw-input outlined density=-2 color=secondary-container error="I am error" label="Errored"></mdw-input>
        <mdw-input outlined density=-2 color=secondary-container disabled label="Disabled"></mdw-input>
        <mdw-input outlined density=-2 color=secondary-container disabled error="Unavailable" value="filled">Disabled
        </mdw-input>
      </mdw-box>
    </section>
    <section>
      <h2 slot="heading">Editable Combobox</h2>
      <mdw-box flex=column wrap gap=16 padding=24>
        <mdw-input filled label="Basic" supporting="No list-autocomplete (filtering), inline-autocomplete (appending text), or automatic selection.">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
        <mdw-input filled label="Inline" autocomplete-inline
        supporting="Using [autocomplete-inline]. (Use keyboard up/down)">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
        <mdw-input filled label="Inline Autocomplete + Suggestion" autocomplete-inline autosuggest-inline supporting="Using [autocomplete-inline][autosuggest-inline]">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
        <mdw-input outlined ink=secondary label="Inline Autocomplete + Suggestion + Filter" autocomplete-inline autocomplete-list autosuggest-inline supporting="Using [autocomplete-inline][autocomplete-list][autosuggest-inline]">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
        <mdw-input filled ink=tertiary label="Inline Autocomplete + Suggestion + Custom Filter" autocomplete-inline autocomplete-list=custom autosuggest-inline supporting="Using [autocomplete-inline][autocomplete-list=custom][autosuggest-inline] with input event listener"
        oninput="{
          // Inject any custom DOM mutation here (ie: with framework).
          // this.listbox is a QOL reference to the slotted listbox.
          const inputRegex = new RegExp(this.value, 'gi');
          for(const option of this.listbox) {
            let optionText = option.textContent;
            let fragment;
            let lastIndex = 0;
            for(const match of optionText.matchAll(inputRegex)) {
              fragment ??= new DocumentFragment();
              let {index} = match;
              let matchStr = match.toString();

              // Generate `<mdw-box inline color={ink} role=mark>{match}</mdw-box>`
              const box = document.createElement('mdw-box')
              box.setAttribute('role', 'mark');
              box.color = this.ink || 'primary';
              box.inline = true;
              box.textContent = matchStr;
              
              fragment.append(
                optionText.slice(lastIndex, index),
                box,
              );

              lastIndex = index + matchStr.length;
            }
            
            option.hidden = this.value && Boolean(!fragment);
            if (fragment) {
              fragment.append(optionText.slice(lastIndex));
              option.replaceChildren(fragment);
            } else {
              // Element may have old mark
              option.replaceChildren(optionText);
            }

          }
        }">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
      </mdw-box>
    </section>
    <section>
      <h2 slot="heading">Non-editable Combobox</h2>
      <mdw-box flex=column wrap gap=16 padding=24>
        <mdw-input filled label="Basic" type=select-one supporting="Uses [type=select-one]">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
        <mdw-input filled label="Custom Blank Text" type=select-one supporting="Uses [select-one]">
          <mdw-listbox>
            <mdw-list-option value="">None</mdw-list-option>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
        <mdw-input filled label="Preselected" type=select-one value=Banana supporting="Uses [select-one]">
          <mdw-listbox>
            <mdw-list-option>Apple</mdw-list-option>
            <mdw-list-option>Banana</mdw-list-option>
            <mdw-list-option>Cherry</mdw-list-option>
            <mdw-list-option>Dragon Fruit</mdw-list-option>
            <mdw-list-option>Emblica</mdw-list-option>
            <mdw-list-option>Fig</mdw-list-option>
            <mdw-list-option>Grapes</mdw-list-option>
            <mdw-list-option>Grapefruit</mdw-list-option>
            <mdw-list-option>Honeydew Melon</mdw-list-option>
          </mdw-listbox>
        </mdw-input>
      </mdw-box>
    </section>
    <section>
      <mdw-headline size=medium text-padding=0.5em>Bare</mdw-headline>
      <mdw-box flex=column wrap gap=16 padding=24>
        <mdw-input label="[label] only"></mdw-input>
        <mdw-input placeholder="[placeholder] + [label]" label="Blank"></mdw-input>
        <mdw-input ink="tertiary" aria-label="Ink only"></mdw-input>
        <mdw-input color="secondary-container" ink="secondary" value="default value" aria-label="Label">
        </mdw-input>
        <mdw-input color="tertiary-container" ink="tertiary"
          label="Very long label that label will clip selectively"></mdw-input>
        <mdw-input placeholder="Placeholder" color="green-container" ink="green"
          type-style="headline" icon=edit aria-label="Custom typography and icon"></mdw-input>
        <mdw-input shape-style="full" type=search icon=search placeholder="Full shape, icon, type=search"
          aria-label="Full shape">
        </mdw-input>
        <mdw-input shape-style="large" placeholder="Placeholder" icon=edit aria-label="Large shape with icon">
        </mdw-input>
        <mdw-input shape-style="full" placeholder="Placeholder" icon=edit aria-label="Full shape with icon">
        </mdw-input>
        <mdw-input icon=edit color="alias-container" ink="alias" input-prefix="$" placeholder="10"
          type="number" aria-label="Price"></mdw-input>
        <mdw-input icon=email input-suffix="@gmail.com" type="text" placeholder="frank" minlength="4" maxlength="8"
          supporting required aria-label="Email"></mdw-input>
        <mdw-input icon=edit color="alias-container" ink="alias" supporting="I'm being helpful!"
          aria-label=Name* required></mdw-input>
        <mdw-input icon=edit supporting aria-label="Customized supporting" value="deleteme">
          <div slot="supporting">
            You are <mdw-inline ink="primary">awesome</mdw-inline>!
          </div>
        </mdw-input>
        <mdw-input color=secondary-container error="I am error" aria-label="Errored"></mdw-input>
        <mdw-input color=secondary-container disabled aria-label="Disabled"></mdw-input>
        <mdw-input color=secondary-container disabled error="Unavailable" value="filled">Disabled
        </mdw-input>
      </mdw-box>
    </section>
  </demo-page>
</body>
</html>
