{"version":3,"sources":["webpack:///../core/aria/button.js","webpack:///../components/button/index.js","webpack:///./_sample-utils.js","webpack:///../components/dialog/index.js","webpack:///../components/menu/index.js","webpack:///../core/aria/attributes.js","webpack:///../components/menu/item.js","webpack:///../components/textfield/index.js","webpack:///../core/aria/tab.js"],"names":["onKeyDown","event","key","buttonElement","currentTarget","getAttribute","stopPropagation","preventDefault","newEvent","document","createEvent","initEvent","dispatchEvent","attach","element","classList","add","Ripple","Overlay","attachCore","setAttribute","HTMLButtonElement","hasAttribute","HTMLInputElement","addEventListener","AriaButton","detachCore","removeEventListener","removeAttribute","detach","__webpack_require__","d","__webpack_exports__","button_attach","button_detach","convertElementToCode","_core_dom__WEBPACK_IMPORTED_MODULE_0__","pug","arguments","length","undefined","linePrefix","htmlType","tagName","toLowerCase","attributes","classes","iterateArrayLike","c","push","attr","name","value","concat","sort","syntaxItems","join","openingHTMLLine","filter","item","trim","closingHTMLLine","lines","innerLines","onlyText","childNodes","child","lineText","HTMLElement","nodeValue","forEach","line","DialogStack","previousFocus","state","previousState","_classCallCheck","this","OPEN_DIALOGS","CANCEL_EVENT","CONFIRM_EVENT","CUSTOM_EVENT","DISMISS_EVENT","dialogCloser","getChildElementByClass","createElement","className","firstChild","insertBefore","appendChild","onCancelClick","popup","buttons","querySelectorAll","foundConfirmButton","foundCancelButton","button","Button","onCustomButtonClick","onConfirmClick","dialogElement","popupElement","getElementsByClassName","setupARIA","style","removeProperty","HTMLAnchorElement","cancelElement","dispatchDomEvent","hide","findElementParentByClassName","cancel","onEscapeKeyDown","focusableElements","foundTarget","candidate","iterateSomeOfArrayLike","el","target","shiftKey","focus","e","handleTabKeyPress","onPopState","lastOpenDialog","Object","keys","every","title","getTitleText","window","history","pushState","titleElement","textContent","bodyElement","stackIndex","some","stack","index","activeElement","splice","hash","back","show","changed","pageX","pageY","dialogRect","getBoundingClientRect","pageXOffset","pageYOffset","rect","width","left","top","height","transformOriginX","offsetLeft","transformOriginY","offsetTop","setProperty","updateTransformOrigin","newState","Math","random","toString","substr","replaceState","dialogStack","focusElement","querySelector","Element","callerOverlayTouch","console","error","updateButtonText","texts","setTextNode","updateBody","content","body","insertAdjacentElement","DocumentFragment","lastChild","removeChild","parentElement","create","options","updateTitle","buttonArea","buttonText","custom","autofocus","stacked","parent","MenuStack","originalEvent","pendingResizeOperation","OPEN_MENUS","HIDE_EVENT","menuElement","onMenuClick","onMenuScroll","type","scrollTop","scrollHeight","scrollLeft","scrollWidth","onWindowResize","lastOpenMenu","cancelTick","nextTick","updateMenuPosition","selectNextMenuItem","MenuItem","menu","backwards","menuItems","firstFocusableItem","lastFocusableElement","focusable","alignTarget","transformOrigin","useAlignTarget","margin","mdwPosition","mdwDirection","alignTop","indexOf","alignBottom","alignVCenter","alignStart","alignEnd","alignLeft","alignRight","alignHCenter","openUp","openDown","openNormal","openReverse","openVCenter","openHCenter","openLtr","openRtl","isPageRTL","isRtl","offsetY","offsetBottom","clientHeight","offsetX","offsetRight","clientWidth","popupElementHeight","popupElementWidth","canOpenDownwardsFromBottom","innerHeight","canOpenDownwardsFromTop","canOpenUpwardsFromTop","canOpenUpwardsFromBottom","canOpenRightwardsFromLeft","innerWidth","canOpenRightwardsFromRight","canOpenLeftwardsFromRight","canOpenLeftwardsFromLeft","canOpenFromCenter","candidates","map","candidateNumber","number","menuStack","menuItem","refreshMenuItems","pointerType","detail","SELECTED_CHANGED_EVENT","setSelected","_dom__WEBPACK_IMPORTED_MODULE_0__","originalAttr","ACTIVATE_EVENT","CHECK_EVENT","UNCHECK_EVENT","_core_overlay_index__WEBPACK_IMPORTED_MODULE_0__","_core_ripple_index__WEBPACK_IMPORTED_MODULE_1__","_core_dom__WEBPACK_IMPORTED_MODULE_2__","onMouseMove","onClick","role","useAriaChecked","menuItemElement","isDisabled","toggleChecked","setChecked","checked","isCheckable","iterateElementSiblings","sibling","isChecked","setValue","textfieldElement","input","onInput","getPassiveEventListenerOption","inputElement","updateTextAreaSize","updateInputEmptyState","previousRowsValue","_window$getComputedSt","getComputedStyle","paddingTop","heightPx","parseInt","replace","paddingTopPx","floor","HTMLTextAreaElement","HTMLSelectElement","Date","hoursStr","getHours","minutesStr","getMinutes","secondsStr","getSeconds","getMilliseconds","valueAsDate","valueAsNumber","getTime","getTimezoneOffset","_attributes__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"default.common.min.js","sourcesContent":["// https://www.w3.org/TR/wai-aria-practices/#button\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('role', 'button');\n  if (element instanceof HTMLButtonElement === false\n      && !element.hasAttribute('tabindex')) {\n    element.setAttribute('tabindex', '0');\n  }\n  element.setAttribute('mdw-aria-button-js', '');\n  if (element instanceof HTMLButtonElement === false\n    && element instanceof HTMLInputElement === false) {\n    element.addEventListener('keydown', onKeyDown);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-aria-button-js');\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const buttonElement = (event.currentTarget);\n  if (!buttonElement) {\n    return;\n  }\n  if (buttonElement.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  buttonElement.dispatchEvent(newEvent);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#button\n\nimport * as Ripple from '../../core/ripple/index';\nimport * as Overlay from '../../core/overlay/index';\nimport * as AriaButton from '../../core/aria/button';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  Ripple.attach(element);\n  element.classList.add('mdw-ripple');\n  Overlay.attach(element);\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  AriaButton.attach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  AriaButton.detach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","import { iterateArrayLike } from '../core/dom';\n\n\n/**\n * @param {Element|HTMLElement} element\n * @param {boolean} [pug=false]\n * @param {string} [linePrefix='']\n * @return {string}\n */\nfunction convertElementToCode(element, pug = false, linePrefix = '') {\n  const htmlType = element.tagName.toLowerCase();\n  /** @type {string[]} */\n  const attributes = [];\n  /** @type {string[]} */\n  const classes = [];\n  iterateArrayLike(element.classList, (c) => {\n    classes.push(c);\n  });\n  iterateArrayLike(element.attributes, (attr) => {\n    if (attr.name === 'class') {\n      return;\n    }\n    if (attr.value.length) {\n      attributes.push(`${attr.name}=\"${attr.value}\"`);\n    } else {\n      attributes.push(attr.name);\n    }\n  });\n  attributes.sort();\n  const syntaxItems = [\n    htmlType,\n    classes.length ? `class=\"${classes.join(' ')}\"` : '',\n    attributes.join(' '),\n  ];\n  const openingHTMLLine = pug\n    ? `${htmlType === 'div' && classes.length ? '' : htmlType}${classes.length ? `.${classes.join('.')}` : ''}${attributes.length ? `(${attributes.join(' ')})` : ''}`\n    : `<${syntaxItems.filter(item => item).join(' ').trim()}>`;\n  const closingHTMLLine = pug ? '' : `</${htmlType}>`;\n  const lines = [openingHTMLLine];\n  const innerLines = [];\n  let onlyText = true;\n  iterateArrayLike(element.childNodes, (child) => {\n    let lineText;\n    if (child instanceof HTMLElement) {\n      lineText = convertElementToCode(child, pug, `  ${linePrefix}`);\n      if (lineText.trim()) {\n        onlyText = false;\n      }\n    } else if (child.nodeValue) {\n      if (pug) {\n        lineText = `  ${child.nodeValue}`;\n      }\n    }\n    if (lineText && lineText.trim()) {\n      innerLines.push(lineText);\n    }\n  });\n  if (onlyText) {\n    if (pug) {\n      return `${linePrefix + lines.join('')} ${innerLines.join('').trim()}`;\n    }\n    return linePrefix + lines.join('') + innerLines.join('').trim() + closingHTMLLine;\n  }\n  innerLines.forEach(line => lines.push(line));\n  lines.push(linePrefix + closingHTMLLine);\n  return linePrefix + lines.filter(line => line.trim()).join('\\n');\n}\n\n/**\n * @param {Element} element\n * @param {string} tagname\n * @return {Element}\n */\nfunction changeElementTagName(element, tagname) {\n  const newElement = document.createElement(tagname);\n  for (let i = element.attributes.length - 1; i >= 0; i -= 1) {\n    const attr = element.attributes.item(i);\n    newElement.attributes.setNamedItem(attr.cloneNode());\n  }\n  while (element.firstChild) {\n    newElement.appendChild(element.firstChild);\n  }\n\n  element.parentElement.replaceChild(newElement, element);\n  return newElement;\n}\n\nexport {\n  convertElementToCode,\n  changeElementTagName,\n};\n","// https://www.w3.org/TR/wai-aria-practices/#dialog_modal\n\nimport {\n  dispatchDomEvent,\n  iterateArrayLike,\n  iterateSomeOfArrayLike,\n  findElementParentByClassName,\n  getChildElementByClass,\n  setTextNode,\n} from '../../core/dom';\n\nimport * as Button from '../button/index';\n\nclass DialogStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   * @param {Object=} state\n   * @param {Object=} previousState\n   */\n  constructor(element, previousFocus, state, previousState) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n  }\n}\n\n/** @type {DialogStack[]} */\nconst OPEN_DIALOGS = [];\n\nexport const CANCEL_EVENT = 'mdw:dialog-cancel';\n\nexport const CONFIRM_EVENT = 'mdw:dialog-confirm';\n\nexport const CUSTOM_EVENT = 'mdw:dialog-custom';\n\nexport const DISMISS_EVENT = 'mdw:dialog-dismiss';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-js', '');\n\n  let dialogCloser = getChildElementByClass(element, 'mdw-dialog__close');\n  if (!dialogCloser) {\n    dialogCloser = document.createElement('div');\n    dialogCloser.className = 'mdw-dialog__close';\n    if (element.firstChild) {\n      element.insertBefore(dialogCloser, element.firstChild);\n    } else {\n      element.appendChild(dialogCloser);\n    }\n  }\n  dialogCloser.addEventListener('click', onCancelClick);\n  const popup = getChildElementByClass(element, 'mdw-dialog__popup');\n  popup.addEventListener('keydown', onKeyDown);\n  const buttons = popup.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  let foundConfirmButton = false;\n  let foundCancelButton = false;\n  iterateArrayLike(buttons, (button) => {\n    Button.attach(button);\n    if (button.hasAttribute('mdw-custom')) {\n      button.addEventListener('click', onCustomButtonClick);\n      return;\n    }\n    if (!foundConfirmButton) {\n      button.addEventListener('click', onConfirmClick);\n      foundConfirmButton = true;\n      return;\n    }\n    if (!foundCancelButton) {\n      button.addEventListener('click', onCancelClick);\n      foundCancelButton = true;\n      return;\n    }\n    button.addEventListener('click', onCustomButtonClick);\n  });\n  setupARIA(element);\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function setupARIA(dialogElement) {\n  if (dialogElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  dialogElement.setAttribute('role', 'dialog');\n  dialogElement.setAttribute('aria-modal', 'true');\n  if (!dialogElement.hasAttribute('aria-hidden')) {\n    dialogElement.setAttribute('aria-hidden', 'true');\n  }\n  const popupElement = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n  if (!popupElement) {\n    return;\n  }\n\n  if (!popupElement.hasAttribute('aria-label') && !popupElement.hasAttribute('aria-labelledby')) {\n    const titleElement = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n    if (titleElement) {\n      // titleElement\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function detach(dialogElement) {\n  dialogElement.removeAttribute('mdw-js');\n  const dialogCloser = getChildElementByClass(dialogElement, 'mdw-dialog__close');\n  if (dialogCloser) {\n    dialogCloser.removeEventListener('click', onCancelClick);\n  }\n  /** @type {HTMLElement} */\n  const popupElement = (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  if (popupElement) {\n    popupElement.removeEventListener('keydown', onKeyDown);\n    popupElement.style.removeProperty('transform-origin');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  const buttons = popupElement.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  iterateArrayLike(buttons, (button) => {\n    Button.detach(button);\n    button.removeEventListener('click', onConfirmClick);\n    button.removeEventListener('click', onCancelClick);\n    button.removeEventListener('click', onCustomButtonClick);\n  });\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCancelClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  /** @type {HTMLElement} */\n  const cancelElement = (event.currentTarget);\n  if (dispatchDomEvent(cancelElement, CANCEL_EVENT)) {\n    const dialogElement = findElementParentByClassName(cancelElement, 'mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onConfirmClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  /** @type {HTMLElement} */\n  const button = (event.currentTarget);\n  if (dispatchDomEvent(button, CONFIRM_EVENT)) {\n    const dialogElement = findElementParentByClassName(button, 'mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCustomButtonClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  /** @type {HTMLElement} */\n  const button = (event.currentTarget);\n  if (dispatchDomEvent(button, CUSTOM_EVENT)) {\n    const dialogElement = findElementParentByClassName(button, 'mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  if (event.key === 'Tab') {\n    handleTabKeyPress(event);\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    onEscapeKeyDown(event);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onEscapeKeyDown(event) {\n  event.stopPropagation();\n  event.preventDefault();\n  /** @type {HTMLElement} */\n  const popupElement = (event.currentTarget);\n  const dialogElement = findElementParentByClassName(popupElement, 'mdw-dialog');\n  cancel(dialogElement);\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenDialog = OPEN_DIALOGS[OPEN_DIALOGS.length - 1];\n  if (!lastOpenDialog || !lastOpenDialog.previousState) {\n    return;\n  }\n  if ((lastOpenDialog.previousState === event.state) || Object.keys(event.state)\n    .every(key => event.state[key] === lastOpenDialog.previousState[key])) {\n    if (dispatchDomEvent(lastOpenDialog.element, CANCEL_EVENT)) {\n      hide(lastOpenDialog.element);\n    } else {\n      // Revert pop state by pushing state again\n      const title = getTitleText(lastOpenDialog.element);\n      window.history.pushState(lastOpenDialog.state, title);\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function cancel(dialogElement) {\n  if (dispatchDomEvent(dialogElement, CANCEL_EVENT)) {\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function confirm(dialogElement) {\n  if (dispatchDomEvent(dialogElement, CONFIRM_EVENT)) {\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {string}\n */\nexport function getTitleText(dialogElement) {\n  let title = 'Dialog';\n  const titleElement = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n  if (titleElement) {\n    title = titleElement.textContent;\n  } else {\n    const bodyElement = dialogElement.getElementsByClassName('mdw-dialog__body')[0];\n    if (bodyElement) {\n      title = bodyElement.textContent;\n    }\n  }\n  return title;\n}\n\n/**\n * @param {Element} dialogElement\n * @return {boolean} handled\n */\nexport function hide(dialogElement) {\n  if (dialogElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  if (!dispatchDomEvent(dialogElement, DISMISS_EVENT)) {\n    return false;\n  }\n  dialogElement.setAttribute('aria-hidden', 'true');\n  let stackIndex = -1;\n  OPEN_DIALOGS.some((stack, index) => {\n    if (stack.element === dialogElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const stack = OPEN_DIALOGS[stackIndex];\n    if (stack.previousFocus) {\n      if (findElementParentByClassName(document.activeElement, 'mdw-dialog') === dialogElement) {\n        // Only pop focus back when hiding a dialog with focus within itself.\n        try {\n          stack.previousFocus.focus();\n        } catch (e) {\n          // Failed to focus\n        }\n      }\n    }\n    OPEN_DIALOGS.splice(stackIndex, 1);\n    if (stack.state && window.history && window.history.state) {\n      // IE11 returns a cloned state object, not the original\n      if (stack.state.hash === window.history.state.hash) {\n        window.history.back();\n      }\n    }\n  }\n  if (!OPEN_DIALOGS.length) {\n    window.removeEventListener('popstate', onPopState);\n  }\n  return true;\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(MouseEvent|KeyboardEvent|PointerEvent)=} event\n * @return {boolean} handled\n */\nexport function show(dialogElement, event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  let changed = false;\n\n  updateTransformOrigin(dialogElement, event);\n  if (dialogElement.getAttribute('aria-hidden') !== 'false') {\n    dialogElement.setAttribute('aria-hidden', 'false');\n    changed = true;\n  }\n  if (changed) {\n    attach(dialogElement);\n    const previousFocus = document.activeElement;\n    const newState = { hash: Math.random().toString(36).substr(2, 16) };\n    let previousState = null;\n    if (window.history && window.history.pushState) {\n      if (!window.history.state) {\n        // Create new previous state\n        window.history.replaceState({\n          hash: Math.random().toString(36).substr(2, 16),\n        }, document.title);\n      }\n      previousState = window.history.state;\n      const title = getTitleText(dialogElement);\n      window.history.pushState(newState, title);\n      window.addEventListener('popstate', onPopState);\n    }\n    const dialogStack = new DialogStack(dialogElement, previousFocus, newState, previousState);\n    OPEN_DIALOGS.push(dialogStack);\n    const focusElement = dialogElement.querySelector('[mdw-autofocus]');\n    try {\n      if (focusElement) {\n        if (event && event.target instanceof Element) {\n          const callerOverlayTouch = event.target.getAttribute('mdw-overlay-touch');\n          if (callerOverlayTouch != null) {\n            focusElement.setAttribute('mdw-overlay-touch', callerOverlayTouch);\n          }\n        }\n        focusElement.focus();\n      } else {\n        dialogElement.focus();\n      }\n    } catch (e) {\n      console.error(e);\n      // Failed to focus\n    }\n  }\n  return changed;\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function handleTabKeyPress(event) {\n  /** @type {Element} */\n  const popupElement = (event.currentTarget);\n  const focusableElements = popupElement.querySelectorAll([\n    'button:not(:disabled):not([tabindex=\"-1\"])',\n    '[href]:not(:disabled):not([tabindex=\"-1\"])',\n    'input:not(:disabled):not([tabindex=\"-1\"])',\n    'select:not(:disabled):not([tabindex=\"-1\"])',\n    'textarea:not(:disabled):not([tabindex=\"-1\"])',\n    '[tabindex]:not([tabindex=\"-1\"])'].join(', '));\n  let foundTarget = false;\n  let candidate = null;\n  iterateSomeOfArrayLike(focusableElements, (el) => {\n    if (el === event.target) {\n      foundTarget = true;\n      if (event.shiftKey) {\n        return true;\n      }\n    } else if (event.shiftKey) {\n      candidate = el;\n    } else if (foundTarget) {\n      candidate = el;\n      return true;\n    }\n    return false;\n  });\n  if (!candidate) {\n    if (event.shiftKey) {\n      // Select last item\n      candidate = focusableElements[focusableElements.length - 1];\n    } else {\n      // Select first item\n      candidate = focusableElements[0];\n    }\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  if (candidate) {\n    try {\n      candidate.focus();\n    } catch (e) {\n      // Failed to focus\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(DocumentFragment|string)=} content\n * @return {void}\n */\nexport function updateTitle(dialogElement, content) {\n  let title = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n  if (!content) {\n    if (!title) {\n      // Nothing to be done\n      return;\n    }\n    title.parentElement.removeChild(title);\n    return;\n  }\n  if (!title) {\n    title = document.createElement('div');\n    title.className = 'mdw-dialog__title';\n    const popup = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n    popup.insertBefore(title, popup.firstChild);\n  }\n  if (content instanceof DocumentFragment) {\n    while (title.lastChild) {\n      title.removeChild(title.lastChild);\n    }\n    title.appendChild(content);\n  } else {\n    title.textContent = content;\n  }\n}\n\n\n/**\n * @param {Element} dialogElement\n * @param {string[]} texts\n * @return {void}\n */\nexport function updateButtonText(dialogElement, texts) {\n  const buttons = dialogElement.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  iterateArrayLike(buttons, (button, index) => {\n    setTextNode(button, texts[index]);\n  });\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(DocumentFragment|string)=} content\n * @return {void}\n */\nexport function updateBody(dialogElement, content) {\n  let body = dialogElement.getElementsByClassName('mdw-dialog__body')[0];\n  if (!content) {\n    if (!body) {\n      // Nothing to be done\n      return;\n    }\n    body.parentElement.removeChild(body);\n    return;\n  }\n  if (!body) {\n    body = document.createElement('div');\n    body.className = 'mdw-dialog__body mdw-theme';\n    body.setAttribute('mdw-ink', 'medium');\n    const title = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n    if (title) {\n      title.insertAdjacentElement('afterend', body);\n    } else {\n      const popup = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n      popup.insertBefore(body, popup.firstChild);\n    }\n  }\n  if (content instanceof DocumentFragment) {\n    while (body.lastChild) {\n      body.removeChild(body.lastChild);\n    }\n    body.appendChild(content);\n  } else {\n    body.textContent = content;\n  }\n}\n\n/**\n * @param {Object} options\n * @param {(DocumentFragment|string)=} options.title\n * @param {(DocumentFragment|string)=} options.body\n * @param {string[]=} options.buttons\n * @param {boolean=} options.stacked\n * @param {Element=} options.parent\n * @param {boolean} [options.custom=false] Use custom button events\n * @param {(string|number)=} [options.autofocus=0] Autofocus button by index or text\n * @return {Element}\n */\nexport function create(options) {\n  const element = document.createElement('div');\n  element.className = 'mdw-dialog';\n\n  const popup = document.createElement('div');\n  popup.className = 'mdw-dialog__popup mdw-theme';\n  popup.setAttribute('mdw-surface', 'card');\n  element.appendChild(popup);\n\n  updateTitle(element, options.title);\n  updateBody(element, options.body);\n\n  if (options.buttons) {\n    const buttonArea = document.createElement('div');\n    buttonArea.className = 'mdw-dialog__button-area';\n    let index = 0;\n    options.buttons.forEach((buttonText) => {\n      const button = document.createElement('div');\n      button.className = 'mdw-button mdw-theme';\n      button.setAttribute('tabindex', '0');\n      button.setAttribute('mdw-ink', 'secondary');\n      if (options.custom) {\n        button.setAttribute('mdw-custom', '');\n      }\n      button.textContent = buttonText;\n      buttonArea.appendChild(button);\n      if ((options.autofocus == null && index === 0)\n        || options.autofocus === index || options.autofocus === buttonText) {\n        button.setAttribute('mdw-autofocus', '');\n      }\n      index += 1;\n    });\n    if (options.stacked) {\n      buttonArea.setAttribute('mdw-stacked', '');\n    }\n    popup.appendChild(buttonArea);\n  }\n  if (options.parent) {\n    options.parent.appendChild(element);\n  }\n  attach(element);\n  return element;\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(MouseEvent|KeyboardEvent|PointerEvent)=} event\n * @return {void}\n */\nexport function updateTransformOrigin(dialogElement, event) {\n  /** @type {HTMLElement} */\n  const popup = (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  popup.style.removeProperty('transform-origin');\n  if (!event) {\n    return;\n  }\n  let pageX;\n  let pageY;\n  const dialogRect = dialogElement.getBoundingClientRect();\n  if ('pageX' in event && 'pageY' in event) {\n    ({ pageX, pageY } = event);\n    pageX -= window.pageXOffset;\n    pageY -= window.pageYOffset;\n  } else {\n    /** @type {Element} */\n    const target = (event.currentTarget || event.target);\n    const rect = target.getBoundingClientRect();\n    if (!rect.width && !rect.width && !rect.left && !rect.top) {\n      return;\n    }\n    pageX = rect.left + (rect.width / 2);\n    pageY = rect.top + (rect.height / 2);\n  }\n  const transformOriginX = pageX - dialogRect.left - popup.offsetLeft;\n  const transformOriginY = pageY - dialogRect.top - popup.offsetTop;\n  popup.style.setProperty('transform-origin', `${transformOriginX}px ${transformOriginY}px`);\n}\n\n// Aliases\nexport const dismiss = hide;\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport {\n  dispatchDomEvent,\n  isRtl,\n  iterateArrayLike,\n  iterateSomeOfArrayLike,\n  nextTick,\n  cancelTick,\n} from '../../core/dom';\n\nimport * as MenuItem from './item';\n\nclass MenuStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   * @param {Object=} state\n   * @param {Object=} previousState\n   * @param {MouseEvent=} originalEvent\n   */\n  constructor(element, previousFocus, state, previousState, originalEvent) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n    this.originalEvent = originalEvent;\n    this.pendingResizeOperation = null;\n  }\n}\n\n/** @type {MenuStack[]} */\nconst OPEN_MENUS = [];\n\nexport const HIDE_EVENT = 'mdw:menu-hide';\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function attach(menuElement) {\n  menuElement.setAttribute('mdw-menu-js', '');\n  menuElement.addEventListener('click', onMenuClick);\n  menuElement.addEventListener('scroll', onMenuScroll);\n  menuElement.addEventListener('touchmove', onMenuScroll);\n  menuElement.addEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  setupARIA(menuElement);\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function setupARIA(menuElement) {\n  if (menuElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  if (!menuElement.hasAttribute('aria-hidden')) {\n    menuElement.setAttribute('aria-hidden', 'true');\n  }\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-divider'),\n    el => el.setAttribute('role', 'separator'));\n  menuElement.setAttribute('role', 'menu');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.setAttribute('role', 'none');\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onMenuScroll(event) {\n  // JS needed for Safari\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.type !== 'scroll') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (element.scrollTop !== element.scrollHeight / 4) {\n    element.scrollTop = element.scrollHeight / 4;\n  }\n  if (element.scrollLeft !== element.scrollWidth / 4) {\n    element.scrollLeft = element.scrollWidth / 4;\n  }\n}\n\nexport function onMenuClick(event) {\n  if (event.currentTarget === event.target) {\n    event.stopPropagation();\n    hide(event.currentTarget);\n  }\n}\n\n/**\n * @return {void}\n */\nexport function onWindowResize() {\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.originalEvent) {\n    return;\n  }\n  if (lastOpenMenu.pendingResizeOperation) {\n    cancelTick(lastOpenMenu.pendingResizeOperation);\n  }\n  lastOpenMenu.pendingResizeOperation = nextTick(() => {\n    updateMenuPosition(\n      lastOpenMenu.element,\n      lastOpenMenu.element.getElementsByClassName('mdw-menu__popup')[0],\n      lastOpenMenu.originalEvent\n    );\n    lastOpenMenu.pendingResizeOperation = null;\n  });\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.previousState) {\n    return;\n  }\n  if ((lastOpenMenu.previousState === event.state) || Object.keys(event.state)\n    .every(key => event.state[key] === lastOpenMenu.previousState[key])) {\n    hide(lastOpenMenu.element);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  /** @type {HTMLElement} */\n  const menuElement = (event.currentTarget);\n  if (!menuElement || menuElement.getAttribute('aria-hidden') === 'true') {\n    return;\n  }\n\n  if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, false);\n    return;\n  }\n  if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, true);\n    return;\n  }\n  if (event.key === 'Tab') {\n    // Hide menu allowing focus to revert to calling element\n    // To then allow browser default Tab interaction\n    // Unless menu hiding is cancelled\n    if (!hide(menuElement)) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    event.stopPropagation();\n    event.preventDefault();\n    hide(menuElement);\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function detach(menuElement) {\n  hide(menuElement);\n  menuElement.removeEventListener('click', onMenuClick);\n  menuElement.removeEventListener('scroll', onMenuScroll);\n  menuElement.removeEventListener('touchmove', onMenuScroll);\n  menuElement.removeEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  menuElement.removeAttribute('mdw-menu-js');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__item'), MenuItem.detach);\n}\n\n/**\n * @param {Element} menu\n * @param {boolean} [backwards=false]\n * @return {void}\n */\nexport function selectNextMenuItem(menu, backwards) {\n  const menuItems = menu.getElementsByClassName('mdw-menu__item');\n  let foundTarget = false;\n  let candidate = null;\n  let firstFocusableItem = null;\n  let lastFocusableElement = null;\n  const target = document.activeElement;\n\n  // Hidden elements cannot be focused\n  // Disabled elements cannot be focused on IE11\n  // Skip elements that fail to receive focus\n  iterateSomeOfArrayLike(menuItems, (el) => {\n    el.focus();\n    const focusable = (document.activeElement === el);\n    if (focusable) {\n      if (!firstFocusableItem) {\n        firstFocusableItem = el;\n      }\n      lastFocusableElement = el;\n    }\n    if (el === target) {\n      foundTarget = true;\n      if (backwards && candidate) {\n        return true;\n      }\n      return false;\n    }\n    if (backwards) {\n      if (focusable) {\n        candidate = el;\n      }\n      return false;\n    }\n    if (foundTarget) {\n      if (focusable) {\n        candidate = el;\n        return true;\n      }\n      return false;\n    }\n    return false;\n  });\n  if (!candidate) {\n    if (backwards) {\n      candidate = lastFocusableElement;\n    } else {\n      candidate = firstFocusableItem;\n    }\n  }\n  if (candidate && document.activeElement !== candidate) {\n    candidate.focus();\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @param {Element} popupElement\n * @param {MouseEvent=} event\n * @param {boolean=} [alignTarget=true]\n * @return {void}\n */\nexport function updateMenuPosition(menuElement, popupElement, event, alignTarget) {\n  let top = 'auto';\n  let left = 'auto';\n  let transformOrigin = '';\n  const useAlignTarget = (alignTarget !== false);\n  const margin = useAlignTarget ? '0' : '';\n  const mdwPosition = menuElement.getAttribute('mdw-position') || '';\n  const mdwDirection = menuElement.getAttribute('mdw-direction') || '';\n  let alignTop = mdwPosition.indexOf('top') !== -1;\n  let alignBottom = mdwPosition.indexOf('bottom') !== -1;\n  let alignVCenter = mdwPosition.indexOf('vcenter') !== -1;\n\n  const alignStart = mdwPosition.indexOf('start') !== -1;\n  const alignEnd = mdwPosition.indexOf('end') !== -1;\n  let alignLeft = mdwPosition.indexOf('left') !== -1;\n  let alignRight = mdwPosition.indexOf('right') !== -1;\n  let alignHCenter = mdwPosition.indexOf('hcenter') !== -1;\n\n  let openUp = mdwDirection.indexOf('up') !== -1;\n  let openDown = mdwDirection.indexOf('down') !== -1;\n  const openNormal = mdwDirection.indexOf('normal') !== -1;\n  const openReverse = mdwDirection.indexOf('reverse') !== -1;\n  let openVCenter = mdwDirection.indexOf('vcenter') !== -1;\n  let openHCenter = mdwDirection.indexOf('hcenter') !== -1;\n  let openLtr = mdwDirection.indexOf('ltr') !== -1;\n  let openRtl = mdwDirection.indexOf('rtl') !== -1;\n\n  /** @type {HTMLElement} */\n  const target = (event.currentTarget || event.target);\n\n  let isPageRTL = null;\n  if (alignStart || alignEnd || openNormal || openReverse) {\n    // Using page-direction based values\n    isPageRTL = isRtl();\n    if (alignStart || alignEnd) {\n      if (alignStart) {\n        if (isPageRTL) {\n          alignRight = true;\n        } else {\n          alignLeft = true;\n        }\n      } else if (isPageRTL) {\n        alignLeft = true;\n      } else {\n        alignRight = true;\n      }\n    }\n    if (openNormal || openReverse) {\n      if (openNormal) {\n        if (isPageRTL) {\n          openRtl = true;\n        } else {\n          openLtr = true;\n        }\n      } else if (isPageRTL) {\n        openLtr = true;\n      } else {\n        openRtl = true;\n      }\n    }\n  }\n  const offsetTop = useAlignTarget ? 0 : -event.offsetY;\n  const offsetBottom = useAlignTarget ? target.clientHeight : event.offsetY;\n  const offsetLeft = useAlignTarget ? 0 : -event.offsetX;\n  const offsetRight = useAlignTarget ? target.clientWidth : event.offsetX;\n  const rect = target.getBoundingClientRect();\n  const pageX = rect.left;\n  const pageY = rect.top;\n\n  /* Automatic Positioning\n    *\n    * 9 Positions\n    *   3      7      4\n    *     ┌─────────┐\n    *     │         │\n    *   5 │    9    │ 6\n    *     │         │\n    *     └─────────┘\n    *   1      8      2\n    *\n    * 1: Bottom Left\n    * 2: Bottom Right\n    * 3: Top Left\n    * 4: Top Right\n    * 5: VCenter Left\n    * 6: VCenter Right\n    * 7: HCenter Top\n    * 8: HCenter Bottom\n    * 9: VCenter HCenter\n    *\n    * 9 Directions:\n    * a - Down LTR\n    * b - Down RTL\n    * c - Up LTR\n    * d - Up RTL\n    * e - LTR\n    * f - RTL\n    * g - Down\n    * h - Up\n    * i - Center\n    *\n    *\n    * 16 total combos\n    * 1a 1b 1c 1d  └↘ └↙ └↗ └↖\n    * 2a 2b 2c 2d  ┘↘ ┘↙ ┘↗ ┘↖\n    * 3a 3b 3c 3d  ┌↘ ┌↙ ┌↗ ┌↖\n    * 4a 4b 4c 4d  ┐↘ ┐↙ ┐↗ ┐↖\n    *\n    * Avoid using opposite angle\n    *\n    * 1a XX 1c 1d  └↘ ██ └↗ └↖\n    * XX 2b 2c 2d  ██ ┘↙ ┘↗ ┘↖\n    * 1a 3b 3c XX  ┌↘ ┌↙ ┌↗ ██\n    * 4a 4b XX 4d  ┐↘ ┐↙ ██ ┐↖\n    *\n    *\n    * Preference Order:\n    * - Flow from corner           1a 2b 3c 4d    └↘ ┘↙ ┌↗ ┐↖\n    * - Open adjacent to target    4a 3b 2c 1d    ┐↘ ┌↙ ┘↗ └↖\n    * - Overlay target             3a 4b 1c 2d    ┌↘ ┐↙ └↗ ┘↖\n    * - Open from horizontal side  5e 6f          │→ │←\n    * - Open from center           9i             █·\n    */\n\n  popupElement.style.setProperty('max-height', 'none');\n  const popupElementHeight = popupElement.clientHeight;\n  const popupElementWidth = popupElement.clientWidth;\n  const canOpenDownwardsFromBottom = !alignTop && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetBottom) <= window.innerHeight;\n  const canOpenDownwardsFromTop = !alignBottom && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetTop) <= window.innerHeight;\n  const canOpenUpwardsFromTop = !alignBottom && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetTop >= popupElementHeight;\n  const canOpenUpwardsFromBottom = !alignTop && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetBottom >= popupElementHeight;\n  const canOpenRightwardsFromLeft = !alignRight && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetLeft) <= window.innerWidth;\n  const canOpenRightwardsFromRight = !alignLeft && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetRight) <= window.innerWidth;\n  const canOpenLeftwardsFromRight = !alignLeft && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetRight >= popupElementWidth;\n  const canOpenLeftwardsFromLeft = !alignRight && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetLeft >= popupElementWidth;\n  const canOpenFromCenter = !alignLeft && !alignRight && !alignTop && !alignBottom\n    && !openUp && !openDown\n    && ((pageX + offsetLeft) / 2) >= (popupElementWidth / 2)\n    && (popupElementWidth / 2) + ((pageX + offsetLeft) / 2) <= window.innerWidth;\n  popupElement.style.removeProperty('max-height');\n  const candidates = [\n    canOpenDownwardsFromBottom && canOpenRightwardsFromLeft, // 1a └↘\n    canOpenDownwardsFromBottom && canOpenLeftwardsFromRight, // 2b ┘↙\n    canOpenUpwardsFromTop && canOpenRightwardsFromLeft, // 3c ┌↗\n    canOpenUpwardsFromTop && canOpenLeftwardsFromLeft, // 4d ┐↖\n    canOpenDownwardsFromTop && canOpenRightwardsFromRight, // 4a ┐↘\n    canOpenDownwardsFromTop && canOpenLeftwardsFromLeft, // 3b ┌↙\n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2c ┘↗\n    canOpenUpwardsFromBottom && canOpenLeftwardsFromLeft, // 1d └↖\n    canOpenDownwardsFromTop && canOpenRightwardsFromLeft, // 3a ┌↘\n    canOpenDownwardsFromTop && canOpenLeftwardsFromRight, // 4b ┐↙\n    canOpenUpwardsFromBottom && canOpenRightwardsFromLeft, // 1c └↗\n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2d ┘↖\n    canOpenRightwardsFromLeft, // 5e │→\n    canOpenLeftwardsFromRight, // 6f │←\n    canOpenFromCenter, // 9i █·\n  ].map((value, index) => {\n    if (value) {\n      return index + 1;\n    }\n    return 0;\n  }).filter(value => value !== 0);\n  if (candidates.length) {\n    let candidateNumber;\n    if (isPageRTL === null) {\n      isPageRTL = isRtl();\n    }\n    if (isPageRTL) {\n      candidateNumber = [2, 1, 4, 3, 6, 5, 8, 7, 10, 9, 12, 11, 14, 13, 15]\n        .filter(number => candidates.indexOf(number) !== -1)[0];\n    } else {\n      candidateNumber = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n        .filter(number => candidates.indexOf(number) !== -1)[0];\n    }\n    if (candidateNumber == null) {\n      candidateNumber = isPageRTL ? 2 : 1;\n    }\n    switch (candidateNumber) {\n      // Position\n      default:\n      case 1:\n      case 8:\n      case 11:\n        alignBottom = true; alignLeft = true;\n        break;\n      case 2:\n      case 7:\n      case 12:\n        alignBottom = true; alignRight = true;\n        break;\n      case 3:\n      case 6:\n      case 9:\n        alignTop = true; alignLeft = true;\n        break;\n      case 4:\n      case 5:\n      case 10:\n        alignTop = true; alignRight = true;\n        break;\n      case 13:\n        alignVCenter = true; alignLeft = true;\n        break;\n      case 14:\n        alignVCenter = true; alignRight = true;\n        break;\n      case 15:\n        alignVCenter = true; alignHCenter = true;\n    }\n    switch (candidateNumber) {\n      // Direction\n      default:\n      case 1:\n      case 5:\n      case 9:\n        openDown = true; openLtr = true;\n        break;\n      case 2:\n      case 6:\n      case 10:\n        openDown = true; openRtl = true;\n        break;\n      case 3:\n      case 7:\n      case 11:\n        openUp = true; openLtr = true;\n        break;\n      case 4:\n      case 8:\n      case 12:\n        openUp = true; openRtl = true;\n        break;\n      case 13:\n        openLtr = true; openVCenter = true;\n        break;\n      case 14:\n        openRtl = true; openVCenter = true;\n        break;\n      case 15:\n        openHCenter = true; openVCenter = true;\n        break;\n    }\n  }\n\n  if (openLtr) {\n    if (alignRight) {\n      left = `${pageX + offsetRight}px`;\n    } else if (alignHCenter) {\n      left = `${pageX + ((offsetLeft + offsetRight) / 2)}px`;\n    } else {\n      left = `${pageX + offsetLeft}px`;\n    }\n    transformOrigin = 'left';\n  } else if (openHCenter) {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - (popupElementWidth / 2)}px`;\n    } else if (alignRight) {\n      left = `${(pageX + offsetRight) - (popupElementWidth / 2)}px`;\n    } else {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - (popupElementWidth / 2)}px`;\n    }\n    transformOrigin = 'center';\n  } else {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - popupElementWidth}px`;\n    } else if (alignHCenter) {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - popupElementWidth}px`;\n    } else {\n      left = `${(pageX + offsetRight) - popupElementWidth}px`;\n    }\n    transformOrigin = 'right';\n  }\n\n  if (openUp) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - popupElement.clientHeight}px`;\n    } else if (alignVCenter) {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - popupElement.clientHeight}px`;\n    } else {\n      top = `${(pageY + offsetTop) - popupElement.clientHeight}px`;\n    }\n    transformOrigin += ' bottom';\n  } else if (openVCenter) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - (popupElement.clientHeight / 2)}px`;\n    } else if (alignTop) {\n      top = `${(pageY + offsetTop) - (popupElement.clientHeight / 2)}px`;\n    } else {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - (popupElement.clientHeight / 2)}px`;\n    }\n    transformOrigin += ' center';\n  } else {\n    if (alignTop) {\n      top = `${pageY + offsetTop}px`;\n    } else if (alignVCenter) {\n      top = `${pageY + ((offsetTop + offsetBottom) / 2)}px`;\n    } else {\n      top = `${pageY + offsetBottom}px`;\n    }\n    transformOrigin += ' top';\n  }\n\n  popupElement.style.setProperty('top', top);\n  popupElement.style.setProperty('left', left);\n  popupElement.style.setProperty('right', 'auto');\n  popupElement.style.setProperty('bottom', 'auto');\n  popupElement.style.setProperty('margin', margin);\n  popupElement.style.setProperty('transform-origin', transformOrigin);\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function refreshMenuItems(menuElement) {\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__item'), (menuItem) => {\n    menuItem.setAttribute('tabindex', '-1');\n    MenuItem.attach(menuItem);\n  });\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  popupElement.setAttribute('tabindex', '-1');\n}\n\n/**\n * @param {Element} menuElement\n * @param {MouseEvent=} event\n * @param {boolean=} [alignTarget=true]\n * @return {boolean} handled\n */\nexport function show(menuElement, event, alignTarget) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  let changed = false;\n  if (event) {\n    updateMenuPosition(menuElement, popupElement, event, alignTarget);\n  } else {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  if (menuElement.getAttribute('aria-hidden') !== 'false') {\n    menuElement.setAttribute('aria-hidden', 'false');\n    changed = true;\n  }\n  if (changed) {\n    attach(menuElement);\n    const previousFocus = document.activeElement;\n    const newState = { hash: Math.random().toString(36).substr(2, 16) };\n    let previousState = null;\n    if (window.history && window.history.pushState) {\n      if (!window.history.state) {\n        // Create new previous state\n        window.history.replaceState({\n          hash: Math.random().toString(36).substr(2, 16),\n        }, document.title);\n      }\n      previousState = window.history.state;\n      window.history.pushState(newState, document.title);\n      window.addEventListener('popstate', onPopState);\n      window.addEventListener('resize', onWindowResize);\n    }\n    const menuStack = new MenuStack(menuElement, previousFocus, newState, previousState, event);\n    OPEN_MENUS.push(menuStack);\n    refreshMenuItems(menuElement);\n    if (event && !event.pointerType && !event.detail) {\n      // Triggered with keyboard event\n      selectNextMenuItem(menuElement);\n    } else {\n      popupElement.focus();\n    }\n  }\n  return changed;\n}\n\n/**\n * @param {Element} menuElement\n * @return {boolean} handled\n */\nexport function hide(menuElement) {\n  if (menuElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  menuElement.setAttribute('aria-hidden', 'true');\n  let stackIndex = -1;\n  OPEN_MENUS.some((stack, index) => {\n    if (stack.element === menuElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const menuStack = OPEN_MENUS[stackIndex];\n    if (menuStack.previousFocus) {\n      menuStack.previousFocus.focus();\n    }\n    OPEN_MENUS.splice(stackIndex, 1);\n    if (menuStack.state && window.history && window.history.state) {\n      // IE11 returns a cloned state object, not the original\n      if (menuStack.state.hash === window.history.state.hash) {\n        window.history.back();\n      }\n    }\n  }\n  if (!OPEN_MENUS.length) {\n    window.removeEventListener('popstate', onPopState);\n    window.removeEventListener('resize', onWindowResize);\n  }\n  dispatchDomEvent(menuElement, HIDE_EVENT);\n  return true;\n}\n","import { dispatchDomEvent } from '../dom';\n\nexport const SELECTED_CHANGED_EVENT = 'mdw:aria-selectedchanged';\n\n/**\n * @param {Element} element\n * @param {'false'|'true'} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} changed\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  const originalAttr = element.getAttribute('aria-selected');\n  if (value === 'true') {\n    if (originalAttr === 'true') {\n      return false;\n    }\n    element.setAttribute('aria-selected', 'true');\n  } else {\n    if (originalAttr === 'false') {\n      return false;\n    }\n    if (!originalAttr || originalAttr !== 'false') {\n      element.setAttribute('aria-selected', 'false');\n      return false;\n    }\n    element.setAttribute('aria-selected', 'false');\n  }\n  if (!dispatchEvent) {\n    return true;\n  }\n  if (!dispatchDomEvent(element, SELECTED_CHANGED_EVENT)) {\n    // Revert\n    if (originalAttr == null) {\n      element.removeAttribute('aria-selected');\n    } else {\n      element.setAttribute('aria-selected', originalAttr);\n    }\n    return false;\n  }\n  return true;\n}\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport * as Overlay from '../../core/overlay/index';\nimport * as Ripple from '../../core/ripple/index';\n\nimport {\n  dispatchDomEvent,\n  iterateArrayLike,\n  iterateElementSiblings,\n} from '../../core/dom';\n\nexport const ACTIVATE_EVENT = 'mdw:menuitem-activate';\nexport const CHECK_EVENT = 'mdw:menuitem-check';\nexport const UNCHECK_EVENT = 'mdw:menuitem-uncheck';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  Overlay.attach(element);\n\n  element.classList.add('mdw-ripple');\n  Ripple.attach(element);\n\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  // If mouseover is used, an item can still lose focus via keyboard navigation.\n  // An extra event listener would need to be created to catch blur but the cursor\n  // would still remain over the element, thus needing another mousemove event.\n  // Prioritization is given to less event listeners rather than operations per second.\n  element.addEventListener('mousemove', onMouseMove);\n  element.addEventListener('click', onClick);\n  element.addEventListener('keydown', onKeyDown);\n  setupARIA(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function setupARIA(element) {\n  if (element.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  const role = element.getAttribute('role');\n  let useAriaChecked = false;\n  if (role === 'menuitemcheckbox' || role === 'menuitemradio') {\n    useAriaChecked = true;\n  } else if (role !== 'menuitem') {\n    if (element.getElementsByClassName('mdw-menu__check').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemcheckbox');\n    } else if (element.getElementsByClassName('mdw-menu__radio').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemradio');\n    } else {\n      element.setAttribute('role', 'menuitem');\n    }\n  }\n  if (useAriaChecked && !element.hasAttribute('aria-checked')) {\n    element.setAttribute('aria-checked', 'false');\n  }\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__icon'),\n    el => el.setAttribute('aria-hidden', 'true'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__text'),\n    el => el.setAttribute('role', 'text'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__check'),\n    el => el.setAttribute('aria-hidden', 'true'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__info'),\n    el => el.setAttribute('role', 'note'));\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent|PointerEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  event.stopPropagation();\n\n  /** @type {HTMLElement} */\n  const menuItemElement = (event.currentTarget);\n  if (isDisabled(menuItemElement)) {\n    return;\n  }\n  const role = menuItemElement.getAttribute('role');\n  if (role === 'menuitemcheckbox') {\n    toggleChecked(menuItemElement);\n  } else if (role === 'menuitemradio') {\n    setChecked(menuItemElement, true);\n  }\n  dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onMouseMove(event) {\n  /** @type {HTMLElement} */\n  const el = (event.currentTarget);\n  if (!el) {\n    return;\n  }\n  const previousFocus = document.activeElement;\n  if (previousFocus === el) {\n    // Already focused\n    return;\n  }\n  if (el.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  el.focus();\n  if (document.activeElement !== el) {\n    if (previousFocus && document.activeElement !== previousFocus) {\n      previousFocus.focus();\n    }\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  /** @type {HTMLElement} */\n  const menuItemElement = (event.currentTarget);\n\n  if (event.key === 'Enter') {\n    event.stopPropagation();\n    if (isDisabled(menuItemElement)) {\n      return;\n    }\n    onClick(event);\n    return;\n  }\n\n  if (event.key === 'Spacebar' || (event.key === ' ')) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (isDisabled(menuItemElement)) {\n      return;\n    }\n    const role = menuItemElement.getAttribute('role');\n    if (role === 'menuitemcheckbox') {\n      toggleChecked(menuItemElement);\n    } else if (role === 'menuitemradio') {\n      setChecked(menuItemElement, true);\n    } else {\n      dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n    }\n  }\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isChecked(element) {\n  return (element.getAttribute('aria-checked') === 'true');\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isDisabled(element) {\n  return (element.getAttribute('aria-disabled') === 'true');\n}\n\n/**\n * @param {Element} element\n * @param {boolean} checked\n * @return {boolean} uiChanged\n */\nexport function setChecked(element, checked) {\n  const role = element.getAttribute('role');\n  let isCheckable = false;\n  if (role === 'menuitemcheckbox') {\n    isCheckable = true;\n    if (!dispatchDomEvent(element, checked ? CHECK_EVENT : UNCHECK_EVENT)) {\n      return false;\n    }\n  }\n  if (role === 'menuitemradio') {\n    isCheckable = true;\n    if (checked) {\n      if (!dispatchDomEvent(element, CHECK_EVENT)) {\n        return false;\n      }\n      iterateElementSiblings(element, (sibling) => {\n        if (sibling.getAttribute('role') === 'menuitemradio') {\n          sibling.setAttribute('aria-checked', 'false');\n        }\n      });\n    }\n  }\n  if (!isCheckable) {\n    return false;\n  }\n  element.setAttribute('aria-checked', checked ? 'true' : 'false');\n  return true;\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function toggleChecked(element) {\n  const checked = !isChecked(element);\n  return setChecked(element, checked);\n}\n\n/**\n * @param {Element} element\n * @return {boolean} handled\n */\nexport function openSubMenu(element) {\n  const hasPopup = element.getAttribute('aria-haspopup');\n  if (hasPopup !== 'menu' && hasPopup !== 'true') {\n    return false;\n  }\n\n  // TODO: Open new menu\n  return false;\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('mousemove', onMouseMove);\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-js');\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","import { getPassiveEventListenerOption } from '../../core/dom';\n\n/**\n * @param {Element} textfieldElement\n * @return {void}\n */\nexport function attach(textfieldElement) {\n  /** @type {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} */\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (input) {\n    input.addEventListener('input', onInput, getPassiveEventListenerOption());\n    onInput({ currentTarget: input });\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {void}\n */\nexport function detach(textfieldElement) {\n  textfieldElement.removeAttribute('mdw-value-empty');\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (input) {\n    input.removeEventListener('input', onInput);\n  }\n}\n\n/**\n * @param {Event|{currentTarget}} event\n * @return {void}\n */\nexport function onInput(event) {\n  const inputElement = event.currentTarget;\n  if (inputElement.parentElement.hasAttribute('mdw-autosize')) {\n    updateTextAreaSize(inputElement);\n  }\n  updateInputEmptyState(inputElement);\n}\n\n/**\n * @param {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} inputElement\n * @return {void} */\nexport function updateInputEmptyState(inputElement) {\n  const attributeName = 'mdw-value-empty';\n  const textfieldElement = inputElement.parentElement;\n  if (inputElement.value) {\n    if (textfieldElement.hasAttribute(attributeName)) {\n      textfieldElement.removeAttribute(attributeName);\n    }\n  } else if (!textfieldElement.hasAttribute(attributeName)) {\n    textfieldElement.setAttribute('mdw-value-empty', '');\n  }\n}\n\n/**\n * @param {HTMLTextAreaElement} inputElement\n * @return {number} Single row height */\nexport function updateTextAreaSize(inputElement) {\n  const previousRowsValue = inputElement.getAttribute('rows');\n  inputElement.setAttribute('rows', '1');\n  const { height, paddingTop } = window.getComputedStyle(inputElement);\n  if (!height || height === 'auto') {\n    inputElement.setAttribute('rows', previousRowsValue);\n    return -1;\n  }\n  const heightPx = parseInt(height.replace('px', ''), 10);\n  const paddingTopPx = parseInt(paddingTop.replace('px', ''), 10);\n  inputElement.setAttribute('rows', Math.floor((inputElement.scrollHeight - paddingTopPx) / heightPx).toString());\n  return heightPx;\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {string|Date|number}\n */\nexport function getValue(textfieldElement) {\n  /** @type {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} */\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if ((input instanceof HTMLTextAreaElement) || (input instanceof HTMLSelectElement)) {\n    return input.value;\n  }\n  const type = input.hasAttribute('type') && input.getAttribute('type').toLowerCase();\n  switch (type) {\n    case 'number':\n    case 'range':\n      return Number.isNaN(input.valueAsNumber) ? null : input.valueAsNumber;\n    case 'date':\n    case 'datetime-local':\n    case 'time':\n      if (input.value == null) {\n        return null;\n      }\n      return new Date(\n        (new Date(input.valueAsNumber).getTimezoneOffset() * 60 * 1000) + input.valueAsNumber\n      );\n    default:\n      return input.value;\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @param {(string|Date|number)=} value\n * @return {void}\n */\nexport function setValue(textfieldElement, value) {\n  /** @type {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} */\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (value == null) {\n    input.value = null;\n  } else if (input instanceof HTMLTextAreaElement || input instanceof HTMLSelectElement) {\n    if (value instanceof Date) {\n      input.value = value.toString();\n    } else if (typeof value === 'string') {\n      input.value = value;\n    } else {\n      input.value = value.toString(10);\n    }\n  } else if (value instanceof Date) {\n    const type = input.hasAttribute('type') && input.getAttribute('type').toLowerCase();\n    if (type === 'time') {\n      const hoursStr = `${value.getHours() < 10 ? '0' : ''}${value.getHours()}`;\n      const minutesStr = `${value.getMinutes() < 10 ? '0' : ''}${value.getMinutes()}`;\n      const secondsStr = `${value.getSeconds() < 10 ? '0' : ''}${value.getSeconds()}`;\n      input.value = `${hoursStr}:${minutesStr}:${secondsStr}.${value.getMilliseconds()}`;\n    } else {\n      switch (type) {\n        case 'date':\n          input.valueAsDate = value;\n          break;\n        case 'datetime-local':\n          input.valueAsNumber = value.getTime() - (value.getTimezoneOffset() * 60 * 1000);\n          break;\n        case 'number':\n        case 'range':\n          input.valueAsNumber = value.getTime();\n          break;\n        default:\n          input.value = value.toString();\n      }\n    }\n  } else if (typeof value === 'string') {\n    input.value = value;\n  } else {\n    const type = input.hasAttribute('type') && input.getAttribute('type').toLowerCase();\n    switch (type) {\n      case 'date':\n      case 'time':\n      case 'datetime-local':\n      case 'number':\n      case 'range':\n        input.valueAsNumber = value;\n        break;\n      default:\n        input.value = value.toString();\n    }\n  }\n  updateInputEmptyState(input);\n  if (input instanceof HTMLTextAreaElement && textfieldElement.hasAttribute('mdw-autosize')) {\n    updateTextAreaSize(input);\n  }\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#tab\n\nimport { setSelected } from './attributes';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('role', 'tab');\n  element.setAttribute('mdw-aria-tab-js', '');\n  element.addEventListener('click', onClick);\n  element.addEventListener('keydown', onKeyDown);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-aria-tab-js');\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nfunction onClick(event) {\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (element.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  setSelected(element, 'true');\n}\n\n/**\n * Remap Space and Enter as Click\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (!element) {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  element.dispatchEvent(newEvent);\n}\n"],"sourceRoot":""}