{"version":3,"sources":["webpack:///../core/aria/button.js","webpack:///../components/button/index.js","webpack:///./_sample-utils.js","webpack:///../components/dialog/index.js","webpack:///../components/menu/index.js","webpack:///../core/aria/attributes.js","webpack:///../components/menu/item.js","webpack:///../components/textfield/index.js","webpack:///../core/aria/tab.js"],"names":["onKeyDown","event","key","buttonElement","currentTarget","getAttribute","stopPropagation","preventDefault","newEvent","document","createEvent","initEvent","dispatchEvent","attach","element","classList","add","Ripple","Overlay","attachCore","setAttribute","HTMLButtonElement","hasAttribute","HTMLInputElement","addEventListener","AriaButton","detachCore","removeEventListener","removeAttribute","detach","__webpack_require__","d","__webpack_exports__","button_attach","button_detach","convertElementToCode","changeElementTagName","_core_dom__WEBPACK_IMPORTED_MODULE_0__","pug","arguments","length","undefined","linePrefix","htmlType","tagName","toLowerCase","attributes","classes","iterateArrayLike","c","push","attr","name","value","concat","sort","syntaxItems","join","openingHTMLLine","filter","item","trim","closingHTMLLine","lines","innerLines","onlyText","childNodes","child","lineText","HTMLElement","nodeValue","forEach","line","tagname","newElement","createElement","i","setNamedItem","cloneNode","firstChild","appendChild","parentElement","replaceChild","DialogStack","previousFocus","state","previousState","_classCallCheck","this","OPEN_DIALOGS","CANCEL_EVENT","CONFIRM_EVENT","CUSTOM_EVENT","DISMISS_EVENT","dialogCloser","getChildElementByClass","className","insertBefore","onCancelClick","popup","buttons","querySelectorAll","foundConfirmButton","foundCancelButton","button","Button","onCustomButtonClick","onConfirmClick","dialogElement","popupElement","getElementsByClassName","setupARIA","style","removeProperty","HTMLAnchorElement","cancelElement","dispatchDomEvent","hide","findElementParentByClassName","cancel","onEscapeKeyDown","focusableElements","foundTarget","candidate","iterateSomeOfArrayLike","el","target","shiftKey","focus","e","handleTabKeyPress","onPopState","lastOpenDialog","Object","keys","every","title","getTitleText","window","history","pushState","titleElement","textContent","bodyElement","stackIndex","some","stack","index","activeElement","splice","hash","back","show","changed","pageX","pageY","dialogRect","getBoundingClientRect","pageXOffset","pageYOffset","rect","width","left","top","height","transformOriginX","offsetLeft","transformOriginY","offsetTop","setProperty","updateTransformOrigin","newState","Math","random","toString","substr","replaceState","dialogStack","focusElement","querySelector","Element","callerOverlayTouch","console","error","updateButtonText","texts","setTextNode","updateBody","content","body","insertAdjacentElement","DocumentFragment","lastChild","removeChild","create","options","updateTitle","buttonArea","buttonText","custom","autofocus","stacked","parent","MenuStack","originalEvent","pendingResizeOperation","OPEN_MENUS","HIDE_EVENT","menuElement","onMenuClick","onMenuScroll","type","scrollTop","scrollHeight","scrollLeft","scrollWidth","onWindowResize","lastOpenMenu","cancelTick","nextTick","updateMenuPosition","selectNextMenuItem","MenuItem","menu","backwards","menuItems","firstFocusableItem","lastFocusableElement","focusable","alignTarget","transformOrigin","useAlignTarget","margin","mdwPosition","mdwDirection","alignTop","indexOf","alignBottom","alignVCenter","alignStart","alignEnd","alignLeft","alignRight","alignHCenter","openUp","openDown","openNormal","openReverse","openVCenter","openHCenter","openLtr","openRtl","isPageRTL","isRtl","offsetY","offsetBottom","clientHeight","offsetX","offsetRight","clientWidth","popupElementHeight","popupElementWidth","canOpenDownwardsFromBottom","innerHeight","canOpenDownwardsFromTop","canOpenUpwardsFromTop","canOpenUpwardsFromBottom","canOpenRightwardsFromLeft","innerWidth","canOpenRightwardsFromRight","canOpenLeftwardsFromRight","canOpenLeftwardsFromLeft","canOpenFromCenter","candidates","map","candidateNumber","number","menuStack","menuItem","refreshMenuItems","pointerType","detail","SELECTED_CHANGED_EVENT","setSelected","_dom__WEBPACK_IMPORTED_MODULE_0__","originalAttr","ACTIVATE_EVENT","CHECK_EVENT","UNCHECK_EVENT","_core_overlay_index__WEBPACK_IMPORTED_MODULE_0__","_core_ripple_index__WEBPACK_IMPORTED_MODULE_1__","_core_dom__WEBPACK_IMPORTED_MODULE_2__","onMouseMove","onClick","role","useAriaChecked","menuItemElement","isDisabled","toggleChecked","setChecked","checked","isCheckable","iterateElementSiblings","sibling","isChecked","setValue","textfieldElement","input","onInput","getPassiveEventListenerOption","inputElement","updateTextAreaSize","updateInputEmptyState","previousRowsValue","_window$getComputedSt","getComputedStyle","paddingTop","heightPx","parseInt","replace","paddingTopPx","floor","HTMLTextAreaElement","HTMLSelectElement","Date","hoursStr","getHours","minutesStr","getMinutes","secondsStr","getSeconds","getMilliseconds","valueAsDate","valueAsNumber","getTime","getTimezoneOffset","_attributes__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"default.common.min.js","sourcesContent":["// https://www.w3.org/TR/wai-aria-practices/#button\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('role', 'button');\n  if (element instanceof HTMLButtonElement === false\n      && !element.hasAttribute('tabindex')) {\n    element.setAttribute('tabindex', '0');\n  }\n  element.setAttribute('mdw-aria-button-js', '');\n  if (element instanceof HTMLButtonElement === false\n    && element instanceof HTMLInputElement === false) {\n    element.addEventListener('keydown', onKeyDown);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-aria-button-js');\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const buttonElement = (event.currentTarget);\n  if (!buttonElement) {\n    return;\n  }\n  if (buttonElement.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  buttonElement.dispatchEvent(newEvent);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#button\n\nimport * as Ripple from '../../core/ripple/index';\nimport * as Overlay from '../../core/overlay/index';\nimport * as AriaButton from '../../core/aria/button';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  Ripple.attach(element);\n  element.classList.add('mdw-ripple');\n  Overlay.attach(element);\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  AriaButton.attach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  AriaButton.detach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","import { iterateArrayLike } from '../core/dom';\n\n\n/**\n * @param {Element|HTMLElement} element\n * @param {boolean} [pug=false]\n * @param {string} [linePrefix='']\n * @return {string}\n */\nfunction convertElementToCode(element, pug = false, linePrefix = '') {\n  const htmlType = element.tagName.toLowerCase();\n  /** @type {string[]} */\n  const attributes = [];\n  /** @type {string[]} */\n  const classes = [];\n  iterateArrayLike(element.classList, (c) => {\n    classes.push(c);\n  });\n  iterateArrayLike(element.attributes, (attr) => {\n    if (attr.name === 'class') {\n      return;\n    }\n    if (attr.value.length) {\n      attributes.push(`${attr.name}=\"${attr.value}\"`);\n    } else {\n      attributes.push(attr.name);\n    }\n  });\n  attributes.sort();\n  const syntaxItems = [\n    htmlType,\n    classes.length ? `class=\"${classes.join(' ')}\"` : '',\n    attributes.join(' '),\n  ];\n  const openingHTMLLine = pug\n    ? `${htmlType === 'div' && classes.length ? '' : htmlType}${classes.length ? `.${classes.join('.')}` : ''}${attributes.length ? `(${attributes.join(' ')})` : ''}`\n    : `<${syntaxItems.filter(item => item).join(' ').trim()}>`;\n  const closingHTMLLine = pug ? '' : `</${htmlType}>`;\n  const lines = [openingHTMLLine];\n  const innerLines = [];\n  let onlyText = true;\n  iterateArrayLike(element.childNodes, (child) => {\n    let lineText;\n    if (child instanceof HTMLElement) {\n      lineText = convertElementToCode(child, pug, `  ${linePrefix}`);\n      if (lineText.trim()) {\n        onlyText = false;\n      }\n    } else if (child.nodeValue) {\n      if (pug) {\n        lineText = `  ${child.nodeValue}`;\n      }\n    }\n    if (lineText && lineText.trim()) {\n      innerLines.push(lineText);\n    }\n  });\n  if (onlyText) {\n    if (pug) {\n      return `${linePrefix + lines.join('')} ${innerLines.join('').trim()}`;\n    }\n    return linePrefix + lines.join('') + innerLines.join('').trim() + closingHTMLLine;\n  }\n  innerLines.forEach(line => lines.push(line));\n  lines.push(linePrefix + closingHTMLLine);\n  return linePrefix + lines.filter(line => line.trim()).join('\\n');\n}\n\n/**\n * @param {Element} element\n * @param {string} tagname\n * @return {Element}\n */\nfunction changeElementTagName(element, tagname) {\n  const newElement = document.createElement(tagname);\n  for (let i = element.attributes.length - 1; i >= 0; i -= 1) {\n    const attr = element.attributes.item(i);\n    newElement.attributes.setNamedItem(attr.cloneNode());\n  }\n  while (element.firstChild) {\n    newElement.appendChild(element.firstChild);\n  }\n\n  element.parentElement.replaceChild(newElement, element);\n  return newElement;\n}\n\nexport {\n  convertElementToCode,\n  changeElementTagName,\n};\n","// https://www.w3.org/TR/wai-aria-practices/#dialog_modal\n\nimport {\n  dispatchDomEvent,\n  iterateArrayLike,\n  iterateSomeOfArrayLike,\n  findElementParentByClassName,\n  getChildElementByClass,\n  setTextNode,\n} from '../../core/dom';\n\nimport * as Button from '../button/index';\n\nclass DialogStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   * @param {Object=} state\n   * @param {Object=} previousState\n   */\n  constructor(element, previousFocus, state, previousState) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n  }\n}\n\n/** @type {DialogStack[]} */\nconst OPEN_DIALOGS = [];\n\nexport const CANCEL_EVENT = 'mdw:dialog-cancel';\n\nexport const CONFIRM_EVENT = 'mdw:dialog-confirm';\n\nexport const CUSTOM_EVENT = 'mdw:dialog-custom';\n\nexport const DISMISS_EVENT = 'mdw:dialog-dismiss';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-js', '');\n\n  let dialogCloser = getChildElementByClass(element, 'mdw-dialog__close');\n  if (!dialogCloser) {\n    dialogCloser = document.createElement('div');\n    dialogCloser.className = 'mdw-dialog__close';\n    if (element.firstChild) {\n      element.insertBefore(dialogCloser, element.firstChild);\n    } else {\n      element.appendChild(dialogCloser);\n    }\n  }\n  dialogCloser.addEventListener('click', onCancelClick);\n  const popup = getChildElementByClass(element, 'mdw-dialog__popup');\n  popup.addEventListener('keydown', onKeyDown);\n  const buttons = popup.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  let foundConfirmButton = false;\n  let foundCancelButton = false;\n  iterateArrayLike(buttons, (button) => {\n    Button.attach(button);\n    if (button.hasAttribute('mdw-custom')) {\n      button.addEventListener('click', onCustomButtonClick);\n      return;\n    }\n    if (!foundConfirmButton) {\n      button.addEventListener('click', onConfirmClick);\n      foundConfirmButton = true;\n      return;\n    }\n    if (!foundCancelButton) {\n      button.addEventListener('click', onCancelClick);\n      foundCancelButton = true;\n      return;\n    }\n    button.addEventListener('click', onCustomButtonClick);\n  });\n  setupARIA(element);\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function setupARIA(dialogElement) {\n  if (dialogElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  dialogElement.setAttribute('role', 'dialog');\n  dialogElement.setAttribute('aria-modal', 'true');\n  if (!dialogElement.hasAttribute('aria-hidden')) {\n    dialogElement.setAttribute('aria-hidden', 'true');\n  }\n  const popupElement = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n  if (!popupElement) {\n    return;\n  }\n\n  if (!popupElement.hasAttribute('aria-label') && !popupElement.hasAttribute('aria-labelledby')) {\n    const titleElement = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n    if (titleElement) {\n      // titleElement\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function detach(dialogElement) {\n  dialogElement.removeAttribute('mdw-js');\n  const dialogCloser = getChildElementByClass(dialogElement, 'mdw-dialog__close');\n  if (dialogCloser) {\n    dialogCloser.removeEventListener('click', onCancelClick);\n  }\n  /** @type {HTMLElement} */\n  const popupElement = (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  if (popupElement) {\n    popupElement.removeEventListener('keydown', onKeyDown);\n    popupElement.style.removeProperty('transform-origin');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  const buttons = popupElement.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  iterateArrayLike(buttons, (button) => {\n    Button.detach(button);\n    button.removeEventListener('click', onConfirmClick);\n    button.removeEventListener('click', onCancelClick);\n    button.removeEventListener('click', onCustomButtonClick);\n  });\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCancelClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  /** @type {HTMLElement} */\n  const cancelElement = (event.currentTarget);\n  if (dispatchDomEvent(cancelElement, CANCEL_EVENT)) {\n    const dialogElement = findElementParentByClassName(cancelElement, 'mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onConfirmClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  /** @type {HTMLElement} */\n  const button = (event.currentTarget);\n  if (dispatchDomEvent(button, CONFIRM_EVENT)) {\n    const dialogElement = findElementParentByClassName(button, 'mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCustomButtonClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  /** @type {HTMLElement} */\n  const button = (event.currentTarget);\n  if (dispatchDomEvent(button, CUSTOM_EVENT)) {\n    const dialogElement = findElementParentByClassName(button, 'mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  if (event.key === 'Tab') {\n    handleTabKeyPress(event);\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    onEscapeKeyDown(event);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onEscapeKeyDown(event) {\n  event.stopPropagation();\n  event.preventDefault();\n  /** @type {HTMLElement} */\n  const popupElement = (event.currentTarget);\n  const dialogElement = findElementParentByClassName(popupElement, 'mdw-dialog');\n  cancel(dialogElement);\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenDialog = OPEN_DIALOGS[OPEN_DIALOGS.length - 1];\n  if (!lastOpenDialog || !lastOpenDialog.previousState) {\n    return;\n  }\n  if ((lastOpenDialog.previousState === event.state) || Object.keys(event.state)\n    .every(key => event.state[key] === lastOpenDialog.previousState[key])) {\n    if (dispatchDomEvent(lastOpenDialog.element, CANCEL_EVENT)) {\n      hide(lastOpenDialog.element);\n    } else {\n      // Revert pop state by pushing state again\n      const title = getTitleText(lastOpenDialog.element);\n      window.history.pushState(lastOpenDialog.state, title);\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function cancel(dialogElement) {\n  if (dispatchDomEvent(dialogElement, CANCEL_EVENT)) {\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function confirm(dialogElement) {\n  if (dispatchDomEvent(dialogElement, CONFIRM_EVENT)) {\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {string}\n */\nexport function getTitleText(dialogElement) {\n  let title = 'Dialog';\n  const titleElement = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n  if (titleElement) {\n    title = titleElement.textContent;\n  } else {\n    const bodyElement = dialogElement.getElementsByClassName('mdw-dialog__body')[0];\n    if (bodyElement) {\n      title = bodyElement.textContent;\n    }\n  }\n  return title;\n}\n\n/**\n * @param {Element} dialogElement\n * @return {boolean} handled\n */\nexport function hide(dialogElement) {\n  if (dialogElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  if (!dispatchDomEvent(dialogElement, DISMISS_EVENT)) {\n    return false;\n  }\n  dialogElement.setAttribute('aria-hidden', 'true');\n  let stackIndex = -1;\n  OPEN_DIALOGS.some((stack, index) => {\n    if (stack.element === dialogElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const stack = OPEN_DIALOGS[stackIndex];\n    if (stack.previousFocus) {\n      if (findElementParentByClassName(document.activeElement, 'mdw-dialog') === dialogElement) {\n        // Only pop focus back when hiding a dialog with focus within itself.\n        try {\n          stack.previousFocus.focus();\n        } catch (e) {\n          // Failed to focus\n        }\n      }\n    }\n    OPEN_DIALOGS.splice(stackIndex, 1);\n    if (stack.state && window.history && window.history.state) {\n      // IE11 returns a cloned state object, not the original\n      if (stack.state.hash === window.history.state.hash) {\n        window.history.back();\n      }\n    }\n  }\n  if (!OPEN_DIALOGS.length) {\n    window.removeEventListener('popstate', onPopState);\n  }\n  return true;\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(MouseEvent|KeyboardEvent|PointerEvent)=} event\n * @return {boolean} handled\n */\nexport function show(dialogElement, event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  let changed = false;\n\n  updateTransformOrigin(dialogElement, event);\n  if (dialogElement.getAttribute('aria-hidden') !== 'false') {\n    dialogElement.setAttribute('aria-hidden', 'false');\n    changed = true;\n  }\n  if (changed) {\n    attach(dialogElement);\n    const previousFocus = document.activeElement;\n    const newState = { hash: Math.random().toString(36).substr(2, 16) };\n    let previousState = null;\n    if (window.history && window.history.pushState) {\n      if (!window.history.state) {\n        // Create new previous state\n        window.history.replaceState({\n          hash: Math.random().toString(36).substr(2, 16),\n        }, document.title);\n      }\n      previousState = window.history.state;\n      const title = getTitleText(dialogElement);\n      window.history.pushState(newState, title);\n      window.addEventListener('popstate', onPopState);\n    }\n    const dialogStack = new DialogStack(dialogElement, previousFocus, newState, previousState);\n    OPEN_DIALOGS.push(dialogStack);\n    const focusElement = dialogElement.querySelector('[mdw-autofocus]');\n    try {\n      if (focusElement) {\n        if (event && event.target instanceof Element) {\n          const callerOverlayTouch = event.target.getAttribute('mdw-overlay-touch');\n          if (callerOverlayTouch != null) {\n            focusElement.setAttribute('mdw-overlay-touch', callerOverlayTouch);\n          }\n        }\n        focusElement.focus();\n      } else {\n        dialogElement.focus();\n      }\n    } catch (e) {\n      console.error(e);\n      // Failed to focus\n    }\n  }\n  return changed;\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function handleTabKeyPress(event) {\n  /** @type {Element} */\n  const popupElement = (event.currentTarget);\n  const focusableElements = popupElement.querySelectorAll([\n    'button:not(:disabled):not([tabindex=\"-1\"])',\n    '[href]:not(:disabled):not([tabindex=\"-1\"])',\n    'input:not(:disabled):not([tabindex=\"-1\"])',\n    'select:not(:disabled):not([tabindex=\"-1\"])',\n    'textarea:not(:disabled):not([tabindex=\"-1\"])',\n    '[tabindex]:not([tabindex=\"-1\"])'].join(', '));\n  let foundTarget = false;\n  let candidate = null;\n  iterateSomeOfArrayLike(focusableElements, (el) => {\n    if (el === event.target) {\n      foundTarget = true;\n      if (event.shiftKey) {\n        return true;\n      }\n    } else if (event.shiftKey) {\n      candidate = el;\n    } else if (foundTarget) {\n      candidate = el;\n      return true;\n    }\n    return false;\n  });\n  if (!candidate) {\n    if (event.shiftKey) {\n      // Select last item\n      candidate = focusableElements[focusableElements.length - 1];\n    } else {\n      // Select first item\n      candidate = focusableElements[0];\n    }\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  if (candidate) {\n    try {\n      candidate.focus();\n    } catch (e) {\n      // Failed to focus\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(DocumentFragment|string)=} content\n * @return {void}\n */\nexport function updateTitle(dialogElement, content) {\n  let title = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n  if (!content) {\n    if (!title) {\n      // Nothing to be done\n      return;\n    }\n    title.parentElement.removeChild(title);\n    return;\n  }\n  if (!title) {\n    title = document.createElement('div');\n    title.className = 'mdw-dialog__title';\n    const popup = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n    popup.insertBefore(title, popup.firstChild);\n  }\n  if (content instanceof DocumentFragment) {\n    while (title.lastChild) {\n      title.removeChild(title.lastChild);\n    }\n    title.appendChild(content);\n  } else {\n    title.textContent = content;\n  }\n}\n\n\n/**\n * @param {Element} dialogElement\n * @param {string[]} texts\n * @return {void}\n */\nexport function updateButtonText(dialogElement, texts) {\n  const buttons = dialogElement.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  iterateArrayLike(buttons, (button, index) => {\n    setTextNode(button, texts[index]);\n  });\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(DocumentFragment|string)=} content\n * @return {void}\n */\nexport function updateBody(dialogElement, content) {\n  let body = dialogElement.getElementsByClassName('mdw-dialog__body')[0];\n  if (!content) {\n    if (!body) {\n      // Nothing to be done\n      return;\n    }\n    body.parentElement.removeChild(body);\n    return;\n  }\n  if (!body) {\n    body = document.createElement('div');\n    body.className = 'mdw-dialog__body mdw-theme';\n    body.setAttribute('mdw-ink', 'medium');\n    const title = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n    if (title) {\n      title.insertAdjacentElement('afterend', body);\n    } else {\n      const popup = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n      popup.insertBefore(body, popup.firstChild);\n    }\n  }\n  if (content instanceof DocumentFragment) {\n    while (body.lastChild) {\n      body.removeChild(body.lastChild);\n    }\n    body.appendChild(content);\n  } else {\n    body.textContent = content;\n  }\n}\n\n/**\n * @param {Object} options\n * @param {(DocumentFragment|string)=} options.title\n * @param {(DocumentFragment|string)=} options.body\n * @param {string[]=} options.buttons\n * @param {boolean=} options.stacked\n * @param {Element=} options.parent\n * @param {boolean} [options.custom=false] Use custom button events\n * @param {(string|number)=} [options.autofocus=0] Autofocus button by index or text\n * @return {Element}\n */\nexport function create(options) {\n  const element = document.createElement('div');\n  element.className = 'mdw-dialog';\n\n  const popup = document.createElement('div');\n  popup.className = 'mdw-dialog__popup mdw-theme';\n  popup.setAttribute('mdw-surface', 'card');\n  element.appendChild(popup);\n\n  updateTitle(element, options.title);\n  updateBody(element, options.body);\n\n  if (options.buttons) {\n    const buttonArea = document.createElement('div');\n    buttonArea.className = 'mdw-dialog__button-area';\n    let index = 0;\n    options.buttons.forEach((buttonText) => {\n      const button = document.createElement('div');\n      button.className = 'mdw-button mdw-theme';\n      button.setAttribute('tabindex', '0');\n      button.setAttribute('mdw-ink', 'accent');\n      if (options.custom) {\n        button.setAttribute('mdw-custom', '');\n      }\n      button.textContent = buttonText;\n      buttonArea.appendChild(button);\n      if ((options.autofocus == null && index === 0)\n        || options.autofocus === index || options.autofocus === buttonText) {\n        button.setAttribute('mdw-autofocus', '');\n      }\n      index += 1;\n    });\n    if (options.stacked) {\n      buttonArea.setAttribute('mdw-stacked', '');\n    }\n    popup.appendChild(buttonArea);\n  }\n  if (options.parent) {\n    options.parent.appendChild(element);\n  }\n  attach(element);\n  return element;\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(MouseEvent|KeyboardEvent|PointerEvent)=} event\n * @return {void}\n */\nexport function updateTransformOrigin(dialogElement, event) {\n  /** @type {HTMLElement} */\n  const popup = (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  popup.style.removeProperty('transform-origin');\n  if (!event) {\n    return;\n  }\n  let pageX;\n  let pageY;\n  const dialogRect = dialogElement.getBoundingClientRect();\n  if ('pageX' in event && 'pageY' in event) {\n    ({ pageX, pageY } = event);\n    pageX -= window.pageXOffset;\n    pageY -= window.pageYOffset;\n  } else {\n    /** @type {Element} */\n    const target = (event.currentTarget || event.target);\n    const rect = target.getBoundingClientRect();\n    if (!rect.width && !rect.width && !rect.left && !rect.top) {\n      return;\n    }\n    pageX = rect.left + (rect.width / 2);\n    pageY = rect.top + (rect.height / 2);\n  }\n  const transformOriginX = pageX - dialogRect.left - popup.offsetLeft;\n  const transformOriginY = pageY - dialogRect.top - popup.offsetTop;\n  popup.style.setProperty('transform-origin', `${transformOriginX}px ${transformOriginY}px`);\n}\n\n// Aliases\nexport const dismiss = hide;\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport {\n  dispatchDomEvent,\n  isRtl,\n  iterateArrayLike,\n  iterateSomeOfArrayLike,\n  nextTick,\n  cancelTick,\n} from '../../core/dom';\n\nimport * as MenuItem from './item';\n\nclass MenuStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   * @param {Object=} state\n   * @param {Object=} previousState\n   * @param {MouseEvent=} originalEvent\n   */\n  constructor(element, previousFocus, state, previousState, originalEvent) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n    this.originalEvent = originalEvent;\n    this.pendingResizeOperation = null;\n  }\n}\n\n/** @type {MenuStack[]} */\nconst OPEN_MENUS = [];\n\nexport const HIDE_EVENT = 'mdw:menu-hide';\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function attach(menuElement) {\n  menuElement.setAttribute('mdw-menu-js', '');\n  menuElement.addEventListener('click', onMenuClick);\n  menuElement.addEventListener('scroll', onMenuScroll);\n  menuElement.addEventListener('touchmove', onMenuScroll);\n  menuElement.addEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  setupARIA(menuElement);\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function setupARIA(menuElement) {\n  if (menuElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  if (!menuElement.hasAttribute('aria-hidden')) {\n    menuElement.setAttribute('aria-hidden', 'true');\n  }\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-divider'),\n    el => el.setAttribute('role', 'separator'));\n  menuElement.setAttribute('role', 'menu');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.setAttribute('role', 'none');\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onMenuScroll(event) {\n  // JS needed for Safari\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.type !== 'scroll') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (element.scrollTop !== element.scrollHeight / 4) {\n    element.scrollTop = element.scrollHeight / 4;\n  }\n  if (element.scrollLeft !== element.scrollWidth / 4) {\n    element.scrollLeft = element.scrollWidth / 4;\n  }\n}\n\nexport function onMenuClick(event) {\n  if (event.currentTarget === event.target) {\n    event.stopPropagation();\n    hide(event.currentTarget);\n  }\n}\n\n/**\n * @return {void}\n */\nexport function onWindowResize() {\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.originalEvent) {\n    return;\n  }\n  if (lastOpenMenu.pendingResizeOperation) {\n    cancelTick(lastOpenMenu.pendingResizeOperation);\n  }\n  lastOpenMenu.pendingResizeOperation = nextTick(() => {\n    updateMenuPosition(\n      lastOpenMenu.element,\n      lastOpenMenu.element.getElementsByClassName('mdw-menu__popup')[0],\n      lastOpenMenu.originalEvent\n    );\n    lastOpenMenu.pendingResizeOperation = null;\n  });\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.previousState) {\n    return;\n  }\n  if ((lastOpenMenu.previousState === event.state) || Object.keys(event.state)\n    .every(key => event.state[key] === lastOpenMenu.previousState[key])) {\n    hide(lastOpenMenu.element);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  /** @type {HTMLElement} */\n  const menuElement = (event.currentTarget);\n  if (!menuElement || menuElement.getAttribute('aria-hidden') === 'true') {\n    return;\n  }\n\n  if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, false);\n    return;\n  }\n  if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, true);\n    return;\n  }\n  if (event.key === 'Tab') {\n    // Hide menu allowing focus to revert to calling element\n    // To then allow browser default Tab interaction\n    // Unless menu hiding is cancelled\n    if (!hide(menuElement)) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    event.stopPropagation();\n    event.preventDefault();\n    hide(menuElement);\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function detach(menuElement) {\n  hide(menuElement);\n  menuElement.removeEventListener('click', onMenuClick);\n  menuElement.removeEventListener('scroll', onMenuScroll);\n  menuElement.removeEventListener('touchmove', onMenuScroll);\n  menuElement.removeEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  menuElement.removeAttribute('mdw-menu-js');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__item'), MenuItem.detach);\n}\n\n/**\n * @param {Element} menu\n * @param {boolean} [backwards=false]\n * @return {void}\n */\nexport function selectNextMenuItem(menu, backwards) {\n  const menuItems = menu.getElementsByClassName('mdw-menu__item');\n  let foundTarget = false;\n  let candidate = null;\n  let firstFocusableItem = null;\n  let lastFocusableElement = null;\n  const target = document.activeElement;\n\n  // Hidden elements cannot be focused\n  // Disabled elements cannot be focused on IE11\n  // Skip elements that fail to receive focus\n  iterateSomeOfArrayLike(menuItems, (el) => {\n    el.focus();\n    const focusable = (document.activeElement === el);\n    if (focusable) {\n      if (!firstFocusableItem) {\n        firstFocusableItem = el;\n      }\n      lastFocusableElement = el;\n    }\n    if (el === target) {\n      foundTarget = true;\n      if (backwards && candidate) {\n        return true;\n      }\n      return false;\n    }\n    if (backwards) {\n      if (focusable) {\n        candidate = el;\n      }\n      return false;\n    }\n    if (foundTarget) {\n      if (focusable) {\n        candidate = el;\n        return true;\n      }\n      return false;\n    }\n    return false;\n  });\n  if (!candidate) {\n    if (backwards) {\n      candidate = lastFocusableElement;\n    } else {\n      candidate = firstFocusableItem;\n    }\n  }\n  if (candidate && document.activeElement !== candidate) {\n    candidate.focus();\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @param {Element} popupElement\n * @param {MouseEvent=} event\n * @param {boolean=} [alignTarget=true]\n * @return {void}\n */\nexport function updateMenuPosition(menuElement, popupElement, event, alignTarget) {\n  let top = 'auto';\n  let left = 'auto';\n  let transformOrigin = '';\n  const useAlignTarget = (alignTarget !== false);\n  const margin = useAlignTarget ? '0' : '';\n  const mdwPosition = menuElement.getAttribute('mdw-position') || '';\n  const mdwDirection = menuElement.getAttribute('mdw-direction') || '';\n  let alignTop = mdwPosition.indexOf('top') !== -1;\n  let alignBottom = mdwPosition.indexOf('bottom') !== -1;\n  let alignVCenter = mdwPosition.indexOf('vcenter') !== -1;\n\n  const alignStart = mdwPosition.indexOf('start') !== -1;\n  const alignEnd = mdwPosition.indexOf('end') !== -1;\n  let alignLeft = mdwPosition.indexOf('left') !== -1;\n  let alignRight = mdwPosition.indexOf('right') !== -1;\n  let alignHCenter = mdwPosition.indexOf('hcenter') !== -1;\n\n  let openUp = mdwDirection.indexOf('up') !== -1;\n  let openDown = mdwDirection.indexOf('down') !== -1;\n  const openNormal = mdwDirection.indexOf('normal') !== -1;\n  const openReverse = mdwDirection.indexOf('reverse') !== -1;\n  let openVCenter = mdwDirection.indexOf('vcenter') !== -1;\n  let openHCenter = mdwDirection.indexOf('hcenter') !== -1;\n  let openLtr = mdwDirection.indexOf('ltr') !== -1;\n  let openRtl = mdwDirection.indexOf('rtl') !== -1;\n\n  /** @type {HTMLElement} */\n  const target = (event.currentTarget || event.target);\n\n  let isPageRTL = null;\n  if (alignStart || alignEnd || openNormal || openReverse) {\n    // Using page-direction based values\n    isPageRTL = isRtl();\n    if (alignStart || alignEnd) {\n      if (alignStart) {\n        if (isPageRTL) {\n          alignRight = true;\n        } else {\n          alignLeft = true;\n        }\n      } else if (isPageRTL) {\n        alignLeft = true;\n      } else {\n        alignRight = true;\n      }\n    }\n    if (openNormal || openReverse) {\n      if (openNormal) {\n        if (isPageRTL) {\n          openRtl = true;\n        } else {\n          openLtr = true;\n        }\n      } else if (isPageRTL) {\n        openLtr = true;\n      } else {\n        openRtl = true;\n      }\n    }\n  }\n  const offsetTop = useAlignTarget ? 0 : -event.offsetY;\n  const offsetBottom = useAlignTarget ? target.clientHeight : event.offsetY;\n  const offsetLeft = useAlignTarget ? 0 : -event.offsetX;\n  const offsetRight = useAlignTarget ? target.clientWidth : event.offsetX;\n  const rect = target.getBoundingClientRect();\n  const pageX = rect.left;\n  const pageY = rect.top;\n\n  /* Automatic Positioning\n    *\n    * 9 Positions\n    *   3      7      4\n    *     ┌─────────┐\n    *     │         │\n    *   5 │    9    │ 6\n    *     │         │\n    *     └─────────┘\n    *   1      8      2\n    *\n    * 1: Bottom Left\n    * 2: Bottom Right\n    * 3: Top Left\n    * 4: Top Right\n    * 5: VCenter Left\n    * 6: VCenter Right\n    * 7: HCenter Top\n    * 8: HCenter Bottom\n    * 9: VCenter HCenter\n    *\n    * 9 Directions:\n    * a - Down LTR\n    * b - Down RTL\n    * c - Up LTR\n    * d - Up RTL\n    * e - LTR\n    * f - RTL\n    * g - Down\n    * h - Up\n    * i - Center\n    *\n    *\n    * 16 total combos\n    * 1a 1b 1c 1d  └↘ └↙ └↗ └↖\n    * 2a 2b 2c 2d  ┘↘ ┘↙ ┘↗ ┘↖\n    * 3a 3b 3c 3d  ┌↘ ┌↙ ┌↗ ┌↖\n    * 4a 4b 4c 4d  ┐↘ ┐↙ ┐↗ ┐↖\n    *\n    * Avoid using opposite angle\n    *\n    * 1a XX 1c 1d  └↘ ██ └↗ └↖\n    * XX 2b 2c 2d  ██ ┘↙ ┘↗ ┘↖\n    * 1a 3b 3c XX  ┌↘ ┌↙ ┌↗ ██\n    * 4a 4b XX 4d  ┐↘ ┐↙ ██ ┐↖\n    *\n    *\n    * Preference Order:\n    * - Flow from corner           1a 2b 3c 4d    └↘ ┘↙ ┌↗ ┐↖\n    * - Open adjacent to target    4a 3b 2c 1d    ┐↘ ┌↙ ┘↗ └↖\n    * - Overlay target             3a 4b 1c 2d    ┌↘ ┐↙ └↗ ┘↖\n    * - Open from horizontal side  5e 6f          │→ │←\n    * - Open from center           9i             █·\n    */\n\n  popupElement.style.setProperty('max-height', 'none');\n  const popupElementHeight = popupElement.clientHeight;\n  const popupElementWidth = popupElement.clientWidth;\n  const canOpenDownwardsFromBottom = !alignTop && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetBottom) <= window.innerHeight;\n  const canOpenDownwardsFromTop = !alignBottom && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetTop) <= window.innerHeight;\n  const canOpenUpwardsFromTop = !alignBottom && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetTop >= popupElementHeight;\n  const canOpenUpwardsFromBottom = !alignTop && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetBottom >= popupElementHeight;\n  const canOpenRightwardsFromLeft = !alignRight && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetLeft) <= window.innerWidth;\n  const canOpenRightwardsFromRight = !alignLeft && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetRight) <= window.innerWidth;\n  const canOpenLeftwardsFromRight = !alignLeft && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetRight >= popupElementWidth;\n  const canOpenLeftwardsFromLeft = !alignRight && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetLeft >= popupElementWidth;\n  const canOpenFromCenter = !alignLeft && !alignRight && !alignTop && !alignBottom\n    && !openUp && !openDown\n    && ((pageX + offsetLeft) / 2) >= (popupElementWidth / 2)\n    && (popupElementWidth / 2) + ((pageX + offsetLeft) / 2) <= window.innerWidth;\n  popupElement.style.removeProperty('max-height');\n  const candidates = [\n    canOpenDownwardsFromBottom && canOpenRightwardsFromLeft, // 1a └↘\n    canOpenDownwardsFromBottom && canOpenLeftwardsFromRight, // 2b ┘↙\n    canOpenUpwardsFromTop && canOpenRightwardsFromLeft, // 3c ┌↗\n    canOpenUpwardsFromTop && canOpenLeftwardsFromLeft, // 4d ┐↖\n    canOpenDownwardsFromTop && canOpenRightwardsFromRight, // 4a ┐↘\n    canOpenDownwardsFromTop && canOpenLeftwardsFromLeft, // 3b ┌↙\n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2c ┘↗\n    canOpenUpwardsFromBottom && canOpenLeftwardsFromLeft, // 1d └↖\n    canOpenDownwardsFromTop && canOpenRightwardsFromLeft, // 3a ┌↘\n    canOpenDownwardsFromTop && canOpenLeftwardsFromRight, // 4b ┐↙\n    canOpenUpwardsFromBottom && canOpenRightwardsFromLeft, // 1c └↗\n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2d ┘↖\n    canOpenRightwardsFromLeft, // 5e │→\n    canOpenLeftwardsFromRight, // 6f │←\n    canOpenFromCenter, // 9i █·\n  ].map((value, index) => {\n    if (value) {\n      return index + 1;\n    }\n    return 0;\n  }).filter(value => value !== 0);\n  if (candidates.length) {\n    let candidateNumber;\n    if (isPageRTL === null) {\n      isPageRTL = isRtl();\n    }\n    if (isPageRTL) {\n      candidateNumber = [2, 1, 4, 3, 6, 5, 8, 7, 10, 9, 12, 11, 14, 13, 15]\n        .filter(number => candidates.indexOf(number) !== -1)[0];\n    } else {\n      candidateNumber = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n        .filter(number => candidates.indexOf(number) !== -1)[0];\n    }\n    if (candidateNumber == null) {\n      candidateNumber = isPageRTL ? 2 : 1;\n    }\n    switch (candidateNumber) {\n      // Position\n      default:\n      case 1:\n      case 8:\n      case 11:\n        alignBottom = true; alignLeft = true;\n        break;\n      case 2:\n      case 7:\n      case 12:\n        alignBottom = true; alignRight = true;\n        break;\n      case 3:\n      case 6:\n      case 9:\n        alignTop = true; alignLeft = true;\n        break;\n      case 4:\n      case 5:\n      case 10:\n        alignTop = true; alignRight = true;\n        break;\n      case 13:\n        alignVCenter = true; alignLeft = true;\n        break;\n      case 14:\n        alignVCenter = true; alignRight = true;\n        break;\n      case 15:\n        alignVCenter = true; alignHCenter = true;\n    }\n    switch (candidateNumber) {\n      // Direction\n      default:\n      case 1:\n      case 5:\n      case 9:\n        openDown = true; openLtr = true;\n        break;\n      case 2:\n      case 6:\n      case 10:\n        openDown = true; openRtl = true;\n        break;\n      case 3:\n      case 7:\n      case 11:\n        openUp = true; openLtr = true;\n        break;\n      case 4:\n      case 8:\n      case 12:\n        openUp = true; openRtl = true;\n        break;\n      case 13:\n        openLtr = true; openVCenter = true;\n        break;\n      case 14:\n        openRtl = true; openVCenter = true;\n        break;\n      case 15:\n        openHCenter = true; openVCenter = true;\n        break;\n    }\n  }\n\n  if (openLtr) {\n    if (alignRight) {\n      left = `${pageX + offsetRight}px`;\n    } else if (alignHCenter) {\n      left = `${pageX + ((offsetLeft + offsetRight) / 2)}px`;\n    } else {\n      left = `${pageX + offsetLeft}px`;\n    }\n    transformOrigin = 'left';\n  } else if (openHCenter) {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - (popupElementWidth / 2)}px`;\n    } else if (alignRight) {\n      left = `${(pageX + offsetRight) - (popupElementWidth / 2)}px`;\n    } else {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - (popupElementWidth / 2)}px`;\n    }\n    transformOrigin = 'center';\n  } else {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - popupElementWidth}px`;\n    } else if (alignHCenter) {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - popupElementWidth}px`;\n    } else {\n      left = `${(pageX + offsetRight) - popupElementWidth}px`;\n    }\n    transformOrigin = 'right';\n  }\n\n  if (openUp) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - popupElement.clientHeight}px`;\n    } else if (alignVCenter) {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - popupElement.clientHeight}px`;\n    } else {\n      top = `${(pageY + offsetTop) - popupElement.clientHeight}px`;\n    }\n    transformOrigin += ' bottom';\n  } else if (openVCenter) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - (popupElement.clientHeight / 2)}px`;\n    } else if (alignTop) {\n      top = `${(pageY + offsetTop) - (popupElement.clientHeight / 2)}px`;\n    } else {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - (popupElement.clientHeight / 2)}px`;\n    }\n    transformOrigin += ' center';\n  } else {\n    if (alignTop) {\n      top = `${pageY + offsetTop}px`;\n    } else if (alignVCenter) {\n      top = `${pageY + ((offsetTop + offsetBottom) / 2)}px`;\n    } else {\n      top = `${pageY + offsetBottom}px`;\n    }\n    transformOrigin += ' top';\n  }\n\n  popupElement.style.setProperty('top', top);\n  popupElement.style.setProperty('left', left);\n  popupElement.style.setProperty('right', 'auto');\n  popupElement.style.setProperty('bottom', 'auto');\n  popupElement.style.setProperty('margin', margin);\n  popupElement.style.setProperty('transform-origin', transformOrigin);\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function refreshMenuItems(menuElement) {\n  iterateArrayLike(menuElement.getElementsByClassName('mdw-menu__item'), (menuItem) => {\n    menuItem.setAttribute('tabindex', '-1');\n    MenuItem.attach(menuItem);\n  });\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  popupElement.setAttribute('tabindex', '-1');\n}\n\n/**\n * @param {Element} menuElement\n * @param {MouseEvent=} event\n * @param {boolean=} [alignTarget=true]\n * @return {boolean} handled\n */\nexport function show(menuElement, event, alignTarget) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  let changed = false;\n  if (event) {\n    updateMenuPosition(menuElement, popupElement, event, alignTarget);\n  } else {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  if (menuElement.getAttribute('aria-hidden') !== 'false') {\n    menuElement.setAttribute('aria-hidden', 'false');\n    changed = true;\n  }\n  if (changed) {\n    attach(menuElement);\n    const previousFocus = document.activeElement;\n    const newState = { hash: Math.random().toString(36).substr(2, 16) };\n    let previousState = null;\n    if (window.history && window.history.pushState) {\n      if (!window.history.state) {\n        // Create new previous state\n        window.history.replaceState({\n          hash: Math.random().toString(36).substr(2, 16),\n        }, document.title);\n      }\n      previousState = window.history.state;\n      window.history.pushState(newState, document.title);\n      window.addEventListener('popstate', onPopState);\n      window.addEventListener('resize', onWindowResize);\n    }\n    const menuStack = new MenuStack(menuElement, previousFocus, newState, previousState, event);\n    OPEN_MENUS.push(menuStack);\n    refreshMenuItems(menuElement);\n    if (event && !event.pointerType && !event.detail) {\n      // Triggered with keyboard event\n      selectNextMenuItem(menuElement);\n    } else {\n      popupElement.focus();\n    }\n  }\n  return changed;\n}\n\n/**\n * @param {Element} menuElement\n * @return {boolean} handled\n */\nexport function hide(menuElement) {\n  if (menuElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  menuElement.setAttribute('aria-hidden', 'true');\n  let stackIndex = -1;\n  OPEN_MENUS.some((stack, index) => {\n    if (stack.element === menuElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const menuStack = OPEN_MENUS[stackIndex];\n    if (menuStack.previousFocus) {\n      menuStack.previousFocus.focus();\n    }\n    OPEN_MENUS.splice(stackIndex, 1);\n    if (menuStack.state && window.history && window.history.state) {\n      // IE11 returns a cloned state object, not the original\n      if (menuStack.state.hash === window.history.state.hash) {\n        window.history.back();\n      }\n    }\n  }\n  if (!OPEN_MENUS.length) {\n    window.removeEventListener('popstate', onPopState);\n    window.removeEventListener('resize', onWindowResize);\n  }\n  dispatchDomEvent(menuElement, HIDE_EVENT);\n  return true;\n}\n","import { dispatchDomEvent } from '../dom';\n\nexport const SELECTED_CHANGED_EVENT = 'mdw:aria-selectedchanged';\n\n/**\n * @param {Element} element\n * @param {'false'|'true'} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} changed\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  const originalAttr = element.getAttribute('aria-selected');\n  if (value === 'true') {\n    if (originalAttr === 'true') {\n      return false;\n    }\n    element.setAttribute('aria-selected', 'true');\n  } else {\n    if (originalAttr === 'false') {\n      return false;\n    }\n    if (!originalAttr || originalAttr !== 'false') {\n      element.setAttribute('aria-selected', 'false');\n      return false;\n    }\n    element.setAttribute('aria-selected', 'false');\n  }\n  if (!dispatchEvent) {\n    return true;\n  }\n  if (!dispatchDomEvent(element, SELECTED_CHANGED_EVENT)) {\n    // Revert\n    if (originalAttr == null) {\n      element.removeAttribute('aria-selected');\n    } else {\n      element.setAttribute('aria-selected', originalAttr);\n    }\n    return false;\n  }\n  return true;\n}\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport * as Overlay from '../../core/overlay/index';\nimport * as Ripple from '../../core/ripple/index';\n\nimport {\n  dispatchDomEvent,\n  iterateArrayLike,\n  iterateElementSiblings,\n} from '../../core/dom';\n\nexport const ACTIVATE_EVENT = 'mdw:menuitem-activate';\nexport const CHECK_EVENT = 'mdw:menuitem-check';\nexport const UNCHECK_EVENT = 'mdw:menuitem-uncheck';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  Overlay.attach(element);\n\n  element.classList.add('mdw-ripple');\n  Ripple.attach(element);\n\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  // If mouseover is used, an item can still lose focus via keyboard navigation.\n  // An extra event listener would need to be created to catch blur but the cursor\n  // would still remain over the element, thus needing another mousemove event.\n  // Prioritization is given to less event listeners rather than operations per second.\n  element.addEventListener('mousemove', onMouseMove);\n  element.addEventListener('click', onClick);\n  element.addEventListener('keydown', onKeyDown);\n  setupARIA(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function setupARIA(element) {\n  if (element.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  const role = element.getAttribute('role');\n  let useAriaChecked = false;\n  if (role === 'menuitemcheckbox' || role === 'menuitemradio') {\n    useAriaChecked = true;\n  } else if (role !== 'menuitem') {\n    if (element.getElementsByClassName('mdw-menu__check').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemcheckbox');\n    } else if (element.getElementsByClassName('mdw-menu__radio').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemradio');\n    } else {\n      element.setAttribute('role', 'menuitem');\n    }\n  }\n  if (useAriaChecked && !element.hasAttribute('aria-checked')) {\n    element.setAttribute('aria-checked', 'false');\n  }\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__icon'),\n    el => el.setAttribute('aria-hidden', 'true'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__text'),\n    el => el.setAttribute('role', 'text'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__check'),\n    el => el.setAttribute('aria-hidden', 'true'));\n  iterateArrayLike(element.getElementsByClassName('mdw-menu__info'),\n    el => el.setAttribute('role', 'note'));\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent|PointerEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  event.stopPropagation();\n\n  /** @type {HTMLElement} */\n  const menuItemElement = (event.currentTarget);\n  if (isDisabled(menuItemElement)) {\n    return;\n  }\n  const role = menuItemElement.getAttribute('role');\n  if (role === 'menuitemcheckbox') {\n    toggleChecked(menuItemElement);\n  } else if (role === 'menuitemradio') {\n    setChecked(menuItemElement, true);\n  }\n  dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onMouseMove(event) {\n  /** @type {HTMLElement} */\n  const el = (event.currentTarget);\n  if (!el) {\n    return;\n  }\n  const previousFocus = document.activeElement;\n  if (previousFocus === el) {\n    // Already focused\n    return;\n  }\n  if (el.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  el.focus();\n  if (document.activeElement !== el) {\n    if (previousFocus && document.activeElement !== previousFocus) {\n      previousFocus.focus();\n    }\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  /** @type {HTMLElement} */\n  const menuItemElement = (event.currentTarget);\n\n  if (event.key === 'Enter') {\n    event.stopPropagation();\n    if (isDisabled(menuItemElement)) {\n      return;\n    }\n    onClick(event);\n    return;\n  }\n\n  if (event.key === 'Spacebar' || (event.key === ' ')) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (isDisabled(menuItemElement)) {\n      return;\n    }\n    const role = menuItemElement.getAttribute('role');\n    if (role === 'menuitemcheckbox') {\n      toggleChecked(menuItemElement);\n    } else if (role === 'menuitemradio') {\n      setChecked(menuItemElement, true);\n    } else {\n      dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n    }\n  }\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isChecked(element) {\n  return (element.getAttribute('aria-checked') === 'true');\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isDisabled(element) {\n  return (element.getAttribute('aria-disabled') === 'true');\n}\n\n/**\n * @param {Element} element\n * @param {boolean} checked\n * @return {boolean} uiChanged\n */\nexport function setChecked(element, checked) {\n  const role = element.getAttribute('role');\n  let isCheckable = false;\n  if (role === 'menuitemcheckbox') {\n    isCheckable = true;\n    if (!dispatchDomEvent(element, checked ? CHECK_EVENT : UNCHECK_EVENT)) {\n      return false;\n    }\n  }\n  if (role === 'menuitemradio') {\n    isCheckable = true;\n    if (checked) {\n      if (!dispatchDomEvent(element, CHECK_EVENT)) {\n        return false;\n      }\n      iterateElementSiblings(element, (sibling) => {\n        if (sibling.getAttribute('role') === 'menuitemradio') {\n          sibling.setAttribute('aria-checked', 'false');\n        }\n      });\n    }\n  }\n  if (!isCheckable) {\n    return false;\n  }\n  element.setAttribute('aria-checked', checked ? 'true' : 'false');\n  return true;\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function toggleChecked(element) {\n  const checked = !isChecked(element);\n  return setChecked(element, checked);\n}\n\n/**\n * @param {Element} element\n * @return {boolean} handled\n */\nexport function openSubMenu(element) {\n  const hasPopup = element.getAttribute('aria-haspopup');\n  if (hasPopup !== 'menu' && hasPopup !== 'true') {\n    return false;\n  }\n\n  // TODO: Open new menu\n  return false;\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('mousemove', onMouseMove);\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-js');\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","import { getPassiveEventListenerOption } from '../../core/dom';\n\n/**\n * @param {Element} textfieldElement\n * @return {void}\n */\nexport function attach(textfieldElement) {\n  /** @type {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} */\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (input) {\n    input.addEventListener('input', onInput, getPassiveEventListenerOption());\n    onInput({ currentTarget: input });\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {void}\n */\nexport function detach(textfieldElement) {\n  textfieldElement.removeAttribute('mdw-value-empty');\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (input) {\n    input.removeEventListener('input', onInput);\n  }\n}\n\n/**\n * @param {Event|{currentTarget}} event\n * @return {void}\n */\nexport function onInput(event) {\n  const inputElement = event.currentTarget;\n  if (inputElement.parentElement.hasAttribute('mdw-autosize')) {\n    updateTextAreaSize(inputElement);\n  }\n  updateInputEmptyState(inputElement);\n}\n\n/**\n * @param {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} inputElement\n * @return {void} */\nexport function updateInputEmptyState(inputElement) {\n  const attributeName = 'mdw-value-empty';\n  const textfieldElement = inputElement.parentElement;\n  if (inputElement.value) {\n    if (textfieldElement.hasAttribute(attributeName)) {\n      textfieldElement.removeAttribute(attributeName);\n    }\n  } else if (!textfieldElement.hasAttribute(attributeName)) {\n    textfieldElement.setAttribute('mdw-value-empty', '');\n  }\n}\n\n/**\n * @param {HTMLTextAreaElement} inputElement\n * @return {number} Single row height */\nexport function updateTextAreaSize(inputElement) {\n  const previousRowsValue = inputElement.getAttribute('rows');\n  inputElement.setAttribute('rows', '1');\n  const { height, paddingTop } = window.getComputedStyle(inputElement);\n  if (!height || height === 'auto') {\n    inputElement.setAttribute('rows', previousRowsValue);\n    return -1;\n  }\n  const heightPx = parseInt(height.replace('px', ''), 10);\n  const paddingTopPx = parseInt(paddingTop.replace('px', ''), 10);\n  inputElement.setAttribute('rows', Math.floor((inputElement.scrollHeight - paddingTopPx) / heightPx).toString());\n  return heightPx;\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {string|Date|number}\n */\nexport function getValue(textfieldElement) {\n  /** @type {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} */\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if ((input instanceof HTMLTextAreaElement) || (input instanceof HTMLSelectElement)) {\n    return input.value;\n  }\n  const type = input.hasAttribute('type') && input.getAttribute('type').toLowerCase();\n  switch (type) {\n    case 'number':\n    case 'range':\n      return Number.isNaN(input.valueAsNumber) ? null : input.valueAsNumber;\n    case 'date':\n    case 'datetime-local':\n    case 'time':\n      if (input.value == null) {\n        return null;\n      }\n      return new Date(\n        (new Date(input.valueAsNumber).getTimezoneOffset() * 60 * 1000) + input.valueAsNumber\n      );\n    default:\n      return input.value;\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @param {(string|Date|number)=} value\n * @return {void}\n */\nexport function setValue(textfieldElement, value) {\n  /** @type {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} */\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (value == null) {\n    input.value = null;\n  } else if (input instanceof HTMLTextAreaElement || input instanceof HTMLSelectElement) {\n    if (value instanceof Date) {\n      input.value = value.toString();\n    } else if (typeof value === 'string') {\n      input.value = value;\n    } else {\n      input.value = value.toString(10);\n    }\n  } else if (value instanceof Date) {\n    const type = input.hasAttribute('type') && input.getAttribute('type').toLowerCase();\n    if (type === 'time') {\n      const hoursStr = `${value.getHours() < 10 ? '0' : ''}${value.getHours()}`;\n      const minutesStr = `${value.getMinutes() < 10 ? '0' : ''}${value.getMinutes()}`;\n      const secondsStr = `${value.getSeconds() < 10 ? '0' : ''}${value.getSeconds()}`;\n      input.value = `${hoursStr}:${minutesStr}:${secondsStr}.${value.getMilliseconds()}`;\n    } else {\n      switch (type) {\n        case 'date':\n          input.valueAsDate = value;\n          break;\n        case 'datetime-local':\n          input.valueAsNumber = value.getTime() - (value.getTimezoneOffset() * 60 * 1000);\n          break;\n        case 'number':\n        case 'range':\n          input.valueAsNumber = value.getTime();\n          break;\n        default:\n          input.value = value.toString();\n      }\n    }\n  } else if (typeof value === 'string') {\n    input.value = value;\n  } else {\n    const type = input.hasAttribute('type') && input.getAttribute('type').toLowerCase();\n    switch (type) {\n      case 'date':\n      case 'time':\n      case 'datetime-local':\n      case 'number':\n      case 'range':\n        input.valueAsNumber = value;\n        break;\n      default:\n        input.value = value.toString();\n    }\n  }\n  updateInputEmptyState(input);\n  if (input instanceof HTMLTextAreaElement && textfieldElement.hasAttribute('mdw-autosize')) {\n    updateTextAreaSize(input);\n  }\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#tab\n\nimport { setSelected } from './attributes';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('role', 'tab');\n  element.setAttribute('mdw-aria-tab-js', '');\n  element.addEventListener('click', onClick);\n  element.addEventListener('keydown', onKeyDown);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-aria-tab-js');\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nfunction onClick(event) {\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (element.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  setSelected(element, 'true');\n}\n\n/**\n * Remap Space and Enter as Click\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  /** @type {HTMLElement} */\n  const element = (event.currentTarget);\n  if (!element) {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  element.dispatchEvent(newEvent);\n}\n"],"sourceRoot":""}