{"version":3,"sources":["webpack:///webpack/bootstrap 4be5b3c0864fd8a9766d","webpack:///./docs/src/cookies.js","webpack:///./docs/src/menuoptions.js","webpack:///./components/table/index.js","webpack:///./components/common/dom.js","webpack:///./components/ripple/index.js","webpack:///./components/button/index.js","webpack:///./docs/src/components/table.js","webpack:///./adapters/datatable/index.js","webpack:///./components/menu/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getItem","sKey","decodeURIComponent","document","cookie","replace","RegExp","encodeURIComponent","setItem","sValue","vEnd","sPath","sDomain","bSecure","test","sExpires","Date","toUTCString","Infinity","removeItem","this","hasItem","keys","aKeys","split","nLen","length","nIdx","cookies","darkAttribute","lightAttribute","setRTLMode","value","button","documentElement","setAttribute","removeAttribute","setDarkMode","setFontSize","style","setProperty","removeProperty","setupMenuOptions","element","buttons","getElementById","getElementsByClassName","buttonRTLMode","buttonDarkMode","largeFontMode","addEventListener","getAttribute","setupDarkMode","getPropertyValue","setupLargeFontMode","_dom","Table","hasAttribute","table","getTable","useCellSelection","useRowSelection","onTableKeyDown","tbody","getTableBody","firstRow","foundTabbableRow","firstCell","foundTabbableCell","rows","row","item","j","cells","cell","onCellFocus","onCellBlur","onRowFocus","onRowBlur","event","currentTarget","currentSelection","activeElement","cellIndex","isRow","HTMLTableCellElement","parentElement","HTMLTableRowElement","key","ctrlKey","sectionRowIndex","stopPropagation","preventDefault","newRow","focus","newRowIndex","newCellIndex","newIndex","isRtlEnabled","isRtl","isLeft","isRight","blurrer","relatedTarget","isTableRow","isTableCell","blurrerTable","HTMLTableElement","cellTable","removeEventListener","tableElement","getElementsByTagName","createElement","footer","insertBefore","appendChild","findTableRow","thead","headerRow","getChildElementByClass","className","child","findElementParentByClassName","includeSelf","el","classList","contains","toLowerCase","Ripple","ripple","add","firstChild","rippleInner","onClick","pointerType","detail","offsetX","offsetY","removeChild","_index","Button","attach","HTMLButtonElement","HTMLInputElement","onKeyDown","detach","buttonElement","newEvent","createEvent","initEvent","dispatchEvent","_index2","_index3","_menuoptions","_index4","dynamicTableAdapter","components","querySelectorAll","Menu","initializeMdwComponents","DataTableAdapter","addColumn","type","rowSelector","primaryColumn","sortable","tooltip","datasource","count","push","text","Math","random","toString","substring","text2","check1","increment","floor","setDatasource","setUseLazyRendering","setPagination","refresh","filterButton","optionsButton","menus","filterMenu","optionsMenu","show","filterMenuItems","noFilterMenuItem","mdFilterMenuItem","randomDivBy9MenuItem","checkedFilterMenuItem","setMenuChecked","menuItems","checkedIndex","menuItem","setFilter","hide","data","indexOf","throttleMenuItem","paginateMenuItem","disabled","buildDynamicTable","TableColumn","options","_classCallCheck","innerHTML","fragment","dataset","sortIcon","customSortIcon","textContent","hasChildNodes","wrapper","target","node","createTextNode","checkboxLabel","input","icon","constructTableCheckbox","renderer","defaultCheckboxRenderer","defaultCellRenderer","formatter","defaultValueFormatter","checked","stringValue","foundTextNode","childNodes","nodeType","Node","TEXT_NODE","nodeValue","_this","handleClickInteraction","columns","page","pageLimit","debounceTimeMs","throttleTimeMs","useLazyRendering","_this2","throttleTimeout","debounceTimeout","pending","throttle","performLazyRender","setTimeout","scrollListener","clearTimeout","currentCell","getTableCell","tagName","setCheckOnAllRows","setHasSelection","currentRow","getTableRow","hasDatasource","getDataForTableRow","onValueChangedRequested","onValueChanged","selectedRows","getSelectedRows","ascending","updateSortIcons","updateSortColumn","tableHeaderCell","index","tableColumn","sort","a","b","valueA","valueB","parseFloat","localeCompare","reverse","querySelector","deleteRow","aCell","bCell","aText","bText","createDocumentFragment","forEach","sortedTableHeaderCell","tableHeaders","otherTableHeader","columnIndex","column","len","selectorColumn","find","getDatasource","filter","checkboxes","checkedRows","checkbox","horizontal","horizontalDatasource","buildScrollListener","destroyScrollListener","getHeaderRow","min","total","max","paginationDetailsElement","previousPageButton","nextPageButton","_this3","arguments","undefined","getFooter","display","needsDraw","optionsElement","rowsPerPageText","limits","limitsElement","select","limit","option","dropdownIcon","parseInt","updateRowCount","updatePaginator","refreshRows","paginationControls","create","scrollingElement","rowRect","getBoundingClientRect","scrollingRect","rowTop","top","rowBottom","height","viewportBottom","visibleRows","getVisibleRows","firstRowIndex","lastRowIndex","lastChild","foundFirstVisibleRow","isRowVisible","_this4","refreshRow","clearNonvisibleRows","refreshFilter","filteredDatasource","_this5","rowLength","rowsToDisplay","offset","rowDifference","newRows","datasourceIndex","minIndex","rowIndex","refreshCell","missingColumn","missingCell","insertCell","formattedValue","search","rowLen","MenuItem","onMouseMove","previousFocus","OPEN_MENUS","menuElement","menuCloser","onMenuCloserClick","closer","menu","HTMLAnchorElement","lastOpenMenu","selectNextMenuItem","click","popupElement","backwards","foundTarget","candidate","firstFocusableItem","lastFocusableElement","focusable","alignTarget","left","transformOrigin","useAlignTarget","margin","mdwPosition","alignTop","alignBottom","alignLeft","alignRight","alignEnd","alignStart","offsetTop","offsetBottom","clientHeight","pageX","pageY","rect","x","y","window","innerHeight","offsetLeft","offsetRight","clientWidth","innerWidth","changed","updateMenuPosition","history","pushState","menuOpenTime","now","onPopState","menuStack","MenuStack","historyState","state","refreshMenuItems","stackIndex","some","stack","splice","back"],"mappings":"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","file":"table.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4be5b3c0864fd8a9766d","/**\n *\n *  :: cookies.js ::\n *\n *  A complete cookies reader/writer framework with full unicode support.\n *\n *  Revision #3 - July 13th, 2017\n *\n *  https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n *  https://developer.mozilla.org/User:fusionchess\n *  https://github.com/madmurphy/cookies.js\n *\n *  This framework is released under the GNU Public License, version 3 or later.\n *  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n *\n *  Syntaxes:\n *\n *  * docCookies.setItem(name, value[, end[, path[, domain[, secure]]]])\n *  * docCookies.getItem(name)\n *  * docCookies.removeItem(name[, path[, domain]])\n *  * docCookies.hasItem(name)\n *  * docCookies.keys()\n *\n */\n\n/**\n * @param {string} sKey\n * @return {string}\n */\nfunction getItem(sKey) {\n  if (!sKey) {\n    return null;\n  }\n  return decodeURIComponent(document.cookie.replace(new RegExp(`(?:(?:^|.*;)\\\\s*${encodeURIComponent(sKey).replace(/[-.+*]/g, '\\\\$&')}\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$`), '$1')) || null;\n}\n\n/**\n * @param {string} sKey\n * @param {string} sValue\n * @param {string|number|Date} vEnd\n * @param {string=} sPath\n * @param {string=} sDomain\n * @param {string=} bSecure\n * @return {boolean}\n */\nfunction setItem(sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n  if (!sKey || /^(?:expires|max-age|path|domain|secure)$/i.test(sKey)) {\n    return false;\n  }\n  let sExpires = '';\n  if (vEnd) {\n    if (typeof vEnd === 'string') {\n      sExpires = `; expires=${vEnd}`;\n    } else if (vEnd instanceof Date) {\n      sExpires = `; expires=${vEnd.toUTCString()}`;\n    } else {\n      sExpires = vEnd === Infinity ? '; expires=Fri, 31 Dec 9999 23:59:59 GMT' : `; max-age=${vEnd}`;\n      /*\n      Note: Despite officially defined in RFC 6265, the use of `max-age` is not compatible with any\n      version of Internet Explorer, Edge and some mobile browsers. Therefore passing a number to\n      the end parameter might not work as expected. A possible solution might be to convert the the\n      relative time to an absolute time. For instance, replacing the previous line with:\n      */\n      /*\n      sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \";\n      expires=\" + (new Date(vEnd * 1e3 + Date.now())).toUTCString();\n      */\n    }\n  }\n  document.cookie = `${encodeURIComponent(sKey)}=${encodeURIComponent(sValue)}${sExpires}${sDomain ? `; domain=${sDomain}` : ''}${sPath ? `; path=${sPath}` : ''}${bSecure ? '; secure' : ''}`;\n  return true;\n}\n\n/**\n * @param {string} sKey\n * @param {string=} sPath\n * @param {string=} sDomain\n * @return {boolean}\n */\nfunction removeItem(sKey, sPath, sDomain) {\n  if (!this.hasItem(sKey)) {\n    return false;\n  }\n  document.cookie = `${encodeURIComponent(sKey)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT${sDomain ? `; domain=${sDomain}` : ''}${sPath ? `; path=${sPath}` : ''}`;\n  return true;\n}\n\n/**\n * @param {string} sKey\n * @return {boolean}\n */\nfunction hasItem(sKey) {\n  if (!sKey || /^(?:expires|max-age|path|domain|secure)$/i.test(sKey)) {\n    return false;\n  }\n  return (new RegExp(`(?:^|;\\\\s*)${encodeURIComponent(sKey).replace(/[-.+*]/g, '\\\\$&')}\\\\s*\\\\=`)).test(document.cookie);\n}\n\n/** @return {string[]} */\nfunction keys() {\n  const aKeys = document.cookie.replace(/((?:^|\\s*;)[^=]+)(?=;|$)|^\\s*|\\s*(?:=[^;]*)?(?:\\1|$)/g, '').split(/\\s*(?:=[^;]*)?;\\s*/);\n  for (let nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx += 1) {\n    aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]);\n  }\n  return aKeys;\n}\n\nexport {\n  getItem,\n  setItem,\n  removeItem,\n  hasItem,\n  keys,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/cookies.js","\nimport * as cookies from './cookies';\n\nconst darkAttribute = 'black dark';\nconst lightAttribute = 'white light';\n\n/**\n * @param {boolean} value\n * @param {Element=} button\n * @return {void}\n */\nfunction setRTLMode(value, button) {\n  if (value) {\n    document.documentElement.setAttribute('dir', 'rtl');\n    if (button) {\n      button.removeAttribute('mdw-inactive');\n    }\n    // element.setAttribute('mdw-active', '');\n    // Poor visibility even though spec says 70% opacity\n    cookies.setItem('rtlmode', 'true', 365);\n  } else {\n    document.documentElement.removeAttribute('dir');\n    if (button) {\n      button.setAttribute('mdw-inactive', '');\n    }\n    // element.removeAttribute('mdw-active');\n    cookies.removeItem('rtlmode');\n  }\n}\n\n/**\n * @param {boolean} value\n * @param {Element=} button\n * @return {void}\n */\nfunction setDarkMode(value, button) {\n  if (value) {\n    document.documentElement.setAttribute('mdw-theme-fill', darkAttribute);\n    if (button) {\n      button.removeAttribute('mdw-inactive');\n    }\n    // element.setAttribute('mdw-active', '');\n    // Poor visibility even though spec says 70% opacity\n  } else {\n    document.documentElement.setAttribute('mdw-theme-fill', lightAttribute);\n    if (button) {\n      button.setAttribute('mdw-inactive', '');\n    }\n    // element.removeAttribute('mdw-active');\n  }\n  cookies.setItem('darkmode', value ? 'true' : 'false', 365);\n}\n\n/**\n * @param {string} value\n * @param {Element=} button\n * @return {void}\n */\nfunction setFontSize(value, button) {\n  if (value) {\n    document.documentElement.style.setProperty('font-size', value);\n    if (button) {\n      button.removeAttribute('mdw-inactive');\n    }\n    // element.setAttribute('mdw-active', '');\n    // Poor visibility even though spec says 70% opacity\n    cookies.setItem('fontsize', value, 365);\n  } else {\n    document.documentElement.style.removeProperty('font-size');\n    if (button) {\n      button.setAttribute('mdw-inactive', '');\n    }\n    // element.removeAttribute('mdw-active');\n    cookies.removeItem('fontsize');\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nfunction setupRTLMode(element) {\n  if (cookies.getItem('rtlmode') === 'true') {\n    setRTLMode(true, element);\n  }\n  element.addEventListener('click', () => {\n    if (document.documentElement.getAttribute('dir') === 'rtl') {\n      setRTLMode(false, element);\n    } else {\n      setRTLMode(true, element);\n    }\n  });\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nfunction setupDarkMode(element) {\n  if (cookies.getItem('darkmode') === 'true') {\n    setDarkMode(true, element);\n  }\n  element.addEventListener('click', () => {\n    if (document.documentElement.getAttribute('mdw-theme-fill') === darkAttribute) {\n      setDarkMode(false, element);\n    } else {\n      setDarkMode(true, element);\n    }\n  });\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nfunction setupLargeFontMode(element) {\n  const fontsize = cookies.getItem('fontsize');\n  setFontSize(fontsize, element);\n  element.addEventListener('click', () => {\n    if (document.documentElement.style.getPropertyValue('font-size')) {\n      setFontSize(null, element);\n    } else {\n      setFontSize('125%', element);\n    }\n  });\n}\n\n/** @return {void} */\nfunction setupMenuOptions() {\n  const buttons = document.getElementById('docs-menu-buttons').getElementsByClassName('mdw-button');\n  const buttonRTLMode = buttons[0];\n  const buttonDarkMode = buttons[1];\n  const largeFontMode = buttons[2];\n  setupRTLMode(buttonRTLMode);\n  setupDarkMode(buttonDarkMode);\n  setupLargeFontMode(largeFontMode);\n}\n\nexport {\n  setupMenuOptions,\n  setRTLMode,\n  setDarkMode,\n  setFontSize,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/menuoptions.js","import { isRtl } from \"../common/dom\";\n\n// https://www.w3.org/TR/wai-aria-practices/#grid\n\nclass Table {\n  /**\n   * @param {HTMLElement} element\n   * @return {void}\n   */\n  static attach(element) {\n    if (!element.hasAttribute('role')) {\n      element.setAttribute('role', 'grid');\n    }\n    element.setAttribute('mdw-js', '');\n    const table = Table.getTable(element);\n    const useCellSelection = element.hasAttribute('mdw-cell-selection');\n    const useRowSelection = element.hasAttribute('mdw-row-selection');\n    if (!useCellSelection && !useRowSelection) {\n      return;\n    }\n    table.addEventListener('keydown', Table.onTableKeyDown);\n    const tbody = Table.getTableBody(element);\n    let firstRow = null;\n    let foundTabbableRow = false;\n    let firstCell = null;\n    let foundTabbableCell = false;\n    for (let i = 0; i < tbody.rows.length; i += 1) {\n      const row = tbody.rows.item(i);\n      if (useCellSelection) {\n        for (let j = 0; j < row.cells.length; j += 1) {\n          const cell = row.cells.item(j);\n          if (!firstCell) {\n            firstCell = cell;\n          }\n          if (!cell.hasAttribute('tabindex')) {\n            cell.setAttribute('tabindex', '-1');\n          } else {\n            const tabindex = cell.getAttribute('tabindex');\n            if (tabindex === '0') {\n              if (!foundTabbableCell) {\n                foundTabbableCell = true;\n              } else {\n                cell.setAttribute('tabindex', '-1');\n              }\n            }\n          }\n          cell.addEventListener('focus', Table.onCellFocus);\n          cell.addEventListener('blur', Table.onCellBlur);\n        }\n      } else {\n        if (!firstRow) {\n          firstRow = row;\n        }\n        if (!row.hasAttribute('tabindex')) {\n          row.setAttribute('tabindex', '-1');\n        } else {\n          const tabindex = row.getAttribute('tabindex');\n          if (tabindex === '0') {\n            if (!foundTabbableRow) {\n              foundTabbableRow = true;\n            } else {\n              row.setAttribute('tabindex', '-1');\n            }\n          }\n        }\n        row.addEventListener('focus', Table.onRowFocus);\n        row.addEventListener('blur', Table.onRowBlur);\n      }\n    }\n    if (useCellSelection && !foundTabbableCell && firstCell) {\n      firstCell.setAttribute('tabindex', '0');\n    } else if (!foundTabbableRow && firstRow) {\n      firstRow.setAttribute('tabindex', '0');\n    }\n  }\n\n  static onTableKeyDown(event) {\n    const tableElement = event.currentTarget;\n    if (!tableElement) {\n      return;\n    }\n    const currentSelection = document.activeElement;\n    let cellIndex = 0;\n    /** @type {HTMLTableRowElement} */\n    let row = null;\n    let isRow = false;\n    if (currentSelection instanceof HTMLTableCellElement) {\n      cellIndex = currentSelection.cellIndex;\n      row = currentSelection.parentElement;\n    } else if (currentSelection instanceof HTMLTableRowElement) {\n      isRow = true;\n      row = currentSelection;\n    }\n    if (!row) {\n      return;\n    }\n    if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n      if (row.sectionRowIndex === 0) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      /** @type {HTMLTableSectionElement} */\n      const tbody = row.parentElement;\n      const newIndex = row.sectionRowIndex - 1;\n      const newRow = tbody.rows.item(newIndex);\n      if (isRow) {\n        newRow.focus();\n      } else {\n        newRow.cells.item(cellIndex).focus();\n      }\n      return;\n    }\n    if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n      /** @type {HTMLTableSectionElement} */\n      const tbody = row.parentElement;\n      const newIndex = row.sectionRowIndex + 1;\n      if (newIndex >= tbody.rows.length) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      const newRow = tbody.rows.item(newIndex);\n      if (isRow) {\n        newRow.focus();\n      } else {\n        newRow.cells.item(cellIndex).focus();\n      }\n      return;\n    }\n    if (event.ctrlKey && event.key === 'Home') {\n      if (row.sectionRowIndex === 0 && cellIndex === 0) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      /** @type {HTMLTableSectionElement} */\n      const tbody = row.parentElement;\n      const newRow = tbody.rows.item(0);\n      if (isRow) {\n        newRow.focus();\n      } else {\n        newRow.cells.item(0).focus();\n      }\n      return;\n    }\n    if (event.ctrlKey && event.key === 'End') {\n      /** @type {HTMLTableSectionElement} */\n      const tbody = row.parentElement;\n      const newRowIndex = tbody.rows.length - 1;\n      let newCellIndex = 0;\n      if (!isRow) {\n        newCellIndex = row.cells.length - 1;\n      }\n      if (row.sectionRowIndex === newRowIndex && cellIndex === newCellIndex) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      /** @type {HTMLTableSectionElement} */\n      const newRow = tbody.rows.item(newRowIndex);\n      if (isRow) {\n        newRow.focus();\n      } else {\n        newRow.cells.item(newCellIndex).focus();\n      }\n      return;\n    }\n    if (event.key === 'Home') {\n      if (isRow) {\n        return;\n      }\n      if (cellIndex === 0) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      const newIndex = 0;\n      const newCell = row.cells.item(newIndex);\n      newCell.focus();\n      return;\n    }\n    if (event.key === 'End') {\n      if (isRow) {\n        return;\n      }\n      const newIndex = row.cells.length - 1;\n      if (newIndex === cellIndex) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      const newCell = row.cells.item(newIndex);\n      newCell.focus();\n      return;\n    }\n    const isRtlEnabled = isRtl();\n    let isLeft = false;\n    let isRight = false;\n    if (event.key === 'ArrowLeft' || (event.key === 'Left')) {\n      if (isRtlEnabled) {\n        isRight = true;\n      } else {\n        isLeft = true;\n      }\n    }\n    if (event.key === 'ArrowRight' || (event.key === 'Right')) {\n      if (isRtlEnabled) {\n        isLeft = true;\n      } else {\n        isRight = true;\n      }\n    }\n    if (isLeft) {\n      if (isRow) {\n        return;\n      }\n      if (cellIndex === 0) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      const newIndex = cellIndex - 1;\n      const newCell = row.cells.item(newIndex);\n      newCell.focus();\n      return;\n    }\n    if (isRight) {\n      if (isRow) {\n        return;\n      }\n      const newIndex = cellIndex + 1;\n      if (newIndex >= row.cells.length) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      const newCell = row.cells.item(newIndex);\n      newCell.focus();\n      return;\n    }\n  }\n\n  static onRowFocus(event) {\n    const row = event.currentTarget;\n    row.setAttribute('tabindex', '0');\n  }\n\n  static onRowBlur(event) {\n    const row = event.currentTarget;\n    // Only handle if blur is to another table cell\n    const blurrer = event.relatedTarget;\n    if (!blurrer) {\n      return;\n    }\n    const isTableRow = blurrer instanceof HTMLTableRowElement;\n    const isTableCell = blurrer instanceof HTMLTableCellElement;\n    if (!isTableRow && !isTableCell) {\n      return;\n    }\n    let blurrerTable = blurrer;\n    while (blurrerTable != null && blurrerTable instanceof HTMLTableElement === false) {\n      blurrerTable = blurrerTable.parentElement;\n    }\n\n    if (blurrerTable instanceof HTMLTableElement === false) {\n      // Blurrer is not part of a table\n      return;\n    }\n\n    let cellTable = event.currentTarget;\n    while (cellTable != null && cellTable instanceof HTMLTableElement === false) {\n      cellTable = cellTable.parentElement;\n    }\n    if (cellTable instanceof HTMLTableElement === false) {\n      // Current cell is not part of a table\n      return;\n    }\n    if (cellTable !== blurrerTable) {\n      // Table parents do not match\n      return;\n    }\n    row.setAttribute('tabindex', '-1');\n  }\n\n  static onCellFocus(event) {\n    const cell = event.currentTarget;\n    cell.setAttribute('tabindex', '0');\n    const row = cell.parentElement;\n    row.setAttribute('mdw-focused', '');\n  }\n\n  static onCellBlur(event) {\n    const cell = event.currentTarget;\n    const row = cell.parentElement;\n    row.removeAttribute('mdw-focused');\n    // Only handle if blur is to another table cell\n    const blurrer = event.relatedTarget;\n    if (!blurrer) {\n      return;\n    }\n    const isTableRow = blurrer instanceof HTMLTableRowElement;\n    const isTableCell = blurrer instanceof HTMLTableCellElement;\n    if (!isTableRow && !isTableCell) {\n      return;\n    }\n    let blurrerTable = blurrer;\n    while (blurrerTable != null && blurrerTable instanceof HTMLTableElement === false) {\n      blurrerTable = blurrerTable.parentElement;\n    }\n\n    if (blurrerTable instanceof HTMLTableElement === false) {\n      // Blurrer is not part of a table\n      return;\n    }\n\n    let cellTable = event.currentTarget;\n    while (cellTable != null && cellTable instanceof HTMLTableElement === false) {\n      cellTable = cellTable.parentElement;\n    }\n    if (cellTable instanceof HTMLTableElement === false) {\n      // Current cell is not part of a table\n      return;\n    }\n    if (cellTable !== blurrerTable) {\n      // Table parents do not match\n      return;\n    }\n    cell.setAttribute('tabindex', '-1');\n  }\n  static detach(element) {\n    element.removeAttribute('mdw-js');\n    const table = Table.getTable(element);\n    table.removeEventListener('keydown', Table.onTableKeyDown);\n    const tbody = Table.getTableBody(element);\n    for (let i = 0; i < tbody.rows.length; i += 1) {\n      const row = tbody.rows.item(i);\n      row.removeEventListener('focus', Table.onRowFocus);\n      row.removeEventListener('blur', Table.onRowBlur);\n      for (let j = 0; j < row.cells.length; j += 1) {\n        const cell = row.cells.item(i);\n        cell.removeAttribute('tabindex');\n        cell.removeEventListener('focus', Table.onCellFocus);\n        cell.removeEventListener('blur', Table.onCellBlur);\n      }\n    }\n  }\n\n\n  /**\n   * @param {HTMLElement} tableElement\n   * @return {HTMLTableElement}\n   */\n  static getTable(tableElement) {\n    if (tableElement instanceof HTMLTableElement) {\n      return tableElement;\n    }\n    let table = tableElement.getElementsByTagName('table')[0];\n    if (!table) {\n      table = document.createElement('table');\n      const footer = tableElement.getElementsByClassName('mdw-table__footer')[0];\n      if (footer) {\n        tableElement.insertBefore(table, footer);\n      } else {\n        tableElement.appendChild(table);\n      }\n    }\n    return table;\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableRowElement}\n   */\n  static findTableRow(element) {\n    if (element instanceof HTMLTableElement) {\n      return null;\n    }\n    if (element instanceof HTMLTableRowElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return Table.findTableRow(element.parentElement);\n  }\n\n  /**\n   * @param {HTMLElement} tableElement\n   * @return {HTMLTableSectionElement}\n   */\n  static getTableBody(tableElement) {\n    let tbody = tableElement.getElementsByTagName('tbody')[0];\n    if (!tbody) {\n      const table = Table.getTable(tableElement);\n      tbody = document.createElement('tbody');\n      table.appendChild(tbody);\n    }\n    return tbody;\n  }\n\n  /**\n   * @param {HTMLElement} tableElement\n   * @return {HTMLTableRowElement}\n   */\n  static getHeaderRow(tableElement) {\n    let thead = tableElement.getElementsByTagName('thead')[0];\n    if (!thead) {\n      const table = Table.getTable(tableElement);\n      thead = document.createElement('thead');\n      table.appendChild(thead);\n    }\n    let headerRow = thead.getElementsByTagName('tr')[0];\n    if (!headerRow) {\n      headerRow = document.createElement('tr');\n      thead.appendChild(headerRow);\n    }\n    return headerRow;\n  }\n}\n\nexport {\n  Table,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/table/index.js","/**\n * @param {Element} element\n * @param {string} className\n * @return {Element}\n */\nfunction getChildElementByClass(element, className) {\n  const child = element.getElementsByClassName(className)[0];\n  if (child && child.parentElement !== element) {\n    return null;\n  }\n  return child;\n}\n\n/**\n * @param {Element} element\n * @param {string} className\n * @param {boolean=} [includeSelf=true]\n * @return {Element}\n */\nfunction findElementParentByClassName(element, className, includeSelf) {\n  /** @type {Element} */\n  let el;\n  if (includeSelf === false) {\n    el = element.parentElement;\n  } else {\n    el = element;\n  }\n  while (el != null && !el.classList.contains(className)) {\n    el = el.parentElement;\n  }\n  return el;\n}\n\n/** @return {boolean} */\nfunction isRtl() {\n  return document.documentElement.hasAttribute('dir')\n    && document.documentElement.getAttribute('dir').toLowerCase() === 'rtl';\n}\n\nexport {\n  getChildElementByClass,\n  findElementParentByClassName,\n  isRtl,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/common/dom.js","import { getChildElementByClass } from '../common/dom';\n\nclass Ripple {\n  /**\n   * @param {Element} element\n   * @return {void}\n   */\n  static attach(element) {\n    let ripple = getChildElementByClass(element, 'mdw-ripple');\n    if (!ripple) {\n      ripple = document.createElement('div');\n      ripple.classList.add('mdw-ripple');\n      if (element.firstChild) {\n        element.insertBefore(ripple, element.firstChild);\n      } else {\n        element.appendChild(ripple);\n      }\n    }\n\n    let rippleInner = getChildElementByClass(ripple, 'mdw-ripple__inner');\n    if (!rippleInner) {\n      rippleInner = document.createElement('div');\n      rippleInner.classList.add('mdw-ripple__inner');\n      ripple.appendChild(rippleInner);\n    }\n    element.setAttribute('mdw-ripple', '');\n    ripple.addEventListener('click', Ripple.onClick);\n  }\n\n  /**\n   * @param {PointerEvent|MouseEvent} event\n   * @return {void}\n   */\n  static onClick(event) {\n    /** @type {HTMLElement} */\n    const el = event.currentTarget;\n    const rippleInner = getChildElementByClass(el, 'mdw-ripple__inner');\n    if (!rippleInner) {\n      return;\n    }\n    if (!event.pointerType && !event.detail) {\n      // Ripple from center\n      rippleInner.style.removeProperty('left');\n      rippleInner.style.removeProperty('top');\n      return;\n    }\n    rippleInner.style.setProperty('left', `${event.offsetX}px`);\n    rippleInner.style.setProperty('top', `${event.offsetY}px`);\n  }\n\n  static detach(element) {\n    const ripple = getChildElementByClass(element, 'mdw-ripple');\n    if (ripple) {\n      element.removeChild(ripple);\n    }\n    element.removeAttribute('mdw-ripple');\n    element.removeEventListener('click', Ripple.onClick);\n  }\n}\n\nexport {\n  Ripple,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/ripple/index.js","\n// https://www.w3.org/TR/wai-aria-practices/#button\n\nimport { Ripple } from '../ripple/index';\n\nclass Button {\n  /**\n   * @param {Element} element\n   * @return {void}\n   */\n  static attach(element) {\n    element.setAttribute('mdw-js', '');\n    if (!element.hasAttribute('mdw-icon')) {\n      Ripple.attach(element);\n    }\n    if (element instanceof HTMLButtonElement === false\n      && element instanceof HTMLInputElement === false) {\n      element.addEventListener('keydown', Button.onKeyDown);\n    }\n  }\n\n  /**\n   * @param {Element} element\n   * @return {void}\n   */\n  static detach(element) {\n    element.removeEventListener('keydown', Button.onKeyDown);\n    element.removeAttribute('mdw-js');\n    Ripple.detach(element);\n  }\n\n  /**\n   * @param {KeyboardEvent} event\n   * @return {void}\n   */\n  static onKeyDown(event) {\n    if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n      return;\n    }\n    const buttonElement = event.currentTarget;\n    if (!buttonElement) {\n      return;\n    }\n    event.stopPropagation();\n    event.preventDefault();\n    const newEvent = document.createEvent('Event');\n    newEvent.initEvent('click', true, true);\n    buttonElement.dispatchEvent(newEvent);\n  }\n}\n\nexport {\n  Button,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/button/index.js","import { Button } from '../../../components/button/index';\nimport { Table } from '../../../components/table/index';\nimport { Menu } from '../../../components/menu/index';\nimport { setupMenuOptions } from '../menuoptions';\nimport { DataTableAdapter } from '../../../adapters/datatable/index';\n\n/** @return {void} */\nfunction initializeMdwComponents() {\n  let components;\n  components = document.querySelectorAll('.js .mdw-table');\n  for (let i = 0; i < components.length; i += 1) {\n    Table.attach(components.item(i));\n  }\n  components = document.querySelectorAll('.js .mdw-button');\n  for (let i = 0; i < components.length; i += 1) {\n    Button.attach(components.item(i));\n  }\n  components = document.querySelectorAll('.js .mdw-menu');\n  for (let i = 0; i < components.length; i += 1) {\n    Menu.attach(components.item(i));\n  }\n}\n\n\n/** @type {DataTableAdapter} */\nlet dynamicTableAdapter = null;\n/** @return {void} */\nfunction buildDynamicTable() {\n  /** @type {Table} */\n  dynamicTableAdapter = new DataTableAdapter(document.getElementById('dynamic-table'));\n  dynamicTableAdapter.addColumn({\n    key: 'selected',\n    type: 'checkbox',\n    rowSelector: true,\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'text',\n    name: 'Primary Column (full-width)',\n    primaryColumn: true,\n    sortable: true,\n    type: 'text',\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'text2',\n    name: 'Text field',\n    sortable: true,\n    type: 'text',\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'check1',\n    name: 'bool',\n    type: 'checkbox',\n    tooltip: 'Non-selection boolean value',\n    sortable: true,\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'increment',\n    name: 'Increment',\n    type: 'number',\n    sortable: true,\n  });\n  dynamicTableAdapter.addColumn({\n    key: 'random',\n    name: 'Random',\n    sortable: true,\n    type: 'number',\n  });\n  const datasource = [];\n  let count = 1;\n  const addDatasourceObject = () => {\n    datasource.push({\n      text: Math.random().toString(36).substring(2),\n      text2: Math.random().toString(36).substring(2),\n      check1: Math.random() > 0.5,\n      increment: count,\n      random: Math.floor(Math.random() * 99999),\n    });\n    count += 1;\n  };\n  for (let i = 0; i < 256; i += 1) {\n    addDatasourceObject();\n  }\n  dynamicTableAdapter.setDatasource(datasource);\n  dynamicTableAdapter.setUseLazyRendering(true);\n  dynamicTableAdapter.setPagination();\n  dynamicTableAdapter.refresh();\n  const buttons = dynamicTableAdapter.element.querySelectorAll('.mdw-table__header-controls .mdw-button');\n  const filterButton = buttons[0];\n  const optionsButton = buttons[1];\n  const menus = dynamicTableAdapter.element.querySelectorAll('.mdw-table__header-controls .mdw-menu');\n  const filterMenu = menus[0];\n  const optionsMenu = menus[1];\n\n  filterButton.addEventListener('click', (event) => {\n    Menu.show(filterMenu, event);\n  });\n  const filterMenuItems = filterMenu.querySelectorAll('.mdw-menu__item');\n  const noFilterMenuItem = filterMenuItems[0];\n  const mdFilterMenuItem = filterMenuItems[1];\n  const randomDivBy9MenuItem = filterMenuItems[2];\n  const checkedFilterMenuItem = filterMenuItems[3];\n\n  /**\n   * @param {NodeListOf<Element>} menuItems\n   * @param {number} checkedIndex\n   * @return {void}\n   */\n  function setMenuChecked(menuItems, checkedIndex) {\n    for (let i = 0; i < menuItems.length; i += 1) {\n      const menuItem = menuItems.item(i);\n      if (checkedIndex === i) {\n        menuItem.setAttribute('mdw-checked', '');\n      } else {\n        menuItem.removeAttribute('mdw-checked');\n      }\n    }\n  }\n  noFilterMenuItem.addEventListener('click', () => {\n    dynamicTableAdapter.setFilter(null);\n    dynamicTableAdapter.refresh();\n    Menu.hide(filterMenu);\n    setMenuChecked(filterMenuItems, 0);\n    filterButton.setAttribute('mdw-inactive', '');\n    filterButton.removeAttribute('mdw-active');\n  });\n  mdFilterMenuItem.addEventListener('click', () => {\n    dynamicTableAdapter.setFilter(data => data.text.indexOf('md') !== -1 || data.text2.indexOf('md') !== -1);\n    dynamicTableAdapter.refresh();\n    Menu.hide(filterMenu);\n    setMenuChecked(filterMenuItems, 1);\n    filterButton.setAttribute('mdw-active', '');\n    filterButton.removeAttribute('mdw-inactive');\n  });\n  randomDivBy9MenuItem.addEventListener('click', () => {\n    dynamicTableAdapter.setFilter(data => data.random % 9 === 0);\n    dynamicTableAdapter.refresh();\n    Menu.hide(filterMenu);\n    setMenuChecked(filterMenuItems, 2);\n    filterButton.setAttribute('mdw-active', '');\n    filterButton.removeAttribute('mdw-inactive');\n  });\n  checkedFilterMenuItem.addEventListener('click', () => {\n    dynamicTableAdapter.setFilter(data => data.check1);\n    dynamicTableAdapter.refresh();\n    Menu.hide(filterMenu);\n    setMenuChecked(filterMenuItems, 3);\n    filterButton.setAttribute('mdw-active', '');\n    filterButton.removeAttribute('mdw-inactive');\n  });\n\n  const menuItems = optionsMenu.querySelectorAll('.mdw-menu__item');\n  const throttleMenuItem = menuItems[0];\n  const paginateMenuItem = menuItems[1];\n  optionsButton.addEventListener('click', (event) => {\n    Menu.show(optionsMenu, event);\n  });\n  throttleMenuItem.addEventListener('click', () => {\n    if (throttleMenuItem.hasAttribute('mdw-checked')) {\n      dynamicTableAdapter.setUseLazyRendering(false);\n      throttleMenuItem.removeAttribute('mdw-checked');\n    } else {\n      dynamicTableAdapter.setUseLazyRendering(true);\n      throttleMenuItem.setAttribute('mdw-checked', '');\n    }\n    Menu.hide(optionsMenu);\n    dynamicTableAdapter.refresh();\n  });\n  paginateMenuItem.addEventListener('click', () => {\n    if (paginateMenuItem.hasAttribute('mdw-checked')) {\n      dynamicTableAdapter.setPagination({ disabled: true });\n      paginateMenuItem.removeAttribute('mdw-checked');\n    } else {\n      dynamicTableAdapter.setPagination();\n      paginateMenuItem.setAttribute('mdw-checked', '');\n    }\n    Menu.hide(optionsMenu);\n    dynamicTableAdapter.refresh();\n  });\n}\n\ninitializeMdwComponents();\nsetupMenuOptions();\nbuildDynamicTable();\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/components/table.js","import { Button } from '../../components/button/index';\nimport { Table } from '../../components/table/index';\n\n/** @return {HTMLLabelElement} */\nfunction constructTableCheckbox() {\n  const checkboxLabel = document.createElement('label');\n  checkboxLabel.classList.add('mdw-selection');\n  const input = document.createElement('input');\n  input.classList.add('mdw-selection__input');\n  input.setAttribute('type', 'checkbox');\n  const icon = document.createElement('div');\n  icon.classList.add('mdw-selection__icon');\n  checkboxLabel.appendChild(input);\n  checkboxLabel.appendChild(icon);\n  return checkboxLabel;\n}\n\nclass TableColumn {\n  /**\n   * @param {Object} options Text or options\n   * @param {string} options.key\n   * @param {(string|DocumentFragment)=} options.name\n   * @param {string=} options.type\n   * @param {boolean=} options.rowSelector\n   * @param {string=} options.tooltip\n   * @param {boolean=} options.sortable\n   * @param {boolean=} options.primaryColumn\n   * @param {HTMLElement=} options.customSortIcon\n   * @param {string=} options.innerHTML\n   * @param {DocumentFragment=} options.fragment\n   * @param {(function(HTMLTableCellElement, any, any=):void)=} options.renderer\n   * @param {(function(any):any)=} options.formatter\n   */\n  constructor(options) {\n    this.element = document.createElement('th');\n    if (options.innerHTML != null) {\n      this.element.innerHTML = options.innerHTML;\n    } else if (options.fragment) {\n      this.element.appendChild(options.fragment);\n    }\n    this.key = options.key;\n    this.element.dataset.key = options.key;\n\n    if (options.sortable) {\n      this.element.setAttribute('mdw-sortable', '');\n      let sortIcon = options.customSortIcon;\n      if (!sortIcon) {\n        sortIcon = document.createElement('div');\n        sortIcon.classList.add('mdw-table__sort-icon', 'material-icons');\n        sortIcon.textContent = 'arrow_downward';\n      }\n      if (this.element.hasChildNodes()) {\n        this.element.insertBefore(this.element.firstChild, options.customSortIcon);\n      } else {\n        this.element.appendChild(sortIcon);\n      }\n    }\n    if (options.tooltip) {\n      const wrapper = document.createElement('span');\n      wrapper.classList.add('mdw-tooltip__wrapper');\n      const target = document.createElement('span');\n      target.classList.add('mdw-tooltip__target');\n      if (!options.name) {\n        target.textContent = '';\n      } else if (typeof options.name === 'string') {\n        target.textContent = options.name;\n      } else {\n        target.appendChild(options.name);\n      }\n      const tooltip = document.createElement('div');\n      tooltip.classList.add('mdw-tooltip');\n      tooltip.textContent = options.tooltip;\n      wrapper.appendChild(target);\n      wrapper.appendChild(tooltip);\n      this.element.appendChild(wrapper);\n    } else if (options.name) {\n      let node;\n      if (typeof options.name === 'string') {\n        node = document.createTextNode(options.name);\n      } else {\n        node = options.name;\n      }\n      this.element.appendChild(node);\n    }\n\n    this.primaryColumn = options.primaryColumn;\n    if (options.primaryColumn) {\n      this.element.setAttribute('mdw-primary-column', '');\n    }\n\n    this.rowSelector = options.rowSelector;\n\n    if (this.rowSelector) {\n      this.element.setAttribute('mdw-selector', '');\n    }\n    if (options.type) {\n      this.element.dataset.type = options.type;\n      this.type = options.type;\n    }\n    if (this.rowSelector && this.type === 'checkbox') {\n      const checkboxLabel = constructTableCheckbox();\n      this.element.appendChild(checkboxLabel);\n    }\n\n    if (options.renderer) {\n      this.renderer = options.renderer;\n    } else if (options.type === 'checkbox') {\n      this.renderer = TableColumn.defaultCheckboxRenderer;\n    } else {\n      this.renderer = TableColumn.defaultCellRenderer;\n    }\n    if (options.formatter) {\n      this.formatter = options.formatter;\n    } else {\n      this.formatter = TableColumn.defaultValueFormatter;\n    }\n  }\n\n\n  /**\n   * @param {any} value\n   * @param {any} object\n   * @return {void}\n   */\n  static defaultValueFormatter(value, object) {\n    return value;\n  }\n\n  /**\n   * @param {HTMLTableCellElement} cell\n   * @param {any} value\n   * @return {void}\n   */\n  static defaultCheckboxRenderer(cell, value) {\n    let input = cell.getElementsByTagName('input')[0];\n    const checked = !!value;\n    if (!input) {\n      const checkboxLabel = document.createElement('label');\n      checkboxLabel.classList.add('mdw-selection');\n      input = document.createElement('input');\n      input.classList.add('mdw-selection__input');\n      input.setAttribute('type', 'checkbox');\n      input.checked = checked;\n      const icon = document.createElement('div');\n      icon.classList.add('mdw-selection__icon');\n      checkboxLabel.appendChild(input);\n      checkboxLabel.appendChild(icon);\n      cell.appendChild(checkboxLabel);\n    }\n    if (input.checked !== checked) {\n      input.checked = checked;\n    }\n  }\n\n  /**\n   * @param {HTMLTableCellElement} cell\n   * @param {any} value\n   * @return {void}\n   */\n  static defaultCellRenderer(cell, value) {\n    let stringValue;\n    if (value == null) {\n      stringValue = '';\n    } else {\n      stringValue = value.toString();\n    }\n    const len = cell.childNodes.length;\n    let foundTextNode = false;\n    for (let i = len - 1; i >= 0; i -= 1) {\n      const node = cell.childNodes.item(i);\n      if (!foundTextNode && node.nodeType === Node.TEXT_NODE) {\n        if (node.nodeValue !== stringValue) {\n          node.nodeValue = stringValue;\n        }\n        foundTextNode = true;\n      } else {\n        cell.removeChild(node);\n      }\n    }\n    if (!foundTextNode) {\n      const node = document.createTextNode(stringValue);\n      cell.appendChild(node);\n    }\n  }\n}\n\nclass DataTableAdapter {\n  /**\n   * @param {HTMLElement} element\n   */\n  constructor(element) {\n    this.element = element;\n    this.element.addEventListener('click', (event) => {\n      // Use one event listener to reduce overhead and allow dynamic content\n      this.handleClickInteraction(event);\n    });\n    /** @type {TableColumn[]} */\n    this.columns = [];\n    this.page = 0;\n    this.pageLimit = 0;\n    this.debounceTimeMs = 0;\n    this.throttleTimeMs = 100;\n    this.useLazyRendering = false;\n  }\n\n  detach() {\n    this.element = null;\n  }\n\n  buildScrollListener() {\n    let throttleTimeout = null;\n    let debounceTimeout = null;\n    let pending = false;\n\n    /** @return {void} */\n    const throttle = () => {\n      throttleTimeout = null;\n      this.performLazyRender();\n      if (pending) {\n        pending = false;\n        throttleTimeout = setTimeout(throttle, this.throttleTimeMs);\n      }\n    };\n    this.scrollListener = () => {\n      if (debounceTimeout) {\n        clearTimeout(debounceTimeout);\n        debounceTimeout = null;\n      }\n      if (throttleTimeout) {\n        // Will perform in the future\n        pending = true;\n        return;\n      }\n      if (this.debounceTimeMs) {\n        debounceTimeout = setTimeout(() => {\n          throttleTimeout = setTimeout(throttle, this.throttleTimeMs);\n        }, this.debounceTimeMs);\n      } else {\n        throttleTimeout = setTimeout(throttle, this.throttleTimeMs);\n      }\n    };\n    this.element.addEventListener('scroll', this.scrollListener);\n  }\n\n  destroyScrollListener() {\n    if (this.scrollListener) {\n      this.element.removeEventListener('scroll', this.scrollListener);\n      this.scrollListener = null;\n    }\n  }\n\n  /**\n   * Overridable event fired when value change is requested\n   * Return truthy value to cancel updating object\n   * @param {any} object\n   * @param {string} key\n   * @param {any} value\n   * @return {boolean} cancel\n   */\n  onValueChangedRequested(object, key, value) {\n    return false;\n  }\n\n  /**\n   * Overridable event fired when value is changed\n   * @param {any} object\n   * @param {string} key\n   * @param {any} value\n   * @return {void}\n   */\n  onValueChanged(object, key, value) {\n    return;\n  }\n\n  /**\n   * @param {PointerEvent|MouseEvent} event\n   * @return {void}\n   */\n  handleClickInteraction(event) {\n    /** @type {HTMLElement} */\n    const target = event.target;\n    if (target instanceof HTMLInputElement) {\n      if (target.hasAttribute('type') && target.getAttribute('type') === 'checkbox') {\n        event.stopPropagation();\n        const currentCell = this.getTableCell(target);\n        if (currentCell.tagName.toLowerCase() === 'th') {\n          this.setCheckOnAllRows(target.checked, currentCell.cellIndex);\n          this.setHasSelection(target.checked);\n          return;\n        }\n        const currentRow = this.getTableRow(target);\n        if (this.hasDatasource()) {\n          const object = this.getDataForTableRow(currentRow);\n          if (this.onValueChangedRequested(object, currentCell.dataset.key, target.checked)) {\n            event.preventDefault();\n            return;\n          }\n          object[currentCell.dataset.key] = target.checked;\n          this.onValueChanged(object, currentCell.dataset.key, target.checked);\n        }\n        if (currentCell.hasAttribute('mdw-selector')) {\n          if (target.checked) {\n            currentRow.setAttribute('mdw-selected', '');\n            this.setHasSelection(true);\n          } else {\n            currentRow.removeAttribute('mdw-selected');\n            const selectedRows = this.getSelectedRows();\n            this.setHasSelection(selectedRows.length !== 0);\n          }\n        }\n      }\n      return;\n    }\n    const currentCell = this.getTableCell(target);\n    if (currentCell) {\n      if (currentCell.tagName.toLowerCase() === 'th' && currentCell.hasAttribute('mdw-sortable')) {\n        event.stopPropagation();\n        let ascending = true;\n        if (!currentCell.hasAttribute('mdw-sorted')) {\n          ascending = false;\n        } else if (currentCell.getAttribute('mdw-sorted') === 'reverse') {\n          ascending = false;\n        }\n        this.updateSortIcons(currentCell, ascending);\n        if (this.updateSortColumn) {\n          this.updateSortColumn(currentCell, ascending);\n        }\n        return;\n      }\n    }\n  }\n\n  /**\n   * Overrideable sorting method\n   * @param {HTMLTableHeaderCellElement} tableHeaderCell\n   * @param {boolean} [ascending=false]\n   * @return {void}\n   */\n  updateSortColumn(tableHeaderCell, ascending) {\n    if (tableHeaderCell.cellIndex === -1) {\n      // Header not attached to row!\n      return;\n    }\n    if (this.hasDatasource()) {\n      const index = tableHeaderCell.cellIndex;\n      const tableColumn = this.columns[index];\n      this.datasource.sort((a, b) => {\n        const valueA = a[tableColumn.key];\n        const valueB = b[tableColumn.key];\n        if (tableColumn.type === 'number') {\n          return parseFloat(valueB) - parseFloat(valueA);\n        }\n        if (tableColumn.type === 'checkbox') {\n          return (valueB ? 1 : 0) - (valueA ? 1 : 0);\n        }\n        return valueA.localeCompare(valueB);\n      });\n      if (ascending) {\n        this.datasource.reverse();\n      }\n      this.refresh();\n      return;\n    }\n    /** @type {HTMLTableSectionElement} */\n    const tbody = this.element.querySelector('tbody');\n    const rows = [];\n    for (let i = tbody.rows.length - 1; i >= 0; i -= 1) {\n      rows.push(tbody.rows.item(i));\n      tbody.deleteRow(i);\n    }\n    rows.sort((a, b) => {\n      const aCell = a.cells.item(tableHeaderCell.cellIndex);\n      const bCell = b.cells.item(tableHeaderCell.cellIndex);\n      const aText = aCell.textContent;\n      const bText = bCell.textContent;\n      if (aCell.dataset.type === 'number') {\n        return parseFloat(bText) - parseFloat(aText);\n      }\n      return aText.localeCompare(bText);\n    });\n    if (ascending) {\n      rows.reverse();\n    }\n    const fragment = document.createDocumentFragment();\n    rows.forEach((row) => {\n      fragment.appendChild(row);\n    });\n    tbody.appendChild(fragment);\n  }\n\n  /**\n   * @param {HTMLTableHeaderCellElement=} sortedTableHeaderCell null if none\n   * @param {boolean=} [ascending=false]\n   * @return {void}\n   */\n  updateSortIcons(sortedTableHeaderCell, ascending) {\n    if (sortedTableHeaderCell) {\n      if (ascending) {\n        sortedTableHeaderCell.setAttribute('mdw-sorted', 'reverse');\n      } else {\n        sortedTableHeaderCell.setAttribute('mdw-sorted', '');\n      }\n    }\n    const tableHeaders = this.element.querySelectorAll('th');\n    for (let i = 0; i < tableHeaders.length; i += 1) {\n      const otherTableHeader = tableHeaders.item(i);\n      if (otherTableHeader !== sortedTableHeaderCell) {\n        otherTableHeader.removeAttribute('mdw-sorted');\n      }\n    }\n  }\n\n  /** @return {boolean} */\n  hasDatasource() {\n    return (this.datasource != null);\n  }\n\n  /**\n   * @param {boolean} value\n   * @param {number} columnIndex\n   * @return {void}\n   */\n  setCheckOnAllRows(value, columnIndex) {\n    if (this.hasDatasource()) {\n      const column = this.columns[columnIndex];\n      this.datasource.forEach((object) => {\n        object[column.key] = value;\n      });\n      this.refresh();\n      return;\n    }\n    const tbody = this.getTableBody();\n    const len = tbody.rows.length;\n    for (let i = 0; i < len; i += 1) {\n      const row = tbody.rows.item(i);\n      const cell = row.cells.item(columnIndex);\n      const checkbox = cell.getElementsByTagName('input')[0];\n      checkbox.checked = value;\n      if (value) {\n        row.setAttribute('mdw-selected', '');\n      } else {\n        row.removeAttribute('mdw-selected');\n      }\n    }\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableRowElement}\n   */\n  getTableRow(element) {\n    if (element === this.element) {\n      return null;\n    }\n    if (element instanceof HTMLTableRowElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return this.getTableRow(element.parentElement);\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableCellElement}\n   */\n  getTableCell(element) {\n    if (element === this.element) {\n      return null;\n    }\n    if (element instanceof HTMLTableCellElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return this.getTableCell(element.parentElement);\n  }\n\n  /** @return {HTMLTableRowElement[]} */\n  getSelectedRows() {\n    if (this.hasDatasource()) {\n      const selectorColumn = this.columns.find(column => column.rowSelector);\n      if (!selectorColumn) {\n        return [];\n      }\n      return this.getDatasource().filter(row => row[selectorColumn.key]);\n    }\n    const checkboxes = this.element.querySelectorAll('td[mdw-selector] input[type=checkbox]');\n    const checkedRows = [];\n    for (let i = 0; i < checkboxes.length; i += 1) {\n      /** @type {HTMLInputElement} */\n      const checkbox = checkboxes.item(i);\n      if (checkbox.checked) {\n        const row = this.getTableRow(checkbox);\n        if (row) {\n          checkedRows.push(row);\n        }\n      }\n    }\n    return checkedRows;\n  }\n\n  /**\n   * @param {boolean} value\n   * @return {void}\n   */\n  setHasSelection(value) {\n    if (value) {\n      this.element.setAttribute('mdw-has-selection', '');\n      return;\n    }\n    this.element.removeAttribute('mdw-has-selection');\n  }\n\n  /**\n   * @param {Object[]} datasource Object array\n   * @param {boolean=} [horizontal=false]\n   * @return {void}\n   */\n  setDatasource(datasource, horizontal) {\n    this.datasource = datasource;\n    this.horizontalDatasource = !!horizontal;\n  }\n\n  /**\n   * Toggle lazy rending for datasources\n   * @param {boolean} value\n   * @return {void}\n   */\n  setUseLazyRendering(value) {\n    if (!this.hasDatasource()) {\n      return;\n    }\n    this.useLazyRendering = value;\n    if (value) {\n      this.buildScrollListener();\n    } else {\n      this.destroyScrollListener();\n    }\n  }\n\n  /**\n   * @param {Object} options Text or options\n   * @param {string} options.key\n   * @param {(string|DocumentFragment)=} options.name\n   * @param {boolean=} options.rowSelector\n   * @param {string=} options.type\n   * @param {boolean=} options.checkbox\n   * @param {string=} options.tooltip\n   * @param {boolean=} options.sortable\n   * @param {boolean=} options.primaryColumn\n   * @param {HTMLElement=} options.customSortIcon\n   * @param {string=} options.innerHTML\n   * @param {DocumentFragment=} options.fragment\n   * @param {(function(HTMLTableCellElement, any, any=):void)=} options.renderer\n   * @param {(function(any):any)=} options.formatter\n   * @return {TableColumn}\n   */\n  addColumn(options) {\n    const tableColumn = new TableColumn(options);\n    const headerRow = this.getHeaderRow();\n    headerRow.appendChild(tableColumn.element);\n    this.columns.push(tableColumn);\n    return tableColumn;\n  }\n\n  updatePaginator() {\n    if (!this.pageLimit) {\n      return;\n    }\n    const min = this.page * this.pageLimit;\n    const total = this.getDatasource().length;\n    let max = this.pageLimit + min;\n    if (max > total) {\n      max = total;\n    }\n    this.paginationDetailsElement.textContent = `${min + 1}-${max} of ${total}`;\n    if (min === 0) {\n      this.previousPageButton.setAttribute('disabled', '');\n    } else {\n      this.previousPageButton.removeAttribute('disabled');\n    }\n    if (max === total) {\n      this.nextPageButton.setAttribute('disabled', '');\n    } else {\n      this.nextPageButton.removeAttribute('disabled');\n    }\n  }\n\n  /**\n   * @param {Object} options\n   * @param {boolean=} [options.disabled=false]\n   * @param {number=} [options.limit=10]\n   * @param {number[]=} [options.limits=[10,25,50,100]]\n   * @return {void}\n   */\n  setPagination(options = {}) {\n    const footer = this.getFooter(!options.disabled);\n    if (options.disabled) {\n      this.pageLimit = 0;\n      this.page = 0;\n      if (footer) {\n        footer.style.display = 'none';\n      }\n      this.needsDraw = true;\n      return;\n    }\n    footer.style.display = '';\n    let optionsElement = footer.getElementsByClassName('mdw-table__footer-options')[0];\n    if (!optionsElement) {\n      optionsElement = document.createElement('div');\n      optionsElement.classList.add('mdw-table__footer-options');\n      const rowsPerPageText = document.createElement('span');\n      rowsPerPageText.textContent = 'Rows per page';\n      const limits = options.limits || [10, 25, 50, 100];\n      const limitsElement = document.createElement('label');\n      limitsElement.classList.add('mdw-textfield');\n      limitsElement.setAttribute('mdw-solo', '');\n      const select = document.createElement('select');\n      select.classList.add('mdw-textfield__input');\n      limits.forEach((limit) => {\n        const option = document.createElement('option');\n        option.value = limit.toString();\n        option.textContent = limit.toString();\n        select.appendChild(option);\n      });\n      select.setAttribute('value', (options.limit && options.limit.toString()) || '10');\n      const dropdownIcon = document.createElement('div');\n      dropdownIcon.classList.add('mdw-textfield__dropdown-button');\n      limitsElement.appendChild(select);\n      limitsElement.appendChild(dropdownIcon);\n      optionsElement.appendChild(rowsPerPageText);\n      optionsElement.appendChild(limitsElement);\n      footer.appendChild(optionsElement);\n      select.addEventListener('input', () => {\n        this.pageLimit = parseInt(select.value, 10);\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n    }\n    if (!this.paginationDetailsElement) {\n      this.paginationDetailsElement = footer.getElementsByClassName('mdw-table__footer-details')[0];\n    }\n    if (!this.paginationDetailsElement) {\n      this.paginationDetailsElement = document.createElement('div');\n      this.paginationDetailsElement.classList.add('mdw-table__footer-details');\n      footer.appendChild(this.paginationDetailsElement);\n    }\n    if (!this.paginationControls) {\n      this.paginationControls = footer.getElementsByClassName('mdw-table__footer-controls')[0];\n    }\n    if (!this.paginationControls) {\n      this.paginationControls = document.createElement('div');\n      this.paginationControls.classList.add('mdw-table__footer-controls');\n      footer.appendChild(this.paginationControls);\n    }\n    if (!this.previousPageButton || !this.nextPageButton) {\n      const buttons = this.paginationControls.getElementsByClassName('mdw-button');\n      if (buttons.length !== 2) {\n        this.previousPageButton = document.createElement('div');\n        this.previousPageButton.classList.add('mdw-button', 'material-icons');\n        this.previousPageButton.setAttribute('mdw-icon', '');\n        this.previousPageButton.textContent = 'chevron_left';\n        this.paginationControls.appendChild(this.previousPageButton);\n        Button.attach(this.previousPageButton);\n\n        this.nextPageButton = document.createElement('div');\n        this.nextPageButton.classList.add('mdw-button', 'material-icons');\n        this.nextPageButton.setAttribute('mdw-icon', '');\n        this.nextPageButton.textContent = 'chevron_right';\n        this.paginationControls.appendChild(this.nextPageButton);\n        Button.attach(this.nextPageButton);\n      } else {\n        this.previousPageButton = buttons[0];\n        this.nextPageButton = buttons[1];\n      }\n      this.previousPageButton.addEventListener('click', () => {\n        if (this.previousPageButton.hasAttribute('disabled')) {\n          return;\n        }\n        this.page -= 1;\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n      this.nextPageButton.addEventListener('click', () => {\n        if (this.nextPageButton.hasAttribute('disabled')) {\n          return;\n        }\n        this.page += 1;\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n    }\n    this.pageLimit = options.limit || 10;\n    this.updateRowCount(false);\n    this.updatePaginator();\n    this.refreshRows();\n  }\n\n  /**\n   * @param {boolean} create\n   * @return {HTMLElement}\n   */\n  getFooter(create) {\n    let footer = this.element.getElementsByClassName('mdw-table__footer')[0];\n    if (!footer && create) {\n      footer = document.createElement('div');\n      footer.classList.add('mdw-table__footer');\n      this.element.appendChild(footer);\n    }\n    return footer;\n  }\n\n  /**\n   * @param {HTMLTableRowElement} el\n   * @return {boolean}\n   */\n  isRowVisible(el) {\n    const scrollingElement = this.element;\n    const rowRect = el.getBoundingClientRect();\n    const scrollingRect = scrollingElement.getBoundingClientRect();\n    const rowTop = (rowRect.top) - (scrollingRect.top);\n    const rowBottom = rowTop + rowRect.height;\n    const viewportTop = 0;\n    const viewportBottom = scrollingRect.height;\n    if (rowTop > viewportTop && rowTop < viewportBottom) {\n      // Top of row is visible\n      return true;\n    }\n    if (rowBottom > viewportTop && rowBottom < viewportBottom) {\n      // Bottom of row is visible\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {(HTMLTableRowElement[])=} visibleRows\n   * @return {void}\n   */\n  clearNonvisibleRows(visibleRows) {\n    let rows = visibleRows;\n    if (visibleRows == null) {\n      rows = this.getVisibleRows();\n    }\n    const tbody = this.getTableBody();\n    const len = tbody.rows.length;\n    if (rows.length === len) {\n      return;\n    }\n    let firstRowIndex = Infinity;\n    let lastRowIndex = -Infinity;\n    if (rows.length) {\n      firstRowIndex = rows[0].sectionRowIndex;\n      lastRowIndex = rows[rows.length - 1].sectionRowIndex;\n    }\n    for (let i = 0; i < len; i += 1) {\n      if (i < firstRowIndex || i > lastRowIndex) {\n        const row = tbody.rows.item(i);\n        while (row.lastChild) {\n          row.removeChild(row.lastChild);\n        }\n      }\n    }\n  }\n\n  getVisibleRows() {\n    const tbody = this.getTableBody();\n    const len = tbody.rows.length;\n    let foundFirstVisibleRow = false;\n    const rows = [];\n    for (let i = 0; i < len; i += 1) {\n      const row = tbody.rows.item(i);\n      if (this.isRowVisible(row)) {\n        foundFirstVisibleRow = true;\n        rows.push(row);\n      } else if (foundFirstVisibleRow) {\n        return rows;\n      }\n    }\n    return rows;\n  }\n\n  performLazyRender() {\n    const visibleRows = this.getVisibleRows();\n    visibleRows.forEach((row) => {\n      this.refreshRow(row.sectionRowIndex);\n    });\n    this.clearNonvisibleRows(visibleRows);\n  }\n\n  /**\n   * @param {function(any, number=, any[]=)} filter\n   * @return {void}\n   */\n  setFilter(filter) {\n    this.filter = filter;\n    this.refreshFilter();\n  }\n\n  refreshFilter() {\n    if (this.filter) {\n      this.filteredDatasource = this.datasource.filter(this.filter);\n    } else {\n      this.filteredDatasource = null;\n    }\n  }\n\n  /**\n   * Get filtered datasource\n   * @return {any[]}\n   */\n  getDatasource() {\n    if (this.filter) {\n      if (!this.filteredDatasource) {\n        this.refreshFilter();\n      }\n      return this.filteredDatasource;\n    }\n    return this.datasource;\n  }\n\n  /**\n   * Update number of rows in table\n   * @param {boolean=} refresh Refresh new rows\n   * @return {void}\n   */\n  updateRowCount(refresh) {\n    const tbody = this.getTableBody();\n    const rowLength = tbody.rows.length;\n\n    const datasource = this.getDatasource();\n    let rowsToDisplay = datasource.length;\n    if (this.pageLimit) {\n      let offset = this.page * this.pageLimit;\n      if (offset > rowsToDisplay) {\n        // Datasource or filter likely changed\n        // Reset to page 0\n        this.page = 0;\n        offset = 0;\n      }\n      rowsToDisplay -= offset;\n      if (rowsToDisplay > this.pageLimit) {\n        rowsToDisplay = this.pageLimit;\n      }\n    }\n\n    const rowDifference = rowsToDisplay - rowLength;\n    const newRows = [];\n\n    if (rowDifference < 0) {\n      // too many rows\n      for (let i = rowLength - 1; i >= rowsToDisplay; i -= 1) {\n        const row = tbody.rows.item(i);\n        tbody.removeChild(row);\n      }\n    }\n    if (rowDifference > 0) {\n      const fragment = document.createDocumentFragment();\n      for (let i = 0; i < rowDifference; i += 1) {\n        const row = document.createElement('tr');\n        // row.setAttribute('tabindex', '-1');\n        newRows.push(row);\n        fragment.appendChild(row);\n      }\n      tbody.appendChild(fragment);\n    }\n    if (refresh && rowDifference !== 0) {\n      if (this.useLazyRendering) {\n        this.performLazyRender();\n      } else {\n        newRows.forEach((row) => {\n          this.refreshRow(row.sectionRowIndex);\n        });\n      }\n    }\n  }\n\n  /** @return {void} */\n  refreshRows() {\n    if (this.useLazyRendering) {\n      this.performLazyRender();\n    } else {\n      const tbody = this.getTableBody();\n      const len = tbody.rows.length;\n      for (let i = 0; i < len; i += 1) {\n        this.refreshRow(i);\n      }\n    }\n  }\n\n  /** @return {void} */\n  refresh() {\n    this.refreshFilter();\n    this.updateRowCount(false);\n    this.updatePaginator();\n    this.refreshRows();\n  }\n\n  /**\n   * @param {HTMLTableRowElement} row\n   * @return {any}\n   */\n  getDataForTableRow(row) {\n    const index = (row.sectionRowIndex) + (this.page * this.pageLimit);\n    return this.getDatasource()[index];\n  }\n\n  /**\n   * @param {any} data\n   * @return {HTMLTableRowElement} row\n   */\n  getTableRowForData(data) {\n    const datasourceIndex = this.datasource.indexOf(data);\n    if (datasourceIndex === -1) {\n      return null;\n    }\n    const minIndex = this.page * this.pageLimit;\n    return this.getTableBody().rows.item(datasourceIndex - minIndex);\n  }\n\n  /**\n   * @param {number} rowIndex\n   * @return {void}\n   */\n  refreshRow(rowIndex) {\n    for (let columnIndex = 0; columnIndex < this.columns.length; columnIndex += 1) {\n      this.refreshCell(columnIndex, rowIndex);\n    }\n  }\n\n  /**\n   * @param {number} columnIndex\n   * @param {number} rowIndex\n   * @return {void}\n   */\n  refreshCell(columnIndex, rowIndex) {\n    const tableColumn = this.columns[columnIndex];\n    const row = this.getTableBody().rows.item(rowIndex);\n    let len = row.cells.length;\n    while (len <= columnIndex) {\n      // Generate cells\n      const missingColumn = this.columns[len];\n      const missingCell = row.insertCell();\n      if (missingColumn.type) {\n        missingCell.dataset.type = missingColumn.type;\n      }\n      missingCell.dataset.key = missingColumn.key;\n      if (missingColumn.rowSelector) {\n        missingCell.setAttribute('mdw-selector', '');\n      }\n      if (missingColumn.primaryColumn) {\n        missingCell.setAttribute('mdw-primary-column', '');\n      }\n      len += 1;\n    }\n    const cell = row.cells.item(columnIndex);\n    const data = this.getDataForTableRow(row);\n    const value = data[tableColumn.key];\n    if (tableColumn.rowSelector) {\n      if (value) {\n        if (!row.hasAttribute('mdw-selected')) {\n          row.setAttribute('mdw-selected', '');\n        }\n      } else if (row.hasAttribute('mdw-selected')) {\n        row.removeAttribute('mdw-selected');\n      }\n    }\n    const formattedValue = tableColumn.formatter(value, data);\n    tableColumn.renderer(cell, formattedValue, data);\n  }\n\n  /**\n   * @param {HTMLTableCellElement|TableColumn|number|string} search\n   * @return {TableColumn}\n   */\n  getColumn(search) {\n    if (search instanceof TableColumn) {\n      return search;\n    }\n    if (search instanceof HTMLTableCellElement) {\n      return this.columns.find(column => column.element === search);\n    }\n    if (typeof search === 'string') {\n      return this.columns.find(column => column.element.dataset.key === search);\n    }\n    return this.columns[search];\n  }\n\n  /** @return {HTMLTableElement} */\n  getTable() {\n    let table = this.element.getElementsByTagName('table')[0];\n    if (!table) {\n      table = document.createElement('table');\n      Table.attach(table);\n      const footer = this.element.getElementsByClassName('mdw-table__footer')[0];\n      if (footer) {\n        this.element.insertBefore(table, footer);\n      } else {\n        this.element.appendChild(table);\n      }\n    }\n    return table;\n  }\n  /** @return {HTMLTableRowElement} */\n  getHeaderRow() {\n    let thead = this.element.getElementsByTagName('thead')[0];\n    if (!thead) {\n      const table = this.getTable();\n      thead = document.createElement('thead');\n      table.appendChild(thead);\n    }\n    let headerRow = thead.getElementsByTagName('tr')[0];\n    if (!headerRow) {\n      headerRow = document.createElement('tr');\n      thead.appendChild(headerRow);\n    }\n    return headerRow;\n  }\n\n  /** @return {HTMLTableSectionElement} */\n  getTableBody() {\n    if (this.tbody) {\n      return this.tbody;\n    }\n    this.tbody = this.element.getElementsByTagName('tbody')[0];\n    if (!this.tbody) {\n      const table = this.getTable();\n      this.tbody = document.createElement('tbody');\n      table.appendChild(this.tbody);\n    }\n    return this.tbody;\n  }\n\n  /**\n   * @param {number} columnIndex\n   * @return {void}\n   */\n  refreshColumn(columnIndex) {\n    const tbody = this.getTableBody();\n    const rowLen = tbody.rows.length;\n    for (let rowIndex = 0; rowIndex < rowLen; rowIndex += 1) {\n      this.refreshCell(columnIndex, rowIndex);\n    }\n  }\n}\n\nexport {\n  DataTableAdapter,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./adapters/datatable/index.js","import { Ripple } from '../ripple/index';\n\n// https://www.w3.org/TR/wai-aria-practices/#menu\n\nclass MenuItem {\n  /**\n   * @param {Element} element\n   * @return {void}\n   */\n  static attach(element) {\n    element.setAttribute('mdw-js', '');\n    Ripple.attach(element);\n    // If mouseover is used, an item can still lose focus via keyboard navigation.\n    // An extra event listener would need to be created to catch blur but the cursor\n    // would still remain over the element, thus needing another mousemove event.\n    // Prioritization is given to less event listeners rather than operations per second.\n    element.addEventListener('mousemove', MenuItem.onMouseMove);\n  }\n\n  static onMouseMove(event) {\n    const el = event.currentTarget;\n    if (!el) {\n      return;\n    }\n    const previousFocus = document.activeElement;\n    if (previousFocus === el) {\n      // Already focused\n      return;\n    }\n    el.focus();\n    if (document.activeElement !== el) {\n      if (previousFocus && document.activeElement !== previousFocus) {\n        previousFocus.focus();\n      }\n    }\n  }\n\n  /**\n   * @param {Element} element\n   * @return {void}\n   */\n  static detach(element) {\n    element.removeEventListener('mousemove', MenuItem.onMouseMove);\n    element.removeAttribute('mdw-js');\n    Ripple.detach(element);\n  }\n}\n\nclass MenuStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   */\n  constructor(element, previousFocus) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    if (window.history) {\n      this.historyState = window.history.state;\n    }\n  }\n}\n\n/** @type {MenuStack[]} */\nconst OPEN_MENUS = [];\nclass Menu {\n  /**\n   * @param {Element} menuElement\n   * @return {void}\n   */\n  static attach(menuElement) {\n    menuElement.setAttribute('mdw-js', '');\n    let menuCloser = menuElement.getElementsByClassName('mdw-menu__close')[0];\n    if (!menuCloser) {\n      menuCloser = document.createElement('div');\n      menuCloser.classList.add('mdw-menu__close');\n      if (menuElement.firstChild) {\n        menuElement.insertBefore(menuCloser, menuElement.firstChild);\n      } else {\n        menuElement.appendChild(menuCloser);\n      }\n    }\n    menuCloser.addEventListener('click', Menu.onMenuCloserClick);\n    menuElement.addEventListener('keydown', Menu.onKeyDown);\n  }\n\n  static onMenuCloserClick(event) {\n    const closer = event.currentTarget;\n    if (!closer) {\n      return;\n    }\n    const menu = closer.parentElement;\n    if (!menu) {\n      return;\n    }\n    if (closer instanceof HTMLAnchorElement) {\n      event.preventDefault();\n    }\n    Menu.hide(menu);\n  }\n\n  /**\n   * @param {PopStateEvent} event\n   * @return {void}\n   */\n  static onPopState(event) {\n    const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n    if (lastOpenMenu) {\n      Menu.hide(lastOpenMenu.element);\n    }\n  }\n\n  static onKeyDown(event) {\n    const menuElement = event.currentTarget;\n    if (!menuElement || menuElement.hasAttribute('mdw-hide') || !menuElement.hasAttribute('mdw-show')) {\n      return;\n    }\n    if (event.key === 'Tab') {\n      this.previousFocus = null;\n      Menu.hide(menuElement);\n      return;\n    }\n    if (event.key === 'Escape' || event.key === 'Esc') {\n      event.stopPropagation();\n      event.preventDefault();\n      Menu.hide(menuElement);\n      return;\n    }\n    if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n      event.stopPropagation();\n      event.preventDefault();\n      Menu.selectNextMenuItem(menuElement, true);\n      return;\n    }\n    if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n      event.stopPropagation();\n      event.preventDefault();\n      Menu.selectNextMenuItem(menuElement, false);\n    }\n    if (!document.activeElement) {\n      return;\n    }\n    if (document.activeElement === menuElement) {\n      return;\n    }\n    if (document.activeElement.parentElement !== menuElement) {\n      return;\n    }\n    if (document.activeElement.hasAttribute('disabled')) {\n      return;\n    }\n    if (event.key === 'Spacebar' || (event.key === ' ')) {\n      event.stopPropagation();\n      event.preventDefault();\n      if (document.activeElement.hasAttribute('mdw-checked')) {\n        document.activeElement.removeAttribute('mdw-checked');\n      } else {\n        document.activeElement.setAttribute('mdw-checked', '');\n      }\n      return;\n    }\n    if (event.key === 'Enter') {\n      event.stopPropagation();\n      event.preventDefault();\n      document.activeElement.click();\n    }\n  }\n\n  static detach(menuElement) {\n    Menu.hide(menuElement);\n    const menuCloser = menuElement.getElementsByClassName('mdw-menu__close')[0];\n    if (menuCloser) {\n      menuCloser.removeEventListener('click', Menu.onMenuCloserClick);\n    }\n    menuElement.addEventListener('keydown', Menu.onKeyDown);\n    menuElement.removeAttribute('mdw-js');\n    menuElement.removeAttribute('mdw-show');\n    menuElement.removeAttribute('mdw-hide');\n    const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n    if (popupElement) {\n      popupElement.style.removeProperty('top');\n      popupElement.style.removeProperty('left');\n      popupElement.style.removeProperty('right');\n      popupElement.style.removeProperty('bottom');\n      popupElement.style.removeProperty('margin');\n      popupElement.style.removeProperty('transform-origin');\n      popupElement.style.removeProperty('position');\n      if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n        popupElement.removeAttribute('style');\n      }\n    }\n    const menuItems = menuElement.getElementsByClassName('mdw-menu__item');\n    for (let i = 0; i < menuItems.length; i += 1) {\n      MenuItem.detach(menuItems.item(i));\n    }\n  }\n\n  static selectNextMenuItem(menu, backwards) {\n    const menuItems = menu.getElementsByClassName('mdw-menu__item');\n    let foundTarget = false;\n    let candidate = null;\n    let firstFocusableItem = null;\n    let lastFocusableElement = null;\n    const target = document.activeElement;\n\n    // Hidden elements cannot be focused\n    // Disabled elements cannot be focused on IE11\n    // Skip elements that fail to receive focus\n    for (let i = 0; i < menuItems.length; i += 1) {\n      const el = menuItems.item(i);\n      el.focus();\n      const focusable = (document.activeElement === el);\n      if (focusable) {\n        if (!firstFocusableItem) {\n          firstFocusableItem = el;\n        }\n        lastFocusableElement = el;\n      }\n      if (el === target) {\n        foundTarget = true;\n        if (backwards && candidate) {\n          break;\n        }\n      } else if (backwards) {\n        if (focusable) {\n          candidate = el;\n        }\n      } else if (foundTarget) {\n        if (focusable) {\n          candidate = el;\n          break;\n        }\n      }\n    }\n    if (!candidate) {\n      if (backwards) {\n        candidate = lastFocusableElement;\n      } else {\n        candidate = firstFocusableItem;\n      }\n    }\n    if (candidate && document.activeElement !== candidate) {\n      candidate.focus();\n    }\n  }\n\n  /**\n   * @param {Element} menuElement\n   * @param {Element} popupElement\n   * @param {MouseEvent=} event\n   * @param {boolean=} [alignTarget=true]\n   * @return {void}\n   */\n  static updateMenuPosition(menuElement, popupElement, event, alignTarget) {\n    let top = 'auto';\n    let left = 'auto';\n    let transformOrigin = '';\n    const useAlignTarget = (alignTarget !== false);\n    const margin = useAlignTarget ? '0' : '';\n    const mdwPosition = menuElement.getAttribute('mdw-position') || '';\n    let alignTop = mdwPosition.indexOf('top') !== -1;\n    let alignBottom = mdwPosition.indexOf('bottom') !== -1;\n    let alignLeft = mdwPosition.indexOf('lef') !== -1;\n    let alignRight = mdwPosition.indexOf('right') !== -1;\n    const alignEnd = mdwPosition.indexOf('end') !== -1;\n    const alignStart = !alignLeft && !alignRight && !alignEnd;\n    const target = event.currentTarget || event.target;\n\n    const offsetTop = (useAlignTarget ? event.offsetY : 0);\n    const offsetBottom = (useAlignTarget ? target.clientHeight - event.offsetY : 0);\n    let { pageX, pageY } = event;\n    if (!pageX && !pageY) {\n      const rect = target.getBoundingClientRect();\n      pageX = rect.x;\n      pageY = rect.y;\n    }\n    if (!alignTop && !alignBottom) {\n      // Dynamic vertical position\n      if (popupElement.clientHeight + (pageY - offsetTop) > window.innerHeight) {\n        alignBottom = true;\n      } else {\n        alignTop = true;\n      }\n    }\n    if (alignTop) {\n      top = `${pageY - offsetTop}px`;\n      transformOrigin = 'top';\n    } else {\n      top = `${(pageY + offsetBottom) - popupElement.clientHeight}px`;\n      transformOrigin = 'bottom';\n    }\n\n    const offsetLeft = (useAlignTarget ? event.offsetX : 0);\n    const offsetRight = (useAlignTarget ? target.clientWidth - event.offsetX : 0);\n    if (alignStart || alignEnd) {\n      const isRtl = (document.documentElement.getAttribute('dir') === 'rtl');\n      if (alignStart) {\n        if (isRtl) {\n          alignRight = true;\n        } else {\n          alignLeft = true;\n        }\n      } else if (isRtl) {\n        alignLeft = true;\n      } else {\n        alignRight = true;\n      }\n    }\n    if (!alignLeft && !alignRight) {\n      // Dynamic horizontal position\n      if (popupElement.clientWidth + (pageX - offsetLeft) > window.innerWidth) {\n        // Can't open to the right\n        alignRight = true;\n      } else {\n        const isRtl = (document.documentElement.getAttribute('dir') === 'rtl');\n        if (isRtl) {\n          alignRight = true;\n        } else {\n          alignLeft = true;\n        }\n      }\n    }\n    if (alignLeft) {\n      left = `${pageX - offsetLeft}px`;\n      transformOrigin += ' left';\n    } else if (alignRight) {\n      left = `${(pageX + offsetRight) - popupElement.clientWidth}px`;\n      transformOrigin += ' right';\n    }\n\n    popupElement.style.setProperty('top', top);\n    popupElement.style.setProperty('left', left);\n    popupElement.style.setProperty('right', 'auto');\n    popupElement.style.setProperty('bottom', 'auto');\n    popupElement.style.setProperty('margin', margin);\n    popupElement.style.setProperty('transform-origin', transformOrigin);\n    popupElement.style.setProperty('position', 'fixed');\n  }\n\n  /**\n   * @param {Element} menuElement \n   * @return {void}\n   */\n  static refreshMenuItems(menuElement) {\n    const menuItems = menuElement.getElementsByClassName('mdw-menu__item');\n    for (let i = 0; i < menuItems.length; i += 1) {\n      const menuItem = menuItems.item(i);\n      menuItem.setAttribute('tabindex', '-1');\n      MenuItem.attach(menuItem);\n    }\n    const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n    popupElement.setAttribute('tabindex', '-1');\n  }\n\n  /**\n   * @param {Element} menuElement\n   * @param {MouseEvent=} event\n   * @param {boolean=} [alignTarget=true]\n   * @return {boolean} handled\n   */\n  static show(menuElement, event, alignTarget) {\n    if (event && event.currentTarget instanceof HTMLAnchorElement) {\n      // Prevent anchor link\n      event.preventDefault();\n    }\n    const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n    let changed = false;\n    if (event) {\n      Menu.updateMenuPosition(menuElement, popupElement, event, alignTarget);\n    } else {\n      popupElement.style.removeProperty('top');\n      popupElement.style.removeProperty('left');\n      popupElement.style.removeProperty('right');\n      popupElement.style.removeProperty('bottom');\n      popupElement.style.removeProperty('margin');\n      popupElement.style.removeProperty('transform-origin');\n      popupElement.style.removeProperty('position');\n      if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n        popupElement.removeAttribute('style');\n      }\n    }\n    if (menuElement.hasAttribute('mdw-hide')) {\n      menuElement.removeAttribute('mdw-hide');\n      changed = true;\n    }\n    if (!menuElement.hasAttribute('mdw-show')) {\n      menuElement.setAttribute('mdw-show', '');\n      changed = true;\n    }\n    if (changed) {\n      Menu.attach(menuElement);\n      const previousFocus = document.activeElement;\n      if (window.history && window.history.pushState) {\n        const title = 'Menu';\n        window.history.pushState({ menuOpenTime: Date.now() }, title, '');\n        window.addEventListener('popstate', Menu.onPopState);\n      }\n      const menuStack = new MenuStack(menuElement, previousFocus);\n      OPEN_MENUS.push(menuStack);\n      Menu.refreshMenuItems(menuElement);\n      if (event && !event.pointerType && !event.detail) {\n        // Triggered with keyboard event\n        Menu.selectNextMenuItem(menuElement);\n      } else {\n        popupElement.focus();\n      }\n    }\n    return changed;\n  }\n\n  /**\n   * @param {Element} menuElement\n   * @return {boolean} handled\n   */\n  static hide(menuElement) {\n    if (!menuElement.hasAttribute('mdw-hide')) {\n      menuElement.setAttribute('mdw-hide', '');\n      let stackIndex = -1;\n      OPEN_MENUS.some((stack, index) => {\n        if (stack.element === menuElement) {\n          stackIndex = index;\n          return true;\n        }\n        return false;\n      });\n      if (stackIndex !== -1) {\n        const menuStack = OPEN_MENUS[stackIndex];\n        if (menuStack.previousFocus) {\n          menuStack.previousFocus.focus();\n        }\n        OPEN_MENUS.splice(stackIndex, 1);\n        if (menuStack.historyState && window.history && window.history.state) {\n          // IE11 returns a cloned state object, not the original\n          if (menuStack.historyState.menuOpenTime === window.history.state.menuOpenTime) {\n            window.history.back();\n          }\n        }\n      }\n      if (!OPEN_MENUS.length) {\n        window.removeEventListener('popstate', Menu.onPopState);\n      }\n      return true;\n    }\n    return false;\n  }\n}\n\nexport {\n  Menu,\n  MenuItem,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/index.js"],"sourceRoot":""}