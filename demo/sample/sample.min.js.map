{
  "version": 3,
  "sources": ["../../core/optimizations.js", "../../core/CompositionAdapter.js", "../../core/css.js", "../../core/dom.js", "../../core/jsonMergePatch.js", "../../core/observe.js", "../../core/uid.js", "../../core/template.js", "../../core/Composition.js", "../../core/CustomElement.js", "../../mixins/DelegatesFocusMixin.js", "../../mixins/FormAssociatedMixin.js", "../../mixins/ControlMixin.js", "../../mixins/InputMixin.js", "../../mixins/ResizeObserverMixin.js", "../../mixins/StateMixin.js", "../../services/theme.js", "../../mixins/ThemableMixin.js", "../../services/svgAlias.js", "../../components/Icon.js", "../../mixins/DensityMixin.js", "../../mixins/ShapeMixin.js", "../../mixins/TextFieldMixin.js", "../../mixins/ElevationMixin.js", "../../utils/popup.js", "../../components/Scrim.js", "../../mixins/PopupMixin.js", "../../components/Popup.js", "../../components/Input.js", "../../services/rtl.js", "../../components/Slider.js", "../../components/Divider.js", "../../core/customTypes.js", "../../mixins/AriaReflectorMixin.js", "../../components/Tooltip.js", "../../mixins/TooltipTriggerMixin.js", "../../mixins/NavigationListenerMixin.js", "../../mixins/HyperlinkMixin.js", "../../components/Ripple.js", "../../mixins/RippleMixin.js", "../../components/Button.js", "../../components/IconButton.js", "../../components/Progress.js", "../../mixins/ShapeMaskedMixin.js", "../../components/Shape.js", "../../mixins/FlexableMixin.js", "../../components/Surface.js", "../../components/Box.js", "../../components/CheckboxIcon.js", "../../mixins/TouchTargetMixin.js", "../../components/Checkbox.js", "../../components/Card.js", "../../mixins/TypographyMixin.js", "../../components/Label.js", "ProductPage.js", "sample.js"],
  "sourcesContent": ["// Micro-optimized functions\n\nlet BLANK_TEXT;\nlet BLANK_COMMENT;\nlet BLANK_DIV;\n\n/** @return {Text} */\nexport function createEmptyTextNode() {\n  // eslint-disable-next-line no-return-assign\n  return (BLANK_TEXT ??= new Text()).cloneNode();\n}\n\n/** @return {HTMLDivElement} */\nexport function createEmptyDiv() {\n  // eslint-disable-next-line no-return-assign\n  return (BLANK_DIV ??= document.createElement('div')).cloneNode();\n}\n\n/** @return {Comment} */\nexport function createEmptyComment() {\n  // eslint-disable-next-line no-return-assign\n  return (BLANK_COMMENT ??= new Comment()).cloneNode();\n}\n", "import { createEmptyComment } from './optimizations.js';\n\n/**\n * @template T\n * @typedef {import('./Composition.js').default<T>} Composition\n */\n\n/**\n * @template T\n * @typedef {import('./Composition.js').RenderOptions<T>} RenderOptions\n */\n\n/**\n * @template T\n * @typedef {Object} DomAdapterCreateOptions\n * @prop {Comment} anchorNode\n * @prop {(...args:any[]) => HTMLElement} [create]\n * @prop {Composition<T>} composition\n * @prop {RenderOptions<T>} renderOptions\n */\n\n/**\n * @typedef {Object} ItemMetadata\n * @prop {Element} element\n * @prop {any} key\n * @prop {Element|Comment} domNode\n * @prop {Function} render\n * @prop {boolean} [hidden]\n * @prop {Comment} [comment]\n */\n\n/** @template T */\nexport default class CompositionAdapter {\n  /** @param {DomAdapterCreateOptions<T>} options */\n  constructor(options) {\n    this.anchorNode = options.anchorNode;\n\n    /** @type {ItemMetadata[]} */\n    this.metadata = [];\n    /**\n     * Ordered-list of metadata keys\n     * Chrome and FireFox optimize arrays for indexOf/includes\n     * Safari is faster with WeakMap.get(), but can't use Primitive keys\n     * TODO: Add Safari path\n     * @type {any[]}\n     */\n    this.keys = [];\n\n    /**\n     * Chrome needs a hint to know we will need a fast path for array by keys.\n     */\n    this.needsArrayKeyFastPath = false;\n\n    /** @type {Composition<T>} */\n    this.composition = options.composition;\n    /** @type {RenderOptions<T>} */\n    this.renderOptions = options.renderOptions;\n\n    /** @type {Map<any, ItemMetadata>} */\n    this.metadataCache = null;\n\n    /** @type {Element[]} */\n    this.queuedElements = [];\n    // this.batching = false;\n    /** @type {number|null} */\n    this.batchStartIndex = null;\n    /** @type {number|null} */\n    this.batchEndIndex = null;\n  }\n\n  /**\n   * @param {Partial<T>} changes\n   * @param {T} data\n   * @return {import('./Composition.js').RenderDraw<T>}\n   */\n  render(changes, data) {\n    return this.composition.render(changes, data, this.renderOptions);\n  }\n\n  startBatch() {\n    this.needsArrayKeyFastPath = true;\n    // this.batching = true;\n  }\n\n  writeBatch() {\n    if (!this.queuedElements.length) return;\n    /** @type {Comment|Element|Document} */\n    const previousSibling = this.metadata[this.batchStartIndex - 1]?.domNode ?? this.anchorNode;\n    previousSibling.after(...this.queuedElements);\n    this.queuedElements.length = 0;\n  }\n\n  stopBatch() {\n    this.writeBatch();\n\n    this.needsArrayKeyFastPath = false;\n    this.batchStartIndex = null;\n    this.batchEndIndex = null;\n    if (this.metadataCache) {\n      for (const { domNode } of this.metadataCache.values()) {\n        domNode.remove();\n      }\n      this.metadataCache.clear();\n    }\n  }\n\n  /** @param {number} index */\n  removeByIndex(index) {\n    const [metadata] = this.metadata.splice(index, 1);\n    const { domNode, key } = metadata;\n    this.keys.splice(index, 1);\n    domNode.remove();\n\n    // Don't release in case we may need it later\n    if (this.metadataCache) {\n      this.metadataCache.set(key, metadata);\n    } else {\n      this.metadataCache = new Map([[key, metadata]]);\n    }\n  }\n\n  /**\n   * Worst case scenario\n   * @param {number} newIndex expectedIndex\n   * @param {*} changes\n   * @param {*} data\n   * @param {*} key\n   * @param {*} change\n   * @param {boolean} [skipOnMatch]\n   * JSON Merge has no way to express sort change and data change. Best\n   * performance is done via invoking render on sort change and another on\n   * inner change. Can't skip if mixing change types.\n   */\n  renderData(newIndex, changes, data, key, change, skipOnMatch) {\n    if (newIndex < this.metadata.length) {\n      const metadataAtIndex = this.metadata[newIndex];\n\n      // There is an element in this slot\n\n      // Compare if different\n      const currentKey = metadataAtIndex.key;\n      const sameKey = (currentKey === key);\n      const isPartial = (change !== key);\n\n      if (sameKey) {\n        // Both reference the same key (correct spot)\n        if (isPartial) {\n          metadataAtIndex.render(changes, data);\n        } else if (skipOnMatch) {\n          // Skip overwrite. Presume no change\n          // console.warn('same key, no reason to repaint', newIndex);\n        } else {\n          // console.warn('no skip on match', newIndex);\n          metadataAtIndex.render(changes, data);\n        }\n        return;\n      }\n\n      // eslint-disable-next-line no-multi-assign\n      const metadataCache = (this.metadataCache ??= new Map());\n\n      // If not same key. Scan key list.\n      // Can avoid checking before current index. Will always be after current\n      let failedFastPath = false;\n      if (this.needsArrayKeyFastPath) {\n        // Invoking includes will ensure Chrome generates an internal hash map\n        failedFastPath = !this.keys.includes(key);\n        this.needsArrayFastPath = false;\n      }\n      const oldIndex = failedFastPath ? -1 : this.keys.indexOf(key, newIndex + 1);\n      if (oldIndex === -1) {\n        // New key\n        // console.log('new key?', 'should be at', newIndex);\n        // Was key removed in this batch?\n        if (metadataCache.has(key)) {\n          // console.log('inserting removed element', 'at', newIndex);\n          // (Optimistic insert)\n          // Key was removed and should be here instead\n          // If should have been replace, will correct next step\n          const previousMetadata = metadataCache.get(key);\n          this.metadata.splice(newIndex, 0, previousMetadata);\n          this.keys.splice(newIndex, 0, key);\n\n          const previousSibling = this.metadata[newIndex - 1]?.domNode ?? this.anchorNode;\n          previousSibling.after(previousMetadata.domNode);\n          metadataCache.delete(key);\n          return;\n        }\n\n        // (Optimistic replace)\n        // Brand new key. Cache whatever is in current and replace\n        // If should have been insert, will correct itself next step.\n        // Allows multiple inserts to batch instead of one-by-one\n\n        // console.log('completely new key', 'removing old. will replace', newIndex);\n        metadataCache.set(currentKey, metadataAtIndex);\n\n        // Continue to PUT below\n      } else {\n        // Key is in the wrong spot (guaranteed to be oldIndex > newIndex)\n        // console.warn('Found key for', newIndex, '@', oldIndex);\n        // console.warn('swapping', newIndex, '<=>', oldIndex);\n        if ((newIndex - oldIndex) === -1) {\n          // (Optimistic removal)\n          // If element should be one step sooner, remove instead to shift up.\n          // If should have been swap, will correct itself next step.\n          // console.warn('Removing', newIndex, 'instead');\n          this.removeByIndex(newIndex);\n          return;\n        }\n        // Swap with other element\n        // Arrays should be iterated sequentially.\n        // Array can never swap before current index\n\n        // Store what's later in the tree to move here\n\n        const correctMetadata = this.metadata[oldIndex];\n\n        // Move back <=\n        this.metadata[newIndex] = correctMetadata;\n        this.metadata.splice(oldIndex, 1);\n\n        const { domNode: domNodeToRemove } = metadataAtIndex;\n        domNodeToRemove.replaceWith(correctMetadata.domNode);\n\n        if (!skipOnMatch) {\n          console.warn('no skip on match on swap', newIndex);\n          correctMetadata.render(changes, data);\n        }\n\n        // Remove posterior\n\n        this.keys[newIndex] = key;\n        this.keys.splice(oldIndex, 1);\n\n        domNodeToRemove.remove();\n\n        // Don't release in case we may need it later\n        // console.debug('Caching key', key);\n        metadataCache.set(currentKey, metadataAtIndex);\n\n        return;\n      }\n    }\n\n    const render = this.render(changes, data);\n    const element = /** @type {Element} */ (render.target);\n\n    this.metadata[newIndex] = {\n      render,\n      element,\n      key,\n      domNode: element,\n    };\n    this.keys[newIndex] = key;\n\n    if (this.batchEndIndex === null || this.batchEndIndex !== (newIndex - 1)) {\n      this.writeBatch();\n      // Start new batch\n      this.batchStartIndex = newIndex;\n    }\n    this.batchEndIndex = newIndex;\n    this.queuedElements.push(element);\n  }\n\n  removeEntries(startIndex = 0) {\n    const { length } = this.metadata;\n    for (let index = length - 1; index >= startIndex; index--) {\n      this.metadata[index].domNode.remove();\n    }\n    this.metadata.length = startIndex;\n    this.keys.length = startIndex;\n  }\n\n  /**\n   * @param {number} [index]\n   * @param {ItemMetadata} [metadata]\n   * @param {any} [key]\n   * @return {boolean} changed\n   */\n  hide(index, metadata, key) {\n    if (!metadata) {\n      if (index == null) {\n        index = this.keys.indexOf(key);\n      }\n      metadata = this.metadata[index];\n      if (!metadata) {\n        return false;\n      }\n    }\n\n    if (metadata.hidden) return false;\n\n    let { comment, element } = metadata;\n    if (!comment) {\n      comment = createEmptyComment();\n      metadata.comment = comment;\n    }\n\n    element.replaceWith(comment);\n    metadata.domNode = comment;\n    metadata.hidden = true;\n    return true;\n  }\n\n  /**\n   * @param {number} [index]\n   * @param {ItemMetadata} [metadata]\n   * @param {any} [key]\n   * @return {boolean} changed\n   */\n  show(index, metadata, key) {\n    if (!metadata) {\n      if (index == null) {\n        index = this.keys.indexOf(key);\n      }\n      metadata = this.metadata[index];\n      if (!metadata) {\n        return false;\n      }\n    }\n\n    if (!metadata.hidden) return false;\n\n    const { comment, element } = metadata;\n\n    comment.replaceWith(element);\n    metadata.domNode = element;\n    metadata.hidden = false;\n    return true;\n  }\n}\n", "/** @type {Map<string, CSSStyleSheet>} */\nconst cssStyleSheetsCache = new Map();\n\n/**\n * @param {string} content\n * @param {boolean} [useCache=true]\n * @return {CSSStyleSheet}\n */\nexport function createCSSStyleSheet(content, useCache = true) {\n  if (useCache && cssStyleSheetsCache.has(content)) {\n    return cssStyleSheetsCache.get(content);\n  }\n  const sheet = new CSSStyleSheet();\n  sheet.replaceSync(content);\n  if (useCache) {\n    cssStyleSheetsCache.set(content, sheet);\n  }\n  return sheet;\n}\n\n/** @type {Map<string, HTMLStyleElement>} */\nconst styleElementCache = new Map();\n\n/** @type {Document} */\nlet _inactiveDocument;\n\n/**\n * @param {string} content\n * @param {boolean} [useCache=true]\n * @return {HTMLStyleElement}\n */\nexport function createHTMLStyleElement(content, useCache = true) {\n  let style;\n  if (useCache && styleElementCache.has(content)) {\n    style = styleElementCache.get(content);\n  } else {\n    _inactiveDocument ??= document.implementation.createHTMLDocument();\n    style = _inactiveDocument.createElement('style');\n    style.textContent = content;\n    if (useCache) {\n      styleElementCache.set(content, style);\n    }\n  }\n  return /** @type {HTMLStyleElement} */ (style.cloneNode(true));\n}\n\n/** @type {boolean} */\nlet _cssStyleSheetConstructable;\n\n/**\n * @param {string} content\n * @param {boolean} [useCache=true]\n */\nexport function createCSS(content, useCache = true) {\n  if (_cssStyleSheetConstructable == null) {\n    try {\n      const sheet = createCSSStyleSheet(content, useCache);\n      _cssStyleSheetConstructable = true;\n      return sheet;\n    } catch {\n      _cssStyleSheetConstructable = false;\n    }\n  }\n  return _cssStyleSheetConstructable\n    ? createCSSStyleSheet(content, useCache)\n    : createHTMLStyleElement(content, useCache);\n}\n\n/**\n * @param {Iterable<HTMLStyleElement|CSSStyleSheet>} styles\n * @param {boolean} [useCache=true]\n * @yields composed CSSStyleSheet\n * @return {Generator<CSSStyleSheet>} composed CSSStyleSheet\n */\nexport function* generateCSSStyleSheets(styles, useCache = true) {\n  for (const style of styles) {\n    if (style instanceof HTMLStyleElement) {\n      yield createCSSStyleSheet(style.textContent, useCache);\n    } else if (style.ownerNode) {\n      console.warn('Stylesheet is part of style');\n      yield createCSSStyleSheet([...style.cssRules].map((r) => r.cssText).join(''), useCache);\n    } else {\n      yield style;\n    }\n  }\n}\n\n/** @type {WeakMap<CSSStyleSheet, HTMLStyleElement>} */\nconst styleElementFromStyleSheetCache = new WeakMap();\n\n/**\n * @param {Iterable<HTMLStyleElement|CSSStyleSheet>} styles\n * @param {boolean} [useCache=true]\n * @yields composed HTMLStyleElement\n * @return {Generator<HTMLStyleElement>} composed CSSStyleSheet\n */\nexport function* generateHTMLStyleElements(styles, useCache = true) {\n  for (const style of styles) {\n    if (style instanceof HTMLStyleElement) {\n      yield style;\n    } else if (style.ownerNode instanceof HTMLStyleElement) {\n      // console.log('Cloning parent HTMLStyleElement instead');\n      // @ts-ignore Skip cast\n      yield style.ownerNode.cloneNode(true);\n    } else if (useCache && styleElementFromStyleSheetCache.has(style)) {\n      // @ts-ignore Skip cast\n      yield styleElementFromStyleSheetCache.get(style).cloneNode(true);\n    } else {\n      console.warn('Manually constructing HTMLStyleElement', [...style.cssRules].map((r) => r.cssText).join('\\n'));\n      const styleElement = document.createElement('style');\n      styleElement.textContent = [...style.cssRules].map((r) => r.cssText).join('');\n      if (useCache) {\n        styleElementFromStyleSheetCache.set(style, styleElement);\n      }\n\n      // @ts-ignore Skip cast\n      yield styleElement.cloneNode(true);\n    }\n  }\n}\n\n/**\n * @param {TemplateStringsArray|string} array\n * @param  {...any} substitutions\n * @return {HTMLStyleElement|CSSStyleSheet}\n */\nexport function css(array, ...substitutions) {\n  if (typeof array === 'string') return createCSS(array);\n  return createCSS(String.raw({ raw: array }, ...substitutions));\n}\n\n/**\n * @param {TemplateStringsArray|string|HTMLStyleElement|CSSStyleSheet} styles\n * @param  {...any} substitutions\n * @return {HTMLStyleElement|CSSStyleSheet}\n */\nexport function addGlobalCss(styles, ...substitutions) {\n  /** @type {HTMLStyleElement|CSSStyleSheet} */\n  let compiled;\n  if (typeof styles === 'string') {\n    compiled = css(styles);\n  } else if (Array.isArray(styles)) {\n    compiled = css(/** @type {TemplateStringsArray} */ (styles), ...substitutions);\n  } else {\n    compiled = /** @type {HTMLStyleElement|CSSStyleSheet} */ (styles);\n  }\n\n  if (compiled instanceof HTMLStyleElement) {\n    document.head.append(compiled);\n  } else {\n    document.adoptedStyleSheets = [\n      ...document.adoptedStyleSheets,\n      compiled,\n    ];\n  }\n  return compiled;\n}\n", "/* eslint-disable no-bitwise */\n\n/**\n * @param {any} value\n * @return {?string}\n */\nexport function attrValueFromDataValue(value) {\n  switch (value) {\n    case undefined:\n    case null:\n    case false:\n      return null;\n    case true:\n      return '';\n    default:\n      return `${value}`;\n  }\n}\n\n/** @type {Map<string, string>} */\nlet attrNameFromPropNameCache;\n\n/**\n * Converts property name to attribute name\n * (Similar to DOMStringMap)\n * @param {string} name\n * @return {string}\n */\nexport function attrNameFromPropName(name) {\n  attrNameFromPropNameCache ??= new Map();\n  if (attrNameFromPropNameCache.has(name)) {\n    return attrNameFromPropNameCache.get(name);\n  }\n  // eslint-disable-next-line unicorn/prefer-string-replace-all\n  const value = name.replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`);\n  attrNameFromPropNameCache.set(name, value);\n  return value;\n}\n\nexport const CHROME_VERSION = Number.parseFloat(navigator.userAgent.match(/Chrome\\/([\\d.]+)/)?.[1]);\nexport const FIREFOX_VERSION = Number.parseFloat(navigator.userAgent.match(/Firefox\\/([\\d.]+)/)?.[1]);\nexport const SAFARI_VERSION = CHROME_VERSION || !navigator.userAgent.includes('AppleWebKit')\n  ? Number.NaN\n  : Number.parseFloat(navigator.userAgent.match(/Version\\/([\\d.]+)/)?.[1]);\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isFocused(element) {\n  if (!element) return false;\n  // @ts-ignore runtime check\n  if (FIREFOX_VERSION < 113 && element.constructor.formAssociated && element.hasAttribute('disabled')) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1818287\n    console.warn('Firefox bug 1818287: Disabled form associated custom element cannot receive focus.');\n    return false;\n  }\n  if (document.activeElement === element) return true;\n  if (!element.isConnected) return false;\n  if (element?.getRootNode() === document) return false; // isInLightDOM\n  // console.debug('checking shadowdom', element, element.matches(':focus'));\n  return element.matches(':focus');\n}\n\n/**\n * @param {HTMLElement|Element} element\n * @param {Parameters<HTMLElement['focus']>} [options]\n * @return {boolean} Focus was successful\n */\nexport function attemptFocus(element, ...options) {\n  if (!element) return false;\n  try {\n    // @ts-expect-error Use catch if not HTMLElement\n    element.focus(...options);\n  } catch (e) {\n    console.error(e);\n    return false;\n    // Ignore error.\n  }\n  return isFocused(element);\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isRtl(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n", "/** @link https://www.rfc-editor.org/rfc/rfc7396 */\n\n/**\n * @template T1\n * @template T2\n * @param {T1} target\n * @param {T2} patch\n * @return {T1|T2|(T1 & T2)}\n */\nexport function applyMergePatch(target, patch) {\n  // @ts-ignore Runtime check\n  if (target === patch) return target;\n  if (target == null || patch == null || typeof patch !== 'object') return patch;\n  if (typeof target !== 'object') {\n    // @ts-ignore Forced cast to object\n    target = {};\n  }\n  for (const [key, value] of Object.entries(patch)) {\n    if (value == null) {\n      // @ts-ignore Runtime check\n      if (key in target) {\n        // @ts-ignore T1 is always object\n        delete target[key];\n      }\n    } else {\n      // @ts-ignore T1 is forced object\n      target[key] = applyMergePatch(target[key], value);\n    }\n  }\n  return target;\n}\n\n/**\n * Creates a JSON Merge patch based\n * Allows different strategies for arrays\n *  - `reference`: Per spec, returns array as is\n *  - `clone`: Clones all entries with no inspection.\n *  - `object`: Convert to flattened, array-like objects. Requires\n *    consumer of patch to be aware of the schema beforehand.\n * @param {object|number|string|boolean} previous\n * @param {object|number|string|boolean} current\n * @param {'clone'|'object'|'reference'} [arrayStrategy='reference']\n * @return {any} Patch\n */\nexport function buildMergePatch(previous, current, arrayStrategy = 'reference') {\n  if (previous === current) return null;\n  if (current == null || typeof current !== 'object') return current;\n  if (previous == null || typeof previous !== 'object') {\n    return structuredClone(current);\n  }\n\n  const patch = {};\n  if (Array.isArray(current)) {\n    if (arrayStrategy === 'reference') {\n      return current;\n    }\n    // Assume previous is array\n    if (arrayStrategy === 'clone') {\n      return structuredClone(current);\n    }\n    for (const [index, value] of current.entries()) {\n      if (value === null) {\n        // @ts-ignore patch is ArrayLike\n        patch[index] = null;\n        continue;\n      }\n      if (value == null) {\n        continue; // Skip undefined\n      }\n      // @ts-ignore previous is ArrayLike\n      const changes = buildMergePatch(previous[index], value, arrayStrategy);\n      if (changes !== null) {\n        // @ts-ignore patch is ArrayLike\n        patch[index] = changes;\n      }\n    }\n    // for (let i = current.length; i < previous.length; i++) {\n    //   patch[i] = null;\n    // }\n    // @ts-ignore previous is ArrayLike\n    if (current.length !== previous.length) {\n      patch.length = current.length;\n    }\n    return patch;\n  }\n\n  const previousKeys = new Set(Object.keys(previous));\n  for (const [key, value] of Object.entries(current)) {\n    previousKeys.delete(key);\n    if (value === null) {\n      // @ts-ignore patch is Object\n      patch[key] = null;\n      continue;\n    }\n    if (value == null) {\n      continue; // Skip undefined\n    }\n    // @ts-ignore previous is Object\n    const changes = buildMergePatch(previous[key], value, arrayStrategy);\n    if (changes !== null) {\n      // @ts-ignore patch is Object\n      patch[key] = changes;\n    }\n  }\n  for (const key of previousKeys) {\n    // @ts-ignore patch is Object\n    patch[key] = null;\n  }\n\n  return patch;\n}\n\n/**\n * Short-circuited JSON Merge Patch evaluation\n * @template T\n * @param {T} target\n * @param {Partial<T>} patch\n * @return {boolean}\n */\nexport function hasMergePatch(target, patch) {\n  if (target === patch) return false;\n  if (patch == null || typeof patch !== 'object') return true;\n  if (target != null && typeof target !== 'object') {\n    return true;\n  }\n  for (const [key, value] of Object.entries(patch)) {\n    if (value == null) {\n      // @ts-ignore Runtime check\n      if (key in target) {\n        return true;\n      }\n    // @ts-ignore T is object\n    } else if (hasMergePatch(target[key], value)) {\n      return true;\n    }\n  }\n  return false;\n}\n", "import { attrNameFromPropName } from './dom.js';\nimport { buildMergePatch, hasMergePatch } from './jsonMergePatch.js';\n\n/** @typedef {'string' | 'boolean' | 'map' | 'set' | 'float' | 'integer' | 'object' | 'function' | 'array'} ObserverPropertyType */\n\n/**\n * @template {ObserverPropertyType} T\n * @typedef {(\n * T extends 'boolean' ? boolean\n * : T extends 'string' ? string\n * : T extends 'float' | 'integer' ? number\n * : T extends 'array' ? any[]\n * : T extends 'object' ? any\n * : T extends 'function' ? (...args:any) => any\n * : unknown\n * )} ParsedObserverPropertyType\n */\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} T2\n * @template {Object} [C=any]\n * @typedef {Object} ObserverOptions\n * @prop {T1} [type]\n * @prop {boolean} [enumerable]\n * @prop {boolean|'write'|'read'} [reflect]\n * @prop {string} [attr]\n * @prop {boolean} [readonly]\n * Defaults to false if type is boolean\n * @prop {boolean} [nullable]\n * @prop {T2} [empty]\n * @prop {T2} [value]\n * @prop {(this:C, data:Partial<C>, fn?: () => T2) => T2} [get]\n * Function used when null passed\n * @prop {(this:C, value:any)=>T2} [parser]\n * @prop {(this:C, value:null|undefined)=>T2} [nullParser]\n * @prop {(this:C, value: T2, fn?:(value2: T2) => any) => any} [set]\n * Function used when comparing\n * @prop {(this:C, a:T2, b:T2)=> any} [diff]\n * @prop {(this:C, a:T2, b:T2)=>boolean} [is]\n * Simple callback\n * @prop {(this:C, oldValue:T2, newValue:T2, changes:any)=>any} [changedCallback]\n * Named callback\n * @prop {(this:C, name:string, oldValue: T2, newValue: T2, changes:any) => any} [propChangedCallback]\n * Attribute callback\n * @prop  {(this:C, name:keyof C & string, oldValue: string, newValue: string) => any} [attributeChangedCallback]\n * @prop {[keyof C & string, (this:C, ...args:any[]) => any][]} [watchers]\n * @prop {Set<keyof C & string>} [props]\n * @prop {WeakMap<C,T2>} [values]\n * @prop {WeakMap<C, T2>} [computedValues]\n * @prop {WeakSet<C>} [needsSelfInvalidation]\n */\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} [T2=any]\n * @template {Object} [C=any]\n * @template {keyof C & string} [K=any]\n * @typedef {ObserverOptions<T1, T2, C> & { key: K, values?: WeakMap<C, T2>; attrValues?: WeakMap<C, string> }} ObserverConfiguration\n */\n\n/**\n * @param {ObserverPropertyType} type\n * @return {any}\n */\nfunction emptyFromType(type) {\n  switch (type) {\n    case 'boolean':\n      return false;\n    case 'integer':\n    case 'float':\n      return 0;\n    case 'map':\n      return new Map();\n    case 'set':\n      return new Set();\n    case 'array':\n      return [];\n    case 'object':\n      return null;\n    default:\n    case 'string':\n      return '';\n  }\n}\n\n/**\n * @template {Object} T\n * @param {T} proxyTarget\n * @param {Set<string>} set\n * @param {Set<string>} deepSet\n * @param {string} [prefix]\n * @return {T}\n */\nfunction buildProxy(proxyTarget, set, deepSet, prefix) {\n  // @ts-ignore\n  proxyTarget ??= {};\n  return new Proxy(proxyTarget, {\n    get(target, p) {\n      // @ts-ignore\n      const value = target[p];\n      if (typeof p !== 'symbol') {\n        const arg = prefix ? `${prefix}.${p}` : p;\n        if (prefix) {\n          deepSet.add(arg);\n        } else {\n          set.add(arg);\n        }\n        if (typeof value === 'object' && value != null) {\n          console.debug('tried to arg poke object get', p, value);\n          return buildProxy(value, set, deepSet, arg);\n        }\n      }\n      return value;\n    },\n    has(target, p) {\n      const value = Reflect.has(target, p);\n      if (typeof p !== 'symbol') {\n        const arg = prefix ? `${prefix}.p` : p;\n        if (prefix) {\n          deepSet.add(arg);\n        } else {\n          set.add(arg);\n        }\n      }\n      return value;\n    },\n  });\n}\n\n/**\n * @param {ObserverPropertyType} type\n * @return {any}\n */\nfunction defaultParserFromType(type) {\n  switch (type) {\n    case 'boolean':\n      /**\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean#boolean_coercion\n       * @param {any} v\n       * @return {boolean}\n       */\n      return (v) => !!v;\n    case 'integer':\n      // Calls ToNumber(x)\n      return Math.round;\n    case 'float':\n      /**\n       * Doesn't support `BigInt` types\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number#number_coercion\n       * @param {any} v\n       * @return {number}\n       */\n      return (v) => +v;\n    case 'map':\n      return Map;\n    case 'set':\n      return Set;\n    case 'object':\n    case 'array':\n      /**\n       * Reflect self\n       * @template T\n       * @param {T} o\n       * @return {T}\n       */\n      return (o) => o;\n    default:\n    case 'string':\n      /**\n       * Doesn't support `Symbol` types\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#string_coercion\n       * @param {any} v\n       * @return {string}\n       */\n      return (v) => `${v}`;\n  }\n}\n\n/**\n * @param {(data: Partial<any>) => any} fn\n * @param {...any} args\n * @this {any}\n * @return {{\n *  props: {\n *    this: string[],\n *    args: string[][],\n *  },\n *  deepPropStrings: {\n *   this: string[],\n *   args: string[][],\n *  },\n *  deepProps: {\n *   this: string[][],\n *   args: string[][][],\n *  },\n *  defaultValue: any,\n *  reusable: boolean,\n * }}\n */\nexport function observeFunction(fn, ...args) {\n  /** @type {Set<string>} */\n  const thisPoked = new Set();\n  /** @type {Set<string>} */\n  const thisPokedDeep = new Set();\n\n  const argWatchers = args.map((arg) => {\n    const poked = new Set();\n    const pokedDeep = new Set();\n    const proxy = buildProxy(arg, poked, pokedDeep);\n    return { poked, pokedDeep, proxy };\n  });\n\n  const thisProxy = buildProxy(this ?? {}, thisPoked, thisPokedDeep);\n  const defaultValue = fn.apply(thisProxy, argWatchers.map((watcher) => watcher.proxy));\n  /* Arrow functions can reused if they don't poke `this` */\n  const reusable = fn.name ? true : !thisPoked.size;\n\n  return {\n    props: {\n      this: [...thisPoked],\n      args: argWatchers.map((watcher) => [...watcher.poked]),\n    },\n    deepPropStrings: {\n      this: [...thisPokedDeep],\n      args: argWatchers.map((watcher) => [...watcher.pokedDeep]),\n    },\n    deepProps: {\n      this: [...thisPokedDeep].map((deepPropString) => deepPropString.split('.')),\n      args: argWatchers.map((watcher) => [...watcher.pokedDeep].map((deepPropString) => deepPropString.split('.'))),\n    },\n    defaultValue,\n    reusable,\n  };\n}\n\n/** @return {null} */\nfunction defaultNullParser() { return null; }\n\n/**\n * @template {string} K\n * @template {ObserverPropertyType} [T1=any]\n * @template {any} [T2=ParsedObserverPropertyType<T1>]\n * @template {Object} [C=any]\n * @param {K} name\n * @param {T1|ObserverOptions<T1,T2>} [typeOrOptions='string']\n * @param {any} [object]\n * @return {ObserverConfiguration<T1,T2,C,K> & ObserverOptions<T1,T2,C>}\n */\nexport function parseObserverOptions(name, typeOrOptions, object) {\n  /** @type {Partial<ObserverOptions<T1,T2>>} */\n  const options = (typeof typeOrOptions === 'string')\n    ? { type: typeOrOptions }\n    : typeOrOptions;\n\n  let {\n    watchers, value, readonly,\n    empty, type,\n    enumerable, reflect, attr,\n    nullable, parser, nullParser,\n    get,\n    is, diff,\n    props,\n  } = options;\n\n  watchers ??= [];\n  readonly ??= false;\n\n  if (empty === undefined) {\n    empty = null;\n  }\n\n  value ??= empty;\n\n  if (get && !props) {\n    // Custom `get` uses computed values.\n    // Invalidate computed value when dependent `prop` changes\n    const observeResult = observeFunction(get.bind(object), object, () => value);\n    value ??= observeResult.defaultValue;\n    const uniqueProps = new Set([\n      ...observeResult.props.this,\n      ...observeResult.props.args[0],\n    ]);\n    props = uniqueProps;\n  }\n\n  /** @type {ObserverPropertyType} */\n  if (!type) {\n    if (value == null) {\n      // @ts-ignore\n      type = 'string';\n    } else {\n      const parsed = typeof value;\n      // @ts-ignore\n      type = (parsed === 'number')\n        ? (Number.isInteger(value) ? 'integer' : 'number')\n        : parsed;\n    }\n  }\n\n  enumerable ??= name[0] !== '_';\n  nullable ??= (type === 'boolean') ? false : (empty == null);\n  if (!nullable) {\n    empty ??= emptyFromType(type);\n    value ??= empty;\n  }\n\n  reflect ??= enumerable ? (type !== 'object') : (attr ? 'write' : false);\n  attr ??= (reflect ? attrNameFromPropName(name) : null);\n\n  // if defined ? value\n  // else if boolean ? false\n  // else if onNullish ? false\n  // else if empty == null\n  parser ??= defaultParserFromType(type);\n  if (!nullParser) {\n    if (nullable) {\n      nullParser = defaultNullParser;\n    } else {\n      nullParser = (empty === null)\n        ? () => emptyFromType(type)\n        : () => empty;\n    }\n  }\n\n  is ??= (type === 'object')\n    ? (a, b) => !hasMergePatch(a, b)\n    : ((type === 'array') ? () => false : Object.is);\n\n  if (diff === undefined) {\n    // @ts-ignore\n    diff = ((type === 'object') ? (a, b) => buildMergePatch(a, b, 'reference') : null);\n  }\n\n  return {\n    ...options,\n    type,\n    is,\n    diff,\n    attr,\n    reflect,\n    readonly,\n    enumerable,\n    value,\n    parser,\n    nullParser,\n    key: name,\n    // @ts-ignore Can't cast\n    props,\n    // @ts-ignore Can't cast\n    watchers,\n  };\n}\n\n/**\n * @this {ObserverConfiguration<?,?,?>}\n * @param {*} value\n */\nexport function parsePropertyValue(value) {\n  let newValue = value;\n  newValue = value == null\n    ? this.nullParser.call(this, value)\n    : this.parser.call(this, newValue);\n  return newValue;\n}\n\n/**\n * @param {ObserverConfiguration<?,?,?,?>} config\n * @param {any} oldValue\n * @param {any} value\n * @return {boolean} changed\n */\nfunction detectChange(config, oldValue, value) {\n  if (config.get) {\n    // TODO: Custom getter vs parser\n  }\n\n  // Compute real new value after parsing\n  const newValue = (value == null)\n    ? config.nullParser.call(this, value)\n    : config.parser.call(this, value);\n\n  // Default change is the newValue\n  let changes = newValue;\n\n  // Null check\n  if (oldValue == null) {\n    if (newValue == null) {\n      // Both nullish\n      return false;\n    }\n  } else if (newValue != null) {\n    // Both non-null, compare\n    if (config.diff) {\n      // Custom change diff\n      changes = config.diff.call(this, oldValue, newValue);\n      if (changes == null) {\n        // No difference\n        return false;\n      }\n    } else if (config.is.call(this, oldValue, newValue)) {\n      // Non-equal\n      return false;\n    }\n  }\n\n  // Commit value\n  if (config.values) {\n    config.values.set(this, newValue);\n  } else {\n    config.values = new WeakMap([[this, newValue]]);\n  }\n\n  // Emit change\n\n  config.propChangedCallback?.call(this, config.key, oldValue, newValue, changes);\n  config.changedCallback?.call(this, oldValue, newValue, changes);\n\n  return true;\n}\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} T2\n * @template {Object} C\n * @template {keyof C & string} K\n * @param {C} object\n * @param {K} key\n * @param {ObserverOptions<T1, T2, C>} options\n * @return {ObserverConfiguration<T1,T2,C,K>}\n */\nexport function defineObservableProperty(object, key, options) {\n  const config = /** @type {ObserverConfiguration<T1,T2,C,K>} */ (\n    parseObserverOptions(key, options, object));\n\n  /**\n   * @this {C}\n   * @return {T2}\n   */\n  function internalGet() {\n    return config.values?.has(this) ? config.values.get(this) : config.value;\n  }\n\n  /**\n   * @this {C}\n   * @param {T2} value\n   * @return {void}\n   */\n  function internalSet(value) {\n    // @ts-ignore\n    const oldValue = this[key];\n    detectChange.call(this, config, oldValue, value);\n  }\n\n  /** @return {void} */\n  function onInvalidate() {\n    // Current value is now invalidated. Recompute and check if changed\n    // eslint-disable-next-line no-multi-assign\n\n    const oldValue = config.computedValues?.get(this);\n    const newValue = this[key];\n    config.needsSelfInvalidation?.delete(this);\n    detectChange.call(this, config, oldValue, newValue);\n  }\n\n  if (config.props) {\n    for (const prop of config.props) {\n      config.watchers.push([prop, onInvalidate]);\n    }\n  }\n\n  /**\n   * @this {C}\n   * @return {T2}\n   */\n  function cachedGet() {\n    const newValue = config.get.call(this, this, internalGet.bind(this));\n    // Store computed value internally. Used by onInvalidate to get previous value\n    // eslint-disable-next-line no-multi-assign\n    const computedValues = (config.computedValues ??= new WeakMap());\n    computedValues.set(this, newValue);\n    return newValue;\n  }\n\n  /**\n   * @this {C}\n   * @param {T2} value\n   * @return {void}\n   */\n  function cachedSet(value) {\n    if (config.needsSelfInvalidation) {\n      config.needsSelfInvalidation.add(this);\n    } else {\n      config.needsSelfInvalidation = new WeakSet([this]);\n    }\n    const oldValue = this[key];\n    config.set.call(this, value, internalSet.bind(this));\n    const newValue = this[key];\n    if (!config.needsSelfInvalidation.has(this)) return;\n    config.needsSelfInvalidation.delete(this);\n    detectChange.call(this, config, oldValue, newValue);\n  }\n\n  /** @type {Partial<PropertyDescriptor>} */\n  const descriptor = {\n    enumerable: config.enumerable,\n    configurable: true,\n    get: config.get ? cachedGet : internalGet,\n    set: config.set ? cachedSet : internalSet,\n  };\n\n  Object.defineProperty(object, key, descriptor);\n\n  return config;\n}\n", "/** @type {Set<string>} */\nconst generatedUIDs = new Set();\n\n/**\n * @param {string} [prefix='x'] Prefix all UIDs by string to apply a name or ensure starts with [A-Z] character\n * @param {number} [n] Maximum number of variations needed. Calculated as 32^n.\n  @return {string} */\nexport function generateUID(prefix = 'mdw_', n = 4) {\n  let id;\n  while (generatedUIDs.has(id = Math.random().toString(36).slice(2, n + 2)));\n  generatedUIDs.add(id);\n  return `${prefix}${id}`;\n}\n", "import { generateUID } from './uid.js';\n\n/**\n * Property are bound to an ID+Node\n * Values are either getter or via an function\n * @template {any} T\n * @typedef {Object} InlineFunctionEntry\n * @prop {(data:T) => any} fn\n * @prop {string[]} [props]\n * @prop {string[][]} [deepProps]\n * @prop {string[]} [injectionProps]\n * @prop {string[][]} [injectionDeepProps]\n * @prop {T} [defaultValue]\n */\n\n/** @type {Document} */\nlet _inactiveDocument;\n\n/** @type {DocumentFragment} */\nlet _blankFragment;\n\n/** @type {Range} */\nlet _fragmentRange;\n\n/**\n * @param {string} [fromString]\n * @return {DocumentFragment}\n */\nexport function generateFragment(fromString) {\n  _inactiveDocument ??= document.implementation.createHTMLDocument();\n  if (!fromString) {\n    _blankFragment ??= _inactiveDocument.createDocumentFragment();\n    return /** @type {DocumentFragment} */ (_blankFragment.cloneNode());\n  }\n  _fragmentRange ??= _inactiveDocument.createRange();\n  return _fragmentRange.createContextualFragment(fromString);\n}\n\n/** @type {Map<string, InlineFunctionEntry<?>>} */\nexport const inlineFunctions = new Map();\n\n/**\n * @template T\n * @typedef {Object} RenderOptions\n * @prop {Object} context\n * @prop {ParentNode} root\n * @prop {Object<string, HTMLElement>} refs\n */\n\n/**\n * @param {(data: Partial<any>) => any} fn\n * @return {string}\n */\nexport function addInlineFunction(fn) {\n  const internalName = `#${generateUID()}`;\n  inlineFunctions.set(internalName, { fn });\n  return `{${internalName}}`;\n}\n\n/** @type {Map<string, DocumentFragment>} */\nconst fragmentCache = new Map();\n/**\n * @template T1\n * @template T2\n * @param {TemplateStringsArray} strings\n * @param  {...(string|DocumentFragment|Element|((this:T1, data:T2) => any))} substitutions\n * @return {DocumentFragment}\n */\nexport function html(strings, ...substitutions) {\n  /** @type {Map<string, DocumentFragment|Element>} */\n  let tempSlots;\n  const replacements = substitutions.map((sub) => {\n    switch (typeof sub) {\n      case 'string': return sub;\n      case 'function': return addInlineFunction(sub);\n      case 'object': {\n        if (sub == null) {\n          console.warn(sub, 'is null', strings);\n          return '';\n        }\n        // Assume Element\n        const tempId = generateUID();\n        tempSlots ??= new Map();\n        tempSlots.set(tempId, sub);\n        return `<div id=\"${tempId}\"></div>`;\n      }\n      default:\n        throw new Error(`Unexpected substitution: ${sub}`);\n    }\n  });\n  const compiledString = String.raw({ raw: strings }, ...replacements);\n\n  if (tempSlots) {\n    const fragment = generateFragment(compiledString);\n    for (const [id, element] of tempSlots) {\n      const slot = fragment.getElementById(id);\n      slot.replaceWith(element);\n    }\n    return fragment;\n  }\n\n  let fragment;\n  if (fragmentCache.has(compiledString)) {\n    fragment = fragmentCache.get(compiledString);\n  } else {\n    fragment = generateFragment(compiledString);\n    fragmentCache.set(compiledString, fragment);\n  }\n\n  return /** @type {DocumentFragment} */ (fragment.cloneNode(true));\n}\n", "/* eslint-disable sort-class-members/sort-class-members */\n\nimport CompositionAdapter from './CompositionAdapter.js';\nimport { generateCSSStyleSheets, generateHTMLStyleElements } from './css.js';\nimport { observeFunction } from './observe.js';\nimport { createEmptyComment, createEmptyTextNode } from './optimizations.js';\nimport { generateFragment, inlineFunctions } from './template.js';\nimport { generateUID } from './uid.js';\n\n/**\n * @template T\n * @typedef {Composition<?>|HTMLStyleElement|CSSStyleSheet|DocumentFragment|string} CompositionPart\n */\n\n/**\n * @template {any} T\n * @callback Compositor\n * @param {...(CompositionPart<T>)} parts source for interpolation (not mutated)\n * @return {Composition<T>}\n */\n\n/**\n * @template T\n * @typedef {Object} RenderOptions\n * @prop {T} [defaults] what\n * @prop {T} [store] what\n * @prop {DocumentFragment|HTMLElement|Element} [target] where\n * @prop {ShadowRoot} [shadowRoot] where\n * @prop {any} [context] `this` on callbacks/events\n * @prop {any} [injections]\n */\n\n/**\n * @template T\n * @typedef {{\n *  target: Element|DocumentFragment,\n *  byProp: (prop: keyof T & string, value:any, data?:Partial<T>) => void,\n *  state: InitializationState,\n * } &  ((changes:Partial<T>, data:T) => void)} RenderDraw\n */\n\n/** @typedef {HTMLElementEventMap & { input: InputEvent; } } HTMLElementEventMapFixed */\n\n/**\n * @typedef {(\n * Pick<HTMLElementEventMapFixed,\n *  'auxclick' |\n *  'beforeinput' |\n *  'click' |\n *  'compositionstart' |\n *  'contextmenu' |\n *  'drag' |\n *  'dragenter' |\n *  'dragover' |\n *  'dragstart' |\n *  'drop' |\n *  'invalid' |\n *  'keydown' |\n *  'keypress' |\n *  'keyup' |\n *  'mousedown' |\n *  'mousemove' |\n *  'mouseout' |\n *  'mouseover' |\n *  'mouseup' |\n *  'pointerdown' |\n *  'pointermove' |\n *  'pointerout' |\n *  'pointerover' |\n *  'pointerup' |\n *  'reset' |\n *  'selectstart' |\n *  'submit' |\n *  'touchend' |\n *  'touchmove' |\n *  'touchstart' |\n *  'wheel'\n *  >\n *  )} HTMLElementCancellableEventMap\n */\n\n/**\n * @typedef {(\n *   HTMLElementEventMapFixed\n *   & {[P in keyof HTMLElementCancellableEventMap as `~${P}`]: HTMLElementCancellableEventMap[P]}\n *   & Record<string, Event|CustomEvent<any>>\n * )} CompositionEventMap\n */\n\n/**\n * @template {any} T\n * @template {keyof CompositionEventMap} [K = keyof CompositionEventMap]\n * @typedef {{\n * type?: K\n * tag?: string|symbol,\n * capture?: boolean;\n * once?: boolean;\n * passive?: boolean;\n * signal?: AbortSignal;\n * handleEvent?: (\n *     this: T,\n *     event: (K extends keyof CompositionEventMap ? CompositionEventMap[K] : Event) & {currentTarget:HTMLElement}\n *   ) => any;\n * prop?: string;\n * deepProp?: string[],\n * }} CompositionEventListener\n */\n\n/**\n * @template T\n * @typedef {{\n * [P in keyof CompositionEventMap]?: (keyof T & string)\n *   | ((this: T, event: CompositionEventMap[P] & {currentTarget:HTMLElement}) => any)\n *   | CompositionEventListener<T, P>\n * }} CompositionEventListenerObject\n */\n\n/**\n * @template {any} T\n * @typedef {Object} NodeBindEntry\n * @prop {string} [key]\n * @prop {number} [index]\n * @prop {string} tag\n * @prop {string|number} subnode Index of childNode or attrName\n * @prop {string[]} props\n * @prop {string[][]} deepProps\n * @prop {boolean} [negate]\n * @prop {boolean} [doubleNegate]\n * @prop {Function} [expression]\n * @prop {(options: RenderOptions<?>, element: Element, changes:any, data:any) => any} [render] custom render function\n * @prop {CompositionEventListener<T>[]} [listeners]\n * @prop {Composition<any>} [composition] // Sub composition templating (eg: array)\n * @prop {T} defaultValue\n */\n\n/** @typedef {any[]} RenderState */\n\n/**\n * @typedef RenderGraphSearch\n *  @prop {(state:InitializationState, changes:any, data:any) => any}  invocation\n *  @prop {number}  cacheIndex\n *  @prop {number}  searchIndex\n *  @prop {string | Function | string[]}  query\n *  @prop {boolean} [negate]\n *  @prop {boolean} [doubleNegate]\n *  @prop {Function}  [expression]\n *  @prop {string}  prop\n *  @prop {string[]}  deepProp\n *  @prop {string[]}  propsUsed\n *  @prop {string[][]}  deepPropsUsed\n *  @prop {any} defaultValue\n *  @prop {RenderGraphSearch}  [subSearch]\n */\n\n/**\n * @typedef RenderGraphAction\n * @prop {(state:InitializationState, value:any, changes: any, data:any) => any} invocation\n * @prop {number} [commentIndex]\n * @prop {number} [nodeIndex]\n * @prop {number} [cacheIndex]\n * @prop {string} [attrName]\n * @prop {any} [defaultValue]\n * @prop {RenderGraphSearch} search\n * @prop {InterpolateOptions['injections']} [injections]\n */\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDOMAttribute({ nodes }, value) {\n  const { nodeIndex, attrName } = this;\n  const element = /** @type {Element} */ (nodes[nodeIndex]);\n  switch (value) {\n    case undefined:\n    case null:\n    case false:\n      element.removeAttribute(attrName);\n      return false;\n    case true:\n      element.setAttribute(attrName, '');\n      return '';\n    default:\n      element.setAttribute(attrName, value);\n      return value;\n  }\n}\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDynamicNode({ nodeStates, comments, nodes }, value) {\n  const { commentIndex, nodeIndex } = this;\n  const nodeState = nodeStates[nodeIndex];\n  // eslint-disable-next-line no-bitwise\n  const hidden = nodeState & 0b0001;\n  const show = value != null && value !== false;\n  if (!show) {\n    // Should be hidden\n    if (hidden) return;\n    // Replace whatever node is there with the comment\n    let comment = comments[commentIndex];\n    if (!comment) {\n      comment = createEmptyComment();\n      comments[commentIndex] = comment;\n    }\n    nodes[nodeIndex].replaceWith(comment);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] |= 0b0001;\n    return;\n  }\n  // Must be shown\n  // Update node first (offscreen rendering)\n  const node = nodes[nodeIndex];\n  // eslint-disable-next-line no-bitwise\n  const isDynamicNode = nodeState & 0b0010;\n\n  if (typeof value === 'object') {\n    // Not string data, need to replace\n    console.warn('Dynamic nodes not supported yet');\n  } else if (isDynamicNode) {\n    const textNode = new Text(value);\n    node.replaceWith(textNode);\n    nodes[nodeIndex] = textNode;\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] &= ~0b0010;\n  } else {\n    /** @type {Text} */ (node).data = value;\n  }\n\n  // Updated, now set hidden state\n\n  if (hidden) {\n    const comment = comments[commentIndex];\n    comment.replaceWith(node);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] &= ~0b0001;\n  }\n  // Done\n}\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDOMElementAttachedState({ nodeStates, nodes, comments }, value) {\n  const { commentIndex, nodeIndex } = this;\n  // eslint-disable-next-line no-bitwise\n  const hidden = nodeStates[nodeIndex] & 1;\n  const show = value != null && value !== false;\n  if (show === !hidden) return;\n\n  const element = nodes[nodeIndex];\n  let comment = comments[commentIndex];\n  if (!comment) {\n    comment = createEmptyComment();\n    comments[commentIndex] = comment;\n  }\n  if (show) {\n    comment.replaceWith(element);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] &= ~0b0001;\n  } else {\n    element.replaceWith(comment);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] |= 0b0001;\n  }\n}\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDOMHideNodeOnInit({ comments, nodeStates, nodes }) {\n  const { commentIndex, nodeIndex } = this;\n\n  const comment = createEmptyComment();\n  comments[commentIndex] = comment;\n  // eslint-disable-next-line no-bitwise\n  nodeStates[nodeIndex] |= 1;\n\n  nodes[nodeIndex].replaceWith(comment);\n}\n\n/**\n * @param {RenderGraphSearch} search\n * @param {Parameters<RenderGraphSearch['invocation']>} args\n */\nfunction executeSearch(search, ...args) {\n  const [{ caches, searchStates }] = args;\n  const { cacheIndex, searchIndex, subSearch, invocation } = search;\n  const cachedValue = caches[cacheIndex];\n  const searchState = searchStates[searchIndex];\n\n  // Ran   = 0b0001\n  // Dirty = 0b0010\n  // eslint-disable-next-line no-bitwise\n  if (searchState & 0b0001) {\n    // Return last result\n    return {\n      value: cachedValue,\n      // eslint-disable-next-line no-bitwise\n      dirty: ((searchState & 0b0010) === 0b0010),\n    };\n  }\n\n  // eslint-disable-next-line no-bitwise\n  searchStates[searchIndex] |= 0b0001;\n  let result;\n  if (invocation) {\n    if (subSearch) {\n      const subResult = executeSearch(subSearch, ...args);\n      // Use last cached value (if any)\n      if (!subResult.dirty && cachedValue !== undefined) {\n        // eslint-disable-next-line no-bitwise\n        searchStates[searchIndex] &= ~0b0010;\n        return { value: cachedValue, dirty: false };\n      }\n      // Pass from subquery\n      result = search.invocation(subResult.value);\n    } else {\n      result = search.invocation(...args);\n    }\n    if ((result === undefined) || (cachedValue === result)) {\n      // Return from cache\n      return { value: result, dirty: false };\n    }\n  }\n\n  // Overwrite cache and flag as dirty\n  caches[cacheIndex] = result;\n  // eslint-disable-next-line no-bitwise\n  searchStates[searchIndex] |= 0b0010;\n  return { value: result, dirty: true };\n}\n\n/**\n * @type {RenderGraphSearch['invocation']}\n * @this {RenderGraphSearch}\n */\nfunction searchWithExpression({ options: { context, store, injections } }, changes, data) {\n  return this.expression.call(\n    context,\n    store ?? data,\n    injections,\n  );\n}\n\n/**\n * @type {RenderGraphSearch['invocation']}\n * @this {RenderGraphSearch}\n */\nfunction searchWithProp(state, changes) {\n  return changes[this.prop];\n}\n\n/**\n * @type {RenderGraphSearch['invocation']}\n * @this {RenderGraphSearch}\n */\nfunction searchWithDeepProp(state, changes, data) {\n  let scope = changes;\n  for (const prop of this.deepProp) {\n    if (scope === null) return null;\n    if (prop in scope === false) return undefined;\n    scope = scope[prop];\n  }\n  return scope;\n}\n\n/**\n * @typedef InterpolateOptions\n * @prop {Record<string,any>} [defaults] Default values to use for interpolation\n * @prop {{iterable:string} & Record<string,any> & {index:number}} [injections] Context-specific injected properties. (Experimental)\n */\n\n/**\n * @typedef InitializationState\n * @prop {Element} lastElement\n * @prop {ChildNode} lastChildNode\n * @prop {(Element|Text)[]} nodes\n * @prop {any[]} caches\n * @prop {Comment[]} comments\n * @prop {Uint8Array} nodeStates\n * @prop {Uint8Array} searchStates\n * @prop {HTMLElement[]} refs\n * @prop {number} lastChildNodeIndex\n * @prop {RenderOptions<?>} options\n */\n\n/** Splits: `{template}text{template}` as `['', 'template', 'text', 'template', '']` */\nconst STRING_INTERPOLATION_REGEX = /{([^}]*)}/g;\n\n/**\n * Returns event listener bound to shadow root host.\n * Use this function to avoid generating extra closures\n * @this {HTMLElement}\n * @param {Function} fn\n */\nfunction buildShadowRootChildListener(fn) {\n  /** @param {Event & {currentTarget:{getRootNode: () => ShadowRoot}}} event */\n  return function onShadowRootChildEvent(event) {\n    const host = event.currentTarget.getRootNode().host;\n    fn.call(host, event);\n  };\n}\n\n/**\n * @example\n *  propFromObject('foo', {foo:'bar'}) == ['foo', 'bar'];\n * @param {string} prop\n * @param {any} source\n * @return {any}\n */\nfunction propFromObject(prop, source) {\n  if (source) {\n    return source[prop];\n  }\n  return undefined;\n}\n\n/**\n * @example\n *  deepPropFromObject(\n *    ['address', 'home, 'houseNumber'],\n *    {\n *      address: {\n *        home: {\n *          houseNumber:35,\n *        },\n *      }\n *    }\n * ) == [houseNumber, 35]\n * @param {string[]} nameArray\n * @param {any} source\n * @return {any}\n */\nfunction deepPropFromObject(nameArray, source) {\n  if (!source) return undefined;\n  let scope = source;\n  let prop;\n  for (prop of nameArray) {\n    if (typeof scope === 'object') {\n      if (scope === null) return null;\n      if (!(prop in scope)) return undefined;\n      scope = scope[prop];\n    } else {\n      return scope[prop];\n    }\n  }\n  return scope;\n}\n\n/**\n * @param {string} prop\n * @param {any} source\n * @return {any}\n */\nfunction valueFromPropName(prop, source) {\n  let value = source;\n  for (const child of prop.split('.')) {\n    if (!child) return null;\n    // @ts-ignore Skip cast\n    value = value[child];\n    if (value == null) return null;\n  }\n  if (value === source) return null;\n  return value;\n}\n\nconst compositionCache = new Map();\n\n/** @template T */\nexport default class Composition {\n  static EVENT_PREFIX_REGEX = /^([*1~]+)?(.*)$/;\n\n  _interpolationState = {\n    nodeIndex: -1,\n    searchIndex: 0,\n    cacheIndex: 0,\n    commentIndex: 0,\n    /** @type {this['nodesToBind'][0]} */\n    nodeEntry: null,\n  };\n\n  // eslint-disable-next-line symbol-description\n  static shadowRootTag = Symbol();\n\n  /** @type {{tag:string, textNodes: number[]}[]} */\n  nodesToBind = [];\n\n  /** @type {string[]} */\n  props = [];\n\n  /** @type {RenderGraphSearch[]} */\n  searches = [];\n\n  /** @type {any[]} */\n  initCache = [];\n\n  /**\n   * Index of searches by query (dotted notation for deep props)\n   * @type {Map<Function|string, RenderGraphSearch>}\n   */\n  searchByQuery;\n\n  /**\n   * Index of searches by query (dotted notation for deep props)\n   * @type {Map<string, RenderGraphAction[]>}\n   */\n  actionsByPropsUsed;\n\n  /** @type {RenderGraphAction[]} */\n  postInitActions = [];\n\n  /** @type {Set<string>} */\n  tagsWithBindings;\n\n  /**\n   * Array of element tags\n   * @type {string[]}\n   */\n  tags = [];\n\n  /**\n   * Data of arrays used in templates\n   * Usage of a [mdw-for] will create an ArrayLike expectation based on key\n   * Only store metadata, not actual data. Currently only needs length.\n   * TBD if more is needed later\n   * Referenced by property key (string)\n   * @type {CompositionAdapter<T>}\n   */\n  adapter;\n\n  /**\n   * Collection of events to bind.\n   * Indexed by ID\n   * @type {Map<string|symbol, CompositionEventListener<any>[]>}\n   */\n  events;\n\n  /**\n   * Snapshot of composition at initial state.\n   * This fragment can be cloned for first rendering, instead of calling\n   * of using `render()` to construct the initial DOM tree.\n   * @type {DocumentFragment}\n   */\n  cloneable;\n\n  /** @type {(HTMLStyleElement|CSSStyleSheet)[]} */\n  styles = [];\n\n  /** @type {CSSStyleSheet[]} */\n  adoptedStyleSheets = [];\n\n  /** @type {DocumentFragment} */\n  stylesFragment;\n\n  /**\n   * List of IDs used by template elements\n   * May be needed to be removed when adding to non-DocumentFragment\n   * @type {string[]}\n   */\n  allIds = [];\n\n  /**\n   * Collection of IDs used for referencing elements\n   * Not meant for live DOM. Removed before attaching to document\n   */\n  /** @type {Set<string>} */\n  temporaryIds;\n\n  /** Flag set when template and styles have been interpolated */\n  interpolated = false;\n\n  /**\n   * @param {(CompositionPart<T>)[]} parts\n   */\n  constructor(...parts) {\n    /**\n     * Template used to build interpolation and cloneable\n     */\n    this.template = generateFragment();\n    this.append(...parts);\n  }\n\n  * [Symbol.iterator]() {\n    for (const part of this.styles) {\n      yield part;\n    }\n    yield this.template;\n  }\n\n  /**\n   * @template T\n   * @param  {ConstructorParameters<typeof Composition<T>>} parts\n   * @return {Composition<T>}\n   */\n  static compose(...parts) {\n    for (const [cache, comp] of compositionCache) {\n      if (cache.length !== parts.length) continue;\n      if (parts.every((part, index) => part === cache[index])) {\n        return comp;\n      }\n    }\n\n    const composition = new Composition(...parts);\n    compositionCache.set(parts, composition);\n    return composition;\n  }\n\n  /**\n   * @param {CompositionPart<T>[]} parts\n   */\n  append(...parts) {\n    for (const part of parts) {\n      if (typeof part === 'string') {\n        this.append(generateFragment(part.trim()));\n      } else if (part instanceof Composition) {\n        this.append(...part);\n      } else if (part instanceof DocumentFragment) {\n        this.template.append(part);\n      } else if (part instanceof CSSStyleSheet || part instanceof HTMLStyleElement) {\n        this.styles.push(part);\n      }\n    }\n    // Allow chaining\n    return this;\n  }\n\n  /** @param {CompositionEventListener<T>} listener */\n  addCompositionEventListener(listener) {\n    const key = listener.tag ?? '';\n    // eslint-disable-next-line no-multi-assign\n    const events = (this.events ??= new Map());\n    if (events.has(key)) {\n      events.get(key).push(listener);\n    } else {\n      events.set(key, [listener]);\n    }\n    return this;\n  }\n\n  /**\n   * @param {string|symbol} tag\n   * @param {EventTarget} target\n   * @param {any} [context]\n   * @return {void}\n   */\n  #bindCompositionEventListeners(tag, target, context) {\n    if (!this.events?.has(tag)) return;\n    for (const event of this.events.get(tag)) {\n      let listener;\n      if (event.handleEvent) {\n        listener = event.handleEvent;\n      } else if (event.deepProp.length) {\n        listener = deepPropFromObject(event.deepProp, this.interpolateOptions.defaults);\n      } else {\n        listener = propFromObject(event.prop, this.interpolateOptions.defaults);\n      }\n      target.addEventListener(event.type, context ? listener.bind(context) : listener, event);\n    }\n  }\n\n  /**\n   * TODO: Add types and clean up closure leak\n   * Updates component nodes based on data.\n   * Expects data in JSON Merge Patch format\n   * @see https://www.rfc-editor.org/rfc/rfc7386\n   * @template {Object} T\n   * @param {Partial<T>} changes what specifically\n   * @param {T} [data]\n   * @param {RenderOptions<T>} [options]\n   * @return {RenderDraw<T>} anchor\n   */\n  render(changes, data, options = {}) {\n    // console.log('render', changes, options);\n    if (!this.interpolated) {\n      this.interpolate({\n        defaults: data ?? changes,\n        ...options,\n      });\n    }\n\n    const instanceFragment = /** @type {DocumentFragment} */ (this.cloneable.cloneNode(true));\n\n    const shadowRoot = options.shadowRoot;\n    const target = shadowRoot ?? options.target ?? instanceFragment.firstElementChild;\n\n    /** @type {InitializationState} */\n    const initState = {\n      lastChildNode: null,\n      lastChildNodeIndex: 0,\n      lastElement: null,\n      nodeStates: new Uint8Array(this._interpolationState.nodeIndex + 1),\n      searchStates: new Uint8Array(this._interpolationState.searchIndex),\n      comments: [],\n      nodes: [],\n      caches: this.initCache.slice(),\n      refs: [],\n      options,\n    };\n\n    const { nodes, refs, searchStates, caches } = initState;\n    for (const { tag, textNodes } of this.nodesToBind) {\n      /** @type {Text} */\n      let textNode;\n      if (tag === '') {\n        if (!textNodes.length) {\n          console.warn('why was root tagged?');\n          continue;\n        }\n        console.warn('found empty tag??');\n        refs.push(null);\n        nodes.push(null);\n        textNode = /** @type {Text} */ (instanceFragment.firstChild);\n      } else {\n        const element = instanceFragment.getElementById(tag);\n        refs.push(element);\n        nodes.push(element);\n        this.#bindCompositionEventListeners(tag, element, options.context);\n        if (!textNodes.length) continue;\n        textNode = /** @type {Text} */ (element.firstChild);\n      }\n\n      let currentIndex = 0;\n      for (const index of textNodes) {\n        while (index !== currentIndex) {\n          textNode = /** @type {Text} */ (textNode.nextSibling);\n          currentIndex++;\n        }\n        nodes.push(textNode);\n      }\n    }\n    this.#bindCompositionEventListeners('', options.context);\n    this.#bindCompositionEventListeners(Composition.shadowRootTag, options.context.shadowRoot, options.context);\n\n    for (const action of this.postInitActions) {\n      action.invocation(initState);\n    }\n\n    /**\n     * @param {Partial<T>} changes\n     * @param {T} data\n     */\n    const draw = (changes, data) => {\n      let ranSearch = false;\n      for (const prop of this.props) {\n        if (!this.actionsByPropsUsed?.has(prop)) continue;\n        if (!(prop in changes)) continue;\n        const actions = this.actionsByPropsUsed.get(prop);\n        for (const action of actions) {\n          ranSearch = true;\n          const { dirty, value } = executeSearch(action.search, initState, changes, data);\n          if (dirty) {\n            // console.log('dirty, updating from batch', initState.nodes[action.nodeIndex], 'with', value);\n            action.invocation(initState, value, changes, data);\n          }\n        }\n      }\n      if (!ranSearch) return;\n      searchStates.fill(0);\n    };\n\n    if (shadowRoot) {\n      options.context ??= shadowRoot.host;\n      if ('adoptedStyleSheets' in shadowRoot) {\n        if (this.adoptedStyleSheets.length) {\n          shadowRoot.adoptedStyleSheets = [\n            ...shadowRoot.adoptedStyleSheets,\n            ...this.adoptedStyleSheets,\n          ];\n        }\n      } else if (this.stylesFragment.hasChildNodes()) {\n        instanceFragment.prepend(this.stylesFragment.cloneNode(true));\n      }\n    } else {\n      options.context ??= target;\n    }\n\n    if (changes !== this.interpolateOptions.defaults) {\n      // Not default, overwrite nodes\n      draw(changes, data);\n    }\n\n    if (shadowRoot) {\n      shadowRoot.append(instanceFragment);\n      customElements.upgrade(shadowRoot);\n    }\n\n    draw.target = target;\n\n    /**\n     * @param {keyof T & string} prop\n     * @param {any} value\n     * @param {Partial<T>} [data]\n     */\n    draw.byProp = (prop, value, data) => {\n      if (!this.actionsByPropsUsed?.has(prop)) return;\n      let ranSearch = false;\n\n      // Update search\n      if (this.searchByQuery?.has(prop)) {\n        ranSearch = true;\n        const search = this.searchByQuery.get(prop);\n        const cachedValue = caches[search.cacheIndex];\n        if (cachedValue === value) {\n          return;\n        }\n        caches[search.cacheIndex] = value;\n        searchStates[search.searchIndex] = 0b0011;\n      }\n\n      /** @type {Partial<T>} */\n      let changes;\n      const actions = this.actionsByPropsUsed.get(prop);\n      for (const action of actions) {\n        if (action.search.query === prop) {\n          action.invocation(initState, value);\n        } else {\n          // @ts-expect-error Skip cast\n          changes ??= { [prop]: value };\n          data ??= changes;\n          ranSearch = true;\n          const result = executeSearch(action.search, initState, changes, data);\n          if (result.dirty) {\n            // console.debug('dirty, updating by prop', prop, initState.nodes[action.nodeIndex], 'with', result.value);\n            action.invocation(initState, result.value, changes, data);\n          }\n        }\n      }\n\n      if (!ranSearch) return;\n      searchStates.fill(0);\n    };\n    draw.state = initState;\n    return draw;\n  }\n\n  /**\n   * @param {Attr|Text} node\n   * @param {Element|null} [element]\n   * @param {InterpolateOptions} [options]\n   * @param {string} [parsedValue]\n   * @return {true|undefined} remove node\n   */\n  #interpolateNode(node, element, options, parsedValue) {\n    const { nodeValue, nodeName, nodeType } = node;\n\n    /** @type {Attr} */\n    let attr;\n    /** @type {Text} */\n    let text;\n    if (nodeType === Node.ATTRIBUTE_NODE) {\n      attr = /** @type {Attr} */ (node);\n    } else {\n      text = /** @type {Text} */ (node);\n    }\n\n    // Get template strings(s) in node if not passed\n    if (parsedValue == null) {\n      if (!nodeValue) return;\n      const trimmed = nodeValue.trim();\n      if (!trimmed) return;\n      if (attr || element?.tagName === 'STYLE') {\n        if (trimmed[0] !== '{') return;\n        const { length } = trimmed;\n        if (trimmed[length - 1] !== '}') return;\n        parsedValue = trimmed.slice(1, -1);\n        // TODO: Support segmented attribute values\n      } else {\n        // Split text node into segments\n        // TODO: Benchmark indexOf pre-check vs regex\n\n        const segments = trimmed.split(STRING_INTERPOLATION_REGEX);\n        if (segments.length < 3) return;\n        if (segments.length === 3 && !segments[0] && !segments[2]) {\n          parsedValue = segments[1];\n        } else {\n          for (const [index, segment] of segments.entries()) {\n            // is even = is template string\n            if (index % 2) {\n              const newNode = createEmptyTextNode();\n              text.before(newNode);\n              this.#interpolateNode(newNode, element, options, segment);\n            } else if (segment) {\n              text.before(segment);\n            }\n          }\n          // eslint-disable-next-line consistent-return\n          return true;\n        }\n      }\n    }\n\n    // Check mutations\n\n    const query = parsedValue;\n    const negate = parsedValue[0] === '!';\n    let doubleNegate = false;\n    if (negate) {\n      parsedValue = parsedValue.slice(1);\n      doubleNegate = parsedValue[0] === '!';\n      if (doubleNegate) {\n        parsedValue = parsedValue.slice(1);\n      }\n    }\n\n    let isEvent;\n    let textNodeIndex;\n\n    if (text) {\n      // eslint-disable-next-line unicorn/consistent-destructuring\n      if (element !== text.parentElement) {\n        console.warn('mismatch?');\n        element = text.parentElement;\n      }\n      textNodeIndex = 0;\n      /** @type {ChildNode} */\n      let prev = text;\n      while ((prev = prev.previousSibling)) {\n        textNodeIndex++;\n      }\n    } else {\n      // @ts-ignore Skip cast\n      // eslint-disable-next-line unicorn/consistent-destructuring\n      if (element !== attr.ownerElement) {\n        console.warn('mismatch?');\n        element = attr.ownerElement;\n      }\n      if (nodeName.startsWith('on')) {\n        // Do not interpolate inline event listeners\n        const hyphenIndex = nodeName.indexOf('-');\n        if (hyphenIndex === -1) return;\n        isEvent = hyphenIndex === 2;\n      }\n    }\n\n    if (isEvent) {\n      element.removeAttribute(nodeName);\n      const tag = this.#tagElement(element);\n      const eventType = nodeName.slice(3);\n      const [, flags, type] = eventType.match(/^([*1~]+)?(.*)$/);\n\n      let handleEvent;\n      /** @type {string} */\n      let prop;\n      /** @type {string[]} */\n      let deepProp = [];\n      if (parsedValue.startsWith('#')) {\n        handleEvent = inlineFunctions.get(parsedValue).fn;\n      } else {\n        const parsedProps = parsedValue.split('.');\n        if (parsedProps.length === 1) {\n          prop = parsedValue;\n          deepProp = [];\n        } else {\n          prop = parsedProps[0];\n          deepProp = parsedProps;\n        }\n      }\n\n      this.addCompositionEventListener({\n        tag,\n        type,\n        handleEvent,\n        prop,\n        deepProp,\n        once: flags?.includes('1'),\n        passive: flags?.includes('~'),\n        capture: flags?.includes('*'),\n      });\n\n      return;\n    }\n\n    /** @type {RenderGraphSearch} */\n    let search;\n\n    if (this.searchByQuery?.has(query)) {\n      search = this.searchByQuery.get(query);\n    } else {\n      // Has subquery?\n      const subquery = parsedValue;\n      const isSubquery = subquery !== query;\n      /** @type {RenderGraphSearch} */\n      let subSearch;\n      if (isSubquery && this.searchByQuery?.has(subquery)) {\n        subSearch = this.searchByQuery.get(subquery);\n      } else {\n        // Construct subsearch, even is not subquery.\n        /** @type {Function} */\n        let expression;\n        /** @type {string[]} */\n        let propsUsed;\n        /** @type {string[][]} */\n        let deepPropsUsed;\n        let defaultValue;\n        let prop;\n        let deepProp;\n        let invocation;\n\n        let inlineFunctionOptions;\n        // Is Inline Function?\n        if (parsedValue.startsWith('#')) {\n          inlineFunctionOptions = inlineFunctions.get(parsedValue);\n          if (!inlineFunctionOptions) {\n            console.warn(`Invalid interpolation value: ${parsedValue}`);\n            return;\n          }\n          expression = inlineFunctionOptions.fn;\n          invocation = searchWithExpression;\n          if (inlineFunctionOptions.props) {\n          // console.log('This function has already been called. Reuse props', inlineFunctionOptions, this);\n            propsUsed = inlineFunctionOptions.props;\n            deepPropsUsed = inlineFunctionOptions.deepProps;\n            defaultValue = inlineFunctionOptions.defaultValue ?? null;\n          } else {\n            defaultValue = inlineFunctionOptions.fn;\n          }\n        } else {\n          defaultValue = null;\n          if (options?.defaults) {\n            defaultValue = deepPropFromObject(parsedValue.split('.'), options.defaults) ?? null;\n          }\n          if (defaultValue == null && options?.injections) {\n            defaultValue = valueFromPropName(parsedValue, options.injections);\n            // console.log('default value from injection', parsedValue, { defaultValue });\n          }\n        }\n\n        if (!propsUsed) {\n          if (typeof defaultValue === 'function') {\n          // Value must be reinterpolated and function observed\n            const observeResult = observeFunction.call(this, defaultValue, options?.defaults, options?.injections);\n            const uniqueProps = new Set([\n              ...observeResult.props.this,\n              ...observeResult.props.args[0],\n              ...observeResult.props.args[1],\n            ]);\n            const uniqueDeepProps = new Set([\n              ...observeResult.deepPropStrings.this,\n              ...observeResult.deepPropStrings.args[0],\n            ]);\n            expression = defaultValue;\n            defaultValue = observeResult.defaultValue;\n            propsUsed = [...uniqueProps];\n            deepPropsUsed = [...uniqueDeepProps].map((deepPropString) => deepPropString.split('.'));\n            invocation = searchWithExpression;\n          // console.log(this.static.name, fn.name || parsedValue, combinedSet);\n          } else {\n          // property binding\n            const parsedProps = parsedValue.split('.');\n            if (parsedProps.length === 1) {\n              prop = parsedValue;\n              propsUsed = [prop];\n              invocation = searchWithProp;\n            } else {\n              propsUsed = [parsedProps[0]];\n              deepProp = parsedProps;\n              deepPropsUsed = [parsedProps];\n              invocation = searchWithDeepProp;\n            }\n\n            // TODO: Rewrite property as deep with array index?\n          }\n        }\n\n        if (inlineFunctionOptions) {\n          inlineFunctionOptions.defaultValue = defaultValue;\n          inlineFunctionOptions.props = propsUsed;\n          inlineFunctionOptions.deepProps = deepPropsUsed;\n        }\n        subSearch = {\n          cacheIndex: this._interpolationState.cacheIndex++,\n          searchIndex: this._interpolationState.searchIndex++,\n          query: subquery,\n          defaultValue,\n          subSearch: null,\n          prop,\n          propsUsed,\n          deepProp,\n          deepPropsUsed,\n          invocation,\n          expression,\n        };\n        this.addSearch(subSearch);\n      }\n      if (isSubquery) {\n        search = {\n          cacheIndex: this._interpolationState.cacheIndex++,\n          searchIndex: this._interpolationState.searchIndex++,\n          query,\n          subSearch,\n          negate,\n          doubleNegate,\n          prop: subSearch.prop,\n          deepProp: subSearch.deepProp,\n          propsUsed: subSearch.propsUsed,\n          deepPropsUsed: subSearch.deepPropsUsed,\n          defaultValue: doubleNegate ? !!subSearch.defaultValue\n            : (negate ? !subSearch.defaultValue : subSearch.defaultValue),\n          invocation(value) {\n            if (this.doubleNegate) return !!value;\n            if (this.negate) return !value;\n            console.warn('Unknown query mutation', this.query);\n            return value;\n          },\n        };\n        this.addSearch(search);\n      } else {\n        // Store as search instead\n        search = subSearch;\n      }\n    }\n\n    // Tag\n    let tag;\n    let subnode = null;\n    let defaultValue = search.defaultValue;\n    if (text) {\n      subnode = textNodeIndex;\n    } else if (nodeName === 'mdw-if') {\n      tag = this.#tagElement(element);\n      element.removeAttribute(nodeName);\n      defaultValue = defaultValue != null && defaultValue !== false;\n    } else {\n      subnode = nodeName;\n      if (nodeName === 'id' || defaultValue == null || defaultValue === false) {\n        element.removeAttribute(nodeName);\n      } else {\n        element.setAttribute(nodeName, defaultValue === true ? '' : defaultValue);\n      }\n    }\n\n    tag ??= this.#tagElement(element);\n\n    // Node entry\n    let nodeEntry = this._interpolationState.nodeEntry;\n    if (!nodeEntry || nodeEntry.tag !== tag) {\n      nodeEntry = {\n        tag,\n        textNodes: [],\n      };\n      this._interpolationState.nodeEntry = nodeEntry;\n      this.nodesToBind.push(nodeEntry);\n      this._interpolationState.nodeIndex++;\n    }\n\n    /** @type {RenderGraphAction} */\n    let action;\n\n    // Node Action\n    if (text) {\n      nodeEntry.textNodes.push(textNodeIndex);\n\n      this._interpolationState.nodeIndex++;\n      action = {\n        nodeIndex: this._interpolationState.nodeIndex,\n        commentIndex: this._interpolationState.commentIndex++,\n        invocation: writeDynamicNode,\n        defaultValue,\n        search,\n      };\n      switch (typeof defaultValue) {\n        case 'string':\n          text.data = defaultValue;\n          break;\n        case 'number':\n          // Manually coerce to string (0 will be empty otherwise)\n          text.data = `${defaultValue}`;\n          break;\n        default:\n          text.data = '';\n          break;\n      }\n    } else if (subnode) {\n      action = {\n        nodeIndex: this._interpolationState.nodeIndex,\n        attrName: /** @type {string} */ (subnode),\n        defaultValue,\n        invocation: writeDOMAttribute,\n        search,\n      };\n    } else {\n      action = {\n        nodeIndex: this._interpolationState.nodeIndex,\n        commentIndex: this._interpolationState.commentIndex++,\n        defaultValue,\n        invocation: writeDOMElementAttachedState,\n        search,\n      };\n      if (!defaultValue) {\n        this.postInitActions.push({\n          ...action,\n          invocation: writeDOMHideNodeOnInit,\n        });\n      }\n    }\n\n    this.addAction(action);\n    // eslint-disable-next-line no-multi-assign\n    const tagsWithBindings = (this.tagsWithBindings ??= new Set());\n    tagsWithBindings.add(tag);\n  }\n\n  /**\n   * @param {Element} element\n   * @return {string}\n   */\n  #tagElement(element) {\n    if (!element) return '';\n    let id = element.id;\n    if (id) {\n      if (!this.allIds.includes(id)) {\n        this.allIds.push(id);\n      }\n    } else {\n      id = generateUID();\n      // eslint-disable-next-line no-multi-assign\n      const temporaryIds = (this.temporaryIds ??= new Set());\n      temporaryIds.add(id);\n      this.allIds.push(id);\n      element.id = id;\n    }\n    return id;\n  }\n\n  /**\n   * TODO: Subtemplating lacks optimization, though functional.\n   * - Would benefit from custom type handler for arrays\n   * to avoid multi-iteration change-detection.\n   * - Could benefit from debounced/throttled render\n   * - Consider remap of {item.prop} as {array[index].prop}\n   * @param {Element} element\n   * @param {InterpolateOptions} options\n   * @return {?Composition<?>}\n   */\n  #interpolateIterable(element, options) {\n    // TODO: Microbenchmark element.attributes\n    const forAttr = element.getAttribute('mdw-for');\n    const trimmed = forAttr?.trim();\n    if (!trimmed) {\n      console.warn('Malformed mdw-for found at', element);\n      return null;\n    }\n\n    if (trimmed[0] !== '{') {\n      console.warn('Malformed mdw-for found at', element);\n      return null;\n    }\n    const { length } = trimmed;\n    if (trimmed[length - 1] !== '}') {\n      console.warn('Malformed mdw-for found at', element);\n      return null;\n    }\n    const parsedValue = trimmed.slice(1, -1);\n    const [valueName, iterableName] = parsedValue.split(/\\s+of\\s+/);\n    element.removeAttribute('mdw-for');\n    // Create a new composition targetting element as root\n\n    const elementAnchor = element.ownerDocument.createElement('template');\n    element.replaceWith(elementAnchor);\n    const tag = this.#tagElement(elementAnchor);\n    // console.log('tagging placeholder element with', elementAnchor, tag);\n\n    let nodeEntry = this._interpolationState.nodeEntry;\n    if (!nodeEntry || nodeEntry.tag !== tag) {\n      nodeEntry = {\n        tag,\n        textNodes: [],\n      };\n      this._interpolationState.nodeEntry = nodeEntry;\n      this.nodesToBind.push(nodeEntry);\n      this._interpolationState.nodeIndex++;\n    }\n\n    const newComposition = new Composition();\n    newComposition.template.append(element);\n    // Move uninterpolated element to new composition template.\n    /** @type {InterpolateOptions['injections']} */\n    const injections = {\n      ...options.injections,\n      [valueName]: null,\n      index: null,\n    };\n\n    const propsUsed = [iterableName];\n    /** @type {RenderGraphSearch} */\n    const search = {\n      cacheIndex: this._interpolationState.cacheIndex++,\n      searchIndex: this._interpolationState.searchIndex++,\n      query: null,\n      prop: null,\n      deepProp: null,\n      propsUsed,\n      deepPropsUsed: [[iterableName]],\n      defaultValue: {},\n      invocation: null,\n    };\n\n    /** @type {RenderGraphAction} */\n    const action = {\n      defaultValue: null,\n      nodeIndex: this._interpolationState.nodeIndex,\n      search,\n      commentIndex: this._interpolationState.commentIndex++,\n      injections,\n      invocation(state, value, changes, data) {\n        if (!newComposition.adapter) {\n          // console.log({ state.options });\n          const instanceAnchorElement = state.nodes[this.nodeIndex];\n          const anchorNode = createEmptyComment();\n          // Avoid leak\n          state.comments[this.commentIndex] = anchorNode;\n          instanceAnchorElement.replaceWith(anchorNode);\n          newComposition.adapter = new CompositionAdapter({\n            anchorNode,\n            composition: newComposition,\n            renderOptions: {\n              target: null,\n              context: state.options.context,\n              store: state.options.store,\n              injections: this.injections,\n            },\n          });\n        }\n        const { adapter } = newComposition;\n        const iterable = (data ?? state.options.store)[iterableName];\n        // Remove oversized\n        if (!iterable || iterable.length === 0) {\n          adapter.removeEntries();\n          return;\n        }\n        const changeList = changes[iterableName];\n        const innerChanges = { ...changes };\n        const needTargetAll = newComposition.props.some((prop) => prop !== iterableName && prop in changes);\n\n        adapter.startBatch();\n        let isArray;\n        if (!needTargetAll && !(isArray = Array.isArray(changeList))) {\n          const iterator = isArray ? changeList.entries() : Object.entries(changeList);\n          // console.log('changeList render', iterator);\n          for (const [key, change] of iterator) {\n            if (key === 'length') continue;\n            if (change === null) {\n              // console.warn('null?', 'remove?', key);\n              continue;\n            }\n            const index = (+key);\n            const resource = iterable[index];\n            innerChanges[valueName] = change;\n            this.injections[valueName] = resource;\n            this.injections.index = index;\n\n            adapter.renderData(index, innerChanges, data, resource, change);\n          }\n        } else {\n          if (!changeList) {\n            delete innerChanges[valueName];\n          }\n          // console.log('full array render', iterable);\n          for (const [index, resource] of iterable.entries()) {\n            let change;\n            if (changeList) {\n              // console.warn('full array render has changeList?', changeList);\n              if (!needTargetAll && !(index in changeList)) {\n                console.warn('huh?');\n                continue;\n              }\n              change = changeList[index];\n              if (change === null) {\n                // console.warn('remove?');\n                continue;\n              }\n              innerChanges[valueName] = change;\n            }\n            this.injections[valueName] = resource;\n            this.injections.index = index;\n\n            adapter.renderData(index, innerChanges, data, resource, change);\n            // adapter.renderIndex(index, innerChanges, data, resource);\n          }\n        }\n        adapter.stopBatch();\n\n        adapter.removeEntries(iterable.length);\n      },\n\n    };\n\n    newComposition.interpolate({\n      defaults: options.defaults,\n      injections,\n    });\n\n    propsUsed.push(...newComposition.props);\n    this.addSearch(search);\n    this.addAction(action);\n    // eslint-disable-next-line no-multi-assign\n    const tagsWithBindings = (this.tagsWithBindings ??= new Set());\n    tagsWithBindings.add(tag);\n    // console.log('adding', iterable, 'bind to', this);\n    // this.addBinding(iterable, entry);\n    return newComposition;\n  }\n\n  /**\n   * @param {InterpolateOptions} [options]\n   */\n  interpolate(options) {\n    this.interpolateOptions = options;\n    // console.log('Template', [...this.template.children].map((child) => child.outerHTML).join('\\n'));\n\n    // Copy template before working on it\n    // Store into `cloneable` to split later into `interpolation`\n    this.cloneable = /** @type {DocumentFragment} */ (this.template.cloneNode(true));\n\n    const TREE_WALKER_FILTER = 5; /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT */\n\n    const treeWalker = document.createTreeWalker(this.cloneable, TREE_WALKER_FILTER);\n    /** Note: `node` and treeWalker.currentNode may deviate */\n    let node = treeWalker.nextNode();\n    while (node) {\n      /** @type {Element} */\n      let element = null;\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          element = /** @type {Element} */ (node);\n          if (element.tagName === 'TEMPLATE') {\n            while (element.contains(node = treeWalker.nextNode()));\n            continue;\n          }\n\n          if (element.tagName === 'SCRIPT') {\n            console.warn('<script> element found.');\n            while (element.contains(node = treeWalker.nextNode()));\n            continue;\n          }\n\n          if (element.hasAttribute('mdw-for')) {\n            while (element.contains(node = treeWalker.nextNode()));\n            this.#interpolateIterable(element, options);\n            continue;\n          } else {\n            // @ts-expect-error Bad typings\n            const idAttr = element.attributes.id;\n            if (idAttr) {\n              this.#interpolateNode(idAttr, element, options);\n              this.#tagElement(element);\n            }\n            for (const attr of [...element.attributes].reverse()) {\n              if (attr.nodeName === 'id') continue; // Already handled\n              this.#interpolateNode(attr, element, options);\n            }\n          }\n\n          break;\n        case Node.TEXT_NODE:\n          element = node.parentElement;\n          if (this.#interpolateNode(/** @type {Text} */ (node), element, options)) {\n            const nextNode = treeWalker.nextNode();\n            /** @type {Text} */ (node).remove();\n            node = nextNode;\n            continue;\n          }\n          break;\n        default:\n          throw new Error(`Unexpected node type: ${node.nodeType}`);\n      }\n      node = treeWalker.nextNode();\n    }\n\n    if ('adoptedStyleSheets' in document) {\n      this.adoptedStyleSheets = [\n        ...generateCSSStyleSheets(this.styles),\n      ];\n    } else {\n      this.stylesFragment = generateFragment();\n      this.stylesFragment.append(\n        ...generateHTMLStyleElements(this.styles),\n      );\n    }\n\n    this.props = this.actionsByPropsUsed\n      ? [...this.actionsByPropsUsed.keys()]\n      : [];\n\n    for (const id of this.allIds) {\n      if (!this.tagsWithBindings?.has(id)) {\n        this.nodesToBind.push({\n          tag: id,\n          textNodes: [],\n        });\n      }\n    }\n\n    this.tags = this.nodesToBind.map((n) => n.tag);\n    this.interpolated = true;\n\n    // console.log('Cloneable', [...this.cloneable.children].map((child) => child.outerHTML).join('\\n'));\n  }\n\n  /**\n   * @param {RenderGraphSearch} search\n   * @return {RenderGraphSearch}\n   */\n  addSearch(search) {\n    this.searches.push(search);\n    if (search.query) {\n      // eslint-disable-next-line no-multi-assign\n      const searchByQuery = (this.searchByQuery ??= new Map());\n      searchByQuery.set(search.query, search);\n      this.initCache[search.cacheIndex] = search.defaultValue;\n    }\n    return search;\n  }\n\n  /**\n   * @param {RenderGraphAction} action\n   * @return {RenderGraphAction}\n   */\n  addAction(action) {\n    // eslint-disable-next-line no-multi-assign\n    const actionsByPropsUsed = (this.actionsByPropsUsed ??= new Map());\n    for (const prop of action.search.propsUsed) {\n      if (actionsByPropsUsed.has(prop)) {\n        actionsByPropsUsed.get(prop).push(action);\n      } else {\n        actionsByPropsUsed.set(prop, [action]);\n      }\n    }\n    return action;\n  }\n}\n", "/* eslint-disable max-classes-per-file */\n\nimport Composition from './Composition.js';\nimport { css } from './css.js';\nimport { attrNameFromPropName, attrValueFromDataValue } from './dom.js';\nimport { applyMergePatch } from './jsonMergePatch.js';\nimport { defineObservableProperty } from './observe.js';\nimport { addInlineFunction, html } from './template.js';\n\n/** @typedef {import('./observe.js').ObserverPropertyType} ObserverPropertyType */\n\n/**\n * @template {any} T\n * @typedef {{\n * [P in keyof T]:\n *   T[P] extends (...args:any[]) => infer T2 ? T2\n *     : T[P] extends ObserverPropertyType\n *     ? import('./observe.js').ParsedObserverPropertyType<T[P]>\n *     : T[P] extends {type: ObserverPropertyType}\n *     ? import('./observe.js').ParsedObserverPropertyType<T[P]['type']>\n *     : T[P] extends ObserverOptions<null, infer T2>\n *     ? unknown extends T2 ? string : T2\n *     : never\n * }} ParsedProps\n */\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} T2\n * @template {Object} [C=any]\n * @typedef {import('./observe.js').ObserverOptions<T1,T2,C>} ObserverOptions\n */\n\n/**\n * @template {{ prototype: unknown; }} T\n * @typedef {T} ClassOf<T>\n */\n\n/**\n * @template {any} [T=any]\n * @template {any[]} [A=any[]]\n * @typedef {abstract new (...args: A) => T} Class\n */\n\n/**\n * @template {any} T1\n * @template {any} [T2=T1]\n * @callback HTMLTemplater\n * @param {TemplateStringsArray} string\n * @param {...(string|DocumentFragment|Element|((this:T1, data:T2) => any))} substitutions\n * @return {DocumentFragment}\n */\n\n/**\n * @template {any} [T1=any]\n * @template {any} [T2=T1]\n * @typedef {Object} CallbackArguments\n * @prop {Composition<T1>} composition\n * @prop {Record<string, HTMLElement>} refs\n * @prop {HTMLTemplater<T1, Partial<T2>>} html\n * @prop {(fn: (this:T1, data: T2) => any) => string} inline\n * @prop {DocumentFragment} template\n * @prop {T1} element\n */\n\n/**\n * @template {any} T1\n * @template {any} [T2=T1]\n * @typedef {{\n * composed?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * constructed?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * connected?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * disconnected?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * props?: {\n *   [P in keyof T1] : (\n *   this: T1,\n *   oldValue: T1[P],\n *   newValue: T1[P],\n *   changes:any,\n *   element: T1\n *   ) => any\n * },\n * attrs?: {[K in keyof any]: (\n *   this: T1,\n *   oldValue: string,\n *   newValue: string,\n *   element: T1\n *   ) => unknown\n * },\n * } & {\n * [P in keyof T1 & string as `${P}Changed`]?: (\n *   this: T1,\n *   oldValue: T1[P],\n *   newValue: T1[P],\n *   changes:any,\n *   element: T1\n *   ) => any\n * }} CompositionCallback\n */\n\n/**\n * @template {Object} C\n * @typedef {{\n *  [P in string] :\n *    ObserverPropertyType\n *    | ObserverOptions<ObserverPropertyType, unknown, C>\n *    | ((this:C, data:Partial<C>, fn?: () => any) => any)\n * }} IDLParameter\n */\n\n/**\n * @template T\n * @typedef {(T | Array<[keyof T & string, T[keyof T]]>)} ObjectOrObjectEntries\n */\n\n/**\n * @template {abstract new (...args: any) => unknown} T\n * @param {InstanceType<T>} instance\n */\nfunction superOf(instance) {\n  const staticContext = instance.constructor;\n  const superOfStatic = Object.getPrototypeOf(staticContext);\n  return superOfStatic.prototype;\n}\n\n/**\n * Clone attribute\n * @param {string} name\n * @param {string} target\n * @return {(oldValue:string, newValue:string, element: CustomElement) => void}\n */\nexport function cloneAttributeCallback(name, target) {\n  return (oldValue, newValue, element) => {\n    if (newValue == null) {\n      element.refs[target].removeAttribute(name);\n    } else {\n      element.refs[target].setAttribute(name, newValue);\n    }\n  };\n}\n\n/**\n * Web Component that can cache templates for minification or performance\n */\nexport default class CustomElement extends HTMLElement {\n  /** @type {string} */\n  static elementName;\n\n  /** @return {Iterable<string>} */\n  static get observedAttributes() {\n    return this.attrList.keys();\n  }\n\n  /** @type {import('./Composition.js').Compositor<?>} */\n  compose() {\n    // eslint-disable-next-line no-return-assign\n    return (this.#composition ??= new Composition());\n  }\n\n  /** @type {Composition<?>} */\n  static _composition = null;\n\n  /** @type {Map<string, import('./observe.js').ObserverConfiguration<?,?,?>>} */\n  static _props = new Map();\n\n  /** @type {Map<string, import('./observe.js').ObserverConfiguration<?,?,?>>} */\n  static _attrs = new Map();\n\n  /** @type {Map<string, Array<(this: any, ...args: any[]) => any>>} */\n  static _propChangedCallbacks = new Map();\n\n  /** @type {Map<string, Array<(this: any, ...args: any[]) => any>>} */\n  static _attributeChangedCallbacks = new Map();\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onComposeCallbacks = [];\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onConnectedCallbacks = [];\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onDisconnectedCallbacks = [];\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onConstructedCallbacks = [];\n\n  static interpolatesTemplate = true;\n\n  static supportsElementInternals = 'attachInternals' in HTMLElement.prototype;\n\n  static supportsElementInternalsRole = CustomElement.supportsElementInternals\n    && 'role' in ElementInternals.prototype;\n\n  /** @type {boolean} */\n  static templatable = null;\n\n  static defined = false;\n\n  static autoRegistration = true;\n\n  /** @type {Map<string, typeof CustomElement>} */\n  static registrations = new Map();\n\n  /**\n   * Expressions are idempotent functions that are selectively called whenever\n   * a render is requested.\n   * Expressions are constructed exactly as methods though differ in expected\n   * arguments. The first argument should be destructured to ensure each used\n   * property is accessed at least once in order to inspect used properties.\n   *\n   * The Composition API will inspect this function with a proxy for `this` to\n   * catalog what observables are used by the expression. This allows the\n   * Composition API to build a cache as well as selective invoke the expression\n   * only when needed.\n   *\n   * When used with in element templates, the element itself will be passed as\n   * its first argument.\n   * ````js\n   *    Button\n   *      .prop('filled', 'boolean')\n   *      .prop('outlined', 'boolean')\n   *      .expresssions({\n   *        _isFilledOrOutlined({filled, outlined}) {\n   *          return (filled || outlined)\n   *        },\n   *      })\n   *      .html`<div custom={_isFilledOrOutlined}></div>`;\n   * ````\n   *\n   * When used with external data source, that data source\n   * will be passed to the expression with all properties being `null` at first\n   * inspection.\n   * ````js\n   *    const externalData = {first: 'John', last: 'Doe'};\n   *    ContactCard\n   *      .expresssions({\n   *        _fullName({first, last}) {\n   *          return [first, last].filter(Boolean).join(' ');\n   *        },\n   *      })\n   *   myButton.render(externalData);\n   * ````\n   *\n   * Expressions may be support argumentless calls by using default\n   * parameters with `this`.\n   * ````js\n   *    Button\n   *      .expresssions({\n   *        isFilledOrOutlined({filled, outlined} = this) {\n   *          return (filled || outlined)\n   *        },\n   *      });\n   *    myButton.isFilledorOutlined();\n   * ````\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends {\n   *    [K in keyof any]: K extends `_${any}` ? ((data: INSTANCE, state?: Record<string, any>) => string|boolean|null)\n   *      : ((data?: INSTANCE, state?: Record<string, any>) => string|boolean|null)\n   *  } & ThisType<INSTANCE>\n   *  >(this: CLASS, expressions: PROPS & ThisType<INSTANCE & PROPS>):\n   *  CLASS & Class<{\n   *    [K in keyof PROPS]: K extends `_${any}` ? never : () =>  ReturnType<PROPS[K]> }\n   *    ,ARGS>\n   * }}\n   */\n  static expressions = /** @type {any} */ (this.set);\n\n  static methods = this.set;\n\n  /**\n   * @type {{\n   * <\n   * CLASS extends typeof CustomElement,\n   * ARGS extends ConstructorParameters<CLASS>,\n   * INSTANCE extends InstanceType<CLASS>,\n   * PROPS extends Partial<INSTANCE>>\n   * (this: CLASS, source: PROPS & ThisType<PROPS & INSTANCE>, options?: Partial<PropertyDescriptor>)\n   * : CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static overrides = /** @type {any} */ (this.set);\n\n  /**\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  KEY extends string,\n   *  OPTIONS extends ObserverPropertyType\n   *    | ObserverOptions<ObserverPropertyType, unknown, INSTANCE>\n   *    | ((this:INSTANCE, data:Partial<INSTANCE>, fn?: () => any) => any),\n   *  VALUE extends Record<KEY, OPTIONS extends (...args2:any[]) => infer R ? R\n   *      : OPTIONS extends ObserverPropertyType ? import('./observe.js').ParsedObserverPropertyType<OPTIONS>\n   *      : OPTIONS extends {type: 'object'} & ObserverOptions<any, infer R> ? (unknown extends R ? object : R)\n   *      : OPTIONS extends {type: ObserverPropertyType} ? import('./observe.js').ParsedObserverPropertyType<OPTIONS['type']>\n   *      : OPTIONS extends ObserverOptions<any, infer R> ? (unknown extends R ? string : R)\n   *      : never\n   *      >\n   *  > (this: CLASS, name: KEY, options: OPTIONS)\n   *    : CLASS & Class<VALUE,ARGS>;\n   * }}\n   */\n  static props = /** @type {any} */ (this.observe);\n\n  static idl = this.prop;\n\n  /**\n   * @this T\n   * @template {typeof CustomElement} T\n   * @template {keyof T} K\n   * @param {K} collection\n   * @param {Function} callback\n   */\n  static _addCallback(collection, callback) {\n    if (!this.hasOwnProperty(collection)) {\n      // @ts-expect-error not typed\n      this[collection] = [...this[collection], callback];\n      return;\n    }\n    // @ts-expect-error any\n    this[collection].push(callback);\n  }\n\n  /**\n   * Append parts to composition\n   * @type {{\n   * <\n   *  T extends typeof CustomElement,\n   *  >\n   *  (this: T, ...parts: ConstructorParameters<typeof Composition<InstanceType<T>>>): T;\n   * }}\n   */\n  static append(...parts) {\n    this._onComposeCallbacks.push(({ composition }) => {\n      composition.append(...parts);\n    });\n\n    this._addCallback('_onComposeCallbacks', /** @type {(opts: CallbackArguments) => unknown} */ ((opts) => {\n      const { composition } = opts;\n      composition.append(...parts);\n    }));\n    return this;\n  }\n\n  /**\n   * After composition, invokes callback.\n   * May be called multiple times.\n   * @type {{\n   * <\n   *  T1 extends (typeof CustomElement),\n   *  T2 extends InstanceType<T1>,\n   *  T3 extends CompositionCallback<T2, T2>['composed'],\n   *  >\n   *  (this: T1, callback: T3): T1\n   * }}\n   */\n  static recompose(callback) {\n    this._addCallback('_onComposeCallbacks', callback);\n    return this;\n  }\n\n  /**\n   * Appends styles to composition\n   * @type {{\n   * <\n   *   T1 extends (typeof CustomElement),\n   *   T2 extends TemplateStringsArray|HTMLStyleElement|CSSStyleSheet|string>(\n   *   this: T1,\n   *   array: T2,\n   *   ...rest: T2 extends string ? any : T2 extends TemplateStringsArray ? any[] : (HTMLStyleElement|CSSStyleSheet)[]\n   * ): T1\n   * }}\n   */\n  static css(array, ...substitutions) {\n    this._addCallback('_onComposeCallbacks', /** @type {(opts: CallbackArguments) => unknown} */ ((opts) => {\n      const { composition } = opts;\n      if (typeof array === 'string' || Array.isArray(array)) {\n        // @ts-expect-error Complex cast\n        composition.append(css(array, ...substitutions));\n      } else {\n        // @ts-expect-error Complex cast\n        composition.append(array, ...substitutions);\n      }\n    }));\n\n    return this;\n  }\n\n  /**\n   * Registers class with customElements. If class is registered before then,\n   * does nothing.\n   * @type {{\n   * <T extends typeof CustomElement>(this: T, elementName: string): T;\n   * }}\n   */\n  static autoRegister(elementName) {\n    if (this.hasOwnProperty('defined') && this.defined) {\n      console.warn(this.elementName, 'already registered.');\n      return this;\n    }\n    this.register(elementName);\n    return this;\n  }\n\n  /**\n   * Appends DocumentFragment to composition\n   * @type {{\n   * <T extends typeof CustomElement>(\n   *  this: T,\n   *  string: TemplateStringsArray,\n   *  ...substitutions: (string|Element|((this:InstanceType<T>, data:InstanceType<T>, injections?:any) => any))[]\n   *  ): T\n   * }}\n   */\n  static html(strings, ...substitutions) {\n    this._addCallback('_onComposeCallbacks', /** @type {(opts: CallbackArguments) => unknown} */ ((opts) => {\n      const { composition } = opts;\n      // console.log('onComposed:html', strings);\n      composition.append(html(strings, ...substitutions));\n    }));\n    return this;\n  }\n\n  /**\n   * Extends base class into a new class.\n   * Use to avoid mutating base class.\n   * @type {{\n   * <\n   * T1 extends typeof CustomElement,\n   * T2 extends T1,\n   * T3 extends (Base:T1) => T2>\n   * (this: T1,customExtender?: T3|null): T3 extends null ? T1 : T2;\n   * }}\n   */\n  static extend(customExtender) {\n    // @ts-expect-error Can't cast T\n    return customExtender ? customExtender(this) : class extends this {};\n  }\n\n  /**\n   * Assigns static values to class\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends {\n   *    [K in keyof any]: (\n   *      ((this:T1, ...args:any[]) => any)\n   *      |string|number|boolean|any[]|object)}\n   *  >\n   *  (this: T1, source: T2 & ThisType<T1 & T2>):T1 & T2;\n   * }}\n   */\n  static setStatic(source) {\n    Object.assign(this, source);\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Assigns values directly to all instances (via prototype)\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends object>\n   *  (this: CLASS, source: PROPS & ThisType<PROPS & INSTANCE>, options?: Partial<PropertyDescriptor>)\n   *  : CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static readonly(source, options) {\n    return this.set(source, { ...options, writable: false });\n  }\n\n  /**\n   * Assigns values directly to all instances (via prototype)\n   * @type {{\n   * <\n   * CLASS extends typeof CustomElement,\n   * ARGS extends ConstructorParameters<CLASS>,\n   * INSTANCE extends InstanceType<CLASS>,\n   * PROPS extends object>\n   * (this: CLASS, source: PROPS & ThisType<PROPS & INSTANCE>, options?: Partial<PropertyDescriptor>)\n   * : CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static set(source, options) {\n    Object.defineProperties(\n      this.prototype,\n      Object.fromEntries([\n        ...Object.entries(source).map(([name, value]) => {\n          // Tap into .map() to avoid double iteration\n          // Property may be redefined observable\n          this.undefine(name);\n          return [\n            name,\n            {\n              enumerable: name[0] !== '_',\n              configurable: true,\n              value,\n              writable: true,\n              ...options,\n            },\n          ];\n        }),\n        ...Object.getOwnPropertySymbols(source).map((symbol) => [\n          symbol,\n          {\n            enumerable: false,\n            configurable: true,\n            // @ts-expect-error Can't index by symbol\n            value: source[symbol],\n            writable: true,\n            ...options,\n          },\n        ]),\n      ]),\n    );\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Returns result of calling mixin with current class\n   * @type {{\n   * <\n   *  BASE extends typeof CustomElement,\n   *  FN extends (...args:any[]) => any,\n   *  RETURN extends ReturnType<FN>,\n   *  SUBCLASS extends ClassOf<RETURN>,\n   *  >(this: BASE, mixin: FN): SUBCLASS & BASE\n   * }}\n   */\n  static mixin(mixin) {\n    return mixin(this);\n  }\n\n  /**\n   * Registers class with window.customElements synchronously\n   * @type {{\n   * <T extends typeof CustomElement>(this: T, elementName?: string, force?: boolean): T;\n   * }}\n   */\n  static register(elementName) {\n    if (elementName) {\n      this.elementName = elementName;\n    }\n\n    customElements.define(this.elementName, this);\n    CustomElement.registrations.set(this.elementName, this);\n    this.defined = true;\n    return this;\n  }\n\n  static get propList() {\n    if (!this.hasOwnProperty('_props')) {\n      this._props = new Map(this._props);\n    }\n    return this._props;\n  }\n\n  static get attrList() {\n    if (!this.hasOwnProperty('_attrs')) {\n      this._attrs = new Map(this._attrs);\n    }\n    return this._attrs;\n  }\n\n  static get propChangedCallbacks() {\n    if (!this.hasOwnProperty('_propChangedCallbacks')) {\n      // structuredClone()\n      this._propChangedCallbacks = new Map(\n        [\n          ...this._propChangedCallbacks,\n        ].map(([name, array]) => [name, array.slice()]),\n      );\n    }\n    return this._propChangedCallbacks;\n  }\n\n  static get attributeChangedCallbacks() {\n    if (!this.hasOwnProperty('_attributeChangedCallbacks')) {\n      this._attributeChangedCallbacks = new Map(\n        [\n          ...this._attributeChangedCallbacks,\n        ].map(([name, array]) => [name, array.slice()]),\n      );\n    }\n    return this._attributeChangedCallbacks;\n  }\n\n  /**\n   * Creates observable property on instances (via prototype)\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  KEY extends string,\n   *  OPTIONS extends ObserverPropertyType\n   *    | ObserverOptions<ObserverPropertyType, unknown, INSTANCE>\n   *    | ((this:INSTANCE, data:Partial<INSTANCE>, fn?: () => any) => any),\n   *  VALUE extends Record<KEY, OPTIONS extends (...args2:any[]) => infer R ? R\n   *      : OPTIONS extends ObserverPropertyType ? import('./observe').ParsedObserverPropertyType<OPTIONS>\n   *      : OPTIONS extends {type: 'object'} & ObserverOptions<any, infer R> ? (unknown extends R ? object : R)\n   *      : OPTIONS extends {type: ObserverPropertyType} ? import('./observe').ParsedObserverPropertyType<OPTIONS['type']>\n   *      : OPTIONS extends ObserverOptions<any, infer R> ? (unknown extends R ? string : R)\n   *      : never\n   *      >\n   *  > (this: CLASS, name: KEY, options: OPTIONS)\n   *    : CLASS & Class<VALUE,ARGS>\n   * }}\n   */\n  static prop(name, typeOrOptions) {\n    // TODO: Cache and save configuration for reuse (mixins)\n    const config = defineObservableProperty(\n      /** @type {any} */ (this.prototype),\n      name,\n      /** @type {any} */ (typeOrOptions),\n    );\n\n    const { changedCallback, attr, reflect, watchers } = config;\n    if (changedCallback) {\n      watchers.push([name, changedCallback]);\n    }\n    // TODO: Inspect possible closure bloat\n    config.changedCallback = function wrappedChangedCallback(oldValue, newValue, changes) {\n      this._onObserverPropertyChanged.call(this, name, oldValue, newValue, changes);\n    };\n\n    this.propList.set(name, config);\n\n    if (attr\n        && (reflect === true || reflect === 'read')\n        && (config.enumerable || !this.attrList.has(attr) || !this.attrList.get(attr).enumerable)) {\n      this.attrList.set(attr, config);\n    }\n\n    this.onPropChanged(watchers);\n\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Define properties on instances via Object.defineProperties().\n   * Automatically sets property non-enumerable if name begins with `_`.\n   * Functions will be remapped as getters\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends {\n   *      [P in keyof any] :\n   *        {\n   *          enumerable?: boolean;\n   *          configurable?: boolean;\n   *          writable?: boolean;\n   *          value?: any;\n   *          get?: ((this: INSTANCE) => any);\n   *          set?: (this: INSTANCE, value: any) => void;\n   *        } | ((this: INSTANCE, ...args:any[]) => any)\n   *    },\n   *  VALUE extends {\n   *    [KEY in keyof PROPS]: PROPS[KEY] extends (...args2:any[]) => infer R ? R\n   *      : PROPS[KEY] extends TypedPropertyDescriptor<infer R> ? R : never\n   *  }>\n   *  (this: CLASS, props: PROPS & ThisType<PROPS & INSTANCE>): CLASS\n   *    & Class<VALUE,ARGS>\n   * }}\n   */\n  static define(props) {\n    Object.defineProperties(\n      this.prototype,\n      Object.fromEntries(\n        Object.entries(props).map(([name, options]) => {\n          // Tap into .map() to avoid double iteration\n          // Property may be redefined observable\n          this.undefine(name);\n          return [\n            name,\n            {\n              enumerable: name[0] !== '_',\n              configurable: true,\n              ...(\n                typeof options === 'function'\n                  ? { get: options }\n                  : options\n              ),\n            },\n          ];\n        }),\n      ),\n    );\n\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Assigns values directly to all instances (via prototype)\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROP extends string,\n   *  PROPS extends INSTANCE & Record<PROP, never>\n   *  >(this: CLASS, name: PROP):\n   *  CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static undefine(name) {\n    Reflect.deleteProperty(this.prototype, name);\n    if (this.propList.has(name)) {\n      const { watchers, attr, reflect } = this.propList.get(name);\n      if (watchers.length && this.propChangedCallbacks.has(name)) {\n        const propWatchers = this.propChangedCallbacks.get(name);\n        for (const [prop, watcher] of watchers) {\n          const index = propWatchers.indexOf(watcher);\n          if (index !== -1) {\n            console.warn('Unwatching', name);\n            propWatchers.splice(index, 1);\n          }\n        }\n      }\n      if (attr && (reflect === true || reflect === 'read')) {\n        this.attrList.delete(attr);\n      }\n      this.propList.delete(name);\n    }\n\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Creates observable properties on instances\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends IDLParameter<INSTANCE & VALUE>,\n   *  VALUE extends {\n   *    [KEY in keyof PROPS]:\n   *    PROPS[KEY] extends (...args2:any[]) => infer R ? R\n   *        : PROPS[KEY] extends ObserverPropertyType ? import('./observe').ParsedObserverPropertyType<PROPS[KEY]>\n   *        : PROPS[KEY] extends {type: 'object'} & ObserverOptions<any, infer R> ? (unknown extends R ? object : R)\n   *        : PROPS[KEY] extends {type: ObserverPropertyType} ? import('./observe').ParsedObserverPropertyType<PROPS[KEY]['type']>\n   *        : PROPS[KEY] extends ObserverOptions<any, infer R> ? (unknown extends R ? string : R)\n   *        : never\n   *  },\n   *  > (this: CLASS, props: PROPS)\n   *    : CLASS & Class<VALUE,ARGS>\n   * }}\n   */\n  static observe(props) {\n    for (const [name, typeOrOptions] of Object.entries(props ?? {})) {\n      /** @type {any} */\n      const options = (typeof typeOrOptions === 'function')\n        ? { reflect: false, get: typeOrOptions }\n        : typeOrOptions;\n\n      this.prop(name, options);\n    }\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends IDLParameter<T1>>\n   *  (this: T1, props: T2):T1 & ParsedProps<T2>\n   * }}\n   */\n  static defineStatic(props) {\n    for (const [name, typeOrOptions] of Object.entries(props ?? {})) {\n      const options = (typeof typeOrOptions === 'function')\n        ? { get: typeOrOptions }\n        : (typeof typeOrOptions === 'string'\n          ? { type: typeOrOptions }\n          : typeOrOptions);\n      // @ts-expect-error Adding property to this\n      defineObservableProperty(this, name, {\n        reflect: false,\n        ...options,\n      });\n    }\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <T extends typeof CustomElement>\n   *  (\n   *    this: T,\n   *    listeners?: import('./Composition').CompositionEventListenerObject<InstanceType<T>>,\n   *    options?: Partial<import('./Composition').CompositionEventListener<InstanceType<T>>>,\n   *  ): T;\n   * }}\n   */\n  static events(listeners, options) {\n    this.on({\n      composed({ composition }) {\n        for (const [key, listenerOptions] of Object.entries(listeners)) {\n          const [, flags, type] = key.match(/^([*1~]+)?(.*)$/);\n          // TODO: Make abstract\n          let prop;\n          /** @type {string[]} */\n          let deepProp = [];\n          if (typeof listenerOptions === 'string') {\n            const parsedProps = listenerOptions.split('.');\n            if (parsedProps.length === 1) {\n              prop = listenerOptions;\n              deepProp = [];\n            } else {\n              prop = parsedProps[0];\n              deepProp = parsedProps;\n            }\n          }\n          composition.addCompositionEventListener({\n            type,\n            once: flags?.includes('1'),\n            passive: flags?.includes('~'),\n            capture: flags?.includes('*'),\n            ...(\n              typeof listenerOptions === 'function'\n                ? { handleEvent: listenerOptions }\n                : (typeof listenerOptions === 'string'\n                  ? { prop, deepProp }\n                  : listenerOptions)\n            ),\n            ...(\n              options\n            )\n            ,\n          });\n        }\n      },\n    });\n\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <T extends typeof CustomElement>\n   *  (\n   *    this: T,\n   *    listenerMap: {\n   *      [P in keyof any]: import('./Composition').CompositionEventListenerObject<InstanceType<T>>\n   *    },\n   *    options?: Partial<import('./Composition').CompositionEventListener<InstanceType<T>>>,\n   *  ): T;\n   * }}\n   */\n  static childEvents(listenerMap, options) {\n    for (const [tag, listeners] of Object.entries(listenerMap)) {\n      this.events(listeners, {\n        tag: attrNameFromPropName(tag),\n        ...options,\n      });\n    }\n\n    return this;\n  }\n\n  /** @type {typeof CustomElement['events']} */\n  static rootEvents(listeners, options) {\n    return this.events(listeners, {\n      tag: Composition.shadowRootTag,\n      ...options,\n    });\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends InstanceType<T1>,\n   *  T3 extends CompositionCallback<T2, T2>,\n   *  T4 extends keyof T3,\n   *  >\n   *  (this: T1, name: T3|T4, callbacks?: T3[T4] & ThisType<T2>): T1\n   * }}\n   */\n  static on(nameOrCallbacks, callback) {\n    const callbacks = typeof nameOrCallbacks === 'string'\n      ? { [nameOrCallbacks]: callback }\n      : nameOrCallbacks;\n    for (const [name, fn] of Object.entries(callbacks)) {\n      /** @type {keyof (typeof CustomElement)} */\n      let arrayPropName;\n      switch (name) {\n        case 'composed': arrayPropName = '_onComposeCallbacks'; break;\n        case 'constructed': arrayPropName = '_onConstructedCallbacks'; break;\n        case 'connected': arrayPropName = '_onConnectedCallbacks'; break;\n        case 'disconnected': arrayPropName = '_onDisconnectedCallbacks'; break;\n        case 'props':\n          this.onPropChanged(fn);\n          continue;\n        case 'attrs':\n          this.onAttributeChanged(fn);\n          continue;\n        default:\n          if (name.endsWith('Changed')) {\n            const prop = name.slice(0, name.length - 'Changed'.length);\n            // @ts-expect-error Computed key\n            this.onPropChanged({ [prop]: fn });\n            continue;\n          }\n          throw new Error('Invalid callback name');\n      }\n      this._addCallback(arrayPropName, fn);\n    }\n\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends InstanceType<T1>\n   *  >\n   *  (\n   *    this: T1,\n   *    options: ObjectOrObjectEntries<{\n   *      [P in keyof T2]? : (\n   *      this: T2,\n   *      oldValue: T2[P],\n   *      newValue: T2[P],\n   *      changes:any,\n   *      element: T2\n   *      ) => void\n   *    }>,\n   *  ): T1;\n   * }}\n   */\n  static onPropChanged(options) {\n    const entries = Array.isArray(options) ? options : Object.entries(options);\n    const { propChangedCallbacks } = this;\n    for (const [prop, callback] of entries) {\n      if (propChangedCallbacks.has(prop)) {\n        propChangedCallbacks.get(prop).push(callback);\n      } else {\n        propChangedCallbacks.set(prop, [callback]);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends InstanceType<T1>\n   *  >\n   *  (\n   *    this: T1,\n   *    options: {\n   *      [x:string]: (\n   *      this: T2,\n   *      oldValue: string,\n   *      newValue: string,\n   *      element: T2\n   *      ) => void\n   *    },\n   *  ): T1;\n   * }}\n   */\n  static onAttributeChanged(options) {\n    const entries = Array.isArray(options) ? options : Object.entries(options);\n    const { attributeChangedCallbacks } = this;\n    for (const [name, callback] of entries) {\n      if (attributeChangedCallbacks.has(name)) {\n        attributeChangedCallbacks.get(name).push(callback);\n      } else {\n        attributeChangedCallbacks.set(name, [callback]);\n      }\n    }\n\n    return this;\n  }\n\n  /** @type {Record<string, HTMLElement>}} */\n  #refsProxy;\n\n  /** @type {Map<string, WeakRef<HTMLElement>>}} */\n  #refsCache = new Map();\n\n  /** @type {Map<string, WeakRef<HTMLElement>>}} */\n  #refsCompositionCache = new Map();\n\n  /** @type {Composition<?>} */\n  #composition;\n\n  #patching = false;\n\n  /** @type {Map<string,{stringValue:string, parsedValue:any}>} */\n  _propAttributeCache;\n\n  /** @type {CallbackArguments} */\n  _callbackArguments = null;\n\n  /** @param {any[]} args */\n  constructor(...args) {\n    super();\n\n    if (CustomElement.supportsElementInternals) {\n      this.elementInternals = this.attachInternals();\n    }\n\n    this.attachShadow({ mode: 'open', delegatesFocus: this.delegatesFocus });\n\n    /**\n     * Updates nodes based on data\n     * Expects data in JSON Merge Patch format\n     * @see https://www.rfc-editor.org/rfc/rfc7386\n     * @param {Partial<?>} changes\n     * @param {any} data\n     * @return {void}\n     */\n    this.render = this.composition.render(\n      this.constructor.prototype,\n      this,\n      {\n        defaults: this.constructor.prototype,\n        store: this,\n        shadowRoot: this.shadowRoot,\n        context: this,\n      },\n    );\n\n    for (const callback of this.static._onConstructedCallbacks) {\n      callback.call(this, this.callbackArguments);\n    }\n  }\n\n  /**\n   * @type {{\n   * <\n   *   T extends CustomElement,\n   *   K extends string = string,\n   * >(this:T,\n   *     name: K,\n   *     oldValue: K extends keyof T ? T[K] : unknown,\n   *     newValue: K extends keyof T ? T[K] : unknown,\n   *     changes?: K extends keyof T ? T[K] extends object ? Partial<T[K]> : T[K] : unknown): void;\n   * }}\n   */\n  propChangedCallback(name, oldValue, newValue, changes = newValue) {\n    if (!this.#patching) {\n      this.render.byProp(name, changes, this);\n      // this.render({ [name]: changes });\n    }\n\n    const { _propChangedCallbacks } = this.static;\n    if (_propChangedCallbacks.has(name)) {\n      for (const callback of _propChangedCallbacks.get(name)) {\n        callback.call(this, oldValue, newValue, changes, this);\n      }\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @param {string|null} oldValue\n   * @param {string|null} newValue\n   */\n  attributeChangedCallback(name, oldValue, newValue) {\n    const { attributeChangedCallbacks } = this.static;\n    if (attributeChangedCallbacks.has(name)) {\n      for (const callback of attributeChangedCallbacks.get(name)) {\n        callback.call(this, oldValue, newValue, this);\n      }\n    }\n\n    // Array.find\n    const { attrList } = this.static;\n    if (!attrList.has(name)) return;\n\n    const config = attrList.get(name);\n\n    if (config.attributeChangedCallback) {\n      config.attributeChangedCallback.call(this, name, oldValue, newValue);\n      return;\n    }\n\n    let cacheEntry;\n    if (this.attributeCache.has(name)) {\n      cacheEntry = this.attributeCache.get(name);\n      if (cacheEntry.stringValue === newValue) return;\n    }\n\n    // @ts-expect-error any\n    const previousDataValue = this[config.key];\n    const parsedValue = newValue === null\n      ? config.nullParser(/** @type {null} */ (newValue))\n    // Avoid Boolean('') === false\n      : (config.type === 'boolean' ? true : config.parser(newValue));\n\n    if (parsedValue === previousDataValue) {\n      // No internal value change\n      return;\n    }\n    // \"Remember\" that this attrValue equates to this data value\n    // Avoids rewriting attribute later on data change event\n    if (cacheEntry) {\n      cacheEntry.stringValue = newValue;\n      cacheEntry.parsedValue = parsedValue;\n    } else {\n      this.attributeCache.set(name, {\n        stringValue: newValue, parsedValue,\n      });\n    }\n    // @ts-expect-error any\n    this[config.key] = parsedValue;\n  }\n\n  get #template() {\n    return this.#composition?.template;\n  }\n\n  /**\n   * @param {string} name\n   * @param {any} oldValue\n   * @param {any} newValue\n   * @param {any} changes\n   */\n  _onObserverPropertyChanged(name, oldValue, newValue, changes) {\n    const { propList } = this.static;\n    if (propList.has(name)) {\n      const { reflect, attr } = propList.get(name);\n      if (attr && (reflect === true || reflect === 'write')) {\n        /** @type {{stringValue:string, parsedValue:any}} */\n        let cacheEntry;\n        let needsWrite = false;\n        const { attributeCache } = this;\n        if (attributeCache.has(attr)) {\n          cacheEntry = attributeCache.get(attr);\n          needsWrite = (cacheEntry.parsedValue !== newValue);\n        } else {\n        // @ts-ignore skip cast\n          cacheEntry = {};\n          attributeCache.set(attr, cacheEntry);\n          needsWrite = true;\n        }\n        if (needsWrite) {\n          const stringValue = attrValueFromDataValue(newValue);\n          cacheEntry.parsedValue = newValue;\n          cacheEntry.stringValue = stringValue;\n          // Cache attrValue to ignore attributeChangedCallback later\n          if (stringValue == null) {\n            this.removeAttribute(attr);\n          } else {\n            this.setAttribute(attr, stringValue);\n          }\n        }\n      }\n    }\n\n    // Invoke change => render\n    this.propChangedCallback(name, oldValue, newValue, changes);\n  }\n\n  /** @param {any} patch */\n  patch(patch) {\n    this.#patching = true;\n    applyMergePatch(this, patch);\n    this.render(patch);\n    this.#patching = false;\n  }\n\n  /**\n   * Proxy object that returns shadow DOM elements by tag.\n   * If called before interpolation (eg: on composed), returns from template\n   * @return {Record<string,HTMLElement>}\n   */\n  get refs() {\n    // eslint-disable-next-line no-return-assign\n    return (this.#refsProxy ??= new Proxy({}, {\n      /**\n       * @param {any} target\n       * @param {string} tag\n       * @return {Element}\n       */\n      get: (target, tag) => {\n        if (!this.#composition) {\n          console.warn(this.static.name, 'Attempted to access references before composing!');\n        }\n        const composition = this.composition;\n        let element;\n        if (!composition.interpolated) {\n          if (this.#refsCompositionCache.has(tag)) {\n            element = this.#refsCompositionCache.get(tag).deref();\n            if (element) return element;\n          }\n          const formattedTag = attrNameFromPropName(tag);\n          // console.warn(this.tagName, 'Returning template reference');\n          element = composition.template.getElementById(formattedTag);\n          if (!element) return null;\n          this.#refsCompositionCache.set(tag, new WeakRef(element));\n          return element;\n        }\n        if (this.#refsCache.has(tag)) {\n          element = this.#refsCache.get(tag).deref();\n          if (element) {\n            return element;\n          }\n        }\n\n        const formattedTag = attrNameFromPropName(tag);\n        const tagIndex = this.composition.tags.indexOf(formattedTag);\n        element = this.render.state.refs[tagIndex];\n\n        if (!element) return null;\n        this.#refsCache.set(tag, new WeakRef(element));\n        return element;\n      },\n    }));\n  }\n\n  get attributeCache() {\n    // eslint-disable-next-line no-return-assign\n    return (this._propAttributeCache ??= new Map());\n  }\n\n  get static() {\n    return /** @type {typeof CustomElement} */ (/** @type {unknown} */ (this.constructor));\n  }\n\n  get unique() {\n    return false;\n  }\n\n  /**\n   * @template {CustomElement} T\n   * @this {T}\n   */\n  get callbackArguments() {\n    // eslint-disable-next-line no-return-assign\n    return this._callbackArguments ??= {\n      composition: this.#composition,\n      refs: this.refs,\n      html: html.bind(this),\n      inline: addInlineFunction,\n      template: this.#template,\n      element: this,\n    };\n  }\n\n  /** @return {Composition<?>} */\n  get composition() {\n    if (this.#composition) return this.#composition;\n\n    if (!this.unique && this.static.hasOwnProperty('_composition')) {\n      this.#composition = this.static._composition;\n      return this.static._composition;\n    }\n\n    // TODO: Use Composition to track uniqueness\n    // console.log('composing', this.static.elementName);\n    this.compose();\n    for (const callback of this.static._onComposeCallbacks) {\n      // console.log(this.static.elementName, 'composition callback');\n      callback.call(this, this.callbackArguments);\n    }\n\n    if (!this.unique) {\n      // Cache compilation into static property\n      this.static._composition = this.#composition;\n    }\n\n    return this.#composition;\n  }\n\n  connectedCallback() {\n    for (const callbacks of this.static._onConnectedCallbacks) {\n      callbacks.call(this, this.callbackArguments);\n    }\n  }\n\n  disconnectedCallback() {\n    for (const callbacks of this.static._onDisconnectedCallbacks) {\n      callbacks.call(this, this.callbackArguments);\n    }\n  }\n}\n\nCustomElement.prototype.delegatesFocus = false;\n", "import { CHROME_VERSION, isFocused } from '../core/dom.js';\n\n/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function DelegatesFocusMixin(Base) {\n  return Base\n    .set({\n      delegatesFocus: true,\n    })\n    .extend(CHROME_VERSION >= 111\n      ? (BaseClass) => BaseClass\n      : (BaseClass) => class extends BaseClass {\n        get tabIndex() {\n          return super.tabIndex;\n        }\n\n        set tabIndex(value) {\n          if (value === super.tabIndex && value !== -1) {\n            // Non -1 value already set\n            return;\n          }\n\n          if (this.delegatesFocus && isFocused(this)) {\n            if (this.getAttribute('tabindex') === value.toString()) {\n              // Skip if possible\n              return;\n            }\n\n            // Chrome blurs on tabindex changes with delegatesFocus\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=1346606\n            /** @type {EventListener} */\n            const listener = (e) => {\n              e.stopImmediatePropagation();\n              e.stopPropagation();\n              if (e.type === 'blur') {\n                console.warn('Chromium bug 1346606: Tabindex change caused blur. Giving focusing back.', this);\n                this.focus();\n              } else {\n                console.warn(`Chromium bug 1346606: Blocking ${e.type} event.`, this);\n              }\n            };\n            for (const type of ['blur', 'focus', 'focusout', 'focusin']) {\n              this.addEventListener(type, listener, { capture: true, once: true });\n            }\n            super.tabIndex = value;\n            for (const type of ['blur', 'focus', 'focusout', 'focusin']) {\n              this.removeEventListener(type, listener, { capture: true });\n            }\n            return;\n          }\n\n          super.tabIndex = value;\n        }\n      });\n}\n", "/* https://html.spec.whatwg.org/multipage/form-control-infrastructure.html */\n\nimport { CHROME_VERSION } from '../core/dom.js';\n\n/** @typedef {HTMLElement & {value:string}} HTMLControlElement */\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\nconst FORM_IPC_EVENT = 'mdw-form-associated-changed';\n\nconst DOMString = { nullParser: String, value: '' };\n\n/**\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function FormAssociatedMixin(Base) {\n  return Base\n    .setStatic({\n      formAssociated: true,\n    })\n    .set({\n      /** @type {EventListener} */\n      _ipcListener: null,\n      /** @type {EventTarget} */\n      _ipcTarget: null,\n      /** @type {FileList} */\n      _files: null,\n    })\n    .observe({\n      ariaControls: 'string',\n      autocomplete: DOMString,\n      name: DOMString,\n      readOnly: { attr: 'readonly', type: 'boolean' },\n      formNoValidate: { attr: 'formnovalidate', type: 'boolean' },\n      defaultChecked: { attr: 'checked', type: 'boolean' },\n      _checkedDirty: 'boolean',\n      /* \"Checkedness\" */\n      _checked: 'boolean',\n      required: 'boolean',\n      type: DOMString,\n      //  [CEReactions] attribute [LegacyNullToEmptyString] DOMString value;\n      _defaultValue: { reflect: true, attr: 'value' },\n      _value: { empty: '' },\n      _valueDirty: 'boolean',\n      _userInteracted: 'boolean',\n      _invalid: 'boolean',\n      _badInput: 'boolean',\n      _validationMessage: 'string',\n      _formDisabled: 'boolean',\n      _formReset: 'boolean',\n    })\n    .observe({\n      erroredState({ _invalid, _userInteracted }) { return _userInteracted && _invalid; },\n      defaultValue: {\n        reflect: false,\n        get({ _defaultValue }) {\n          return _defaultValue ?? '';\n        },\n        set(value) {\n          this._defaultValue = String(value);\n        },\n      },\n      _valueBehavior({ type }) {\n        switch (type) {\n          case 'radio':\n          case 'checkbox':\n            return 'default/on';\n          case 'hidden':\n          case 'button':\n          case 'submit':\n          case 'image':\n          case 'reset':\n            return 'default';\n          case 'file': return 'filename';\n          default: return 'value';\n        }\n      },\n    })\n    .methods({\n      /**\n       * Default behavior should likely be overridden\n       * @param {string} value\n       */\n      _onSetValue(value) {\n        this._value = value;\n      },\n      /**\n       * Default behavior should likely be overridden\n       * @param {boolean} checked\n       */\n      _onSetChecked(checked) {\n        this._checked = checked;\n      },\n    })\n    .observe({\n      value: {\n        reflect: false,\n        get({ _valueBehavior, _defaultValue, _value }) {\n          switch (_valueBehavior) {\n            case 'filename':\n            default:\n              return _value;\n            case 'default':\n              return _defaultValue ?? '';\n            case 'default/on':\n              return _defaultValue ?? 'on';\n          }\n        },\n        /** @param {string} v */\n        set(v) {\n          switch (this._valueBehavior) {\n            case 'value':\n              this._valueDirty = true;\n              this._onSetValue(v);\n              break;\n            case 'filename':\n              if (v == null || v === '') {\n                this._files = null;\n                // Presume overriding class will interpet null as empty\n              } else {\n                throw new DOMException('InvalidStateError');\n              }\n              break;\n            default:\n              this.defaultValue = v;\n          }\n        },\n      },\n      /**\n       * Part of FormAssociatedMixin for simplicity.\n       * Enumerability doesn't guarantee checked state will be passed or used.\n       */\n      checked: {\n        reflect: false,\n        type: 'boolean',\n        get({ _checkedDirty, defaultChecked, _checked }) {\n          if (_checkedDirty) return _checked;\n          return defaultChecked;\n        },\n        /** @param {boolean} checked */\n        set(checked) {\n          this._checkedDirty = true;\n          this._onSetChecked(checked);\n        },\n      },\n    })\n    .define({\n      form() { return this.elementInternals.form; },\n      validity() { return this.elementInternals.validity; },\n      validationMessage() { return this.elementInternals.validationMessage; },\n      willValidate() {\n        if (this.type === 'submit') return !this.formNoValidate;\n        if (this.type === 'button' || this.type === 'reset') return false;\n        return this.elementInternals.willValidate;\n      },\n      labels() { return this.elementInternals.labels; },\n    })\n    .observe({\n      disabledState({ _formDisabled, disabled }) {\n        if (_formDisabled) return true;\n        return !!disabled;\n      },\n    })\n    .methods({\n      checkValidity() { return this.elementInternals.checkValidity(); },\n\n      reportValidity() { return this.elementInternals.reportValidity(); },\n\n      /**\n       * @param {string} error\n       * @return {void}\n       */\n      setCustomValidity(error) {\n        this.elementInternals.setValidity({\n          ...this.elementInternals.validity,\n          customError: !!error,\n        }, this.elementInternals.validationMessage || error);\n      },\n\n      /**\n       * @param {string} key\n       * @param {string} value\n       * @return {void}\n       */\n      _notifyRadioChange(key, value) {\n        this._ipcTarget?.dispatchEvent(\n          new CustomEvent(FORM_IPC_EVENT, { detail: [key, value] }),\n        );\n      },\n\n      refreshFormAssociation() {\n        const newTarget = this.elementInternals.form ?? this.getRootNode();\n        if (newTarget === this._ipcTarget) {\n          // console.warn('Already associated?', newTarget);\n          return;\n        }\n        if (this._ipcTarget) {\n          this._ipcTarget.removeEventListener(FORM_IPC_EVENT, this._ipcListener);\n        }\n        if (this.type !== 'radio') return;\n\n        this._ipcTarget = newTarget;\n        this._ipcListener ??= this.formIPCEvent.bind(this);\n        this._ipcTarget.addEventListener(FORM_IPC_EVENT, this._ipcListener);\n      },\n\n      /**\n       * New lifecycle callback. This is called when association with\n       * <form> is changed.\n       * @param {HTMLFormElement?} form\n       * @return {void}\n       */\n      formAssociatedCallback(form) {\n        this.refreshFormAssociation();\n        this.checkValidity();\n      },\n\n      /**\n       * @param {CustomEvent<[string, string]>} event\n       * @return {void}\n       */\n      formIPCEvent(event) {\n        if (event.target instanceof HTMLFormElement && event.target !== this.form) {\n          console.warn('Control.formIPCEvent: Abort from wrong form');\n          return;\n        }\n        if (this.type !== 'radio') {\n          console.warn('Control.formIPCEvent: Abort from not radio');\n          return;\n        }\n        const [name, value] = event.detail;\n        if (this.name !== name) return;\n        if (value === this.value) {\n          // console.log('Control.formIPCEvent: Continue match', this.name, this.value);\n        } else {\n          console.debug('FormAssociatedMixin: Unchecking', this);\n          this.checked = false;\n        }\n      },\n\n      /** @param {boolean} disabled */\n      formDisabledCallback(disabled) {\n        this._formDisabled = disabled;\n      },\n\n      formResetCallback() {\n        this._formReset = true; // Fires Change Event\n        this._valueDirty = false;\n        this.checkValidity();\n        this._userInteracted = false; // Reset error states\n        this._formReset = false;\n      },\n\n      /**\n       * @param {string|FormData} state\n       * @param {'autocomplete'|'restore'} mode\n       */\n      formStateRestoreCallback(state, mode) {\n        if (CHROME_VERSION < 115) {\n          // formStateRestoreCallback is broken on Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1429585\n          return;\n        }\n        if (typeof state !== 'string') {\n          console.warn('FormAssociatedMixin: (Restore) Could not restore', state);\n          return;\n        }\n        if (this.type === 'checkbox' || this.type === 'radio') {\n          console.debug('FormAssociatedMixin: (Restore) Setting Checkbox checked state.', state, this);\n          this.checked = (state === 'checked');\n          return;\n        }\n        if (this.type === 'radio') {\n          // Due to lifecycle quirks, other radio elements on the page may not have\n          // been upgraded to Custom Element yet and would not receive\n          // the 'uncheck' communication. Delay notice until then.\n          this.checked = (state === 'checked');\n          return;\n        }\n\n        console.debug('FormAssociatedMixin: (Restore) Setting value state.', state, this);\n        this.value = state;\n      },\n\n      _updateFormAssociatedValue() {\n        switch (this.type) {\n          case 'radio':\n            if (this.checked) {\n              this._notifyRadioChange(this.name, this.value || 'on');\n            }\n            // Fallthrough\n          case 'checkbox':\n            if (this.checked) {\n              // console.debug('FormAssociatedMixin: setFormValue', this.name, `(${this.value}, 'checked')`, this);\n              this.elementInternals.setFormValue(this.value, 'checked');\n            } else {\n              // console.debug('FormAssociatedMixin: setFormValue', this.name, \"(null, 'unchecked')\", this);\n              this.elementInternals.setFormValue(null, 'unchecked');\n            }\n            break;\n          case 'button':\n          case 'reset':\n            this.elementInternals.setFormValue(null);\n            break;\n          case 'file': {\n            const { elementInternals, _files, name } = this;\n            if (!_files || _files.length) {\n              elementInternals.setFormValue(null);\n            } else {\n              const fd = new FormData();\n              for (const entry of _files) {\n                fd.append(name, entry);\n              }\n              elementInternals.setFormValue(fd);\n            }\n            break;\n          }\n          case 'select-multiple': {\n            const formData = new FormData();\n            // eslint-disable-next-line unicorn/no-this-assignment, @typescript-eslint/no-this-alias\n            const selectElement = /** @type {HTMLSelectElement} */ (/** @type {unknown} */ (this));\n            if (selectElement.name) {\n              for (const option of selectElement.selectedOptions) {\n                formData.append(selectElement.name, option.value);\n              }\n            }\n            this.elementInternals.setFormValue(formData);\n            break;\n          }\n          // case 'select-one':\n          default:\n            // console.debug('FormAssociatedMixin: setFormValue', this.name, this.value, this);\n            this.elementInternals.setFormValue(this.value);\n        }\n      },\n    })\n    .events({\n      blur() {\n        this._userInteracted = true;\n        this.checkValidity();\n      },\n    })\n    .on({\n      connected() {\n        // Bind to global if no form is present (used by radio)\n        this.refreshFormAssociation();\n      },\n      checkedChanged() {\n        this._updateFormAssociatedValue();\n      },\n      valueChanged() {\n        this._updateFormAssociatedValue();\n      },\n      _valueBehaviorChanged(previous, current) {\n        if (previous !== 'filename' && current === 'filename') {\n          this.value = '';\n        }\n      },\n      typeChanged() {\n        this._updateFormAssociatedValue();\n      },\n    });\n}\n", "/* https://html.spec.whatwg.org/multipage/form-control-infrastructure.html */\n\nimport { cloneAttributeCallback } from '../core/CustomElement.js';\nimport { FIREFOX_VERSION, SAFARI_VERSION } from '../core/dom.js';\n\nimport DelegatesFocusMixin from './DelegatesFocusMixin.js';\nimport FormAssociatedMixin from './FormAssociatedMixin.js';\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\n/** @typedef {'align'|'useMap'} DeprecatedHTMLInputElementProperties */\n\n/** @typedef {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} HTMLControlElement */\n\n/**\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function ControlMixin(Base) {\n  return Base\n    .mixin(FormAssociatedMixin)\n    .mixin(DelegatesFocusMixin)\n    .observe({\n      ariaLabel: 'string',\n      _slotInnerText: 'string',\n    })\n    .set({\n      focusableOnDisabled: false,\n      controlTagName: 'input',\n      controlVoidElement: true,\n      _slotMutationObserver: null,\n    })\n    .methods({\n      /**\n       * Default behavior can be overridden\n       * @param {string} value\n       */\n      _onControlValue(value) {\n        this._value = value;\n      },\n      onValueChangingContentAttribute() {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n\n        if (!this.hasAttribute('value')) {\n          // Force HTMLInputElement to recalculate default\n          // Unintended effect of incrementally changing attributes (eg: range)\n          control.removeAttribute('value'); // Firefox will not run steps unless value is changed (remove first)\n          control.setAttribute('value', ''); // Chrome needs to know to reset\n        }\n        // Changing control attribute may change the value (eg: min/max)\n        this._onControlValue(control.value);\n      },\n      /** @type {HTMLElement['focus']} */\n      focus(...options) {\n        this.refs.control.focus(...options);\n      },\n      /** Redirect click requests to control itself */\n      click() {\n        if (this.disabledState) return;\n        this.refs.control.click();\n      },\n    })\n    .define({\n      stateTargetElement() { return this.refs.control; },\n    })\n    .methods({\n      checkValidity() {\n        if (!this.willValidate) return true;\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        const validityState = control.checkValidity();\n        /** @type {Partial<ValidityState>} */\n        const newValidity = {};\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in control.validity) {\n          // @ts-ignore Skip cast\n          newValidity[key] = control.validity[key];\n        }\n        this.elementInternals.setValidity(newValidity, control.validationMessage, control);\n        this._invalid = !validityState;\n        this._validationMessage = control.validationMessage;\n        this._badInput = control.validity.badInput;\n        return validityState;\n      },\n      reportValidity() {\n        this.checkValidity();\n        /** @type {HTMLControlElement} */ (this.refs.control).reportValidity();\n        return this.elementInternals.reportValidity();\n      },\n      /**\n       * @param {string} error\n       * @return {void}\n       */\n      setCustomValidity(error) {\n        /** @type {HTMLControlElement} */ (this.refs.control).setCustomValidity(error);\n        this.checkValidity();\n        this.elementInternals.setValidity(\n          {\n            ...this.elementInternals.validity,\n            customError: !!error,\n          },\n          this.elementInternals.validationMessage || error,\n          this.refs.control,\n        );\n      },\n    })\n    .observe({\n      _computedAriaLabel({ ariaLabel, _slotInnerText }) {\n        return ariaLabel?.trim() || _slotInnerText?.trim() || null;\n      },\n    })\n    .expressions({\n      _computedAriaLabelledby({ _computedAriaLabel }) {\n        return _computedAriaLabel ? null : 'slot';\n      },\n    })\n\n    .recompose(({ template, html, element }) => {\n      template.append(html`\n        <${element.controlTagName} id=control\n          aria-label={_computedAriaLabel}\n          aria-labelledby={_computedAriaLabelledby}\n          part=control\n          form-disabled={disabledState}\n          type={type}\n          >${element.controlVoidElement ? '' : `</${element.controlTagName}>`}\n      `);\n    })\n    .on({\n      disabledStateChanged(oldValue, newValue) {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        control.setAttribute('aria-disabled', `${newValue}`);\n        if (!this.focusableOnDisabled) {\n          control.disabled = newValue;\n          if (newValue) {\n            this.tabIndex = 0;\n          } else {\n            this.removeAttribute('tabindex');\n          }\n        }\n      },\n      readOnlyChanged(oldValue, newValue) {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        if (this.type === 'checkbox') {\n          control.setAttribute('aria-readonly', newValue ? 'true' : 'false');\n        } else {\n          control.removeAttribute('aria-readonly');\n        }\n      },\n      constructed() {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        this._onControlValue(control.value);\n      },\n      connected() {\n        // Expose this element as focusable\n        if (!this.hasAttribute('tabindex')) {\n          this.tabIndex = 0;\n        }\n      },\n      attrs: {\n        autocomplete: cloneAttributeCallback('autocomplete', 'control'),\n        name: cloneAttributeCallback('name', 'control'),\n        readonly: cloneAttributeCallback('readonly', 'control'),\n        required: cloneAttributeCallback('required', 'control'),\n      },\n    })\n    .childEvents({\n      control: {\n        click(e) {\n          if ((this.type === 'checkbox' && this.readOnly)\n           || (this.focusableOnDisabled && this.disabledState)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          }\n        },\n        input({ currentTarget }) {\n          const control = /** @type {HTMLControlElement} */ (currentTarget);\n          if (this.validity.valid) {\n            // Track internally\n            control.checkValidity();\n            this._badInput = control.validity.badInput;\n          } else {\n            // Perform check in case user has validated\n            this.checkValidity();\n          }\n          this._onControlValue(control.value);\n        },\n        change({ currentTarget }) {\n          const control = /** @type {HTMLControlElement} */ (currentTarget);\n          this._valueDirty = true;\n          this._onControlValue(control.value);\n          this.checkValidity();\n        },\n      },\n      slot: (FIREFOX_VERSION < 116 || SAFARI_VERSION) ? {\n        slotchange({ currentTarget }) {\n          // Firefox and Safari will not apply label from slots.\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1826194\n          // https://commits.webkit.org/263644@main\n          // https://bugs.webkit.org/show_bug.cgi?id=260772\n          this._slotInnerText = this.textContent;\n          if (!this._slotMutationObserver) {\n            this._slotMutationObserver = new MutationObserver(() => {\n              this._slotInnerText = this.textContent;\n            });\n            this._slotMutationObserver.observe(currentTarget, { characterData: true });\n          }\n        },\n      } : {},\n    })\n    .rootEvents({\n      change(event) {\n        // Change event is NOT composed. Needs to escape shadow DOM\n        // @ts-ignore skip constructor cast\n        this.dispatchEvent(new event.constructor(event.type, event));\n      },\n    })\n    .css`\n      :host {\n        display: inline-flex;\n      }\n      \n      /* Remove Firefox inner */\n      :host(::-moz-focus-inner) {\n        border: 0;\n      }\n\n      #control {\n        /* Control is the touch target */\n        /* Firefox requires at least 1px \"visible\" for screen reading */\n        /* Safari will not allow interaction with 0 opacity */\n        /* Chrome will not focus with visibility:hidden */\n      \n        position: absolute;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        top: 50%;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        left: 50%;\n        \n        /* --mdw-device-pixel-ratio: 1; */\n      \n        block-size: 100%;\n        min-block-size: 48px;\n        inline-size:100%;\n        min-inline-size: 48px;\n        margin: 0;\n        border: 0;\n        padding: 0;\n      \n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n      \n        cursor: auto;\n        outline: none;\n        transform: translateX(-50%) translateY(-50%);\n      \n        /* Safari and Chrome will emit two click events if not at top of stack */\n        /* Allows up to 3 other layers (eg: ripple, outline) */\n        z-index: 4;\n\n        background-color: transparent;\n      \n        border-radius: 0;\n        color: transparent;\n      }\n      \n      #control::-moz-focus-inner {\n        border: 0;\n      }\n    \n    `;\n}\n", "import { cloneAttributeCallback } from '../core/CustomElement.js';\n\nimport ControlMixin from './ControlMixin.js';\n\n/** @typedef {'align'|'useMap'} DeprecatedHTMLInputElementProperties */\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\nconst IMPLICIT_SUBMISSION_BLOCKING_TYPES = new Set([\n  'text',\n  'search',\n  'url',\n  'tel',\n  'email',\n  'password',\n  'date',\n  'month',\n  'week',\n  'time',\n  'datetime-local',\n  'number',\n]);\n\nconst DOMString = { nullParser: String, empty: '' };\n\n/** Flag redispatched click events to know not to block them */\nconst redispatchedClickEvents = new WeakSet();\n/** Flag root click events to know not to block them */\nconst rootClickEvents = new WeakSet();\n\n/**\n * @see https://html.spec.whatwg.org/multipage/input.html#htmlinputelement\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function InputMixin(Base) {\n  return Base\n    .mixin(ControlMixin)\n    .observe({\n      accept: DOMString,\n      alt: DOMString,\n      dirName: { attr: 'dirname', ...DOMString },\n      _formAction: { attr: 'formaction' },\n      formEnctype: { attr: 'formenctype', ...DOMString },\n      formMethod: { attr: 'formmethod', ...DOMString },\n      formTarget: { attr: 'formtarget', ...DOMString },\n      _height: { attr: 'height', type: 'integer' },\n      _indeterminate: 'boolean',\n      max: DOMString,\n      maxLength: { attr: 'maxlength', type: 'integer', empty: -1 },\n      min: DOMString,\n      minLength: { attr: 'minlength', type: 'integer', empty: -1 },\n      multiple: 'boolean',\n      pattern: DOMString,\n      placeholder: DOMString,\n      size: { type: 'integer', empty: 20 },\n      src: DOMString,\n      step: DOMString,\n      //  [CEReactions] attribute [LegacyNullToEmptyString] DOMString value;\n      _width: { attr: 'width', type: 'integer' },\n    })\n    .set({\n      _useFormImplicitSubmission: true,\n    })\n    .define({\n      // Alias for typescript\n      _input() { return /** @type {HTMLInputElement} */ (this.refs.control); },\n    })\n    .observe({\n      indeterminate: {\n        type: 'boolean',\n        get({ _indeterminate }) {\n          return _indeterminate;\n        },\n        /** @param {boolean} value */\n        set(value) {\n          this._input.indeterminate = value;\n          this._indeterminate = this._input.indeterminate;\n        },\n      },\n    })\n    .overrides({\n      controlTagName: 'input',\n    })\n    .recompose(({ refs: { control } }) => {\n      control.setAttribute('checked', '{defaultChecked}');\n      control.setAttribute('height', '{_height}');\n      control.setAttribute('width', '{_width}');\n      control.setAttribute('value', '{_defaultValue}');\n    })\n    .on({\n      // TODO: Bind multiple\n      typeChanged() { this.onValueChangingContentAttribute(); },\n      checkedChanged() {\n        this._input.checked = this.checked;\n        this._input.indeterminate = this._indeterminate;\n      },\n      _indeterminateChanged(previous, current) {\n        this._input.indeterminate = current;\n      },\n      minChanged() { this.onValueChangingContentAttribute(); },\n      minLengthChanged() { this.onValueChangingContentAttribute(); },\n      maxChanged() { this.onValueChangingContentAttribute(); },\n      maxLengthChanged() { this.onValueChangingContentAttribute(); },\n      multipleChanged() { this.onValueChangingContentAttribute(); },\n      patternChanged() { this.onValueChangingContentAttribute(); },\n      stepChanged() { this.onValueChangingContentAttribute(); },\n      defaultValueChanged() { this.onValueChangingContentAttribute(); },\n      _formResetChanged(oldValue, newValue) {\n        if (!newValue) return;\n        this._onSetValue(this.defaultValue);\n        const input = this._input;\n        input.checked = this.defaultChecked;\n        this._checked = input.checked;\n        this._checkedDirty = false;\n      },\n      attrs: {\n        accept: cloneAttributeCallback('accept', 'control'),\n        alt: cloneAttributeCallback('alt', 'control'),\n        dirname: cloneAttributeCallback('dirname', 'control'),\n        formenctype: cloneAttributeCallback('formenctype', 'control'),\n        formmethod: cloneAttributeCallback('formmethod', 'control'),\n        formnovalidate: cloneAttributeCallback('formnovalidate', 'control'),\n        formTarget: cloneAttributeCallback('formTarget', 'control'),\n        max: cloneAttributeCallback('max', 'control'),\n        maxlength: cloneAttributeCallback('maxlength', 'control'),\n        min: cloneAttributeCallback('min', 'control'),\n        minlength: cloneAttributeCallback('minlength', 'control'),\n        multiple: cloneAttributeCallback('multiple', 'control'),\n        pattern: cloneAttributeCallback('pattern', 'control'),\n        placeholder: cloneAttributeCallback('placeholder', 'control'),\n        size: cloneAttributeCallback('size', 'control'),\n        src: cloneAttributeCallback('src', 'control'),\n        step: cloneAttributeCallback('step', 'control'),\n      },\n    })\n    .overrides({\n      _onSetChecked(checked) {\n        // Apply user value to input and read back result to apply control to parse\n        this._input.checked = checked;\n        this._checked = this._input.checked;\n        this.indeterminate = false;\n      },\n      _onSetValue(value) {\n        // Apply user value to input and read back result to apply control to parse\n        this._input.value = value;\n        this._value = this._input.value;\n      },\n    })\n    .methods({\n      /**\n       * @see https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#implicit-submission\n       * @param {Event} event\n       * @return {void}\n       */\n      performImplicitSubmission(event) {\n        if (!this._useFormImplicitSubmission) return;\n        const form = this.form;\n        if (!form) return;\n        /** @type {HTMLInputElement} */\n        let defaultButton;\n        const submissionBlockers = new Set();\n        for (const element of /** @type {HTMLCollectionOf<HTMLInputElement>} */ (form.elements)) {\n          if (element.type === 'submit' && !element.disabled && !element.matches(':disabled')) {\n            defaultButton ??= element;\n            break;\n          }\n\n          if (IMPLICIT_SUBMISSION_BLOCKING_TYPES.has(element.type)) {\n            submissionBlockers.add(element);\n          }\n        }\n        if (defaultButton) {\n          defaultButton.dispatchEvent(new PointerEvent(\n            'click',\n            { bubbles: true, cancelable: true, composed: true },\n          ));\n          return;\n        }\n        if (submissionBlockers.size > 1) return;\n        this.form.submit();\n      },\n      /** @param {Event} event */\n      _redispatchControlClickEvent(event) {\n        event.stopPropagation();\n        // Use constructor to match mouse/pointer properties\n        /**  @type {Event} */\n        // @ts-ignore skip-cast\n        const newEvent = (new event.constructor(event.type, event));\n        redispatchedClickEvents.add(newEvent);\n        return this.dispatchEvent(newEvent);\n      },\n      /** @param {MouseEvent} event */\n      _handleInputClick(event) {\n        if (this.disabledState) return;\n        const input = this._input;\n        switch (input.type) {\n          case 'checkbox':\n          case 'radio': {\n            const { _checkedDirty, _checked, _indeterminate } = this;\n            this.checked = input.checked;\n            // Event needs to be rethrown and preventDefault inspected\n            if (this._redispatchControlClickEvent(event)) return;\n            event.preventDefault();\n            this._checkedDirty = _checkedDirty;\n            this._checked = _checked;\n            this._indeterminate = _indeterminate;\n            break;\n          }\n          case 'button':\n          case 'submit':\n          case 'reset': {\n            if (!this._redispatchControlClickEvent(event)) {\n              event.preventDefault();\n              return;\n            }\n            const { type } = input;\n            if (type !== 'submit' && type !== 'reset') return;\n            // If in the composed path is another submit/reset button,\n            // Let that button take preference and ignore click.\n\n            for (const target of event.composedPath()) {\n              if (target === input || target === this) break;\n              if ((target instanceof HTMLInputElement || target instanceof HTMLButtonElement)\n                  && (target.type === 'submit' || target.type === 'reset')) {\n                // Inner Native Button\n                return;\n              }\n              // @ts-expect-error Verified in runtime\n              if ((target instanceof HTMLElement && target.form instanceof HTMLFormElement\n                  // @ts-expect-error Verified in runtime\n                  && (target.type === 'submit' || target.type === 'reset'))) {\n                // Inner FACE Button\n                return;\n              }\n              if ((target instanceof HTMLAnchorElement && target.href)) {\n                // Inner Anchor Button\n                return;\n              }\n            }\n\n            const form = this.elementInternals?.form;\n            if (!form) return;\n\n            if (type === 'submit') {\n              const duplicatedButton = /** @type {HTMLInputElement} */ (input.cloneNode());\n              duplicatedButton.hidden = true;\n              form.append(duplicatedButton);\n              if ('requestSubmit' in form) {\n                form.requestSubmit(duplicatedButton);\n              } else {\n                duplicatedButton.click();\n              }\n              duplicatedButton.remove();\n            } else if (type === 'reset') {\n              form.reset();\n            }\n          }\n            break;\n          default:\n        }\n      },\n    })\n    .rootEvents({\n      click(event) {\n        rootClickEvents.add(event);\n        const { control } = this.refs;\n        if (event.target === control) return;\n        // Label-like click\n        if (!event.bubbles) return;\n        const { disabledState, type } = this;\n        if (disabledState) return;\n        if (type === 'checkbox' || type === 'radio') {\n          event.stopPropagation();\n          control.click();\n        } else {\n          this._handleInputClick(event);\n        }\n      },\n    })\n    .events({\n      click(event) {\n        // If click event came from own shadowRoot, let it through\n        if (rootClickEvents.has(event)) return;\n        // If click event is a redispatch, let it through\n        if (redispatchedClickEvents.has(event)) return;\n        if (event.target === this) {\n          // Support custom host.dispatchEvent(new Event('click'))\n          event.stopImmediatePropagation();\n          this.refs.control.click();\n        }\n      },\n    })\n    .childEvents({\n      control: {\n        keydown(event) {\n          if (event.defaultPrevented) return;\n          if (event.key !== 'Enter') return;\n          if (/** @type {HTMLInputElement} */ (event.currentTarget).type === 'submit') return;\n          this.performImplicitSubmission(event);\n        },\n        click: '_handleInputClick',\n        input(event) {\n          if (this.disabledState) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            return;\n          }\n          const input = /** @type {HTMLInputElement} */ (event.currentTarget);\n          this.checked = input.checked;\n        },\n        change(event) {\n          if (this.disabledState) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            return;\n          }\n          const input = /** @type {HTMLInputElement} */ (event.currentTarget);\n          this.checked = input.checked;\n        },\n      },\n    })\n    .methods({\n      /** @type {HTMLInputElement['setRangeText']} */\n      // @ts-ignore Can't cast?\n      setRangeText(...args) { this._input.setRangeText(...args); },\n\n      /** @type {HTMLInputElement['setSelectionRange']} */\n      setSelectionRange(...args) { this._input.setSelectionRange(...args); },\n\n      /** @type {HTMLInputElement['showPicker']} */\n      showPicker(...args) { this._input.showPicker(...args); },\n\n      /** @type {HTMLInputElement['stepDown']} */\n      stepDown(...args) {\n        this._input.stepDown(...args);\n        this._value = this._input.value;\n      },\n\n      /** @type {HTMLInputElement['stepUp']} */\n      stepUp(...args) {\n        this._input.stepUp(...args);\n        this._value = this._input.value;\n      },\n\n      /** @type {HTMLInputElement['select']} */\n      select(...args) {\n        this._input.select(...args);\n      },\n    })\n    .define({\n      files: {\n        get() { return this._input.files; },\n        set(value) {\n          if (value == null && this.type === 'file') {\n            // TODO: Clean up single-loop recursion\n            this._input.value = ''; // Clears files\n            this.value = '';\n          } else {\n            this._input.files = value;\n          }\n        },\n      },\n\n      selectionDirection: {\n        get() { return this._input.selectionDirection; },\n        set(value) { this._input.selectionDirection = value; },\n      },\n\n      selectionEnd: {\n        get() { return this._input.selectionEnd; },\n        set(value) { this._input.selectionEnd = value; },\n      },\n\n      selectionStart: {\n        get() { return this._input.selectionStart; },\n        set(value) { this._input.selectionStart = value; },\n      },\n\n      valueAsDate: {\n        get() { return this._input.valueAsDate; },\n        set(value) {\n          this._input.valueAsDate = value;\n          this.value = this._input.value;\n        },\n      },\n\n      valueAsNumber: {\n        get() { return this._input.valueAsNumber; },\n        set(value) {\n          this._input.valueAsNumber = value;\n          this.value = this._input.value;\n        },\n      },\n\n      height: {\n        get() { return this._input.height; },\n        set(value) {\n          this._input.height = value;\n          this._height = value;\n        },\n      },\n\n      formAction: {\n        get() { return this._input.formAction; },\n        set(value) {\n          this._input.formAction = value;\n          this._formAction = value;\n        },\n      },\n\n      width: {\n        get() { return this._input.width; },\n        set(value) {\n          this._input.width = value;\n          this._width = value;\n        },\n      },\n    })\n    .css`\n      #control::-webkit-file-upload-button {\n        display: none;\n      }\n    `;\n}\n", "const resizeObserver = new ResizeObserver((entries) => {\n  for (const entry of entries) {\n    // @ts-ignore Skip cast\n    entry.target.onResizeObserved(entry);\n  }\n});\n\n/**\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function ResizeObserverMixin(Base) {\n  return Base\n    .observe({\n      _resizeObserverEnabled: {\n        type: 'boolean',\n        value: true,\n      },\n    })\n    .methods({\n      /** @param {ResizeObserverEntry} entry */\n      onResizeObserved(entry) {\n        // Virtual function\n      },\n      observeResize() {\n        resizeObserver.observe(this, {\n          box: 'border-box',\n        });\n      },\n      unobserveResize() {\n        resizeObserver.unobserve(this);\n      },\n    })\n    .on({\n      connected() {\n        if (!this._resizeObserverEnabled) return;\n        this.observeResize();\n      },\n      disconnected() {\n        this.unobserveResize();\n      },\n      _resizeObserverEnabledChanged(previous, enabled) {\n        if (enabled) {\n          this.observeResize();\n        } else {\n          this.unobserveResize();\n        }\n      },\n    });\n}\n", "// Globals\n\nlet lastInteractionWasTouch = window?.matchMedia?.('(any-pointer: coarse)').matches;\n\n/**\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function StateMixin(Base) {\n  return Base\n    .observe({\n      disabled: 'boolean',\n      /** Force focus state (independent of document) */\n      focused: 'boolean',\n      /** Force hover state (independent of interaction) */\n      hovered: 'boolean',\n      /** Force pressed state (independent of interaction) */\n      pressed: 'boolean',\n      _lastInteraction: {\n        /** @type {'mouse'|'touch'|'key'|'pen'|null} */\n        value: null,\n      },\n      _hovered: 'boolean',\n      _focused: 'boolean',\n      /** True if focus was synthetic */\n      _focusedSynthetic: 'boolean',\n      _keyPressed: 'boolean',\n      /** True if key was released this event loop. (Used to ignore clicks) */\n      _keyReleased: 'boolean',\n      _pointerPressed: 'boolean',\n      stateLayer: 'boolean',\n    })\n    .observe({\n      disabledState({ disabled }) { return disabled; },\n      hoveredState({ _hovered, hovered }) { return _hovered || hovered; },\n      focusedState({ _focused, focused }) { return _focused || focused; },\n      pressedState({ _keyPressed, _pointerPressed, pressed }) { return _keyPressed || _pointerPressed || pressed; },\n      touchedState({ _lastInteraction }) {\n        return _lastInteraction === 'touch';\n      },\n      pointedState({ _lastInteraction }) {\n        return _lastInteraction === 'mouse' || _lastInteraction === 'pen';\n      },\n    })\n    .define({\n      /** @return {HTMLElement} */\n      stateTargetElement() { return this; },\n    })\n    .html`\n      <div id=state mdw-if={stateLayer}\n        disabled={disabledState}\n        focused={focusedState}\n        hovered={hoveredState}\n        pressed={pressedState}\n        interaction={_lastInteraction}\n        touched={touchedState}\n        pointed={pointedState}\n        aria-hidden=true></div>\n    `\n    .events({\n      pointerenter(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._pointerPressed = this.stateTargetElement.matches(':active');\n        if (event.pointerType === 'touch') return;\n        this._hovered = true;\n      },\n      '~pointerdown'(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._lastInteraction = /** @type {'touch'|'mouse'|'pen'} */ (event.pointerType);\n        this._pointerPressed = true;\n      },\n      '~pointerup'(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._lastInteraction = /** @type {'touch'|'mouse'|'pen'} */ (event.pointerType);\n        this._pointerPressed = false;\n      },\n      pointercancel(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._pointerPressed = this.stateTargetElement.matches(':active');\n      },\n      pointerleave(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._pointerPressed = false;\n        this._hovered = false;\n      },\n      '~keydown'(event) {\n        if (!event.isTrusted) return;\n        this._lastInteraction = 'key';\n        if (event.repeat) return;\n        if (event.key !== ' ') return;\n        this._keyPressed = true;\n      },\n      '~keyup'(event) {\n        if (!event.isTrusted) return;\n        this._lastInteraction = 'key';\n        if (event.key !== ' ') return;\n        this._keyPressed = false;\n        this._keyReleased = true;\n        setTimeout(() => {\n          this._keyReleased = false;\n        });\n      },\n      blur(event) {\n        if (!event.isTrusted) return;\n        this._focused = false;\n        this._focusedSynthetic = false;\n        this._keyPressed = false;\n        this._pointerPressed = false;\n        if (!this._lastInteraction) return;\n        lastInteractionWasTouch = (this._lastInteraction === 'touch');\n        this._lastInteraction = null;\n      },\n      focus(event) {\n        if (!event.isTrusted) return;\n        this._focusedSynthetic = 'sourceCapabilities' in event\n          ? !event.sourceCapabilities\n          : (this._lastInteraction === null && !event.relatedTarget);\n        this._focused = true;\n        // Element was focused without a mouse or touch event (keyboard or programmatic)\n        if (!this._lastInteraction && lastInteractionWasTouch) {\n          // Replicate touch behavior\n          this._lastInteraction = 'touch';\n        }\n      },\n    })\n    .on({\n      disconnected() {\n        this._focused = false;\n        this._keyPressed = false;\n        this._pointerPressed = false;\n        this._lastInteraction = null;\n      },\n    })\n    .css`\n      /* https://m3.material.io/foundations/interaction-states */\n\n      :host {\n        --mdw-state__hovered-opacity: 0.08;\n        --mdw-state__focused-opacity: 0.12;\n        --mdw-state__pressed-opacity: 0.12;\n        --mdw-state__dragged-opacity: 0.12;\n        position: relative;\n\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      /* Remove Firefox inner */\n      :host(::-moz-focus-inner) {\n        border: 0;\n      }\n\n      #state {\n        --mdw-state__opacity: calc(\n          var(--mdw-state__hovered-opacity) +\n          var(--mdw-state__focused-opacity) +\n          var(--mdw-state__pressed-opacity) +\n          var(--mdw-state__dragged-opacity)\n        );\n\n        position: absolute;\n        inset: 0;\n\n        pointer-events: none;\n\n        opacity: var(--mdw-state__opacity);\n        /* opacity handled by theme engine */\n        background-color: currentColor;\n        border-radius: inherit;\n\n        transition-delay: 0ms;\n        transition-duration: 000ms;\n        transition-property: opacity, color, background-color;\n        will-change: opacity;\n      }\n\n      /** Reduce RAM usage by not creating stack contexts */\n      @supports(background-color: color-mix(in srgb, red calc(100%), red)) {\n        #state {\n          opacity: 1;\n\n          background-color: color-mix(in srgb, currentColor calc(100% * var(--mdw-state__opacity)), transparent);\n\n          transition-property: color, background-color;\n          will-change: color, background-color;\n        }\n      }\n\n      #state[touched] {\n        --mdw-state__hovered-opacity: 0;\n        --mdw-state__focused-opacity: 0;\n      }\n\n      /* Remove Hover State */\n      #state:is(\n      :not([hovered]),\n      [disabled]:not([state-disabled~=\"hover\"]),\n      [state-off~=\"hover\"]) {\n        --mdw-state__hovered-opacity: 0;\n      }\n\n      /* Remove Focus State */\n      #state:is(\n      :not([focused]),\n      [disabled]:not([state-disabled~=\"focus\"]),\n      [state-off~=\"focus\"]) {\n        --mdw-state__focused-opacity: 0;\n      }\n\n      /* Remove Pressed State */\n\n      #state:is(\n      :not([pressed]),\n      [disabled]:not([state-disabled~=\"pressed\"]),\n      [state-off~=\"pressed\"]) {\n        --mdw-state__pressed-opacity: 0;\n      }\n\n      /* Remove Dragged State */\n      :host(:not([aria-dragged=\"true\"])) #state,\n      #state:is(\n        [disabled]:not([state-disabled~=\"dragged\"]),\n        [state-off~=\"dragged\"]) {\n        --mdw-state__dragged-opacity: 0;\n      }\n\n      /* Disabled */\n      #state[disabled]:not([state-disabled]) {\n        display: none;\n      }\n\n    `;\n}\n", "import { COLOR_KEYWORDS } from '../constants/colorKeywords.js';\nimport { SHAPE_ROUNDED_DEFAULT } from '../constants/shapes.js';\nimport { TYPOGRAPHY_DEFAULT } from '../constants/typography.js';\nimport { getScheme } from '../utils/material-color/helper.js';\nimport { svgToCSSURL } from '../utils/svg.js';\n\nexport const PALETTES = [\n  'primary',\n  'secondary',\n  'tertiary',\n  'error',\n  'surface',\n];\n\nexport const TYPE_STYLES = [\n  'display',\n  'headline',\n  'title',\n  'label',\n  'body',\n];\n\n/**\n * @typedef {Object} ThemeOptions\n * @prop {string} [color]\n * @prop {Iterable<[string,string?]>} [custom] Map()\n * @prop {'auto'|'light'|'dark'} [lightness='auto']\n * @return {string}\n */\n\n/**\n * @param {string} shape\n * @return {string}\n */\nfunction getShapeMaskSVG(shape) {\n  return [\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">',\n    `<defs><path id=\"a\" d=\"${shape}\"/></defs>`,\n    '<use href=\"#a\" transform=\"scale(.666)\"/>',\n    '<use href=\"#a\" transform=\"translate(8) scale(.666)\"/>',\n    '<use href=\"#a\" transform=\"matrix(.666 0 0 .666 0 8)\"/>',\n    '<use href=\"#a\" transform=\"matrix(.666 0 0 .666 8 8)\"/>',\n    '<path d=\"M8 0h8v24H8Z\"/><path d=\"M0 8h24v8H0Z\"/>',\n    '</svg>',\n  ].join('');\n}\n\n/**\n * @param {string} shape\n * @param {'top-left'|'top-right'|'bottom-left'|'bottom-right'} corner\n * @param {boolean} [convex]\n * @return {string}\n */\nfunction getShapeCornerSVGs(shape, corner, convex) {\n  const path = `<path ${[\n    `d=\"${shape}\"`,\n    'vector-effect=\"non-scaling-stroke\"',\n    `transform-origin=\"${corner.replace('-', ' ')}\"`,\n    'stroke-linejoin=\"miter\"',\n    'transform=\"scale(2)\"',\n    `stroke-width=\"${convex ? 4 : 2}px\"`,\n    'stroke=\"black\"',\n    'fill=\"none\"',\n  ].join(' ')}/>`;\n\n  return [\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">',\n    convex\n      ? [\n        '<mask id=\"m\">',\n        '<rect x=\"0\" y=\"0\" width=\"24\" height=\"24\" fill=\"white\"/>',\n        `<path d=\"${shape}\" transform-origin=\"${corner.replace('-', ' ')}\" transform=\"scale(2)\"/>`,\n        '</mask>',\n        `<g mask=\"url(#m)\">${path}</g>`,\n      ].join('')\n      : path,\n    '</svg>',\n  ].join('');\n}\n\n/**\n * @return {string}\n */\nfunction getShapeEdgesSVGs() {\n  return [\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">',\n    '<rect x=\"0\" y=\"0\" width=\"24\" height=\"24\" vector-effect=\"non-scaling-stroke\" stroke-width=\"2px\" stroke=\"black\" fill=\"none\"/>',\n    '</svg>',\n  ].join('');\n}\n\n/**\n * @param {typeof TYPOGRAPHY_DEFAULT} config\n * @return {string}\n */\nexport function generateTypographyCSS(config = TYPOGRAPHY_DEFAULT) {\n  return /* css */ `\n    :root {\n      --mdw-typeface__brand: ${config.face.brand};\n      --mdw-typeface__weight-regular: ${config.face.weight.regular};\n      --mdw-typeface__weight-medium: ${config.face.weight.medium};\n      --mdw-typeface__plain: ${config.face.plain};\n\n      --mdw-typescale__display-large__font-family: ${config.scale.display.large.fontFamily};\n      --mdw-typescale__display-large__line-height: calc(${config.scale.display.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__display-large__font-size: calc(${config.scale.display.large.fontSize} * 0.0625rem);\n      --mdw-typescale__display-large__letter-spacing: calc(${config.scale.display.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__display-large__font-weight: ${config.scale.display.large.weight};\n\n      --mdw-typescale__display-medium__font-family: ${config.scale.display.medium.fontFamily};\n      --mdw-typescale__display-medium__line-height: calc(${config.scale.display.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__display-medium__font-size: calc(${config.scale.display.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__display-medium__letter-spacing: calc(${config.scale.display.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__display-medium__font-weight: ${config.scale.display.medium.weight};\n\n      --mdw-typescale__display-small__font-family: ${config.scale.display.small.fontFamily};\n      --mdw-typescale__display-small__line-height: calc(${config.scale.display.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__display-small__font-size: calc(${config.scale.display.small.fontSize} * 0.0625rem);\n      --mdw-typescale__display-small__letter-spacing: calc(${config.scale.display.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__display-small__font-weight: ${config.scale.display.small.weight};\n\n      --mdw-typescale__headline-large__font-family: ${config.scale.headline.large.fontFamily};\n      --mdw-typescale__headline-large__line-height: calc(${config.scale.headline.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__headline-large__font-size: calc(${config.scale.headline.large.fontSize} * 0.0625rem);\n      --mdw-typescale__headline-large__letter-spacing: calc(${config.scale.headline.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__headline-large__font-weight: ${config.scale.headline.large.weight};\n\n      --mdw-typescale__headline-medium__font-family: ${config.scale.headline.medium.fontFamily};\n      --mdw-typescale__headline-medium__line-height: calc(${config.scale.headline.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__headline-medium__font-size: calc(${config.scale.headline.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__headline-medium__letter-spacing: calc(${config.scale.headline.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__headline-medium__font-weight: ${config.scale.headline.medium.weight};\n\n      --mdw-typescale__headline-small__font-family: ${config.scale.headline.small.fontFamily};\n      --mdw-typescale__headline-small__line-height: calc(${config.scale.headline.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__headline-small__font-size: calc(${config.scale.headline.small.fontSize} * 0.0625rem);\n      --mdw-typescale__headline-small__letter-spacing: calc(${config.scale.headline.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__headline-small__font-weight: ${config.scale.headline.small.weight};\n\n      --mdw-typescale__title-large__font-family: ${config.scale.title.large.fontFamily};\n      --mdw-typescale__title-large__line-height: calc(${config.scale.title.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__title-large__font-size: calc(${config.scale.title.large.fontSize} * 0.0625rem);\n      --mdw-typescale__title-large__letter-spacing: calc(${config.scale.title.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__title-large__font-weight: ${config.scale.title.large.weight};\n\n      --mdw-typescale__title-medium__font-family: ${config.scale.title.medium.fontFamily};\n      --mdw-typescale__title-medium__line-height: calc(${config.scale.title.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__title-medium__font-size: calc(${config.scale.title.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__title-medium__letter-spacing: calc(${config.scale.title.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__title-medium__font-weight: ${config.scale.title.medium.weight};\n\n      --mdw-typescale__title-small__font-family: ${config.scale.title.small.fontFamily};\n      --mdw-typescale__title-small__line-height: calc(${config.scale.title.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__title-small__font-size: calc(${config.scale.title.small.fontSize} * 0.0625rem);\n      --mdw-typescale__title-small__letter-spacing: calc(${config.scale.title.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__title-small__font-weight: ${config.scale.title.small.weight};\n\n      --mdw-typescale__label-large__font-family: ${config.scale.label.large.fontFamily};\n      --mdw-typescale__label-large__line-height: calc(${config.scale.label.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__label-large__font-size: calc(${config.scale.label.large.fontSize} * 0.0625rem);\n      --mdw-typescale__label-large__letter-spacing: calc(${config.scale.label.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__label-large__font-weight: ${config.scale.label.large.weight};\n\n      --mdw-typescale__label-medium__font-family: ${config.scale.label.medium.fontFamily};\n      --mdw-typescale__label-medium__line-height: calc(${config.scale.label.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__label-medium__font-size: calc(${config.scale.label.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__label-medium__letter-spacing: calc(${config.scale.label.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__label-medium__font-weight: ${config.scale.label.medium.weight};\n\n      --mdw-typescale__label-small__font-family: ${config.scale.label.small.fontFamily};\n      --mdw-typescale__label-small__line-height: calc(${config.scale.label.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__label-small__font-size: calc(${config.scale.label.small.fontSize} * 0.0625rem);\n      --mdw-typescale__label-small__letter-spacing: calc(${config.scale.label.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__label-small__font-weight: ${config.scale.label.small.weight};\n\n      --mdw-typescale__body-large__font-family: ${config.scale.body.large.fontFamily};\n      --mdw-typescale__body-large__line-height: calc(${config.scale.body.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__body-large__font-size: calc(${config.scale.body.large.fontSize} * 0.0625rem);\n      --mdw-typescale__body-large__letter-spacing: calc(${config.scale.body.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__body-large__font-weight: ${config.scale.body.large.weight};\n\n      --mdw-typescale__body-medium__font-family: ${config.scale.body.medium.fontFamily};\n      --mdw-typescale__body-medium__line-height: calc(${config.scale.body.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__body-medium__font-size: calc(${config.scale.body.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__body-medium__letter-spacing: calc(${config.scale.body.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__body-medium__font-weight: ${config.scale.body.medium.weight};\n\n      --mdw-typescale__body-small__font-family: ${config.scale.body.small.fontFamily};\n      --mdw-typescale__body-small__line-height: calc(${config.scale.body.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__body-small__font-size: calc(${config.scale.body.small.fontSize} * 0.0625rem);\n      --mdw-typescale__body-small__letter-spacing: calc(${config.scale.body.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__body-small__font-weight: ${config.scale.body.small.weight};\n      }`;\n}\n\n/** @return {string} */\nexport function generateTypographyGlobalCSS() {\n  return /* css */ `\n    :root {${['display', 'headline', 'title', 'label', 'body']\n    .map((style) => ['large', 'medium', 'small']\n      .map((size) => `--mdw-typescale__${style}-${size}__font: ${\n        [\n          `var(--mdw-typescale__${style}-${size}__font-weight)`,\n          `var(--mdw-typescale__${style}-${size}__font-size)/var(--mdw-typescale__${style}-${size}__line-height)`,\n          `var(--mdw-typescale__${style}-${size}__font-family)`,\n        ].join(' ')\n      };`).join('\\n'))\n    .join('\\n')}}`;\n}\n\n/**\n * @param {typeof SHAPE_ROUNDED_DEFAULT} [config]\n * @return {string}\n */\nexport function generateShapeCSS(config = SHAPE_ROUNDED_DEFAULT) {\n  return /* css */`\n    :root {\n      --mdw-shape__extra-small: ${config.size.extraSmall};\n      --mdw-shape__small: ${config.size.small};\n      --mdw-shape__medium: ${config.size.medium};\n      --mdw-shape__large: ${config.size.large};\n      --mdw-shape__extra-large: ${config.size.extraLarge};\n      --mdw-shape__full: ${config.size.full};\n      --mdw-shape__rounded: ${config.mask ? '0' : '1'};\n      --mdw-shape__outline__background: ${config.mask ? 'currentColor' : 'transparent'};\n      --mdw-shape__convex: ${config.convex ? '1' : '0'};\n      --mdw-shape__mask-border-source: ${config.mask ? svgToCSSURL(getShapeMaskSVG(config.mask)) : 'none'};\n      --mdw-shape__mask-image__top-left: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'top-left')) : 'none'};\n      --mdw-shape__mask-image__top-right: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'top-right')) : 'none'};\n      --mdw-shape__mask-image__bottom-right: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'bottom-right')) : 'none'};\n      --mdw-shape__mask-image__bottom-left: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'bottom-left')) : 'none'};\n      --mdw-shape__mask-image__edges: ${config.mask ? svgToCSSURL(getShapeEdgesSVGs()) : 'none'};\n    }\n  `;\n}\n\n/**\n * @param {string} content\n * @return {HTMLStyleElement} element\n */\nfunction addStyle(content) {\n  const element = document.createElement('style');\n  element.textContent = content;\n  document.head.append(element);\n  return element;\n}\n\n/**\n * @param {ThemeOptions} options\n * @return {string}\n */\nexport function generateColorCSS({ color = '#6750A4', custom = [], lightness = 'light' }) {\n  /** @type {[string,string][]} */\n  const parsedColors = [...custom]\n    .map(([name, hex]) => [name, COLOR_KEYWORDS.get(hex) || hex || COLOR_KEYWORDS.get(name)]);\n  const scheme = getScheme(color, parsedColors);\n  if (lightness === 'dark') {\n    return scheme.dark;\n  }\n  return scheme.light;\n}\n\n/**\n * @param {ThemeOptions} options\n * @return {void}\n */\nexport function setupTheme({ color = '#6750A4', custom = [], lightness = 'auto' }) {\n  /** @type {[string,string][]} */\n  const parsedColors = [...custom]\n    .map(([name, hex]) => [name, COLOR_KEYWORDS.get(hex) || hex || COLOR_KEYWORDS.get(name)]);\n  const scheme = getScheme(color, parsedColors);\n  if (lightness === 'dark') {\n    addStyle(scheme.dark);\n  } else {\n    addStyle(scheme.light);\n    if (lightness !== 'light') {\n      addStyle(scheme.dark).media = '(prefers-color-scheme:dark)';\n    }\n  }\n  addStyle(generateShapeCSS());\n  addStyle(generateTypographyCSS());\n}\n\n/**\n * @param {URLSearchParams} searchParams\n * @return {ThemeOptions}\n */\nexport function themeOptionsFromSearchParams(searchParams) {\n  const color = searchParams?.get('color') || '#6750A4';\n\n  const custom = /** @type {[string,string?][]} */(searchParams?.getAll('custom')\n    .flatMap((c) => c.split(','))\n    .map((c) => c.split(':')) ?? []);\n\n  const lightness = /** @type {ThemeOptions['lightness']} */(searchParams?.get('lightness') ?? 'auto');\n  return { color, custom, lightness };\n}\n\n/**\n * @param {ThemeOptions} options\n * @return {string}\n */\nexport function generateThemeCSS({ color = '#6750A4', custom = [], lightness = 'auto' }) {\n  const shapeCss = generateShapeCSS();\n  const typographyCss = generateTypographyCSS();\n  let colorCss;\n  if (lightness === 'light' || lightness === 'dark') {\n    colorCss = generateColorCSS({ color, custom, lightness });\n  } else {\n    colorCss = `\n    ${generateColorCSS({ color, custom, lightness: 'light' })}\n    @media (prefers-color-scheme:dark) {\n      :root { color-scheme: dark; }\n      ${generateColorCSS({ color, custom, lightness: 'dark' })}\n    }`;\n  }\n  return [\n    shapeCss,\n    typographyCss,\n    colorCss,\n  ].join('\\n');\n}\n", "import { PALETTES, TYPE_STYLES } from '../services/theme.js';\n\nconst colorAttributeCSS = PALETTES.map((palette) => [\n  `:host([color=\"${palette}\"]){`,\n  `--mdw-bg: var(--mdw-color__${palette});`,\n  `--mdw-ink: var(--mdw-color__on-${palette});`,\n  '}',\n  `:host([color=\"${palette}-container\"]){`,\n  `--mdw-bg: var(--mdw-color__${palette}-container);`,\n  `--mdw-ink: var(--mdw-color__on-${palette}-container);`,\n  '}',\n].join('')).join('');\n\nconst inkAttributeCSS = PALETTES.map((palette) => [\n  `:host([ink=\"${palette}\"]){`,\n  `--mdw-ink: var(--mdw-color__${palette});`,\n  '}',\n  `:host([ink=\"on-${palette}\"]){`,\n  `--mdw-ink: var(--mdw-color__on-${palette});`,\n  '}',\n  `:host([ink=\"on-${palette}-container\"]){`,\n  `--mdw-ink: var(--mdw-color__on-${palette}-container);`,\n  '}',\n].join('')).join('');\n\nconst typeStyleAttributeCSS = TYPE_STYLES.map((typeStyle) => [\n  `:host([type-style|=\"${typeStyle}\"]) {`,\n  `--mdw-type__font: var(--mdw-typescale__${typeStyle}-large__font);`,\n  `--mdw-type__letter-spacing: var(--mdw-typescale__${typeStyle}-large__letter-spacing);`,\n  '}',\n  `:host([type-style=\"${typeStyle}-medium\"]) {`,\n  `--mdw-type__font: var(--mdw-typescale__${typeStyle}-medium__font);`,\n  `--mdw-type__letter-spacing: var(--mdw-typescale__${typeStyle}-medium__letter-spacing);`,\n  '}',\n  `:host([type-style=\"${typeStyle}-small\"]) {`,\n  `--mdw-type__font: var(--mdw-typescale__${typeStyle}-small__font);`,\n  `--mdw-type__letter-spacing: var(--mdw-typescale__${typeStyle}-small__letter-spacing);`,\n  '}',\n].join('')).join('');\n\n/**\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function ThemableMixin(Base) {\n  return Base\n    .observe({\n      color: 'string',\n      ink: 'string',\n      typeStyle: 'string',\n    })\n    .css(colorAttributeCSS)\n    .css`\n      :host([color=\"background\"]) {\n        --mdw-bg: var(--mdw-color__background);\n        --mdw-ink: var(--mdw-color__on-background);\n      }\n\n      :host([color=\"surface-dim\"]) {\n        --mdw-bg: var(--mdw-color__surface-dim);\n      }\n\n      :host([color=\"surface-bright\"]) {\n        --mdw-bg: var(--mdw-color__surface-bright);\n      }\n\n      :host([color=\"surface-container-lowest\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-lowest);\n      }\n\n      :host([color=\"surface-container-low\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-low);\n      }\n\n      :host([color=\"surface-container-high\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-high);\n      }\n      \n      :host([color=\"surface-container-highest\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-highest);\n      }\n      \n      /* Quality-of-life */\n      :host([color=\"surface-primary\"]) {\n        --mdw-bg: var(--mdw-color__surface);\n        --mdw-ink: var(--mdw-color__primary);\n      }\n      \n      :host([color$=\"variant\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-highest);\n        --mdw-ink: var(--mdw-color__on-surface-variant);\n      }\n      \n      :host([color^=\"inverse\"]) {\n        --mdw-bg: var(--mdw-color__inverse-surface);\n        --mdw-ink: var(--mdw-color__inverse-on-surface);\n      }\n      \n      :host([color=\"inverse-primary\"]) {\n        --mdw-ink: var(--mdw-color__inverse-primary);\n      }\n      `\n    .css(inkAttributeCSS)\n    .css`\n      :host([ink=\"inverse-primary\"]) {\n        --mdw-ink: var(--mdw-color__inverse-primary);\n      }\n\n      :host([ink=\"outline\"]) {\n        --mdw-ink: var(--mdw-color__outline);\n      }\n      \n      :host([ink=\"surface-container-highest\"]) {\n        --mdw-ink: var(--mdw-color__surface-container-highest);\n      }\n      \n      :host([ink=\"on-surface-variant\"]) {\n        --mdw-ink: var(--mdw-color__on-surface-variant);\n      }\n      \n      :host([ink=\"inverse-on-surface\"]) {\n        --mdw-ink: var(--mdw-color__inverse-on-surface);\n      }\n      \n      :host([ink=\"inherit\"]) {\n        --mdw-ink: inherit;\n      }\n    `\n    .css(typeStyleAttributeCSS);\n}\n", "/** @type {Map<string, {path:string, viewBox:string}>} */\nexport const svgAliasMap = new Map();\nexport const unaliased = new Set();\n\n/**\n * @param {string} name\n * @param {string} path\n * @param {string} [viewBox]\n */\nexport function addSVGAlias(name, path, viewBox = '0 0 24 24') {\n  name = name.toLowerCase();\n  if (path) {\n    svgAliasMap.set(name, { path, viewBox });\n  } else {\n    svgAliasMap.delete(name);\n  }\n}\n", "// import fontStyles from 'https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1&display=block' assert { type: 'css'};\n\nimport CustomElement from '../core/CustomElement.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\nimport { svgAliasMap, unaliased } from '../services/svgAlias.js';\n\nconst documentLoadedStyleSheets = new Set();\n\n/** @typedef {'align'|'border'|'hspace'|'longDesc'|'lowsrc'|'name'|'vspace'} DeprecatedHTMLImageElementProperties */\n\n// https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement\n\n/** -implements {Omit<HTMLImageElement,DeprecatedHTMLImageElementProperties>} */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .define({\n    _img() { return /** @type {HTMLImageElement} */ (this.refs.img); },\n  })\n  .define({\n    naturalWidth() { return this._img.naturalWidth; },\n    naturalHeight() { return this._img.naturalHeight; },\n    complete() { return this._img.complete; },\n    currentSrc() { return this._img.currentSrc; },\n    x() { return this._img.x; },\n    y() { return this._img.y; },\n    decode() { return this._img.decode; },\n  })\n  .observe({\n    icon: 'string',\n    disabled: 'boolean',\n    alt: 'string',\n    src: 'string',\n    svg: 'string',\n    svgPath: 'string',\n    srcset: 'string',\n    sizes: 'string',\n    variation: 'string',\n    crossOrigin: { attr: 'crossorigin' },\n    useMap: { attr: 'usemap' },\n    isMap: { type: 'boolean', attr: 'ismap' },\n    referrerPolicy: { attr: 'referrerpolicy' },\n    decoding: { value: /** @type {'async'|'sync'|'auto'} */ (null) },\n    loading: { value: /** @type {'eager'|'lazy'} */ (null) },\n    width: 'integer',\n    height: 'integer',\n    forceFont: 'boolean',\n    _linkLoaded: 'boolean',\n    viewBox: 'string',\n    fontClass: { empty: 'material-symbols-outlined' },\n    fontLibrary: { empty: 'https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1&display=block' },\n    _isConnected: 'boolean',\n  })\n  .observe({\n    _svgAlias: {\n      type: 'object',\n      get({ icon, variation }) {\n        if (!icon) return null;\n        const iconName = icon.trim().toLowerCase();\n        const suffix = variation ? `#${variation}` : '';\n\n        const aliasName = `${iconName}${suffix}`;\n        if (svgAliasMap.has(aliasName)) {\n          return svgAliasMap.get(aliasName);\n        }\n        unaliased.add(aliasName);\n\n        // Fallback to base version\n        if (suffix && svgAliasMap.has(iconName)) {\n          return svgAliasMap.get(iconName);\n        }\n\n        return null;\n      },\n    },\n  })\n  .observe({\n    _computedSVGPath({ svgPath, _svgAlias }) {\n      return svgPath || _svgAlias?.path;\n    },\n    _computedViewBox({ viewBox, _svgAlias }) {\n      return viewBox ?? _svgAlias?.viewBox ?? '0 0 24 24';\n    },\n  })\n  .observe({\n    _showFontIcon: {\n      type: 'boolean',\n      get({ icon, svg, _computedSVGPath, src }) {\n        return icon && !svg && !_computedSVGPath && !src;\n      },\n    },\n  })\n  .expressions({\n    showSVG({ svg, _computedSVGPath }) {\n      return Boolean(svg || _computedSVGPath);\n    },\n\n  })\n  .html`\n    <link mdw-if={_showFontIcon} id=link rel=stylesheet href={fontLibrary} />\n    <svg mdw-if=\"{showSVG}\" id=\"svg\" viewBox=\"{_computedViewBox}\">\n      <use id=\"use\" mdw-if=\"{svg}\" href=\"{svg}\" fill=\"currentColor\"/>\n      <path id=\"path\" mdw-if=\"{_computedSVGPath}\" d=\"{_computedSVGPath}\"/>\n    </svg>\n    <img mdw-if={src} id=img\n      disabled={disabled}\n      alt={alt} src={src} srcset={srcset} sizes={sizes}\n      crossorigin={crossOrigin} usemap={useMap} ismap={isMap}\n      referrerpolicy={referrerPolicy} decoding={decoding} loading={loading}\n      width={width} height={height}\n    />\n    <span id=icon class={fontClass} hidden={!_showFontIcon} aria-hidden=true>{icon}</span>\n  `\n  .css`\n    /* https://material.io/design/iconography/system-icons.html */\n\n    :host {\n      vertical-align: -11.5%;\n\n      block-size: 1em;\n      inline-size: 1em;\n\n      -webkit-user-select: none;\n      user-select: none;\n\n      line-height: 1;\n\n      font-variation-settings: 'FILL' 0;\n\n      transition-duration: 200ms;\n      /* stylelint-disable-next-line liberty/use-logical-spec -- Safari does not animate inline-size */\n      transition-property: inline-size, width;\n    }\n\n    :host([variation=\"fill\"]) {\n      font-variation-settings: 'FILL' 1;\n    }\n\n    :host(:is([color],[ink])) {\n      color: rgb(var(--mdw-ink));\n    }\n\n    #icon {\n      /* Clip bounds in case font is not ready */\n      overflow: clip;\n\n      block-size: 1em;\n      inline-size: 1em;\n\n      font-size: inherit;\n      font-variation-settings: inherit;\n\n      transition-delay: 1ms;\n      transition-duration: 200ms;\n\n      transition-property: font-variation-settings;\n    }\n\n    #icon[hidden] {\n      display: none;\n    }\n\n    #svg {\n      block-size: inherit;\n      inline-size: inherit;\n\n      fill: currentColor;\n\n      object-fit: cover;\n    }\n\n    #img {\n      block-size: inherit;\n      inline-size: inherit;\n\n      object-fit: cover;\n\n      transition-delay: 1ms;\n      transition-duration: 200ms;\n      transition-property: filter;\n    }\n\n    #img[disabled] {\n      filter: grayscale();\n    }\n\n    .material-symbols-outlined {\n      /* https://github.com/google/material-design-icons/issues/750 */\n      direction: inherit;\n    }\n\n  `\n  .childEvents({\n    link: {\n      /**\n       * @param {{currentTarget: HTMLLinkElement}} event\n       * @type {any}\n       */\n      load({ currentTarget }) {\n        const { href, parentNode } = currentTarget;\n        if (!parentNode) {\n          console.warn('Icon: parentNode is blank');\n        }\n        if (documentLoadedStyleSheets.has(href)) return;\n        // console.debug('Icon: Checking if link also in document', href);\n        for (const link of document.head.getElementsByTagName('link')) {\n          if (link.href === href) {\n            // console.debug(`Icon: Found ${href} in document.`);\n            documentLoadedStyleSheets.add(href);\n            return;\n          }\n        }\n        // console.debug(`Icon: Adding ${href} to document.`);\n        document.head.append(currentTarget.cloneNode());\n        documentLoadedStyleSheets.add(href);\n      },\n    },\n  })\n  .extend((BaseClass) => class extends BaseClass {\n    /**\n     * @param {number} [width]\n     * @param {number} [height]\n     */\n    constructor(width, height) {\n      super();\n\n      if (width != null) {\n        this.width = width;\n      }\n      if (height != null) {\n        this.height = height;\n      }\n    }\n  })\n  .autoRegister('mdw-icon');\n", "/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function DensityMixin(Base) {\n  return Base\n    .observe({\n      density: 'integer',\n    })\n    .css`\n      :host {\n        --mdw-density: var(--mdw-density__default, 0);\n      }\n      \n      /* Reset */\n      :host([density]) { --mdw-density: 0; }\n      \n      :host([density=\"-1\"]) { --mdw-density: -1; }\n      :host([density=\"-2\"]) { --mdw-density: -2; }\n      :host([density=\"-3\"]) { --mdw-density: -3; }\n      :host([density=\"-4\"]) { --mdw-density: -4; }\n      :host([density=\"1\"]) { --mdw-density: 1; }\n      :host([density=\"2\"]) { --mdw-density: 2; }\n      :host([density=\"3\"]) { --mdw-density: 3; }\n      :host([density=\"4\"]) { --mdw-density: 4; }\n    `;\n}\n", "/**\n * @param {ReturnType<import('./StateMixin.js').default> & ReturnType<import('./ThemableMixin.js').default>} Base\n */\nexport default function ShapeMixin(Base) {\n  return Base\n    .observe({\n      shapeTop: 'boolean',\n      shapeBottom: 'boolean',\n      shapeStart: 'boolean',\n      shapeEnd: 'boolean',\n      shapeStyle: 'string',\n      outlined: 'boolean',\n    })\n    .html`\n      <div id=outline mdw-if={outlined} class=outline disabled={disabledState} focused={focusedState} pressed={pressedState} hovered={hoveredState}></div>\n    `\n    .css`\n      :host {\n        --mdw-shape__size: 0px;\n        --mdw-shape__ltr: calc(0.5 * var(--mdw-dir, 1) + 0.5); /* 1 if LTR, 0 if RTL */\n        --mdw-shape__rtl: calc(-0.5 * var(--mdw-dir, 1) + 0.5); /* 0 if LTR, 1 if RTL */\n\n        /** By default, fallback to border-radius */\n        --mdw-shape__inline-start-deg: calc(var(--mdw-dir, 1) * -90deg);\n\n        --mdw-shape__size__top-start-size: var(--mdw-shape__size);\n        --mdw-shape__size__top-end-size: var(--mdw-shape__size);\n        --mdw-shape__size__bottom-start-size: var(--mdw-shape__size);\n        --mdw-shape__size__bottom-end-size: var(--mdw-shape__size);\n        /* (1/2n + 1/2)L + (-1/2n + 1/2)R  */\n        \n        --mdw-shape__size__top-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__top-end-size)));\n        --mdw-shape__size__top-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__top-end-size)));\n        --mdw-shape__size__bottom-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-end-size)));\n        --mdw-shape__size__bottom-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-end-size)));\n        z-index: 0;\n\n        border-start-start-radius: calc(var(--mdw-shape__size__top-start-size));\n        border-start-end-radius: calc(var(--mdw-shape__size__top-end-size));\n        border-end-start-radius: calc(var(--mdw-shape__size__bottom-start-size));\n        border-end-end-radius: calc(var(--mdw-shape__size__bottom-end-size));\n      }\n\n      :host([shape-style=\"none\"]) {\n        --mdw-shape__size: 0px;\n      }\n      \n      :host([shape-style=\"extra-small\"]) {\n        --mdw-shape__size: var(--mdw-shape__extra-small);\n      }\n      \n      :host([shape-style=\"small\"]) {\n        --mdw-shape__size: var(--mdw-shape__small);\n      }\n      \n      :host([shape-style=\"medium\"]) {\n        --mdw-shape__size: var(--mdw-shape__medium);\n      }\n      \n      :host([shape-style=\"large\"]) {\n        --mdw-shape__size: var(--mdw-shape__large);\n      }\n      \n      :host([shape-style=\"extra-large\"]) {\n        --mdw-shape__size: var(--mdw-shape__extra-large);\n      }\n      \n      :host([shape-style=\"full\"]) {\n        --mdw-shape__size: var(--mdw-shape__full);\n      }\n      \n      :host([shape-style=\"inherit\"]) {\n        --mdw-shape__size: inherit;\n      }\n      \n      :host([shape-top]) {\n        --mdw-shape__size__bottom-start-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n      }\n      \n      :host([shape-bottom]) {\n        --mdw-shape__size__top-start-size: 0px;\n        --mdw-shape__size__top-end-size: 0px;\n      }\n      \n      :host([shape-start]) {\n        --mdw-shape__size__top-end-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n      }\n      \n      :host([shape-end]) {\n        --mdw-shape__size__top-start-size: 0px;\n        --mdw-shape__size__bottom-start-size: 0px;\n      }\n      \n    `\n    .css`\n      .outline {\n        position: absolute;\n        inset: 0;\n\n        overflow: hidden;\n\n        border-style: solid;\n        border-width: 1px;\n      \n        pointer-events: none;\n      \n        border-color: currentColor;\n        border-radius: inherit;\n        color: rgb(var(--mdw-color__outline));\n      }\n      \n      .outline:is([pressed],[focused]) {\n        color: rgb(var(--mdw-ink));\n      \n        transition-delay: 0;\n        transition-duration: 0;\n      }\n      \n      .outline[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.12);\n      }\n      \n    `;\n}\n", "import '../components/Icon.js';\nimport DensityMixin from './DensityMixin.js';\nimport ShapeMixin from './ShapeMixin.js';\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\n/**\n * @param {ReturnType<import('./ControlMixin.js').default>} Base\n */\nexport default function TextFieldMixin(Base) {\n  return Base\n    .mixin(DensityMixin)\n    .mixin(ShapeMixin)\n    .set({\n      stateLayer: true,\n    })\n    .observe({\n      type: { empty: 'text' },\n      icon: 'string',\n      iconVariation: 'string',\n      label: 'string',\n      filled: 'boolean',\n      outlined: 'boolean',\n      inputPrefix: 'string',\n      inputSuffix: 'string',\n      trailingIcon: 'string',\n      trailingIconInk: 'string',\n      trailingIconLabel: 'string',\n      supporting: 'string',\n      error: 'string',\n      placeholder: { nullParser: String }, // DOMString\n    })\n    .observe({\n      erroredState({ error, _invalid, _userInteracted }) { return _userInteracted && Boolean(error || _invalid); },\n    })\n    .expressions({\n      computePlaceholder({ filled, outlined, label, placeholder }) {\n        if (filled || outlined) return placeholder;\n        return placeholder ?? label;\n      },\n\n      shouldShowSupporting({ erroredState, supporting }) {\n        return erroredState || (supporting != null);\n      },\n\n      computeSupportingText({ error, erroredState, _validationMessage, supporting }) {\n        return (error || (erroredState && _validationMessage) || supporting) ?? '';\n      },\n\n      populatedState({ value, _badInput }) {\n        return !!value || _badInput;\n      },\n      _showLabelText({ label, filled, outlined }) {\n        return label && (filled || outlined);\n      },\n    })\n    .expressions({\n      _shapeShapeTop({ shapeTop, filled }) {\n        return shapeTop || filled;\n      },\n      computedIconVariation({ iconVariation, outlined }) {\n        return iconVariation ?? (outlined ? null : 'filled');\n      },\n    })\n    .html`\n      <div id=shape role=none filled={filled} icon={icon} trailing-icon={trailingIcon}\n      populated={populatedState} focused={focusedState} label={label} outlined={outlined}\n      shape-top={_shapeShapeTop}>\n        <mdw-icon mdw-if={icon} id=icon aria-hidden=true disabled={disabledState} icon={icon} variation={computedIconVariation}></mdw-icon>\n        <div id=inline role=none filled={filled} icon={icon} trailing-icon={trailingIcon}\n          populated={populatedState} focused={focusedState} label={label} outlined={outlined}>\n          <span mdw-if={inputPrefix} class=inline id=prefix aria-hidden=true focused={focusedState} populated={populatedState}>{inputPrefix}</span>\n          <span mdw-if={inputSuffix} class=inline id=suffix aria-hidden=true focused={focusedState} populated={populatedState}>{inputSuffix}</span>\n        </div>\n        <mdw-icon-button tabindex=-1 disabled={disabledState} mdw-if={trailingIcon} id=trailing-icon ink={trailingIconInk} disabled={disabledState} icon={trailingIcon}>{trailingIconLabel}</mdw-icon-button>\n        <div mdw-if={filled} id=indicator aria-hidden=true focused={focusedState} hovered={hoveredState} errored={erroredState} disabled={disabledState}></div>\n      </div>\n      <div id=label-text mdw-if={_showLabelText} aria-hidden=true\n        outlined={outlined}\n        populated={populatedState}\n        focused={focusedState}\n        icon={icon}\n        trailing-icon={trailingIcon}\n        disabled={disabledState}\n        errored={erroredState}>{label}</div>\n      <div mdw-if={shouldShowSupporting} id=supporting disabled={disabledState} errored={erroredState}>\n        {computeSupportingText}\n        <slot id=supporting-slot name=supporting></slot>\n      </div>\n      \n    `\n    .recompose(({ html, refs: { control, outline, state, shape, inline } }) => {\n      control.setAttribute('placeholder', '{computePlaceholder}');\n      control.setAttribute('aria-label', '{label}');\n      control.setAttribute('input-suffix', '{inputSuffix}');\n      control.setAttribute('errored', '{erroredState}');\n      control.setAttribute('aria-describedby', 'supporting');\n      control.removeAttribute('aria-labelledby');\n      control.classList.add('inline');\n\n      state.setAttribute('mdw-if', '{!outlined}');\n      outline.append(html`\n        <div id=outline-left class=outline-section focused={focusedState}></div>\n        <div id=gap label={label} populated={populatedState} focused={focusedState}>\n          <div id=gap-slot focused={focusedState}></div>\n          <span id=gap-label>{label}</span>\n        </div>\n        <div id=outline-right class=outline-section focused={focusedState}></div>\n      `);\n      outline.setAttribute('label', '{label}');\n      outline.setAttribute('errored', '{erroredState}');\n      shape.prepend(outline, state);\n      inline.prepend(control);\n    })\n    .on({\n      // @ts-ignore TODO: Missing observable size property\n      sizeChanged(oldValue, newValue) {\n        // @ts-ignore TODO: Missing {this} context\n        const control = /** @type {HTMLElement} */ (this.refs.control);\n        control.style.setProperty('--size', `${newValue}ch`);\n      },\n    })\n    .css`\n      /* https://m3.material.io/components/text-fields/specs */\n\n      /**\n       * States:      Enabled            / Hover              / Focus              / Error              / Error Hover        / Error Focus\n       * Input:       on-surface         / on-surface         / on-surface         / on-surface         / on-surface         / on-surface\n       * Inline:      on-surface-variant / on-surface-variant / on-surface-variant / on-surface-variant / on-surface-variant / on-surface-variant\n       * Label:       on-surface-variant / on-surface*        / ink                / error              / on-error-container / error\n       * Indicator:   on-surface-variant / on-surface         / ink                / error              / on-error-container / error\n       * Caret:       (any)              / (any)              / ink                / (any)              / (any)              / error\n       * Outline:     outline            / on-surface         / ink                / error              / on-error-container / error\n       * Selection:   on-*               / on-*               / ink                / error              / on-error-container / error\n       *\n       *\n       * *Filled hovered unpopulated label may be on-surface-variant instead\n       *\n       * Input: Always on-surface\n       * Inline: Always on-surface-variant\n       * Indicator: same as label\n       * Label: same as indicator\n       * Outline: outline default, same as label+indicator on :hover or :focus\n       * Caret: same as label+indicator+outline (cannot inherit color or use currentColor)\n       * Selection:  (cannot inherit color or use currentColor)\n       */\n\n      :host {\n        --mdw-shape__size: var(--mdw-shape__extra-small);\n        /* --mdw-shape__size: 8px; */\n        /* --mdw-shape__size__bottom-start-size: var(--mdw-shape__size); */\n        /* --mdw-shape__size__bottom-end-size: var(--mdw-shape__size); */\n        --mdw-text-field__ratio: calc(var(--mdw-density) * 0.125 + 1);\n\n        --control__margin-top: calc(var(--mdw-typescale__body-small__line-height) / 2);\n        --control__padding-top: calc((var(--mdw-text-field__ratio) * 16px) - calc(var(--mdw-typescale__body-small__line-height) / 2));\n        --control__padding-bottom: calc(var(--mdw-text-field__ratio) * 16px);\n        --control__margin-bottom: 0px;\n\n        --inline-color: rgb(var(--mdw-color__on-surface-variant));\n\n        --descriptor-opacity: 0.5;\n        --mdw-ink: var(--mdw-color__primary);\n        --mdw-bg: var(--mdw-color__surface-container-highest);\n\n        --mdw-type__font: var(--mdw-typescale__body-large__font);\n        --mdw-type__letter-spacing: var(--mdw-typescale__body-large__letter-spacing);\n\n        display: inline-block;\n\n        border-radius: 0;\n\n        /* State layer */\n        color: rgb(var(--mdw-color__on-surface));\n\n        font: var(--mdw-type__font);\n        letter-spacing: var(--mdw-type__letter-spacing);\n      }\n\n      :host(:is([color], [ink])) {\n        background-color: transparent;\n        color: rgb(var(--mdw-color__on-surface));\n      }\n\n      /** Guard against bleed */\n      #shape[label][outlined] {\n        --mdw-shape__size__top-start-size: min(var(--mdw-shape__size), 12px);\n        --mdw-shape__size__bottom-start-size: min(var(--mdw-shape__size), 12px);\n        --mdw-shape__size__top-end-size: min(var(--mdw-shape__size), 12px);\n        --mdw-shape__size__bottom-end-size: min(var(--mdw-shape__size), 12px);\n      }\n\n      #shape {\n        position: relative;\n\n        display: flex;\n\n        cursor: inherit;\n\n        z-index: 0;\n\n        background-color: transparent;\n\n        border-start-start-radius: calc(var(--mdw-shape__size__top-start-size));\n        border-start-end-radius: calc(var(--mdw-shape__size__top-end-size));\n        border-end-start-radius: calc(var(--mdw-shape__size__bottom-start-size));\n        border-end-end-radius: calc(var(--mdw-shape__size__bottom-end-size));\n\n        font-weight: inherit;\n        font-size: inherit;\n        line-height: inherit;\n        font-family: inherit;\n        letter-spacing: inherit;\n\n        transition: none 200ms cubic-bezier(0.0, 0.0, 0.2, 1);\n      }\n\n      #inline {\n        display: flex;\n\n        align-items: center;\n        overflow: visible;\n\n        flex: 1;\n        padding-block: var(--control__margin-top) var(--control__margin-bottom);\n\n        cursor: inherit;\n\n        font-weight: inherit;\n        font-size: inherit;\n        line-height: inherit;\n        font-family: inherit;\n        letter-spacing: inherit;\n\n        transition: none 200ms cubic-bezier(0.0, 0.0, 0.2, 1);\n      }\n\n      \n\n      #shape:where([filled],[color]) {\n        background-color: rgb(var(--mdw-bg));\n        color: rgb(var(--mdw-color__on-surface));\n      }\n\n      #shape[outlined] {\n        background-color: transparent;\n      }\n\n      #label-text,\n      #indicator {\n        color: rgb(var(--mdw-color__on-surface-variant))\n      }\n\n      :is(#label-text, #indicator)[focused] {\n        color: rgb(var(--mdw-ink))\n      }\n\n      #shape[focused] {\n        transition: none 100ms cubic-bezier(0.4, 0.0, 1, 1);\n      }\n\n      #shape[shape-top] {\n        --mdw-shape__size__bottom-start-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n      }\n\n      #prefix,\n      #suffix,\n      #control::placeholder {\n        opacity: var(--descriptor-opacity);\n\n        color: var(--inline-color);\n\n        transition-duration: inherit;\n        transition-property: opacity;\n        transition-timing-function: inherit;\n        will-change: opacity;\n      }\n\n      :host([label]:is([filled],[outlined])) {\n        --descriptor-opacity: 0;\n      }\n\n      #control {\n        position: relative;\n        inset: auto;\n        align-self: flex-start;\n\n        display: inline-block;\n\n        box-sizing: border-box;\n\n        block-size: auto;\n        min-block-size: 0;\n        inline-size: 100%;\n        min-inline-size: 0;\n        flex: 1;\n        border-block-end: solid var(--control__margin-bottom) transparent;\n        padding-block: var(--control__padding-top) var(--control__padding-bottom);\n\n        appearance: none;\n        caret-color: rgb(var(--mdw-ink));\n        cursor: auto;\n\n        transform: none;\n\n        visibility: inherit;\n\n        background-color: transparent;\n        border-color: transparent;\n        color: inherit;\n        /* rgb(var(--mdw-color__on-surface)); */\n\n        font-weight: inherit;\n        font-size: inherit;\n        line-height: inherit;\n        font-family: inherit;\n        letter-spacing: inherit;\n        text-align: initial;\n\n        transition-duration: inherit;\n        transition-property: color;\n        transition-timing-function: inherit;\n      }\n\n      #suffix,\n      #prefix {\n        /* Symmetrical to allow centering */\n        padding-block: var(--control__padding-top) var(--control__padding-bottom);\n      }\n\n      /* stylelint-disable-next-line plugin/no-unsupported-browser-features */\n      #control::selection {\n        background-color: rgb(var(--mdw-ink));\n        color: rgb(var(--mdw-color__surface));\n      }\n\n      #state {\n        --mdw-state__focused-opacity: 0;\n        --mdw-state__pressed-opacity: 0;\n      }\n\n      mdw-icon {\n        --mdw-icon__size: 24px;\n        align-self: center;\n\n        color: var(--inline-color);\n      }\n\n      #icon {\n        order: -2;\n\n        margin-inline-start: 12px;\n\n        font-size: 24px;\n      }\n\n      #prefix {\n        order: -1;\n      }\n\n      #suffix {\n        order: 1;\n      }\n\n      #trailing-icon {\n        order: 2;\n\n        /* stylelint-disable-next-line declaration-property-value-disallowed-list */\n        margin-inline-end: 12px;\n      }\n\n      #indicator {\n        position: absolute;\n        inset-block-end: 0;\n        inset-inline: 0;\n\n        border-block-end: 2px solid currentColor;\n\n        pointer-events: none;\n\n        transform: scaleY(0.5);\n        z-index: 1; /* Force new layer to avoid repaint */\n\n        transition-duration: inherit;\n        transition-property: transform;\n        transition-timing-function: inherit;\n        will-change: transform;\n      }\n\n      #indicator[focused] {\n        transform: scaleY(1);\n\n      }\n\n      /** Label Text **/\n\n      #label-text {\n        position: absolute;\n        inset-block-start: 0;\n        inset-inline: 0;\n\n        display: block;\n        overflow-x: clip;\n        overflow-y: visible;\n\n        padding-inline: 16px;\n\n        pointer-events: none;\n\n        opacity: 1;\n        transform: translateY(calc((var(--control__margin-top) + var(--control__padding-top) + 100% + var(--control__padding-bottom) + var(--control__margin-bottom)) / 2)) translateY(-50%);\n        z-index: 4;\n        /* FireFox bug */\n\n        color: rgb(var(--mdw-color__on-surface-variant));\n\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        transition-duration: 200ms;\n        transition-property: inset-inline-start, font-size, transform;\n        /* transition-timing-function: inherit; */\n        /*Expand*/\n\n        will-change: inset-inline-start, font-size, transform;\n      }\n\n      @supports (-moz-appearance:none ) {\n        #label-text {\n          /* Firefox clips Y as well as X */\n          overflow-x: hidden;\n        }\n      }\n\n      #label-text[focused] {\n        color: rgb(var(--mdw-ink));\n      }\n\n      #label-text[icon] {\n        inset-inline-start: calc(12px + 24px);\n      }\n\n      #label-text[trailing-icon] {\n        inset-inline-end: calc(24px + 12px);\n      }\n\n      #label-text:is([focused], [populated]) {\n        transform: translateY(calc(var(--mdw-text-field__ratio) * 8px));\n\n        font: var(--mdw-typescale__body-small__font);\n        /* Not spec: Should only use font-size and line-height */\n        letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n      }\n\n      #label-text[outlined]:is([focused], [populated]) {\n        inset-inline: 0;\n\n        transform: translateY(-50%);\n      }\n\n      :is(#prefix, #suffix):is([focused], [populated]) {\n        opacity: 1;\n      }\n\n      /* If no label */\n      #control:is(:focus, :not(:placeholder-shown))::placeholder {\n        opacity: 0.70;\n      }\n\n      #control[input-suffix] {\n        text-align: end;\n      }\n\n      /** Outlined **/\n\n      #outline {\n        position: absolute;\n        inset: 0;\n\n        border-style: solid;\n        border-width: 0px;\n\n        pointer-events: none;\n\n        border-color: currentColor;\n        border-radius: inherit;\n        color: rgb(var(--mdw-color__outline));\n      }\n\n      #outline:is([pressed],[focused]) {\n        color: rgb(var(--mdw-ink));\n\n        transition-delay: 0;\n        transition-duration: 0;\n      }\n      \n      #outline[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.12);\n      }\n\n      #outline::before {\n        content: none;\n      }\n\n      .outline-section {\n        position: relative;\n\n        border: 1px solid currentColor;\n      }\n\n      .outline-section[focused] {\n        border-width: 2px;\n      }\n\n      #outline-left {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-right-width: 0;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-top-left-radius: inherit;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-bottom-left-radius: inherit;\n      }\n\n      #outline-right {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-left-width: 0;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-top-right-radius: inherit;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-bottom-right-radius: inherit;\n      }\n\n      #outline {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: 1fr 0 1fr;\n\n        color: rgb(var(--mdw-color__outline));\n      }\n\n      #outline[label] {\n        grid-template-columns: 12px minmax(0,auto) minmax(12px, 1fr);\n      }\n\n      #outline[hovered] {\n        color: rgb(var(--mdw-color__on-surface));\n      }\n\n      #outline[focused] {\n        color: rgb(var(--mdw-ink));\n      }\n\n      .outline-section {\n        min-inline-size: 12px;\n      }\n\n      .outline-section::before,\n      .outline-section::after {\n        max-inline-size: none;\n      }\n\n      .outline-left {\n        grid-column: calc(2 - var(--mdw-dir, 1)) / span 1; /* 1 on LTR, 3 on RTL */\n      }\n\n      .outline-right {\n        grid-column: calc(2 + var(--mdw-dir, 1)) / span 1;\n      }\n\n      #gap {\n        position: relative;\n\n        display: inline-block;\n        overflow: clip hidden;\n\n        max-inline-size: 100%;\n        grid-column: 2;\n\n        font: var(--mdw-typescale__body-small__font);\n        /* Not spec: Should only use font-size and line-height */\n        letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n\n        /* Close gap */\n        transition-duration: inherit;\n        transition-property: padding;\n        transition-timing-function: inherit;\n      }\n\n      #gap-label {\n        display: inline-block;\n        overflow: clip hidden;\n\n        padding-inline: 4px;\n\n        color:transparent;\n\n        white-space: nowrap;\n      }\n\n      #gap::after {\n        content: '';\n\n        position: absolute;\n        inset: 0;\n\n        border-block-end: solid 1px currentColor;\n      }\n\n      #gap[focused]::after {\n        border-block-end-width: 2px;\n      }\n\n      #gap-slot {\n        position: absolute;\n        inset: 0;\n\n      }\n\n      #gap-slot::before,\n      #gap-slot::after {\n        content: '';\n\n        position: absolute;\n        inset: 0;\n\n        border-block-start: solid 1px currentColor;\n\n        transition: transform 200ms;\n        will-change: transform;\n      }\n\n      #gap-slot[focused]::before,\n      #gap-slot[focused]::after {\n        border-block-start-width: 2px;\n      }\n\n      #gap-slot::before {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        margin-right: -0.99px;\n\n        transform: var(--gap-transform, scaleX(0.5));\n        transform-origin: 0 0;\n      }\n\n      #gap-slot::after {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        margin-left: -0.99px;\n\n        transform: var(--gap-transform, scaleX(0.5));\n        transform-origin: 100% 0;\n      }\n\n      #gap:is([focused], [populated]) {\n        /* Open gap */\n        --gap-transform: scaleX(0);\n      }\n\n      #gap:empty {\n        padding: 0;\n      }\n\n      #inline[label][filled] {\n        align-items: flex-start;\n      }\n\n      :host([filled]) {\n        --mdw-shape__size__bottom-start-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n        --mdw-text-field__ratio: calc(var(--mdw-density) * 0.25 + 1);\n      }\n\n      :host(:is([filled][label])) {\n        --control__margin-top: calc((var(--mdw-text-field__ratio) * 8px) + var(--mdw-typescale__body-small__line-height));\n        --control__padding-top: 0px;\n        --control__padding-bottom: calc(var(--mdw-text-field__ratio) * 4px);\n        --control__margin-bottom: calc(var(--mdw-text-field__ratio) * 4px);\n      }\n\n      #supporting {\n        min-block-size: var(--mdw-typescale__body-small__line-height);\n        margin-block-start: 4px;\n        margin-inline: 16px;\n\n        font-weight: var(--mdw-typescale__body-small__font-weight); /* Not spec */\n        font-size: var(--mdw-typescale__body-small__font-size);\n        line-height: var(--mdw-typescale__body-small__line-height);\n        font-family: var(--mdw-typescale__body-small__font-family); /* Not spec */\n        letter-spacing: var(--mdw-typescale__body-small__letter-spacing); /* Not spec */\n      }\n\n      /* Error States */\n\n      #control[errored] {\n        caret-color: rgb(var(--mdw-color__error));\n      }\n\n      #control[errored]::selection {\n        background-color: rgb(var(--mdw-color__on-error-container));\n      }\n\n      :is(#indicator, #label-text, #supporting, #outline)[errored] {\n        color: rgb(var(--mdw-color__error));\n      }\n\n      :is(#indicator, #label-text, #supporting, #outline)[errored]:where([hovered]) {\n        color: rgb(var(--mdw-color__on-error-container));\n      }\n\n      :is(#indicator, #label-text, #supporting, #outline)[errored]:where([focused]) {\n        color: rgb(var(--mdw-color__error));\n      }\n\n      /* stylelint-disable-next-line selector-max-compound-selectors */\n      #shape[disabled],\n      #shape[disabled] #control {\n        cursor: not-allowed;\n      }\n\n      #outline[disabled] {\n        color: rgba(var(--mdw-color__outline), 0.12);\n      }\n\n      #label-text[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #supporting[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      .inline[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      mdw-icon[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #shape[disabled] {\n        background-color: rgba(var(--mdw-color__on-surface), calc(0.04));\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #indicator[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #shape[disabled][outlined] {\n        background-color: transparent;\n      }\n    \n    `;\n}\n", "/**\n * Displays elevation via shadows or underlighting.\n * Uses `filter:drop-shadow` to display elevation.\n * @param {ReturnType<import('./StateMixin.js').default> & ReturnType<import('./ThemableMixin.js').default>} Base\n */\nexport default function ElevationMixin(Base) {\n  return Base\n    .css`:host {\n\n        /** Reference Properties */\n        /*\n        --mdw-surface__box-shadow__1__umbra: 0px 1px 2px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__2__umbra: 0px 1px 2px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__3__umbra: 0px 1px 3px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__4__umbra: 0px 2px 3px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__5__umbra: 0px 4px 4px 0px rgba(var(--mdw-color__shadow), 0.30);\n      \n        --mdw-surface__filter__0__umbra: drop-shadow(0px 1px 1px rgba(var(--mdw-color__shadow), 0));\n        --mdw-surface__filter__1__umbra: drop-shadow(0px 1px 1px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__2__umbra: drop-shadow(0px 1px 1px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__3__umbra: drop-shadow(0px 1px 1.5px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__4__umbra: drop-shadow(0px 2px 1.5px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__5__umbra: drop-shadow(0px 4px 2px rgba(var(--mdw-color__shadow), 0.30));\n      \n        --mdw-surface__box-shadow__1__penumbra: 0px 1px 3px 1px  rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__2__penumbra: 0px 2px 6px 2px  rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__3__penumbra: 0px 4px 8px 3px  rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__4__penumbra: 0px 6px 10px 4px rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__5__penumbra: 0px 8px 12px 6px rgba(var(--mdw-color__shadow), 0.15);\n      \n        --mdw-elevation__filter__0__penumbra: drop-shadow(0px 1px 2.5px rgba(var(--mdw-color__shadow), 0));\n        --mdw-elevation__filter__1__penumbra: drop-shadow(0px 1px 2.5px rgba(var(--mdw-color__shadow), 0.25));\n        --mdw-elevation__filter__2__penumbra: drop-shadow(0px 2px 5px rgba(var(--mdw-color__shadow), 0.25));\n        --mdw-elevation__filter__3__penumbra: drop-shadow(0px 4px 7px rgba(var(--mdw-color__shadow), 0.263));\n        --mdw-elevation__filter__4__penumbra: drop-shadow(0px 6px 9px rgba(var(--mdw-color__shadow), 0.27));\n        --mdw-elevation__filter__5__penumbra: drop-shadow(0px 8px 12px rgba(var(--mdw-color__shadow), 0.30));\n      \n        --mdw-elevation__filter__0: var(--mdw-surface__shadow__0__umbra) var(--mdw-surface__shadow__0__penumbra);\n        --mdw-elevation__filter__1: var(--mdw-surface__shadow__1__umbra) var(--mdw-surface__shadow__1__penumbra);\n        --mdw-elevation__filter__2: var(--mdw-surface__shadow__2__umbra) var(--mdw-surface__shadow__2__penumbra);\n        --mdw-elevation__filter__3: var(--mdw-surface__shadow__3__umbra) var(--mdw-surface__shadow__3__penumbra);\n        --mdw-elevation__filter__4: var(--mdw-surface__shadow__4__umbra) var(--mdw-surface__shadow__4__penumbra);\n        --mdw-elevation__filter__5: var(--mdw-surface__shadow__5__umbra) var(--mdw-surface__shadow__5__penumbra);\n        */\n\n      --mdw-elevation__rgb: var(--mdw-color__shadow);\n\n      --mdw-elevation__box-shadow__0: 0px 1px 1px 0px rgba(var(--mdw-elevation__rgb), 0.00), 0px 0px 1px 1px  rgba(var(--mdw-elevation__rgb), 0.00);\n      --mdw-elevation__box-shadow__1: 0px 1px 2px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 1px 3px 1px  rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__2: 0px 1px 2px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 2px 6px 2px  rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__3: 0px 1px 3px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 4px 8px 3px  rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__4: 0px 2px 3px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 6px 10px 4px rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__5: 0px 4px 4px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 8px 12px 6px rgba(var(--mdw-elevation__rgb), 0.15);\n\n      --mdw-elevation__drop-shadow__0: drop-shadow(0px 1px 001px rgba(var(--mdw-elevation__rgb),000)) drop-shadow(0px 1px 2.5px rgba(var(--mdw-elevation__rgb),00000));\n      --mdw-elevation__drop-shadow__1: drop-shadow(0px 1px 001px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 1px 2.5px rgba(var(--mdw-elevation__rgb),0.250));\n      --mdw-elevation__drop-shadow__2: drop-shadow(0px 1px 001px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 2px 005px rgba(var(--mdw-elevation__rgb),0.250));\n      --mdw-elevation__drop-shadow__3: drop-shadow(0px 1px 1.5px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 4px 007px rgba(var(--mdw-elevation__rgb),0.263));\n      --mdw-elevation__drop-shadow__4: drop-shadow(0px 2px 1.5px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 6px 009px rgba(var(--mdw-elevation__rgb),0.270));\n      --mdw-elevation__drop-shadow__5: drop-shadow(0px 4px 2.0px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 8px 012px rgba(var(--mdw-elevation__rgb),0.300));\n    }`;\n}\n", "/**\n * @typedef {Object} DOMRectLike\n * @prop {number} left\n * @prop {number} right\n * @prop {number} top\n * @prop {number} bottom\n * @prop {number} width\n * @prop {number} height\n */\n\n/**\n * @typedef {Object} CanAnchorPopUpOptions\n * @prop {Element|DOMRectLike} [anchor]\n * @prop {number|'left'|'center'|'right'} [clientX]\n * @prop {number|'top'|'center'|'bottom'} [clientY]\n * @prop {number} [pageX]\n * @prop {number} [pageY]\n * @prop {Element|{width:number, height:number}} [popup]\n * @prop {number} [width]\n * @prop {number} [height]\n * @prop {number} [offsetX] Offset from anchor\n * @prop {number} [offsetY] Offset from anchor\n * @prop {number} [margin] Margin from page\n * @prop {'left'|'center'|'right'} [directionX='right']\n * @prop {'up'|'center'|'down'} [directionY='down']\n * @prop {boolean} [force=false]\n */\n\n/** @param {CanAnchorPopUpOptions} options */\nexport function canAnchorPopup(options) {\n  let { pageX, pageY, directionX, directionY } = options;\n  const pageWidth = document.documentElement.clientWidth;\n  const pageHeight = document.documentElement.clientHeight;\n  if (pageX == null || pageY == null) {\n    const { clientX, clientY, anchor } = options;\n    let rect;\n    if (anchor) {\n      rect = anchor instanceof Element ? anchor.getBoundingClientRect() : anchor;\n    } else {\n      rect = {\n        left: 0,\n        width: pageWidth,\n        right: pageWidth,\n        top: 0,\n        bottom: pageHeight,\n        height: pageHeight,\n      };\n    }\n\n    if (pageX == null) {\n      switch (clientX) {\n        case 'left':\n        case null:\n        case undefined:\n          pageX = rect.left;\n          directionX ??= 'right';\n          break;\n        case 'center':\n          pageX = rect.left + rect.width / 2;\n          directionX ??= 'center';\n          break;\n        case 'right':\n          pageX = rect.right;\n          directionX ??= 'left';\n          break;\n        default:\n          pageX = rect.left + clientX;\n      }\n    }\n    if (pageY == null) {\n      switch (clientY) {\n        case 'top':\n          pageY = rect.top;\n          directionY ??= 'up';\n          break;\n        case 'center':\n          pageY = rect.top + rect.height / 2;\n          directionY ??= 'center';\n          break;\n        case 'bottom':\n        case null:\n        case undefined:\n          pageY = rect.bottom;\n          directionY ??= 'down';\n          break;\n        default:\n          pageY = rect.top + clientY;\n      }\n    }\n  }\n\n  let { width, height } = options;\n  if (width == null || height == null) {\n    const { popup } = options;\n    if (popup instanceof Element) {\n      width = popup.clientWidth;\n      height = popup.clientHeight;\n    } else {\n      width = popup.width;\n      height = popup.height;\n    }\n  }\n\n  let top;\n  let right;\n  let bottom;\n  let left;\n  const margin = options.margin ?? 0;\n\n  let pageTop = margin;\n  let pageBottom = -margin;\n  let pageLeft = margin;\n  let pageRight = -margin;\n\n  if (window.visualViewport) {\n    pageTop += window.visualViewport.offsetTop;\n    pageBottom += window.visualViewport.offsetTop + window.visualViewport.height;\n    pageLeft += window.visualViewport.offsetLeft;\n    pageRight += window.visualViewport.offsetLeft + window.visualViewport.width;\n  } else {\n    pageBottom += pageHeight;\n    pageRight += pageWidth;\n  }\n\n  const offsetX = options.offsetX ?? 0;\n  const offsetY = options.offsetY ?? 0;\n  pageX += offsetX;\n  pageY += offsetY;\n\n  let cssTop = 'auto';\n  let cssRight = 'auto';\n  let cssBottom = 'auto';\n  let cssLeft = 'auto';\n  let maxHeight = null;\n  let maxWidth = null;\n\n  switch (directionY) {\n    case 'up':\n      bottom = Math.min(pageY, pageBottom);\n      top = Math.max(bottom - height, pageTop);\n      cssBottom = `${pageHeight - bottom}px`;\n      if (top === pageTop) {\n        maxHeight = `${bottom - pageTop}px`;\n      }\n      break;\n    case 'center':\n      top = Math.max(pageY - height / 2, pageTop);\n      bottom = Math.min(pageY + height / 2, pageBottom);\n      cssTop = `${top}px`;\n      if (bottom === pageBottom) {\n        maxHeight = `${pageBottom - pageTop}px`;\n      }\n      break;\n    default:\n      top = Math.max(pageY, pageTop);\n      bottom = Math.min(top + height, pageBottom);\n      cssTop = `${top}px`;\n      if (bottom === pageBottom) {\n        maxHeight = `${pageBottom - top}px`;\n      }\n  }\n\n  switch (directionX) {\n    case 'left':\n      right = Math.min(pageX, pageRight);\n      left = Math.max(right - width, pageLeft);\n      cssRight = `${pageWidth - right}px`;\n      if (left === pageLeft) {\n        maxWidth = `${right - pageLeft}px`;\n      }\n      break;\n    case 'center':\n      left = Math.max(pageX - width / 2, pageLeft);\n      right = Math.min(pageX + width / 2, pageRight);\n      cssLeft = `${left}px`;\n      if (right === pageRight) {\n        maxWidth = `${pageRight - pageLeft}px`;\n      }\n      break;\n    default:\n      left = Math.max(pageX, pageLeft);\n      right = Math.min(left + width, pageRight);\n      cssLeft = `${left}px`;\n      if (right === pageRight) {\n        maxWidth = `${pageRight - left}px`;\n      }\n  }\n\n  // compute area\n  const fullSize = width * height;\n  const realSize = (bottom - top) * (right - left);\n\n  const visibility = realSize / fullSize;\n\n  const transformOriginX = directionX === 'center' ? 'center' : (directionX === 'left' ? 'right' : 'left');\n  const transformOriginY = directionY === 'center' ? 'center' : (directionY === 'up' ? 'bottom' : 'top');\n  return {\n    ...options,\n    top,\n    right,\n    bottom,\n    left,\n    visibility,\n    styles: {\n      top: cssTop,\n      bottom: cssBottom,\n      left: cssLeft,\n      right: cssRight,\n      maxWidth,\n      maxHeight,\n      transformOrigin: `${transformOriginY} ${transformOriginX}`,\n    },\n  };\n}\n", "import CustomElement from '../core/CustomElement.js';\n\nexport default CustomElement\n  .extend()\n  .observe({\n    hidden: 'boolean',\n  })\n  .html`<div id=scroll-blocker></div>`\n  .css`\n    :host {\n      position: fixed;\n      inset: 0;\n\n      display: block;\n      overflow: overlay;\n\n      overscroll-behavior: none;\n      overscroll-behavior: contain;\n      scrollbar-color: transparent transparent;\n      scrollbar-width: none;\n\n      cursor:pointer;\n\n      outline: none; /* Older Chromium Builds */\n      \n      -webkit-tap-highlight-color: transparent;\n\n      opacity: 0;\n\n      z-index: 23;\n\n      background-color: rgb(var(--mdw-color__scrim));\n      \n      animation: fade-in 200ms forwards ease-out;\n      will-change: opacity;\n    }\n\n    :host::-webkit-scrollbar {\n      display: none;\n    }\n\n    :host([hidden]) {\n      animation-name: fade-out;\n      animation-timing-function: ease-in;\n    }\n\n    :host([invisible]) {\n      background: transparent;\n    }\n\n    #scroll-blocker {\n      position: absolute;\n      inset-block-start: 0;\n      inset-inline-start: 0;\n\n      display: block;\n\n      block-size: 200%;\n      inline-size: 200%;\n    }\n\n    @keyframes fade-in {\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 0.38;\n      }\n    }\n\n    @keyframes fade-out {\n      from {\n        opacity: 0.38;\n      }\n\n      to {\n        opacity: 0;\n      }\n    }\n  `\n  .events({\n    animationend() {\n      if (this.hidden) this.remove();\n    },\n  })\n  .autoRegister('mdw-scrim');\n", "import { attemptFocus, isRtl } from '../core/dom.js';\nimport { canAnchorPopup } from '../utils/popup.js';\n\nimport DelegatesFocusMixin from './DelegatesFocusMixin.js';\nimport '../components/Scrim.js';\nimport ResizeObserverMixin from './ResizeObserverMixin.js';\n\nconst supportsHTMLDialogElement = typeof HTMLDialogElement !== 'undefined';\n\n/** @typedef {import('../utils/popup.js').DOMRectLike} DOMRectLike */\n\n/**\n * @typedef {Object} PopupStack\n * @prop {InstanceType<ReturnType<typeof PopupMixin>>} element\n * @prop {HTMLElement} previousFocus\n * @prop {boolean} [centered=false]\n * @prop {Record<string, any>} [state]\n * @prop {Record<string, any>} [previousState]\n * @prop {any} [pendingResizeOperation]\n * @prop {window['history']['scrollRestoration']} [scrollRestoration]\n */\n\n/** @type {PopupStack[]} */\nconst OPEN_POPUPS = [];\n\n/**\n * @return {void}\n */\nfunction onWindowResize() {\n  // Fire in popup order\n  for (const { element } of OPEN_POPUPS) {\n    element.updatePopupPosition();\n  }\n}\n\n/**\n * Prevent focus being given to elements via mouse nav back\n * @param {MouseEvent} event\n */\nfunction onNavMouseDown(event) {\n  if (event.button === 3) {\n    event.preventDefault();\n  }\n}\n\n/**\n * @param {PopStateEvent} event\n */\nfunction onPopState(event) {\n  if (!event.state) return;\n  const lastOpenPopup = OPEN_POPUPS.at(-1);\n  if (!lastOpenPopup || !lastOpenPopup.previousState) {\n    return;\n  }\n  if ((lastOpenPopup.previousState === event.state) || Object.keys(event.state)\n    .every((key) => event.state[key] === lastOpenPopup.previousState[key])) {\n    // Close (cancel event) can be prevented. Fire and check if prevented\n    const cancelEvent = new Event('cancel', { cancelable: true });\n    if (lastOpenPopup.element.dispatchEvent(cancelEvent)) {\n      lastOpenPopup.element.close();\n    } else {\n      // Revert pop state by pushing state again\n      window.history.pushState(lastOpenPopup.state, lastOpenPopup.state.title);\n    }\n  }\n}\n\n/** @param {BeforeUnloadEvent} event */\nfunction onBeforeUnload(event) {\n  if (!OPEN_POPUPS.length) return;\n  console.warn('Popup was open during page unload (refresh?).');\n}\n\n/**\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function PopupMixin(Base) {\n  return Base\n    .mixin(DelegatesFocusMixin)\n    .mixin(ResizeObserverMixin)\n    .observe({\n      open: 'boolean',\n      modal: 'boolean',\n      native: 'boolean',\n      scrollable: 'boolean',\n      matchSourceWidth: 'boolean',\n      _currentFlow: 'string',\n      flow: {\n        type: 'string',\n        /** @type {'corner'|'adjacent'|'overflow'|'vcenter'|'hcenter'|'center'} */\n        value: null,\n      },\n      popupMargin: 'float',\n    })\n    .set({\n      useHistory: true,\n      returnValue: '',\n      _closing: false,\n      _useScrim: false,\n      /** @type {MouseEvent|PointerEvent|HTMLElement|Event} */\n      _source: null,\n      /** @type {MouseEvent|PointerEvent|HTMLElement|Event} */\n      _anchor: null,\n    })\n    .define({\n      _dialog() {\n        return /** @type {HTMLDialogElement} */ (this.refs.dialog);\n      },\n    })\n    .expressions({\n      _ariaHidden({ open }) { return (open ? 'false' : 'true'); },\n    })\n    .methods({\n      /**\n       * @param {DOMRectLike|Element} [anchor]\n       * @return {void}\n       */\n      updatePopupPosition(anchor = this._anchor) {\n        const flow = this._currentFlow ?? this.flow;\n        Object.assign(this.style, {\n          top: '0',\n          left: '0',\n          right: 'auto',\n          bottom: 'auto',\n          maxWidth: null,\n          maxHeight: null,\n        });\n\n        const layoutElement = this.native ? this._dialog : this;\n        Object.assign(layoutElement.style, { width: 'auto', height: 'auto' });\n\n        const width = (anchor && this.matchSourceWidth)\n          ? /** @type {Element} */ (anchor).clientWidth\n          : 56 * Math.ceil(layoutElement.clientWidth / 56);\n\n        layoutElement.style.setProperty('width', `${width}px`);\n\n        const height = layoutElement.clientHeight;\n        Object.assign(layoutElement.style, { height: null });\n\n        /** @type {import('../utils/popup.js').CanAnchorPopUpOptions} */\n        const anchorOptions = {\n          anchor,\n          width,\n          height,\n          margin: this.popupMargin ?? (window.innerWidth < 648 ? 16 : 24),\n        };\n\n        const isPageRTL = isRtl(this);\n        const xStart = isPageRTL ? 'right' : 'left';\n        const xEnd = isPageRTL ? 'left' : 'right';\n\n        /* Automatic Positioning\n         *\n         * Positions:\n         *\n         *   3      7      4\n         *     \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         *     \u2502         \u2502\n         *   5 \u2502    9    \u2502 6\n         *     \u2502         \u2502\n         *     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         *   1      8      2\n         *\n         * 1: Bottom Left\n         * 2: Bottom Right\n         * 3: Top Left\n         * 4: Top Right\n         * 5: VCenter Left\n         * 6: VCenter Right\n         * 7: HCenter Top\n         * 8: HCenter Bottom\n         * 9: VCenter HCenter\n         *\n         * Directions:\n         * a - Down LTR\n         * b - Down RTL\n         * c - Up LTR\n         * d - Up RTL\n         * e - LTR\n         * f - RTL\n         * g - Down\n         * h - Up\n         * i - Center\n         *\n         *\n         * 16 total combos\n         * 1a 1b 1c 1d  \u2514\u2198 \u2514\u2199 \u2514\u2197 \u2514\u2196\n         * 2a 2b 2c 2d  \u2518\u2198 \u2518\u2199 \u2518\u2197 \u2518\u2196\n         * 3a 3b 3c 3d  \u250C\u2198 \u250C\u2199 \u250C\u2197 \u250C\u2196\n         * 4a 4b 4c 4d  \u2510\u2198 \u2510\u2199 \u2510\u2197 \u2510\u2196\n         *\n         * Avoid using opposite angle\n         *\n         * 1a XX 1c 1d  \u2514\u2198 \u2588\u2588 \u2514\u2197 \u2514\u2196\n         * XX 2b 2c 2d  \u2588\u2588 \u2518\u2199 \u2518\u2197 \u2518\u2196\n         * 1a 3b 3c XX  \u250C\u2198 \u250C\u2199 \u250C\u2197 \u2588\u2588\n         * 4a 4b XX 4d  \u2510\u2198 \u2510\u2199 \u2588\u2588 \u2510\u2196\n         *\n         *\n         * Preference Order:\n         * - Flow from corner           1a 2b 3c 4d    \u2514\u2198 \u2518\u2199 \u250C\u2197 \u2510\u2196\n         * - Open adjacent to target    4a 3b 2c 1d    \u2510\u2198 \u250C\u2199 \u2518\u2197 \u2514\u2196\n         * - Overlay target             3a 4b 1c 2d    \u250C\u2198 \u2510\u2199 \u2514\u2197 \u2518\u2196\n         * - Open from horizontal side  5e 6f          \u2502\u2192 \u2502\u2190\n         * - Open from center           9i             \u2588\u00B7\n         */\n\n        const preferences = /** @type {import('../utils/popup.js').CanAnchorPopUpOptions[]} */ ([\n          ((flow ?? 'corner') === 'corner') ? [\n            { clientY: 'bottom', clientX: xStart },\n            { clientY: 'bottom', clientX: xEnd },\n            { clientY: 'top', clientX: xStart },\n            { clientY: 'top', clientX: xEnd },\n          ] : [],\n          ((flow ?? 'adjacent') === 'adjacent') ? [\n            { clientY: 'top', clientX: xEnd, directionX: xEnd, directionY: 'down' },\n            { clientY: 'top', clientX: xStart, directionX: xStart, directionY: 'down' },\n            { clientY: 'bottom', clientX: xEnd, directionX: xEnd, directionY: 'up' },\n            { clientY: 'bottom', clientX: xStart, directionX: xStart, directionY: 'up' },\n          ] : [],\n          ((flow ?? 'overlay') === 'overlay') ? [\n            { clientY: 'top', clientX: xStart, directionX: xEnd, directionY: 'down' },\n            { clientY: 'top', clientX: xEnd, directionX: xStart, directionY: 'down' },\n            { clientY: 'bottom', clientX: xStart, directionX: xEnd, directionY: 'up' },\n            { clientY: 'bottom', clientX: xEnd, directionX: xStart, directionY: 'up' },\n          ] : [],\n          ((flow ?? 'vcenter') === 'vcenter') ? [\n            { clientY: 'center', clientX: xEnd, directionX: xEnd, directionY: 'center' },\n            { clientY: 'center', clientX: xStart, directionX: xStart, directionY: 'center' },\n          ] : [],\n          ((flow ?? 'hcenter') === 'hcenter') ? [\n            { clientY: 'bottom', clientX: 'center', directionX: 'center', directionY: 'down' },\n            { clientY: 'top', clientX: 'center', directionX: 'center', directionY: 'up' },\n          ] : [],\n          ((flow ?? 'center') === 'center') ? [\n            { clientY: 'center', clientX: 'center', directionX: 'center', directionY: 'center' },\n          ] : [],\n        ].flat());\n\n        let anchorResult;\n        for (const preference of preferences) {\n          const result = canAnchorPopup({\n            ...anchorOptions,\n            ...preference,\n          });\n          if (!anchorResult || anchorResult.visibility < result.visibility) {\n            anchorResult = result;\n          }\n          if (result.visibility === 1) break;\n        }\n\n        let { maxWidth, maxHeight } = anchorResult.styles;\n        if (maxWidth || maxHeight) {\n          const styles = window.getComputedStyle(this);\n          if (styles.maxWidth) {\n            maxWidth = `min(${maxWidth}, ${styles.maxWidth})`;\n          }\n          if (styles.maxHeight) {\n            maxHeight = `min(${maxHeight}, ${styles.maxHeight})`;\n          }\n        }\n        Object.assign(this.style, { ...anchorResult.styles, maxWidth, maxHeight });\n        // this.scrollIntoView();\n      },\n      /**\n       * @param {Event & {currentTarget: HTMLSlotElement}} event\n       * @return {void}\n       */\n      onSlotChange({ currentTarget }) {\n        const nodes = currentTarget.assignedNodes();\n        const hasContent = nodes.some((node) => (node.nodeType === node.ELEMENT_NODE)\n      || (node.nodeType === node.TEXT_NODE && node.nodeValue.trim().length));\n        currentTarget.toggleAttribute('slotted', hasContent);\n      },\n\n      /**\n       * @param {MouseEvent|PointerEvent|HTMLElement|Event} [source]\n       * @param {boolean} focus\n       * @param {string} flow\n       * @return {boolean} handled\n       */\n      showPopup(source, focus = true, flow = null) {\n        if (this.open) return false;\n        this.open = true;\n        this._source = source;\n        this._anchor = source;\n\n        const { scrim } = this.refs;\n        if (this._useScrim) {\n          if (this.native) {\n            document.body.append(scrim);\n          } else {\n            this.before(scrim);\n          }\n          scrim.hidden = false;\n        } else {\n          scrim.remove();\n        }\n\n        const previousFocus = source instanceof HTMLElement\n          ? source\n          : /** @type {HTMLElement} */(document.activeElement);\n\n        if (supportsHTMLDialogElement && focus // Calling show will force focus which is not intended for non-modals\n          && !this._dialog.open) {\n          this._dialog.show();\n        }\n\n        this._currentFlow = flow;\n\n        // Short first, then move\n        // Native modals can fail update bounds on Chrome\n        // @ts-ignore `updatePopupPosition` has runtime check\n        this.updatePopupPosition(source);\n\n        let newState;\n        let scrollRestoration;\n        let previousState;\n        if (this.useHistory) {\n          newState = { hash: Math.random().toString(36).slice(2, 18) };\n\n          if (!window.history.state) {\n            // Create new previous state\n            window.history.replaceState({\n              hash: Math.random().toString(36).slice(2, 18),\n            }, document.title);\n          }\n          previousState = window.history.state;\n\n          scrollRestoration = window.history.scrollRestoration;\n\n          window.history.scrollRestoration = 'manual';\n          window.history.pushState(newState, document.title);\n          window.addEventListener('popstate', onPopState);\n          window.addEventListener('beforeunload', onBeforeUnload);\n        }\n\n        window.addEventListener('mousedown', onNavMouseDown, { capture: true });\n\n        window.addEventListener('resize', onWindowResize);\n        window.addEventListener('scroll', onWindowResize);\n        if (window.visualViewport) {\n          window.visualViewport.addEventListener('resize', onWindowResize);\n          window.visualViewport.addEventListener('scroll', onWindowResize);\n        }\n\n        OPEN_POPUPS.push({\n          element: this,\n          previousFocus,\n          state: newState,\n          previousState,\n          scrollRestoration,\n        });\n\n        // Overrideable\n        if (focus) {\n          this.focus();\n        }\n\n        return true;\n      },\n      /**\n       * @param {MouseEvent|PointerEvent|HTMLElement|Event} [source]\n       * @param {boolean} [focus]\n       * @param {string} [flow]\n       * @return {boolean} handled\n       */\n      showModal(source, focus, flow) {\n        if (this.open) return false;\n        this.modal = true;\n        if (supportsHTMLDialogElement) {\n          this._dialog.showModal();\n          this.native = true;\n        }\n        return this.showPopup(source, focus, flow);\n      },\n      /**\n       * @param {MouseEvent|PointerEvent|HTMLElement|Event} [source]\n       * @param {boolean} [focus]\n       * @param {string} [flow]\n       * @return {boolean} handled\n       */\n      show(source, focus, flow) {\n        // Auto-select type based on default platform convention\n        // Mac OS X / iPad does not expect clickthrough\n        if (navigator.userAgent.includes('Mac OS X')) {\n          return this.showModal(source, focus, flow);\n        }\n        return this.showPopup(source, focus, flow);\n      },\n      /**\n       * @param {any} [returnValue]\n       * @param {boolean} [returnFocus=true]\n       * @return {boolean} handled\n       */\n      close(returnValue = undefined, returnFocus = true) {\n        if (!this.open) return false;\n        if (this._closing) return false;\n        this._source = null;\n        this._closing = true;\n        this.modal = false;\n\n        // SCRIM\n        this.refs.scrim.hidden = true;\n\n        if (this.native) {\n          this.native = false;\n        } else {\n          const main = document.querySelector('main');\n          if (main) {\n            main.removeAttribute('aria-hidden');\n          }\n        }\n        // if (this.dialogElement.getAttribute('aria-hidden') === 'true') return false;\n        if (supportsHTMLDialogElement && this._dialog.open) {\n          const previousFocus = document.activeElement;\n          // Closing a native dialog will return focus automatically.\n          this._dialog.close();\n          if (!attemptFocus(previousFocus, { preventScroll: true })) {\n            const currentlyFocused = /** @type {SVGElement|HTMLElement} */ (document.activeElement);\n            currentlyFocused?.blur?.();\n          }\n        } else {\n          this._dialog.returnValue = returnValue;\n        }\n\n        // Will invoke observed attribute change: ('aria-hidden', 'true');\n        this.open = false;\n        this._currentFlow = null;\n\n        this.dispatchEvent(new Event('close'));\n\n        const len = OPEN_POPUPS.length;\n        for (let i = len - 1; i >= 0; i--) {\n          const entry = OPEN_POPUPS[i];\n          if (entry.element === this) {\n            if (this.useHistory) {\n              if (entry.state && window.history\n                && window.history.state && entry.state.hash === window.history.state.hash) {\n                window.removeEventListener('popstate', onPopState);\n                window.history.back();\n                // Back does not set state immediately\n                // Needed to track submenu\n                // TODO: use window.history.go(indexDelta) instead for Safari (not Webkit) submenu support\n                window.history.replaceState(entry.previousState, document.title);\n                window.history.scrollRestoration = entry.scrollRestoration || 'auto';\n                window.addEventListener('popstate', onPopState);\n              } else {\n                console.warn('Menu state mismatch?', entry, window.history.state);\n              }\n            }\n            if (returnFocus) {\n              // console.log('not returning focus');\n              entry.previousFocus?.focus?.({ preventScroll: true });\n            }\n            OPEN_POPUPS.splice(i, 1);\n            break;\n          } else if (this.contains(entry.element)) {\n            // console.debug('Closing submenu first');\n            entry.element.close(false);\n            // console.debug('Sub menu closed. Continuing...');\n          }\n        }\n        if (!OPEN_POPUPS.length) {\n          window.removeEventListener('popstate', onPopState);\n          window.removeEventListener('beforeunload', onBeforeUnload);\n          window.removeEventListener('resize', onWindowResize);\n          window.removeEventListener('mousedown', onNavMouseDown, { capture: true });\n          // console.debug('All menus closed');\n        }\n        this._closing = false;\n        return true;\n      },\n    })\n\n    .overrides({\n      onResizeObserved(entry) {\n        if (!this.open || this._closing) return;\n        this.updatePopupPosition();\n      },\n    })\n    .html`\n      <mdw-scrim id=scrim tabindex=-1 aria-hidden=true></mdw-scrim>\n      <dialog id=dialog aria-modal=true role=dialog\n      aria-hidden={_ariaHidden} scrollable={scrollable}>\n        <slot id=slot on-slotchange={onSlotChange}></slot>\n      </dialog>\n    `\n    .css`\n    /* https://m3.material.io/components/dialogs/specs */\n\n    :host([popover]) {\n      margin: 0;\n      border: 0;\n      padding: 0;\n    }\n\n    :host(::backdrop) {\n      display: none;\n    }\n\n    :host {\n      --mdw-popup__expand-duration: var(--mdw-motion-expand-duration, 250ms);\n      --mdw-popup__simple-duration: var(--mdw-motion-simple-duration, 100ms);\n      --mdw-popup__standard-easing: var(--mdw-motion-standard-easing, cubic-bezier(0.4, 0.0, 0.2, 1));\n      --mdw-popup__deceleration-easing: var(--mdw-motion-deceleration-easing, cubic-bezier(0.0, 0.0, 0.2, 1));\n      --mdw-popup__fade-in-duration: var(--mdw-motion-fade-in-duration, 150ms);\n\n      --mdw-shape__size: 28px;\n\n      /* padding-inline: 12px; */\n\n      --mdw-bg: var(--mdw-color__surface);\n      --mdw-ink: var(--mdw-color__on-surface);\n\n      position: fixed;\n\n      inset-block-start: 0;\n      inset-inline-start: 0;\n      align-self: center;\n      justify-self: center;\n\n      display: block;\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      overscroll-behavior: none;\n      overscroll-behavior: contain;\n\n      box-sizing: border-box;\n      block-size: auto;\n      min-block-size: none;\n      max-block-size: 100vh;\n      inline-size: auto;\n      min-inline-size: none;\n      max-inline-size: 100vw;\n\n      outline: none; /* Older Chromium Builds */\n\n      pointer-events: none;\n\n      opacity: 0;\n      transform: scale(0);\n\n      visibility: hidden;\n      z-index: 24;\n\n      color: rgb(var(--mdw-ink));\n\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n\n      transition-delay: 200ms, 0s;\n      transition-duration: 0s, 200ms, 200ms;\n      transition-property: visibility, opacity, transform;\n      transition-timing-function: ease-out;\n\n      will-change: visibility, opacity, transform;\n\n    }\n\n    :host([open]) {\n      pointer-events: inherit;\n\n      opacity: 1;\n\n      transform: none;\n      visibility: inherit;\n\n      transition-delay: 0s;\n      transition-timing-function: ease-in;\n    }\n\n    :host([native][open]) {\n      opacity: 0;\n    }\n\n    #dialog {\n      position: static;\n      inset-block-start: 0;\n      inset-inline-start: 0;\n\n      display: contents;\n      align-items: inherit;\n      flex-direction: inherit;\n      gap: inherit;\n      justify-content: inherit;\n      justify-items: inherit;\n      place-items: inherit;\n\n      box-sizing: border-box;\n      block-size: inherit;\n      flex: inherit;\n      margin:0;\n      border: none;\n      padding: inherit;\n      padding: 0;\n\n      pointer-events: inherit;\n\n      filter: inherit;\n\n      opacity: 1;\n\n      transform:inherit;\n      visibility: inherit;\n      /* visiblity:hidden still registers events, hide from pointer with scale(0) */\n      z-index: 24;\n\n      background-color: transparent;\n\n      color:inherit;\n      \n    }\n\n    :host([color]) {\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n    }\n\n    :host(:is([color=\"none\"],[color=\"transparent\"])) {\n      background-color: transparent;\n      color: inherit;\n    }\n\n    :host([scrollable]) {\n      overflow-y:auto;\n    }\n\n    #dialog::backdrop {\n      /** Use scrim instead */\n      background-color: transparent;\n    }\n\n    #dialog:modal {\n      position: inherit;\n      inset: inherit;\n\n      display: inherit;\n      align-items: inherit;\n      flex-direction: inherit;\n      gap: inherit;\n      justify-content: inherit;\n      justify-items: inherit;\n      place-items: inherit;\n\n      block-size: auto;\n      min-block-size: inherit;\n      max-block-size: inherit;\n\n      inline-size:auto;\n      min-inline-size: inherit;\n      max-inline-size: inherit;\n      flex: inherit;\n      padding: inherit;\n\n      pointer-events: inherit;\n\n      filter: inherit;\n      transform: inherit;\n      visibility: inherit;\n\n      background-color: inherit;\n      border-radius: inherit;\n    }\n\n    #dialog[scrollable][open] {\n      display: inherit;\n      align-items: inherit;\n      flex-direction: inherit;\n      gap: inherit;\n      justify-content: inherit;\n      justify-items: inherit;\n      \n      place-items: inherit;\n\n      block-size: 100%;\n      max-block-size: none;\n      inline-size: 100%;\n      max-inline-size: none;\n\n      flex: 1;\n    }\n\n    \n\n    #dialog[scrollable][open]:modal {\n      overflow:auto;\n\n      block-size:100%;\n      min-block-size: none;\n      max-block-size: inherit;\n      inline-size:100%;\n      min-inline-size: none;\n      max-inline-size: inherit;\n      flex: inherit;\n      padding: inherit;\n    }\n\n    \n  `\n    .childEvents({\n      dialog: {\n        cancel(event) {\n          event.stopPropagation();\n          const cancelEvent = new Event('cancel', { cancelable: true });\n          if (!this.dispatchEvent(cancelEvent)) {\n            event.preventDefault();\n          }\n        },\n        close(event) {\n          event.stopPropagation();\n          this.close(this.returnValue);\n        },\n        '~click'(event) {\n          // Track if click on backdrop\n          if (event.target !== event.currentTarget) return;\n          if (!this.native) return;\n          if (event.offsetX >= 0 && event.offsetX < event.currentTarget.offsetWidth\n        && event.offsetY >= 0 && event.offsetY < event.currentTarget.offsetHeight) return;\n          const cancelEvent = new Event('cancel', { cancelable: true });\n          if (!this.dispatchEvent(cancelEvent)) return;\n          this.close();\n        },\n      },\n      scrim: {\n        '~click'() {\n          const cancelEvent = new Event('cancel', { cancelable: true });\n          if (!this.dispatchEvent(cancelEvent)) return;\n          this.close();\n        },\n      },\n    });\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport PopupMixin from '../mixins/PopupMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .mixin(PopupMixin)\n  .observe({\n    elevation: 'integer',\n  })\n  .css`\n    :host {\n      filter: var(--mdw-elevation__drop-shadow__0);\n\n      transition: filter 200ms;\n    }\n\n    :host(:where([elevation=\"1\"])) { filter: var(--mdw-elevation__drop-shadow__1); }\n    :host(:where([elevation=\"2\"])) { filter: var(--mdw-elevation__drop-shadow__2); }\n    :host(:where([elevation=\"3\"])) { filter: var(--mdw-elevation__drop-shadow__3); }\n    :host(:where([elevation=\"4\"])) { filter: var(--mdw-elevation__drop-shadow__4); }\n    :host(:where([elevation=\"5\"])) { filter: var(--mdw-elevation__drop-shadow__5); }\n  `\n  .autoRegister('mdw-popup');\n", "/* https://www.w3.org/WAI/ARIA/apg/patterns/combobox/ */\n/* https://learn.microsoft.com/en-us/dotnet/api/system.windows.controls.combobox.iseditable?view=windowsdesktop-7.0#remarks */\n\nimport CustomElement from '../core/CustomElement.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport ResizeObserverMixin from '../mixins/ResizeObserverMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport TextFieldMixin from '../mixins/TextFieldMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\nimport Popup from './Popup.js';\n\n/** @typedef {import('./Listbox.js').default} Listbox */\n\n/** @typedef {import('../mixins/RippleMixin.js').default} RippleMixin */\n\n/** @type {InstanceType<import('./Popup.js').default>} */\nlet sharedPopup;\n\n/** @return {InstanceType<import('./Popup.js').default>} */\nfunction getSharedPopup() {\n  if (!sharedPopup) {\n    sharedPopup = new Popup();\n    sharedPopup.scrollable = true;\n    sharedPopup.shapeStyle = 'extra-small';\n    sharedPopup.color = 'surface';\n    sharedPopup.matchSourceWidth = true;\n    sharedPopup.flow = 'corner';\n    sharedPopup.elevation = 2;\n  }\n  return sharedPopup;\n}\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(StateMixin)\n  .mixin(InputMixin)\n  .mixin(TextFieldMixin)\n  .mixin(ResizeObserverMixin)\n  .observe({\n    autocompleteInline: 'boolean',\n    autocompleteList: 'string',\n    autosuggestInline: 'boolean',\n    /** If true, when listbox is open, arrow navigation will automatically select options. */\n    autoSelect: 'boolean',\n    _expanded: 'boolean',\n    /** If true, when listbox is open, <ESC> accepts current suggestion, same as <Enter>. */\n    acceptOnEscape: 'boolean',\n    _listbox: {\n      type: 'object',\n      /** @type {InstanceType<Listbox>} */\n      value: null,\n    },\n    _focusedValue: 'string',\n    _focusedPosInSet: { value: -1 },\n    _listboxSize: { value: -1 },\n    _draftInput: { type: 'string', nullable: false },\n    _hasSuggestion: 'boolean',\n    _listboxValue: 'string',\n    _lastComputedListboxValue: { type: 'string', nullable: false },\n    _values: {\n      type: 'array',\n      /** @type {string[]} */\n      value: [],\n    },\n    _chipSelected: 'boolean',\n  })\n  .observe({\n    _hasListbox({ _listbox }) {\n      return !!_listbox;\n    },\n    _isSelect({ type }) {\n      return type.toLowerCase() === 'select-one' || type.toLocaleLowerCase() === 'select-multiple';\n    },\n  })\n  .define({\n    listbox() {\n      return this._listbox;\n    },\n  })\n  .set({\n    /** @type {EventListener} */\n    _onListboxChangeListener: null,\n    /** @type {EventListener} */\n    _onListboxClickListener: null,\n    /** @type {EventListener} */\n    _onPopupFocusoutListener: null,\n    _suggestionText: '',\n    _suggestionValue: '',\n    /** @type {Pick<HTMLOptionElement, 'label'|'value'|'selected'>} */\n    _suggestionOption: null,\n  })\n  .define({\n    stateTargetElement() { return this.refs.control; },\n  })\n  .methods({\n    onResizeObserved() {\n      if (!this._expanded) return;\n      getSharedPopup().updatePopupPosition(this.refs.shape);\n    },\n    /**\n     * Listbox should close if clicking own selection\n     * @param {Event} event\n     */\n    onListboxClick(event) {\n      this.closeListbox();\n      // Revert focus back\n      this.refs.control.focus();\n    },\n    /**\n     * @param {Event} event\n     */\n    onListboxChange(event) {\n      if (this.multiple) {\n        const values = [...this._listbox.selectedOptions].map((option) => option.value);\n        this._values = values;\n        if (this._input.value) {\n          this.closeListbox();\n        }\n        return;\n      }\n      const option = this._listbox.selectedOptions.item(0);\n      this.render({\n        selectedOption: option,\n      });\n\n      const { label: suggestionText, value: suggestionValue } = option;\n      this._suggestionText = suggestionText;\n      this._suggestionValue = suggestionValue;\n      this._suggestionOption = option;\n      this._hasSuggestion = true;\n      this.acceptSuggestion(true);\n      this.closeListbox();\n      this.refs.control.focus();\n    },\n    /** @param {FocusEvent} Event */\n    onPopupFocusout({ relatedTarget }) {\n      if (!this._expanded) return;\n      // Ignore if focus lost to pop-up (likely pointerdown).\n      if (relatedTarget) {\n        if (this === relatedTarget) return;\n        if (this.contains(/** @type {any} */ (relatedTarget))) return;\n        if (getSharedPopup().contains(/** @type {any} */ (relatedTarget))) return;\n      }\n      this.closeListbox();\n    },\n    applyAutocompleteList() {\n      const { _listbox, _draftInput } = this;\n      if (!_listbox) return;\n\n      const lowerCase = _draftInput.toLowerCase();\n      for (const option of _listbox) {\n        option.hidden = !option.label.toLowerCase().startsWith(lowerCase);\n      }\n    },\n    showListbox() {\n      // Move contents of list slot into top-layer\n      // Should only have one element\n\n      const _listbox = this._listbox;\n      if (!_listbox) return;\n      this._expanded = true;\n      const { ariaListbox, shape } = this.refs;\n      ariaListbox.setAttribute('aria-hidden', 'false');\n      const popup = getSharedPopup();\n      if ('popover' in popup) {\n        this.insertAdjacentElement('afterend', popup);\n        popup.popover = 'manual';\n        popup.showPopover();\n      } else {\n        document.body.append(popup);\n      }\n      popup.replaceChildren(_listbox);\n      popup.showPopup(shape, false);\n      popup.addEventListener('focusout', this._onPopupFocusoutListener);\n      if (!this._isSelect && !this.multiple) {\n        _listbox.value = this._listboxValue;\n      }\n      const [option] = _listbox.selectedOptions;\n      if (option) {\n        option.scrollIntoView({\n          behavior: 'instant',\n          block: 'nearest',\n        });\n      }\n    },\n\n    closeListbox() {\n      this._expanded = false;\n      const { _listbox } = this;\n      if (!_listbox) return;\n      const popup = getSharedPopup();\n      this.refs.ariaListbox.setAttribute('aria-hidden', 'true');\n      this.replaceChildren(_listbox);\n      popup.close(undefined, false);\n      // TODO: Animate\n      popup.remove();\n    },\n    toggleListbox() {\n      if (this._expanded) {\n        this.closeListbox();\n      } else {\n        this.showListbox();\n      }\n    },\n    /**\n     * @param {Pick<HTMLOptionElement, 'label'|'value'|'selected'>} option\n     * @return {void}\n     */\n    suggestOption(option) {\n      this.render({\n        selectedOption: option,\n      });\n\n      const {\n        _draftInput: currentInput,\n        _input: inputElement,\n        _isSelect,\n        autocompleteInline,\n        _expanded,\n        autoSelect,\n      } = this;\n      const { label: suggestionText, value: suggestionValue } = option;\n\n      this._suggestionText = suggestionText;\n      this._suggestionValue = suggestionValue;\n      this._suggestionOption = option;\n      this._hasSuggestion = true;\n      if (autoSelect) {\n        this.acceptSuggestion(true);\n        return;\n      }\n\n      // Autocomplete Inline\n      if ((_isSelect && !this.multiple) || autocompleteInline) {\n        let valueText = suggestionText;\n        let selectionStart = 0;\n        if (_expanded) {\n          if (!_isSelect && suggestionText.toLowerCase().startsWith(currentInput.toLowerCase())) {\n            valueText = currentInput + suggestionText.slice(currentInput.length);\n            selectionStart = currentInput.length;\n          } else {\n            selectionStart = suggestionText.length;\n          }\n        } else {\n          selectionStart = 0;\n        }\n        inputElement.value = valueText; // Displayed value\n        if (autocompleteInline) {\n          inputElement.setSelectionRange(selectionStart, suggestionText.length);\n        }\n        if (!_expanded) {\n          this.acceptSuggestion(true);\n        }\n      }\n    },\n    acceptSuggestion(emitChange = false) {\n      if (!this._hasSuggestion) return;\n      if (this.readOnly) return;\n      const { _suggestionText, _suggestionValue, _input, multiple, _listbox, _values } = this;\n      if (multiple) {\n        const newArray = [..._values.filter(Boolean), _suggestionValue ?? _suggestionText];\n        this._values = [...new Set(newArray)];\n      } else {\n        this.value = _suggestionValue;\n        _input.value = _suggestionText;\n        this._draftInput = _suggestionText;\n        _listbox.value = _suggestionValue;\n      }\n      if (emitChange) {\n        this.dispatchEvent(new Event('change', { bubbles: true }));\n      }\n    },\n    /**\n     * @param {Object} options\n     * @param {boolean} [options.first] first option\n     * @param {boolean} [options.last] first option\n     * @param {boolean} [options.next] next fosuable option\n     * @param {boolean} [options.previous] previous focusable option\n     * @param {string} [options.startsWith] option label starsWith\n     * @param {string} [options.value] matches option value\n     * @param {string} [options.label] matches option label\n     */\n    changeSuggestion({ first, last, next, previous, startsWith, value, label }) {\n      const _listbox = this._listbox;\n      let suggestion;\n      let suggestionIndex;\n      let current;\n      let currentIndex;\n      let backup;\n      let backupIndex = -1;\n      let optionIndex = -1;\n      for (const option of _listbox.options) {\n        optionIndex++;\n        if (!current && option.focused) {\n          current = option;\n          currentIndex = optionIndex;\n          if (suggestion && (!next && !last)) {\n            break;\n          }\n        }\n        if (option.hidden) continue;\n        if (last) {\n          suggestion = option;\n          suggestionIndex = optionIndex;\n          continue;\n        }\n        if (first) {\n          if (!suggestion) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (startsWith != null) {\n          if (!suggestion && option.label.toLowerCase().startsWith(startsWith)) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (value != null) {\n          if (!suggestion && option.value === value) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (label != null) {\n          if (!suggestion && option.label === label) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (currentIndex === optionIndex) continue;\n        if (previous) {\n          suggestion = option;\n          suggestionIndex = optionIndex;\n        } else if (next) {\n          if (current) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n            break;\n          } else if (!backup) {\n            backup = option;\n            backupIndex = optionIndex;\n          }\n        }\n      }\n      if (current && current !== suggestion) {\n        current.focused = false;\n      }\n      if (!suggestion) {\n        suggestionIndex = backupIndex;\n        suggestion = backup;\n        this._input.value = this._draftInput;\n      }\n      if (suggestionIndex === -1) {\n        this._focusedPosInSet = -1;\n        this._hasSuggestion = false;\n        return;\n      }\n      this._focusedPosInSet = suggestionIndex + 1;\n      suggestion.focused = true;\n      suggestion.scrollIntoView({\n        behavior: 'instant',\n        block: 'nearest',\n      });\n      this.suggestOption(suggestion);\n    },\n    resetSuggestion() {\n      if (this._isSelect) {\n        this.changeSuggestion({ label: this._draftInput });\n      } else {\n        this.changeSuggestion({ value: this._listboxValue });\n      }\n    },\n    refreshMultiple() {\n      const { _values, multiple } = this;\n      if (!multiple) {\n        this.refs.chips.replaceChildren();\n        return;\n      }\n      let element = /** @type {InstanceType<import('./InputChip.js').default>} */ (this.refs.chips.firstElementChild);\n\n      for (let i = 0; i < _values.length; i++) {\n        const currentValue = _values[i];\n        let foundOption;\n        if (this.listbox) {\n          for (const option of this.listbox.options) {\n            if (option.value === currentValue) {\n              foundOption = option;\n              break;\n            }\n          }\n        }\n\n        element ??= /** @type {InstanceType<import('./InputChip.js').default>} */ (this.refs.chips.appendChild(document.createElement('mdw-input-chip')));\n        element.closeButton = true;\n        element.textContent = foundOption?.label || currentValue;\n        element.textContent = foundOption?.label || currentValue;\n        element.disabled = this.disabled;\n        element.readOnly = this.readOnly;\n        // eslint-disable-next-line unicorn/prefer-add-event-listener\n        element.onclose ??= this.onChipClose.bind(this);\n        element = /** @type {InstanceType<import('./InputChip.js').default>} */ (element.nextElementSibling);\n      }\n      while (element) {\n        const prev = element;\n        element = /** @type {InstanceType<import('./InputChip.js').default>} */ (element.nextElementSibling);\n        prev.remove();\n      }\n      this._chipSelected = false;\n      this._input.value = '';\n      this._draftInput = '';\n      this._listboxValue = '';\n      if (this.listbox) {\n        for (const option of this.listbox.options) {\n          option.selected = _values.includes(option.value);\n        }\n      }\n    },\n    populateInputFromListbox() {\n      if (this.multiple) {\n        this.refreshMultiple();\n        return;\n      }\n      if (!this._isSelect) return;\n      if (!this._listbox) return;\n\n      this._listbox.value = this._value;\n      const [option] = this._listbox.selectedOptions;\n      if (option) {\n        this._input.value = option.label;\n        this._draftInput = option.label;\n      }\n    },\n    /** @param {CloseEvent & {currentTarget: HTMLElement}} event */\n    onChipClose({ currentTarget }) {\n      /** @type {Node} */\n      let prev = currentTarget;\n      let elementIndex = 0;\n      while ((prev = prev.previousSibling)) {\n        elementIndex++;\n      }\n      currentTarget.remove();\n      this._values.splice(elementIndex, 1);\n      this._values = [...this._values];\n    },\n  })\n  .childEvents({\n    control: {\n      click() {\n        if (!this._isSelect) return;\n        if (this.readOnly) return;\n        this.toggleListbox();\n      },\n      input(event) {\n        if (!this._hasListbox) return;\n        // Intercept event and dispatch a new one.\n        // This allow authors to modify listbox (filter) and value (custom pattern)\n        event.stopPropagation();\n        const performDefault = this.dispatchEvent(new InputEvent('input', {\n          composed: true,\n          data: event.data,\n          bubbles: true,\n          dataTransfer: event.dataTransfer,\n          detail: event.detail,\n          inputType: event.inputType,\n          view: event.view,\n          targetRanges: event.getTargetRanges(),\n          isComposing: event.isComposing,\n        }));\n        if (!performDefault) {\n          event.preventDefault();\n          return;\n        }\n        const value = /** @type {HTMLInputElement} */ (event.currentTarget).value;\n        this._draftInput = value;\n        if (this.autocompleteList != null && this.autocompleteList !== 'custom') {\n          this.applyAutocompleteList();\n        }\n        this.resetSuggestion();\n        if (value && !this._expanded && this._listbox.length) {\n          this.showListbox();\n        }\n        // Only inline suggest if appending characters\n        if (event.data != null && this.autosuggestInline) {\n          this.changeSuggestion({ startsWith: this._draftInput.toLocaleLowerCase() });\n        }\n      },\n      keydown(event) {\n        if (!this._listbox) return;\n        // Calls to return will not prevent default.\n        switch (event.key) {\n          case 'Home':\n            if (!this._isSelect) return;\n            if (this.readOnly) return;\n            this.changeSuggestion({ first: true });\n            break;\n          case 'End':\n            this._chipSelected = false;\n            if (!this._isSelect) return;\n            if (this.readOnly) return;\n            this.changeSuggestion({ last: true });\n            break;\n          case 'ArrowDown':\n          case 'Down':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            this._chipSelected = false;\n            if (this.readOnly) return;\n            if (event.altKey) {\n              this.toggleListbox();\n              break;\n            }\n            if (!this._expanded && !this.autocompleteInline && !this._isSelect) return;\n            this.changeSuggestion({ next: true });\n            break;\n          case 'ArrowUp':\n          case 'Up':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            if (event.altKey) {\n              this.toggleListbox();\n              break;\n            }\n            this._chipSelected = false;\n            if (!this._expanded && !this.autocompleteInline && !this._isSelect) return;\n            this.changeSuggestion({ previous: true });\n            break;\n          case 'Escape':\n            if (!this._expanded) return;\n            event.stopImmediatePropagation();\n            event.preventDefault();\n            if (this.acceptOnEscape) {\n              this.acceptSuggestion(true);\n            } else {\n              this.resetSuggestion();\n            }\n            this.closeListbox();\n            break;\n          case 'Space':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            if (!this._isSelect) return;\n            if (!this._listbox) return;\n            if (this._expanded) {\n              if (this.multiple && this._suggestionOption) {\n                this._suggestionOption.selected = !this._suggestionOption.selected;\n                this.closeListbox();\n              }\n            } else {\n              this.showListbox();\n            }\n            break;\n          case 'Backspace':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            if (!this.multiple) return;\n            if (this._isSelect) return;\n            if (!this._input.value) {\n              if (this._chipSelected) {\n                this._values.pop();\n                this._values = [...this._values];\n              } else if (this._values.length) {\n                this._chipSelected = true;\n              }\n            }\n            return;\n          case 'Tab':\n            if (!this._expanded && this.multiple) return;\n            this.closeListbox();\n            this.acceptSuggestion(true);\n            event.stopPropagation();\n            return;\n          case 'Enter':\n            this._chipSelected = false;\n            if (!this._expanded) return;\n            event.stopImmediatePropagation();\n            event.preventDefault();\n            this.acceptSuggestion(true);\n            this.closeListbox();\n            break;\n          case ' ':\n            return;\n          default:\n            if (this._isSelect && event.key.length === 1) {\n              this.changeSuggestion({ startsWith: event.key.toLocaleLowerCase() });\n              break;\n            }\n            return;\n        }\n        event.stopPropagation(); // Avoid kbd within kbd (sub menus)\n        event.preventDefault();\n      },\n    },\n    slot: {\n      /**\n       * @param {{currentTarget: HTMLSlotElement}} event\n       * @type {any}\n       */\n      slotchange({ currentTarget }) {\n        if (this._expanded) return;\n        const [listbox] = /** @type {InstanceType<Listbox>[]} */ (currentTarget.assignedElements());\n        const _listbox = this._listbox;\n        if (_listbox === listbox) {\n          // Internal already matches\n          return;\n        }\n        if (_listbox) {\n          // Unbind and release\n          _listbox.removeEventListener('change', this._onListboxChangeListener);\n          _listbox.removeEventListener('click', this._onListboxClickListener);\n          _listbox._handleFormReset = true;\n        }\n        this._listbox = listbox;\n        if (listbox) {\n          // Bind and store\n          if (!this.multiple) {\n            listbox.required = true; // Don't allow unclick\n          }\n\n          listbox._handleFormReset = false;\n          listbox.addEventListener('change', this._onListboxChangeListener);\n          listbox.addEventListener('click', this._onListboxChangeListener);\n          this.populateInputFromListbox();\n        }\n      },\n    },\n    trailingIcon: {\n      '~click'() {\n        if (!this._listbox) return;\n        this.toggleListbox();\n        this.refs.control.focus();\n      },\n    },\n  })\n  .events({\n    blur({ relatedTarget }) {\n      this._chipSelected = false;\n      if (!this._expanded) return;\n      // Ignore if focus lost to pop-up (likely pointerdown).\n      const popup = getSharedPopup();\n      if (popup === relatedTarget) return;\n      if (relatedTarget && popup.contains(/** @type {Node} */ (relatedTarget))) return;\n      if (popup.matches(':focus-within,:focus')) return;\n      this.closeListbox();\n    },\n  })\n  .expressions({\n    showTrailingIcon({ trailingIcon, _listbox, _expanded, readOnly }) {\n      if (trailingIcon != null) {\n        return trailingIcon;\n      }\n      if (_listbox && !readOnly) {\n        return _expanded ? 'arrow_drop_up' : 'arrow_drop_down';\n      }\n      return null;\n    },\n    computedTrailingIcon({ trailingIcon, _listbox, _expanded }) {\n      if (trailingIcon != null) {\n        return trailingIcon;\n      }\n      if (_listbox) {\n        return _expanded ? 'arrow_drop_up' : 'arrow_drop_down';\n      }\n      return null;\n    },\n    controlTypeAttrValue({ _isSelect, type }) {\n      if (_isSelect) return 'text';\n      return type;\n    },\n    controlReadonlyAttrValue({ _isSelect, type, readOnly }) {\n      if (_isSelect) return true;\n      return readOnly;\n    },\n    controlIsSelect({ _isSelect, type }) {\n      return _isSelect;\n    },\n    ariaExpandedAttrValue({ _hasListbox, _expanded }) {\n      if (!_hasListbox) return null;\n      return `${_expanded}`;\n    },\n    ariaControlsAttrValue({ _hasListbox }) {\n      if (!_hasListbox) return null;\n      return 'aria-listbox';\n    },\n    ariaAutocompleteAttrValue({ _hasListbox, autocompleteList, _isSelect }) {\n      if (!_hasListbox) return null;\n      if (_isSelect) return null;\n      if (autocompleteList != null) {\n        return 'both';\n      }\n      return 'inline';\n    },\n    ariaActiveDescendantAttrValue({ _hasListbox, _expanded, _focusedValue }) {\n      if (!_hasListbox) return null;\n      if (_expanded && _focusedValue) return 'aria-active';\n      return '';\n    },\n    controlRoleAttrValue({ _hasListbox }) {\n      if (_hasListbox) return 'combobox';\n      return null;\n    },\n    populatedState({ value, _badInput, _draftInput, type }) {\n      return !!value || _badInput || !!_draftInput || type === 'datetime-local';\n    },\n  })\n  .recompose(({ refs: { control, trailingIcon, shape, labelText } }) => {\n    // Can't cross DOM boundaries\n    control.setAttribute('aria-activedescendant', '{ariaActiveDescendantAttrValue}');\n    control.setAttribute('aria-autocomplete', '{ariaAutocompleteAttrValue}');\n    control.setAttribute('aria-controls', '{ariaControlsAttrValue}');\n    control.setAttribute('aria-expanded', '{ariaExpandedAttrValue}');\n    control.setAttribute('type', '{controlTypeAttrValue}');\n    control.setAttribute('role', '{controlRoleAttrValue}');\n    control.setAttribute('readonly', '{controlReadonlyAttrValue}');\n    control.setAttribute('autocomplete', 'off');\n    control.setAttribute('is-select', '{controlIsSelect}');\n    trailingIcon.setAttribute('mdw-if', '{showTrailingIcon}');\n    trailingIcon.setAttribute('icon', '{computedTrailingIcon}');\n    shape.setAttribute('trailing-icon', '{computedTrailingIcon}');\n    labelText.setAttribute('trailing-icon', '{computedTrailingIcon}');\n  })\n  .overrides({\n    _onSetValue(value) {\n      if (this.multiple) {\n        this._values = value.split(',').filter(Boolean);\n      } else if (this._isSelect) {\n        this._value = value;\n      } else {\n      // Apply user value to input and read back result to apply control to parse\n        this._input.value = value;\n        this._value = this._input.value;\n      }\n    },\n    _onControlValue(value) {\n      // Only accept values from accepted suggestions\n      if (this.multiple) {\n        if (value) {\n          this._chipSelected = false;\n        }\n        return;\n      }\n      this._value = value;\n    },\n  })\n  .on({\n    _valueChanged(previous, current) {\n      if (this.multiple) return; // Handled by _values\n      if (this._isSelect) {\n        this.populateInputFromListbox();\n      } else {\n        this._listboxValue = current;\n      }\n    },\n    _valuesChanged(previous, current) {\n      if (this.multiple && current) {\n        this._value = current.join(',');\n        this.refreshMultiple();\n      }\n    },\n    _chipSelectedChanged(previous, current) {\n      if (!this.multiple) return;\n      const element = /** @type {HTMLOptionElement} */ (this.refs.chips.lastElementChild);\n      if (element) {\n        element.selected = current;\n      }\n    },\n    _listboxValueChanged(previous, current) {\n      if (!this._hasListbox) return;\n      this._listbox.value = current;\n      this._draftInput = current;\n      this.changeSuggestion({ value: current });\n    },\n    _expandedChanged(previous, current) {\n      this._useFormImplicitSubmission = !current;\n    },\n    constructed() {\n      this._onListboxChangeListener = this.onListboxChange.bind(this);\n      this._onListboxClickListener = this.onListboxClick.bind(this);\n      this._onPopupFocusoutListener = this.onPopupFocusout.bind(this);\n      document.addEventListener('DOMContentLoaded', () => this.populateInputFromListbox(), { once: true });\n    },\n    multipleChanged(previous, current) {\n      if (this.listbox) {\n        this.listbox.multiple = current;\n      }\n      if (current) {\n        this._onSetValue(this._input.value);\n      }\n    },\n    disabledStateChanged() {\n      this.refreshMultiple();\n      this._chipSelected = false;\n      this.closeListbox();\n    },\n    readOnlyChanged() {\n      this.refreshMultiple();\n      this._chipSelected = false;\n      this.closeListbox();\n    },\n  })\n  .html`\n    <div id=chips mdw-if={multiple}></div>\n    <slot id=slot></slot>\n    <div id=aria-listbox role=listbox mdw-if={_hasListbox}>\n      <div id=aria-active role=option aria-hidden=false aria-label={selectedOption.label}\n        aria-setsize=\"{_listbox.length}\" aria-posinset={_focusedPosInSet}></div>\n    </div>\n  `\n  .css`\n    #slot {\n      display: none;\n    }\n\n    #aria-listbox {\n      display: none;\n    }\n\n    #trailing-icon {\n      align-self: center;\n    }\n\n    #control:where([type=\"button\"], [is-select]) {\n      cursor: pointer;\n    }\n\n    #inline[multiple] {\n      gap: 8px;\n    }\n\n    mdw-input-chip {\n      align-self: baseline;\n\n    }\n\n    #control[multiple] {\n      align-self: baseline;\n    }\n\n    #chips {\n      display: contents;\n    }\n\n    #inline {\n      flex-wrap: wrap;\n    }\n\n    #inline:where([filled],[outlined]) {\n      padding-inline: 16px;\n    }\n\n    #control {\n      flex: 1 1 8ch;\n    }\n\n    #control[is-select][multiple] {\n      flex: 1 1 0px;\n    }\n  `\n  .recompose(({ refs: { inline, chips } }) => {\n    inline.prepend(chips);\n    inline.setAttribute('multiple', '{multiple}');\n  })\n  .extend((Base) => class Input extends Base {\n    /** @type {InstanceType<ReturnType<RippleMixin>>['addRipple']} */\n    addRipple(...args) {\n      // @ts-ignore TODO: Fix invalid cast\n      if (!this.active) return null;\n      // @ts-ignore TODO: Fix invalid cast\n      return super.addRipple(...args);\n    }\n  })\n  .autoRegister('mdw-input');\n", "import { addGlobalCss } from '../core/css.js';\n\nlet globalStylesLoaded = false;\n\n/** @return {void} */\nexport function loadGlobalStyles() {\n  if (globalStylesLoaded) return;\n  addGlobalCss('html[dir=\"rtl\"]{--mdw-dir: -1;}');\n  globalStylesLoaded = true;\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport { SAFARI_VERSION, isFocused, isRtl } from '../core/dom.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\nimport { loadGlobalStyles } from '../services/rtl.js';\n\nloadGlobalStyles();\n\n/**\n * @param {string} value\n * @param {number} onNaN\n * @return {number}\n */\nfunction parseFloat(value, onNaN = 0) {\n  const number = Number.parseFloat(value);\n  if (Number.isNaN(number)) return onNaN;\n  return number;\n}\n\n/**\n * @param {string} value\n * @param {string} min\n * @param {string} max\n * @return {?number}\n */\nfunction valueAsFraction(value, min, max) {\n  const nValue = parseFloat(value);\n  const nMin = parseFloat(min);\n  const nMax = parseFloat(max, 100);\n\n  return (nValue - nMin) / (nMax - nMin);\n}\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(StateMixin)\n  .mixin(InputMixin)\n  .set({\n    stateLayer: true,\n    type: 'range',\n  })\n  .observe({\n    ticks: 'string',\n    _valueAsText: { nullable: false },\n    thumbLabel: {\n      type: 'string',\n      reflect: 'read',\n    },\n    _roundedValue: 'float',\n    _isHoveringThumb: 'boolean',\n    _lastDispatchedChangeValue: 'string',\n  })\n  .methods({\n    /**\n     * @param {(MouseEvent|TouchEvent) & {currentTarget:HTMLInputElement}} event\n     * @return {void}\n     */\n    onControlMouseOrTouch(event) {\n      const input = event.currentTarget;\n      if (input.disabled) return;\n\n      if (this.disabledState) return;\n\n      if (event.type === 'touchend') {\n        this._isHoveringThumb = false;\n        return;\n      }\n\n      let offsetX;\n      let clientX;\n      let pageX;\n      let isActive;\n\n      const isTouch = 'touches' in event;\n      if (isTouch) {\n        if (event.touches.length) {\n          const [touch] = event.touches;\n          isActive = true;\n          // @ts-ignore Might exist\n          ({ offsetX, clientX, pageX } = touch);\n        }\n      } else {\n        // Ignore mouse drag-over\n        // Firefox doesn't report `:active`\n        // eslint-disable-next-line no-bitwise\n        isActive = (event.buttons & 1) === 1\n       && (event.type === 'mousedown' || input.matches(':active'));\n        ({ offsetX, clientX, pageX } = event);\n      }\n\n      if (offsetX == null) {\n        clientX ??= pageX - window.scrollX; // Safari\n        offsetX = clientX - input.getBoundingClientRect().left;\n      }\n\n      const { clientWidth } = input;\n      let position = (offsetX / clientWidth);\n      if (position > 1) {\n        position = 1;\n      } else if (position < 0) {\n        position = 0;\n      }\n\n      if (isActive) {\n        this._isHoveringThumb = true;\n        const { min, max, step } = this;\n\n        const nMin = parseFloat(min);\n        const nMax = parseFloat(max, 100);\n        const nStep = parseFloat(step, 1);\n\n        if (isRtl(this)) {\n          position = 1 - position;\n        }\n        const currentValue = position * (nMax - nMin) + nMin;\n        let roundedValue = Math.round(currentValue / nStep) * nStep;\n\n        if (nStep < 1) {\n          // Floating Point Numbers need to be rounded off based on step\n          // eg: 3.4 / 10 with step of 0.1 yields 0.33999999999999997\n          const log10 = Math.floor(Math.log10(nStep)); // e value in scientific notation\n          const scale = 10 ** (-1 * log10); // multiplier to scale up to integer\n          roundedValue = Math.round(roundedValue * scale) / scale;\n        }\n\n        this._roundedValue = roundedValue;\n        this._valueAsText = roundedValue.toString(10);\n        if (isTouch && SAFARI_VERSION) {\n          // Safari does not update input when drag wasn't initiated at thumb\n          if (event.type === 'touchstart') {\n            // Default touch action on Safari is to magnify when on track\n            event.preventDefault();\n          }\n          const { _input } = this;\n          if (_input.valueAsNumber !== roundedValue) {\n            _input.valueAsNumber = roundedValue;\n            this.dispatchEvent(new Event('input', { bubbles: true, composed: true }));\n          }\n        }\n\n        return;\n      }\n\n      if (isTouch) return;\n\n      let fractionalValue = valueAsFraction(this.value, this.min, this.max);\n      if (isRtl(this)) {\n        fractionalValue = 1 - fractionalValue;\n      }\n      const thumbOffset = fractionalValue * clientWidth;\n      const thumbMin = thumbOffset - 20;\n      const thumbMax = thumbOffset + 20;\n      this._isHoveringThumb = offsetX >= thumbMin && offsetX <= thumbMax;\n    },\n\n    /** @param {Event} event */\n    onLeaveEvent({ currentTarget }) {\n      if (isFocused(/** @type {Element} */ (currentTarget))) return;\n      this._isHoveringThumb = false;\n    },\n\n    /**\n     * @param {(MouseEvent|TouchEvent) & {currentTarget:HTMLInputElement}} event\n     * @return {void}\n     */\n    onControlFinish(event) {\n      const input = event.currentTarget;\n      if (input.disabled) return;\n      if (event.type === 'click') {\n        event.preventDefault();\n      }\n      input.valueAsNumber = this._roundedValue;\n      this._value = input.value;\n      if (this._lastDispatchedChangeValue !== this._value) {\n        this._lastDispatchedChangeValue = this._value;\n        this.dispatchEvent(new Event('change', { bubbles: true }));\n      }\n    },\n  })\n  .events({\n    blur: 'onLeaveEvent',\n    mouseout: 'onLeaveEvent',\n  })\n  .childEvents({\n    control: {\n      '~mousedown': 'onControlMouseOrTouch',\n      '~mousemove': 'onControlMouseOrTouch',\n      '~mouseout': 'onControlMouseOrTouch',\n      touchstart: 'onControlMouseOrTouch',\n      '~touchmove': 'onControlMouseOrTouch',\n      '~touchleave': 'onControlMouseOrTouch',\n      '~touchcancel': 'onControlMouseOrTouch',\n      '~touchend': 'onControlMouseOrTouch',\n      touchend: 'onControlFinish',\n      click: 'onControlFinish',\n      '~change'(event) {\n        // Change event will be rethrown by ControlMixin\n        // Track value to avoid double dispatch\n        if (this._lastDispatchedChangeValue === this._value) {\n          event.stopPropagation();\n        }\n        this._lastDispatchedChangeValue = this._value;\n      },\n    },\n  })\n  .expressions({\n    computeTrackStyle({ ticks, _valueAsText, min, max }) {\n      return [\n        ticks ? `--ticks:${ticks}` : null,\n        `--value:${valueAsFraction(_valueAsText, min, max)}`,\n      ].filter(Boolean).join(';') || null;\n    },\n    _thumbLabelHidden({ _isHoveringThumb, focusedState }) {\n      return (!_isHoveringThumb && !focusedState);\n    },\n    _computedThumbLabel({ thumbLabel, _valueAsText }) {\n      return thumbLabel ?? _valueAsText;\n    },\n  })\n  .html`\n    <div id=track style={computeTrackStyle} aria-hidden=true disabled={disabledState}>\n      <div mdw-if={ticks} id=ticks></div>\n      <div id=track-active></div>\n      <div id=thumb-anchor>\n        <div id=thumb></div>\n        <div id=thumb-label\n          hidden={_thumbLabelHidden}\n          text={_computedThumbLabel}></div>\n      </div>\n    </div>\n  `\n  .recompose(({ refs: { thumb, state, control } }) => {\n    thumb.append(state);\n    control.removeAttribute('aria-labelledby');\n  })\n  .on({\n    valueChanged(oldValue, newValue) {\n      this._valueAsText = newValue;\n    },\n  })\n  .css`\n    /* https://m3.material.io/components/sliders/specs */\n\n    :host {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n\n      display: block;\n      vertical-align: middle;\n\n      min-block-size: 40px;\n      min-inline-size: 88px;\n\n      background-color: transparent;\n    }\n\n    :host,\n    :host([color]) {\n      background-color: transparent;\n    }\n\n    #control {\n      inset:0;\n\n      overflow: visible;\n\n      block-size: 100%;\n      min-block-size: 0;\n      inline-size: 100%;\n      min-inline-size: 0;\n\n      appearance: none;\n\n      cursor: pointer;\n\n      transform: none;\n\n      background-color: transparent;\n    }\n\n    #control::-webkit-slider-runnable-track {\n      /* stylelint-disable-next-line declaration-property-value-disallowed-list */\n      margin-inline: -10px;\n\n      appearance: none;\n\n      background-color: transparent;\n    }\n\n    @supports (-moz-appearance:none ){\n      #control {\n        inset-inline: -10px;\n\n        inline-size: calc(100% + 20px);\n      }\n    }\n\n    #control::-moz-range-track {\n      inline-size: calc(100% + 20px) !important;\n\n      appearance: none;\n    }\n\n    #control::-webkit-slider-thumb {\n      display: block;\n\n      block-size: 20px;\n      inline-size: 20px;\n\n      -webkit-appearance: none;\n      cursor: inherit;\n\n      transform: scale(2);\n\n      background-color: transparent; /* Safari */\n\n      border-radius: 50%;\n      box-shadow: none; /* Safari */\n    }\n\n    #control::-moz-range-thumb {\n      display: block;\n\n      box-sizing: content-box;\n      block-size: 20px;\n      inline-size: 20px;\n      border: none;\n\n      appearance: none;\n      cursor: inherit;\n\n      transform: scale(2);\n\n      background-color: transparent;\n      border-radius: 50%;\n    }\n\n    #control[disabled] {\n      cursor: not-allowed;\n    }\n\n    #track {\n      --value: 0.5;\n      position: absolute;\n      inset-block-start: 50%;\n      inset-inline: 0;\n\n      block-size: 4px;\n      margin-block-start: -2px;\n\n      pointer-events: none;\n      user-select: none;\n\n      background-color: rgb(var(--mdw-color__surface-container-highest));\n      border-radius: inherit;\n      color: rgb(var(--mdw-bg));\n    }\n\n    #thumb {\n      position: absolute;\n      inset-block-start: -18px;\n      inset-inline-start: -20px;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n\n      block-size: 40px;\n      inline-size: 40px;\n\n      pointer-events: none;\n\n      border-radius: 50%;\n\n      color: currentColor;\n    }\n\n    #thumb::before {\n      content: '';\n\n      display: block;\n\n      block-size: 20px;\n      inline-size: 20px;\n\n      background-color: currentColor;\n      border-radius: 50%;\n\n      transition: color 100ms, background-color 100ms;\n    }\n\n    /* Inactive ticks */\n\n    #ticks::before,\n    #ticks::after {\n      content: '';\n\n      position: absolute;\n      inset: 0;\n\n      padding-inline: 2px;\n\n      background-clip: content-box;\n      background-image: radial-gradient(circle at 1px, currentColor 0, currentColor 1px, transparent 0);\n      background-position: -1px 50%;\n      background-repeat: repeat-x;\n      background-size: calc(100% / (var(--ticks, 0) + 1)) 2px;\n    }\n\n    #ticks::before {\n      color: rgb(var(--mdw-color__on-surface-variant));\n    }\n\n    #ticks::after {\n      /* TODO: Use single-paint implementation */\n      padding-inline-end: calc(100% - (100% * var(--value)) + 10px);\n\n      z-index: 1;\n\n      color: rgb(var(--mdw-ink));\n\n      will-change: padding-inline-end;\n    }\n    /* Active Indicator */\n    #track-active {\n      position: absolute;\n      inset: 0;\n\n      overflow: hidden;\n\n      border-radius: 99px;\n    }\n\n    #track-active::before {\n      content: '';\n\n      position: absolute;\n      inset: 0;\n\n      transform: scaleX(var(--value));\n      transform-origin: calc(100% * calc(-0.5 * var(--mdw-dir, 1) + 0.5)) 0;\n\n      background-color: currentColor;\n\n      will-change: transform;\n    }\n\n    #thumb-anchor {\n      position: absolute;\n\n      inset-inline-start: calc(var(--value) * 100%);\n\n      display: flex;\n      align-items: flex-start;\n      flex-direction: column;\n\n      z-index: 24;\n\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      will-change: inset-inline-start, left, right;\n    }\n\n    #thumb-label {\n      position: absolute;\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      left: 0;\n      inset-block-end: 14px;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      box-sizing: content-box;\n      margin-block-end: 6px;\n\n      transform: translateX(-50%) scale(1);\n      transform-origin: 50% 100%;\n\n      font-weight: var(--mdw-typescale__label-medium__font-weight);\n      line-height: var(--mdw-typescale__label-medium__line-height);\n      font-family: var(--mdw-typescale__label-medium__font-family);\n      letter-spacing: var(--mdw-typescale__label-medium__letter-spacing);\n\n      transition: transform 200ms;\n      will-change: transform;\n    }\n\n    #thumb-label:is([hidden],[text=\"\"]) {\n      transform: translateX(-50%) scale(0);\n    }\n\n    #thumb-label::before {\n      content: attr(text);\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      box-sizing: border-box;\n\n      min-block-size: 28px;\n      min-inline-size: 28px;\n      padding: 4px;\n\n      z-index: 1;\n\n      background-color: rgb(var(--mdw-bg));\n      border-radius: 14px;\n      color: rgb(var(--mdw-ink));\n    }\n\n    #thumb-label::after {\n      /* Values from Figma SVG */\n      --x-start: 4.1005px; /*4.1005px*/\n      --x-end: calc(100% - 4.1005px);\n      --y: calc(100% - 9.9584px); /*24.0416px*/\n\n      content: \"\";\n\n      position: absolute;\n      inset: 0;\n      inset-block-end: -6px;\n\n      clip-path: polygon(var(--x-start) var(--y), var(--x-end) var(--y), 50% 100%, var(--x-start) var(--y));\n\n      background-color: currentColor;\n    }\n\n    #track[disabled] {\n      --mdw-bg: var(--mdw-color__on-surface);\n      cursor: not-allowed;\n\n      opacity: 0.38;\n\n      background-color: rgb(var(--mdw-color__on-surface), calc(0.12 / 0.38));\n    }\n  `\n  .autoRegister('mdw-slider');\n", "/* https://m3.material.io/components/dividers/specs */\n\nimport CustomElement from '../core/CustomElement.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .observe({\n    vertical: 'boolean',\n  })\n  .css`\n    :host {\n      --mdw-ink: var(--mdw-color__outline-variant);\n      position: relative;\n\n      display: block;\n      overflow: visible;\n\n      box-sizing: border-box;\n      block-size: 0;\n      inline-size: 100%;\n\n      color: rgb(var(--mdw-ink));\n    }\n\n    :host::before {\n      content: '';\n\n      display: block;\n\n      box-sizing: border-box;\n      block-size: 1px;\n      inline-size: auto;\n\n      background-color: currentcolor;\n    }\n\n    :host([vertical]) {\n      display: inline-flex;\n      vertical-align: top;\n\n      block-size: auto;\n      min-block-size: 100%;\n      inline-size: 0;\n    }\n\n    :host([vertical])::before {\n      block-size: auto;\n      min-inline-size: 1px;\n    }\n\n  `\n  .autoRegister('mdw-divider');\n", "/** @typedef {import('./CustomElement').default} CustomElement */\n\nimport { attrNameFromPropName } from './dom.js';\n\n/**\n * @see https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-attributes\n * @type {import('./observe.js').ObserverOptions<'function',EventListener, CustomElement>}\n */\nexport const EVENT_HANDLER_TYPE = {\n  type: 'function',\n  reflect: 'read',\n  value: null,\n  parser(v) { return v; },\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue == null && newValue == null) return;\n    // Must continue even if oldValue === newValue;\n    if (newValue == null) {\n      // @ts-expect-error Can't verify key\n      this[name] = null;\n      return;\n    }\n    let fn;\n    try {\n      // Use eval to include scope\n      // https://blog.ltgt.net/html-event-handlers/\n      const scopedCode = 'with(this.ownerDocument ?? document){'\n      + 'with(this.form ?? {}){'\n      + `with(this){${newValue}}`\n      + '}'\n      + '}';\n      // eslint-disable-next-line no-new-func\n      fn = new Function(`return function ${name}(event){${scopedCode}}`)();\n    } catch {\n      // Assign to temp element, allow it to parse and then copy result.\n      // Let browser parse instead of using eval()\n      // CSP Violations will be thrown by browser on failure and result in `null`\n      const button = (this.ownerDocument ?? document).createElement('button');\n      button.setAttribute('onclick', newValue);\n      fn = button.onclick;\n    }\n\n    // @ts-expect-error Can't verify key\n    this[name] = fn;\n  },\n  propChangedCallback(name, oldValue, newValue) {\n    const eventName = name.slice(2);\n    if (oldValue) {\n      this.removeEventListener(eventName, oldValue);\n    }\n    if (newValue) {\n      this.addEventListener(eventName, newValue);\n    }\n  },\n};\n\n// const weakRefValues = new WeakMap();\n\n// /**\n//  * @type {import('./observe.js').ObserverOptions<'object',HTMLElement>}\n//  */\n// export const WEAKREF_TYPE = {\n//   type: 'object',\n//   reflect: false,\n//   value: null,\n//   parser(v) { return new WeakRef(v); },\n//   get() {\n//     if (weakRefValues.has(this)) {\n//       return weakRefValues.get(this).deref();\n//     }\n//     return undefined;\n//   },\n// };\n\n/**\n * @typedef {Object} ElementStylerOptions\n * @prop {string|HTMLElement|null} target tag, element or null (host)\n * @prop {Keyframe} styles\n * @prop {EffectTiming} [timing]\n */\n\n/**\n * @typedef {Object} QueuedPropsMetadata\n * @prop {boolean} initial\n */\n\n/** @type {WeakMap<CustomElement, Map<string, QueuedPropsMetadata>>} */\nconst queuedPropsByElement = new WeakMap();\n\n/** @type {WeakMap<CustomElement, Map<string, Animation>>} */\nconst previousAnimationsByElement = new WeakMap();\n\n/**\n * @template {CustomElement} T\n * @template {keyof T & string} K\n * @param {K} name\n * @this {T & Record<K, ElementStylerOptions|null>}\n */\nfunction elementStylerMicrotaskCallback(name) {\n  const previousAnimations = previousAnimationsByElement.get(this);\n  /** @type {Animation} */\n  let previousAnimation;\n  if (previousAnimations?.has(name)) {\n    previousAnimation = previousAnimations.get(name);\n  }\n  const queuedProps = queuedPropsByElement.get(this);\n  const { initial } = queuedProps.get(name);\n  queuedProps.delete(name);\n  const value = this[name];\n  if (!value) {\n    previousAnimation?.cancel();\n    return;\n  }\n  const { target, styles, timing } = value;\n  /** @type {HTMLElement} */\n  const el = target\n    ? (typeof target === 'string' ? this.refs[target] : target)\n    : this;\n  const currentAnimation = el.animate(styles, {\n    ...timing,\n    ...(initial ? { duration: 0 } : null),\n    fill: 'forwards',\n  });\n  currentAnimation.onremove = () => {\n    previousAnimation?.effect.updateTiming({\n      fill: 'none',\n    });\n    // Destroy previous manually to avoid leak\n    previousAnimation?.finish();\n    previousAnimation?.cancel();\n    previousAnimation = null;\n  };\n  if (previousAnimations) {\n    previousAnimations.set(name, currentAnimation);\n  } else {\n    previousAnimationsByElement.set(this, new Map([[name, currentAnimation]]));\n  }\n}\n\n/** @type {WeakMap<Element, Function[]>} */\nconst pendingResizeCallbacks = new WeakMap();\nconst pendingConnections = new ResizeObserver((entries) => {\n  for (const { target } of entries) {\n    if (pendingResizeCallbacks.has(target)) {\n      const callbacks = pendingResizeCallbacks.get(target);\n      pendingResizeCallbacks.delete(target);\n      pendingConnections.unobserve(target);\n      for (const callback of callbacks) {\n        callback();\n      }\n    }\n  }\n});\n\n/** @type {import('./observe.js').ObserverOptions<'object',ElementStylerOptions, CustomElement>} */\nexport const ELEMENT_ANIMATION_TYPE = {\n  type: 'object',\n  reflect: false,\n  diff: null, // Skip computing entire change\n  propChangedCallback(name, oldValue, newValue) {\n    if (!newValue) {\n      const previousAnimations = previousAnimationsByElement.get(this);\n      if (!previousAnimations?.has(name)) {\n        // Fast abort\n        return;\n      }\n    }\n    const queuedProps = queuedPropsByElement.get(this);\n\n    const initial = !this.isConnected;\n    if (queuedProps) {\n      if (queuedProps.has(name)) return;\n      queuedProps.set(name, { initial });\n    } else {\n      queuedPropsByElement.set(this, new Map([[name, { initial }]]));\n    }\n    // TODO: Reuse callback instead constructing each tick\n    // Animation styles may trickle in steps, so queue a microtask before doing any work.\n    // Using requestAnimationFrame would fire one frame too late for CSS animations already scheduled\n    const callback = elementStylerMicrotaskCallback.bind(this, name);\n    if (this.isConnected) {\n      queueMicrotask(callback);\n    } else if (pendingResizeCallbacks.has(this)) {\n      pendingResizeCallbacks.get(this).push(callback);\n    } else {\n      pendingResizeCallbacks.set(this, [callback]);\n      pendingConnections.observe(this);\n    }\n  },\n};\n\n/**\n * @type {WeakMap<CustomElement, Map<string, HTMLStyleElement|CSSStyleSheet>>}\n */\nconst styleReferences = new WeakMap();\n\n/** @type {boolean} */\nlet useAdoptedStyleSheets = null;\n\n/** @type {import('./observe.js').ObserverOptions<'string',string, CustomElement>} */\nexport const ELEMENT_STYLE_TYPE = {\n  type: 'string',\n  reflect: false,\n  /**\n   * @param {string|Record<keyof CSSStyleDeclaration & string, string|number>} value\n   * @return {string}\n   */\n  parser(value) {\n    if (!value || typeof value === 'string') {\n      return /** @type {string} */ (value);\n    }\n    return `:host{${\n      Object.entries(value).map(([key, rule]) => `${attrNameFromPropName(key)}:${rule}`)\n        .join(';')\n    }}`;\n  },\n  propChangedCallback(name, oldValue, newValue) {\n    let mapOfStyles;\n\n    /** @type {HTMLStyleElement|CSSStyleSheet} */\n    let styles;\n    if (styleReferences.has(this)) {\n      mapOfStyles = styleReferences.get(this);\n      if (mapOfStyles.has(name)) {\n        styles = mapOfStyles.get(name);\n      }\n    } else {\n      // Skip build if blank\n      if (!newValue) return;\n      mapOfStyles = new Map();\n      styleReferences.set(this, mapOfStyles);\n    }\n\n    useAdoptedStyleSheets ??= 'adoptedStyleSheets' in ShadowRoot.prototype;\n    if (!styles) {\n      if (useAdoptedStyleSheets) {\n        styles = new CSSStyleSheet();\n        this.shadowRoot.adoptedStyleSheets = [\n          ...this.shadowRoot.adoptedStyleSheets,\n          styles,\n        ];\n      } else {\n        const styleElement = this.ownerDocument.createElement('style');\n        this.shadowRoot.prepend(styleElement);\n        styles = styleElement;\n      }\n      mapOfStyles.set(name, styles);\n    }\n    if (newValue) {\n      if (useAdoptedStyleSheets) {\n        /** @type {CSSStyleSheet} */(styles).replaceSync(newValue);\n      } else if (newValue) {\n        /** @type {HTMLStyleElement} */(styles).textContent = newValue;\n      }\n      styles.disabled = false;\n    } else {\n      styles.disabled = true;\n    }\n  },\n};\n", "/**\n * @template K\n * @typedef {K extends keyof ARIAMixin ? ARIAMixin[K] extends string ? K : never : never} StringKeyOfARIAMixin\n */\n\n/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function AriaReflectorMixin(Base) {\n  return Base\n    .observe({\n      _ariaRole: 'string',\n    })\n    .set({\n      /**\n       * Browsers that do not support ARIAMixin in ElementInternals need to have\n       * their attributes set after construction.\n       * @type {Map<StringKeyOfARIAMixin<keyof ARIAMixin>, ARIAMixin[StringKeyOfARIAMixin<keyof ARIAMixin>]>}\n       */\n      _onConnectAriaValues: null,\n    })\n    .methods({\n      /**\n       * @param {keyof HTMLElement & keyof ElementInternals} name\n       */\n      readAriaProperty(name) {\n        if (this.elementInternals && name in this.elementInternals) {\n          return this.elementInternals[name];\n        } if (name in this) {\n          return this[name];\n        }\n        // console.warn('Unknown ARIA property', name, this);\n        /** @type {string} */\n        let attrName = name;\n        if (attrName.startsWith('aria')) {\n          attrName = `aria-${attrName.slice(4).toLowerCase()}`;\n        }\n        return this.getAttribute(name);\n      },\n      /**\n       * @template {StringKeyOfARIAMixin<keyof ARIAMixin>} K\n       * @param {K} name\n       * @param {ARIAMixin[K]} value\n       */\n      updateAriaProperty(name, value) {\n        if (this.elementInternals && name in this.elementInternals) {\n          this.elementInternals[name] = value;\n        } else if (this.isConnected) {\n          if (name in this) {\n            this[name] = value;\n          } else {\n            // console.warn('Unknown ARIA property', name, this);\n            /** @type {string} */\n            let attrName = name;\n            if (attrName.startsWith('aria')) {\n              attrName = `aria-${attrName.slice(4).toLowerCase()}`;\n            }\n            if (value == null) {\n              this.removeAttribute(name);\n            } else {\n              this.setAttribute(attrName, value);\n            }\n          }\n        } else {\n          this._onConnectAriaValues ??= new Map();\n          this._onConnectAriaValues.set(name, value);\n          // Elements should not add attributes during construction\n        }\n      },\n    })\n    .on({\n      _ariaRoleChanged(oldValue, newValue) {\n        this.updateAriaProperty('role', newValue);\n      },\n      constructed() {\n        this.updateAriaProperty('role', this._ariaRole);\n      },\n      connected() {\n        if (!this._onConnectAriaValues) return;\n        for (const [key, value] of this._onConnectAriaValues) {\n          this.updateAriaProperty(key, value);\n        }\n        this._onConnectAriaValues = null;\n      },\n    });\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport AriaReflectorMixin from '../mixins/AriaReflectorMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/* https://m3.material.io/components/tooltips/specs */\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(ShapeMixin)\n  .mixin(AriaReflectorMixin)\n  .set({\n    _ariaRole: 'tooltip',\n  })\n  .observe({\n    open: {\n      type: 'boolean',\n      changedCallback(oldValue, newValue) {\n        this.updateAriaProperty('ariaHidden', newValue ? 'true' : 'false');\n      },\n    },\n  })\n  .html`\n    <div id=hover-target></div>\n    <slot id=slot></slot>\n    `\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__extra-small);\n      --mdw-ink: var(--mdw-color__inverse-on-surface);\n      --mdw-bg: var(--mdw-color__inverse-surface);\n      display: block;\n\n      box-sizing: border-box;\n\n      /* Ensure 24px min-height while keeping display:block */\n      padding-block: calc(12px - var(--mdw-typescale__body-small__line-height) / 2);\n      padding-inline: 8px;\n\n      pointer-events: none;\n\n      opacity: 0;\n      transform: scale(0);\n      z-index: 28;\n\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n\n      font: var(--mdw-typescale__body-small__font);\n      letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n\n      transition: transform 200ms, opacity 200ms;\n    }\n\n    @supports(width: 1lh) {\n      :host {\n        padding-block: calc(12px - 0.5lh);\n      }\n    }\n\n    :host([open]) {\n      pointer-events: auto;\n\n      opacity: 1;\n      transform: scale(1);\n    }\n\n    #hover-target {\n      position: absolute;\n      inset-block-start: 50%;\n      inset-inline-start: 50%;\n\n      box-sizing: content-box;\n      block-size: 100%;\n      inline-size: 100%;\n      padding: 8px;\n\n      transform: translateX(-50%) translateY(-50%);\n      z-index: -1;\n      \n    }\n  `\n  .autoRegister('mdw-tooltip');\n", "import '../components/Tooltip.js';\nimport { FIREFOX_VERSION } from '../core/dom.js';\nimport { canAnchorPopup } from '../utils/popup.js';\n\n/** @typedef {import('../components/Tooltip.js').default} Tooltip */\n\n/**\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function TooltipTriggerMixin(Base) {\n  return Base\n    .set({\n      TOOLTIP_MOUSE_IDLE_MS: 500,\n      TOOLTIP_TOUCH_IDLE_MS: 1500,\n      /** @type {any} */\n      _idleDebounce: null,\n      /** @type {HTMLElement[]} */\n      _watchedParents: null,\n      /** @type {ResizeObserver} */\n      _resizeObserver: null,\n      /** @type {IntersectionObserver} */\n      _intersectObserver: null,\n      _parentScrollListener: null,\n      tooltipSlotId: 'slot',\n    })\n    .observe({\n      tooltip: 'string',\n      autoTooltip: 'boolean',\n    })\n    .html`<mdw-tooltip id=tooltip></mdw-tooltip>`\n    .css`\n      #tooltip {\n        display:none;\n      }\n    `\n    .methods({\n      cancelShowTooltip() {\n        // console.log('cancel tooltiptimer');\n        clearTimeout(this._idleDebounce);\n      },\n      /** @param {'mouse'|'touch'|'keyboard'} type */\n      scheduleHideTooltip(type) {\n        this.cancelShowTooltip();\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        if (!tooltip.open) {\n        // console.log('abort schedule (shown)');\n          return;\n        }\n        let timeout = 0;\n        switch (type) {\n          case 'mouse':\n            timeout = 0;\n            break;\n          case 'touch':\n            timeout = 1500;\n            break;\n          default:\n        }\n        // console.log('schedule tooltiptimer');\n        this._idleDebounce = setTimeout(() => {\n        // console.log('hide timeout');\n          this.hideTooltip();\n        }, timeout);\n      },\n\n      /** @param {'mouse'|'touch'|'keyboard'} type */\n      scheduleShowTooltip(type) {\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        if (tooltip.open) return;\n        let timeout = 0;\n        switch (type) {\n          case 'mouse':\n            timeout = this.TOOLTIP_MOUSE_IDLE_MS;\n            break;\n          case 'touch':\n            timeout = this.TOOLTIP_TOUCH_IDLE_MS;\n            break;\n          default:\n        }\n\n        clearTimeout(this._idleDebounce);\n        if (timeout) {\n          this._idleDebounce = setTimeout(this.showTooltip.bind(this), timeout);\n        } else {\n          this.showTooltip();\n        }\n      },\n\n      showTooltip() {\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        if (tooltip.open) return;\n        document.body.append(this.refs.tooltip);\n        this.recloneTooltip();\n        this.updateTooltipPosition();\n        this._resizeObserver.observe(this, { box: 'border-box' });\n        this._resizeObserver.observe(tooltip, { box: 'border-box' });\n        this._intersectObserver.observe(this);\n        this._intersectObserver.observe(tooltip);\n        /** @type {HTMLElement} */\n        // eslint-disable-next-line unicorn/no-this-assignment, @typescript-eslint/no-this-alias\n        let offsetParent = this;\n        while ((offsetParent = /** @type {?HTMLElement} */ (offsetParent.offsetParent))) {\n          this._resizeObserver.observe(offsetParent, { box: 'border-box' });\n          // console.log('observing', offsetParent);\n          this._watchedParents.push(offsetParent);\n          this._intersectObserver.observe(offsetParent);\n          offsetParent.addEventListener('scroll', this._parentScrollListener);\n        }\n        window.addEventListener('scroll', this._parentScrollListener);\n\n        // console.log('offsetparent', this.offsetParent);\n\n        tooltip.open = true;\n      },\n\n      hideTooltip(cancelSchedule = false) {\n        if (cancelSchedule) {\n          this.cancelShowTooltip();\n        }\n        this._resizeObserver.disconnect();\n        this._intersectObserver.disconnect();\n        let parent;\n        while ((parent = this._watchedParents.pop())) {\n          parent.removeEventListener('scroll', this._parentScrollListener);\n        }\n        window.removeEventListener('scroll', this._parentScrollListener);\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        tooltip.open = false;\n        // TODO: Self-remove on close (hide animation)\n        tooltip.remove();\n      },\n      /**\n       * TODO: Throttle multiple calls\n       * @param {DOMRect} [domRect]\n       * @return {void}\n       */\n      updateTooltipPosition(domRect) {\n        const offset = 8;\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        // const margin = 8;\n        /** @type {import('../utils/popup.js').CanAnchorPopUpOptions} */\n\n        Object.assign(tooltip.style, {\n          top: '0',\n          left: '0',\n          right: 'auto',\n          bottom: 'auto',\n          position: 'fixed',\n          maxWidth: null,\n          maxHeight: null,\n        });\n\n        const anchorOptions = {\n          anchor: domRect ?? this.getBoundingClientRect(),\n          width: tooltip.clientWidth,\n          height: tooltip.clientHeight,\n          // margin,\n        };\n\n        const isPageRTL = (getComputedStyle(this).direction === 'rtl');\n        const xStart = isPageRTL ? 'right' : 'left';\n        const xEnd = isPageRTL ? 'left' : 'right';\n        /** @type {import('../utils/popup.js').CanAnchorPopUpOptions[]} */\n        const preferences = [\n          { clientY: 'bottom', clientX: 'center', offsetY: offset },\n          { clientY: 'bottom', clientX: xStart, offsetY: offset },\n          { clientY: 'bottom', clientX: xEnd, offsetY: offset },\n          { clientY: 'top', clientX: 'center', offsetY: -offset },\n          { clientY: 'top', clientX: xStart, offsetY: -offset },\n          { clientY: 'top', clientX: xEnd, offsetY: -offset },\n        ];\n\n        let anchorResult;\n        for (const preference of preferences) {\n          const result = canAnchorPopup({\n            ...anchorOptions,\n            ...preference,\n          });\n          if (!anchorResult || anchorResult.visibility < result.visibility) {\n            anchorResult = result;\n          }\n          if (result.visibility === 1) break;\n        }\n\n        Object.assign(tooltip.style, {\n          position: 'fixed',\n          ...anchorResult.styles,\n        });\n      },\n      recloneTooltip() {\n        let args;\n        const tooltip = this.tooltip;\n        if (tooltip) {\n          args = [tooltip];\n        } else {\n          args = /** @type {HTMLSlotElement} */ (this.refs[this.tooltipSlotId])\n            .assignedNodes()\n            .map((child) => child.cloneNode(true));\n        }\n\n        this.refs.tooltip.replaceChildren(...args);\n      },\n      closeIfNotHovered() {\n        // eslint-disable-next-line unicorn/consistent-function-scoping\n        const check = () => {\n          if (this.hoveredState) return;\n          if (this.refs.tooltip.matches(':hover')) return;\n          this.hideTooltip(true);\n        };\n        if (FIREFOX_VERSION) {\n          // Firefox stalls one tick\n          requestAnimationFrame(check);\n        } else {\n          check();\n        }\n      },\n    })\n    .childEvents({\n      slot: {\n        slotchange: 'recloneTooltip',\n      },\n      tooltip: {\n        pointerleave: 'closeIfNotHovered',\n      },\n    })\n    .events({\n      '~pointermove'(event) {\n        if (event.pointerType === 'touch') return;\n        if (this.autoTooltip && !this.disabledState) {\n          this.scheduleShowTooltip('mouse');\n        }\n      },\n      '~keydown'({ ctrlKey }) {\n        if (ctrlKey) {\n          this.hideTooltip(true);\n        }\n      },\n      '~click'() {\n        this.hideTooltip(true);\n      },\n\n    })\n    .on({\n      constructed() {\n        this._watchedParents = [];\n        this._parentScrollListener = this.updateTooltipPosition.bind(this, null);\n        this._resizeObserver = new ResizeObserver(() => {\n          const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n          if (tooltip.open) {\n            this.updateTooltipPosition();\n          }\n        });\n        const threshold = [0, 0.49, 0.5, 0.51, 1];\n        this._intersectObserver = new IntersectionObserver((entries) => {\n          const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n          // console.log('IO', entries);\n          if (!tooltip.open) return;\n          for (const entry of entries) {\n            if (entry.intersectionRatio <= 0) {\n              // console.debug('Hide tooltip due to tooltip occlusion');\n              this.hideTooltip();\n              return;\n            }\n            if (entry.target === tooltip) {\n              // console.debug('Reposition tooltip due to possible tooltip occlusion');\n              this.updateTooltipPosition();\n              return;\n            }\n            if (entry.target === this) {\n              if (entry.intersectionRatio <= 0.5) {\n                // console.debug('Hiding tooltip because target is occluded');\n                this.hideTooltip();\n              } else {\n                // console.debug('Using InsectionObserver rect to update tooltip');\n                this.updateTooltipPosition(entry.boundingClientRect);\n              }\n              return;\n            }\n          }\n          // console.debug('Updating tooltip position because offsetParent change.');\n          this.updateTooltipPosition();\n        }, { threshold });\n        // this.#tooltip.remove();\n      },\n      _focusedChanged(previous, current) {\n        if (current) {\n          if (!this._pointerPressed && !this._focusedSynthetic && this.autoTooltip) {\n            this.showTooltip();\n          }\n        } else {\n          this.closeIfNotHovered();\n        }\n      },\n      _hoveredChanged(previous, current) {\n        if (current) {\n          if (this.autoTooltip && !this.disabledState) {\n            this.scheduleShowTooltip('mouse');\n          }\n        } else {\n          this.closeIfNotHovered();\n        }\n      },\n      _pointerPressedChanged(previous, current) {\n        if (this._lastInteraction !== 'touch') return;\n        if (current) {\n          if (this.autoTooltip && !this.disabledState) {\n            this.scheduleShowTooltip('touch');\n          }\n        } else {\n          this.scheduleHideTooltip('touch');\n        }\n      },\n      disconnected() {\n        this.hideTooltip(true);\n      },\n      tooltipChanged() {\n        this.recloneTooltip();\n      },\n    });\n}\n", "/**\n * Listens for HTMLAnchorElement click events that will trigger navigation\n * and throws a cancelable `mdw:hyperlink` event before firing.\n * Will be supported until Navigation API is widely available\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function NavigationListenerMixin(Base) {\n  return Base\n    .rootEvents({\n      click(event) {\n        const { target } = event;\n        if (!(target instanceof HTMLAnchorElement)) return;\n        if (!target.href) return;\n        const actionAllowed = target.dispatchEvent(new CustomEvent('mdw:hyperlink', {\n          bubbles: true,\n          composed: true,\n          cancelable: true,\n          detail: {\n            download: target.download,\n            href: target.href,\n            hreflang: target.hreflang,\n            target: target.target,\n          },\n        }));\n        if (!actionAllowed) {\n          // Allow the click event to propagate\n          // event.stopPropagation();\n          // Don't perform native hyperlink action\n          event.preventDefault();\n        }\n      },\n    });\n}\n", "import NavigationListenerMixin from './NavigationListenerMixin.js';\n\n// https://html.spec.whatwg.org/multipage/links.html#dom-hyperlink-protocol-dev\n\n/**\n * @template {keyof URL} T\n * @param {T} name\n * @return {ThisType<URL> & TypedPropertyDescriptor<URL[T]>}\n */\nfunction buildHyperlinkDefinition(name) {\n  return {\n    get() {\n      return new URL(this.href, window.location.href)[name];\n    },\n    set(value) {\n      const { href } = this;\n      if (!href) return;\n      const url = new URL(href, window.location.href);\n      url[name] = value;\n      this.href = url.href;\n    },\n  };\n}\n\n/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function HyperlinkMixin(Base) {\n  return Base\n    .mixin(NavigationListenerMixin)\n    .observe({\n      href: 'string',\n      target: 'string',\n      download: 'string',\n      ping: 'string',\n      rel: 'string',\n      hreflang: 'string',\n      referrerPolicy: { type: 'string', attr: 'referrerpolicy' },\n    })\n    .define({\n      origin() { return new URL(this.href).origin; },\n      protocol: buildHyperlinkDefinition('protocol'),\n      username: buildHyperlinkDefinition('username'),\n      password: buildHyperlinkDefinition('password'),\n      host: buildHyperlinkDefinition('host'),\n      hostname: buildHyperlinkDefinition('hostname'),\n      port: buildHyperlinkDefinition('port'),\n      pathname: buildHyperlinkDefinition('pathname'),\n      search: buildHyperlinkDefinition('search'),\n      hash: buildHyperlinkDefinition('hash'),\n    })\n    .html`\n      <a id=anchor\n      href={href}\n      target={target}\n      download={download}\n      ping={ping}\n      rel={rel}\n      hreflang={hreflang}\n      referrerpolicy={referrerPolicy}\n      ></a>\n    `\n    .methods({\n      toString() {\n        return this.href;\n      },\n    });\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport { ELEMENT_ANIMATION_TYPE } from '../core/customTypes.js';\n\nexport default CustomElement\n  .extend()\n  .set({\n    hadRippleHeld: false,\n    hadRippleReleased: false,\n    rippleStarted: false,\n  })\n  .observe({\n    rippleState: 'string',\n    keepAlive: 'boolean',\n    _positionX: 'float',\n    _positionY: 'float',\n    _radius: 'float',\n    holdRipple: {\n      type: 'boolean',\n      changedCallback(oldValue, newValue) {\n        if (newValue) {\n          this.hadRippleHeld = true;\n        } else {\n          this.hadRippleReleased = true;\n        }\n      },\n    },\n  })\n  .observe({\n    _positionStyle: {\n      ...ELEMENT_ANIMATION_TYPE,\n      get({ _positionX, _positionY, _radius }) {\n        // Skip if not measured\n        if (_radius == null) return null;\n        return {\n          styles: {\n            minHeight: `${_radius}px`,\n            minWidth: `${_radius}px`,\n            boxShadow: `0 0 calc(0.10 * ${_radius}px) calc(0.10 * ${_radius}px) currentColor`,\n            top: `calc(50% + ${_positionY}px)`,\n            left: `calc(50% + ${_positionX}px)`,\n          },\n        };\n      },\n    },\n  })\n  .methods({\n    /**\n     * @param {number} [x] offsetX\n     * @param {number} [y] offsetY\n     * @param {number} [size]\n     * @return {void}\n     */\n    updatePosition(x, y, size) {\n      // Element is already centered.\n      // Use offset to calculate parent size;\n\n      let hypotenuse = size;\n      const { offsetParent } = this;\n      if (!offsetParent) return;\n      const { clientWidth: parentWidth, clientHeight: parentHeight } = offsetParent;\n\n      x ??= parentWidth / 2;\n      y ??= parentHeight / 2;\n      if (!hypotenuse) {\n        const width = (x >= parentWidth / 2) ? x : (parentWidth - x);\n        const height = (y >= parentHeight / 2) ? y : (parentHeight - y);\n        hypotenuse = 2 * Math.hypot(width, height);\n      }\n\n      // const expandDuration = Math.min(\n      //   500, // Never longer than long-press duration\n      //   (1000 * Math.sqrt(size / 2 / 1024) + 0.5), // From Android\n      // );\n\n      // this.style.minBlockSize = `${hypotenuse}px`;\n      // this.style.minInlineSize = `${hypotenuse}px`;\n      // this.style.boxShadow = `0 0 calc(0.10 * ${0}px) calc(0.10 * ${0}px) currentColor`;\n      // this.style.marginLeft = `${x - (parentWidth / 2)}px`;\n      // this.style.marginTop = `${y - (parentHeight / 2)}px`;\n\n      this._positionX = x - (parentWidth / 2);\n      this._positionY = y - (parentHeight / 2);\n      this._radius = hypotenuse;\n    },\n    handleRippleComplete() {\n      if (this.keepAlive) {\n        this.setAttribute('ripple-state', 'complete');\n      } else {\n        this.remove();\n      }\n    },\n  })\n  .events({\n    animationstart({ animationName }) {\n      if (animationName !== 'ripple-fade-in') return;\n      if (this.rippleStarted && !this.keepAlive) {\n        // Animation restarted. Likely from visibility change\n        this.remove();\n        return;\n      }\n      this.rippleStarted = true;\n    },\n    animationend({ animationName }) {\n      switch (animationName) {\n        case 'ripple-fade-in':\n          this.rippleState = 'filled';\n          break;\n        case 'ripple-fade-out':\n          this.handleRippleComplete();\n          break;\n        default:\n      }\n    },\n  })\n  .css`\n    /* stylelint-disable liberty/use-logical-spec */\n    :host {\n      --enter-delay: 80ms;\n      --touch-down-acceleration: 1024;\n      --touch-up-acceleration: 3400;\n      --mdw-ripple-expand-duration: 300ms;\n      --mdw-ripple-simple-duration: 200ms;\n      --mdw-ripple-fade-out-duration: 333ms;\n      --mdw-ripple-standard-easing: var(--mdw-motion-standard-easing, cubic-bezier(0.4, 0.0, 0.2, 1));\n      --mdw-ripple-deceleration-easing: var(--mdw-motion-deceleration-easing, cubic-bezier(0.0, 0.0, 0.2, 1));\n    \n      --size: 0;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n    \n      display: block;\n    \n      min-block-size: 141.42%; /* \u221A2 * 100% */\n      min-inline-size: 141.42%;\n    \n      pointer-events: none;\n    \n      -webkit-tap-highlight-color: transparent;\n    \n      opacity: 0.12;\n      transform: translateX(-50%) translateY(-50%) scale(1);\n    \n      background-color: currentColor;\n      border-radius: 50%;\n    \n      /* Adds feathered appearance to ripple */\n      box-shadow: 0 0 calc(0.10 * var(--size)) calc(0.10 * var(--size)) currentColor;\n    \n      transition-delay: 0s;\n      transition-duration: var(--mdw-ripple-simple-duration);\n      transition-property: background-color, color;\n      transition-timing-function: var(--mdw-ripple-standard-easing);\n    \n      animation-name: ripple-fade-in, none;\n      animation-duration: var(--mdw-ripple-expand-duration), var(--mdw-ripple-fade-out-duration);\n      animation-timing-function: linear, var(--mdw-ripple-deceleration-easing);\n      animation-direction: normal;\n      animation-fill-mode: forwards;\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      will-change: transform, opacity, top, left, box-shadow;\n    \n      aspect-ratio: 1/1;\n    }\n    \n    :host([ripple-state=\"filled\"]) {\n      animation-name: none, ripple-fade-out;\n    }\n    \n    :host([ripple-state=\"filled\"][hold-ripple]) {\n      animation-name: ripple-fade-in, none;\n    }\n    \n    :host([ripple-state=\"complete\"]) {\n      animation-name: none, ripple-fade-out;\n      animation-duration: 0s;\n    }\n    \n    @keyframes ripple-fade-in {\n      from {\n        transform: translateX(-50%) translateY(-50%) scale(0);\n      }\n    }\n    \n    @keyframes ripple-fade-out {\n    \n      to { opacity: 0; }\n    }\n  `\n  .autoRegister('mdw-ripple');\n", "import Ripple from '../components/Ripple.js';\n\n/** @typedef {import('../components/Ripple.js').default} Ripple */\n\n/**\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function RippleMixin(Base) {\n  return Base\n    .set({\n      /** @type {WeakRef<InstanceType<Ripple>>} */\n      _lastRippleWeakRef: null,\n      /** Flag set if ripple was added this event loop. */\n      _rippleAdded: false,\n    })\n    .define({\n      _lastRipple: {\n        get() {\n          const element = this._lastRippleWeakRef?.deref();\n          if (element?.isConnected) return element;\n          return null;\n        },\n        set(ripple) {\n          this._lastRippleWeakRef = ripple ? new WeakRef(ripple) : null;\n        },\n      },\n    })\n    .methods({\n      /**\n       * @param {number} [x]\n       * @param {number} [y]\n       * @param {boolean} [hold]\n       * @return {InstanceType<Ripple>}\n       */\n      addRipple(x, y, hold) {\n        const { rippleContainer } = this.refs;\n        if (!rippleContainer.isConnected) return null; // Detached?\n        const ripple = new Ripple();\n        this._rippleAdded = true;\n        queueMicrotask(() => {\n          // Reset before next event loop;\n          this._rippleAdded = false;\n        });\n        rippleContainer.append(ripple);\n        if (hold) {\n          ripple.holdRipple = true;\n        }\n        ripple.updatePosition(x, y);\n        this._lastRipple = ripple;\n        return ripple;\n      },\n    })\n    .html`\n      <div id=ripple-container mdw-if={!disabledState} aria-hidden=true></div>\n    `\n    .events({\n      '~pointerdown'(event) {\n        if (event.button) return;\n        if (this.disabledState) return;\n\n        const { rippleContainer } = this.refs;\n        if (!rippleContainer.isConnected) return; // Detached?\n        const rect = rippleContainer.getBoundingClientRect();\n        const x = event.pageX - rect.left - window.pageXOffset;\n        const y = event.pageY - rect.top - window.pageYOffset;\n        const lastRipple = this._lastRipple;\n        if (lastRipple) {\n          lastRipple.holdRipple = false;\n        }\n        // Ripple from pointerdown\n        this.addRipple(x, y, true);\n      },\n      '~click'(e) {\n        if (this._rippleAdded) {\n          // Avoid double event\n          return;\n        }\n        if (e.pointerType || e.detail) return;\n        if (this.disabledState) return;\n        if (this.pressedState || this._keyReleased) return;\n        const lastRipple = this._lastRipple;\n        if (lastRipple) {\n          lastRipple.holdRipple = false;\n        }\n        // Ripple from programmatic click\n        this.addRipple();\n      },\n    })\n    .on({\n      pressedStateChanged(oldValue, pressed) {\n        const ripple = this._lastRipple;\n        if (!pressed) {\n          if (ripple) {\n            ripple.holdRipple = false;\n          }\n          return;\n        }\n        if (!ripple || ripple.hadRippleReleased) {\n          if (this._lastInteraction !== 'key') {\n            // Sometimes pointer events may be out of order\n            return;\n          }\n          // Ripple from pressed state\n          this.addRipple(null, null, true);\n          return;\n        }\n        if (ripple.hadRippleHeld) return;\n        ripple.holdRipple = true;\n      },\n    })\n    .css`\n      :host {\n        --mdw-state__pressed-opacity: 0;\n      }\n      \n      #ripple-container {\n        position: absolute;\n        inset: 0;\n      \n        overflow: hidden;\n      \n        pointer-events: none;\n\n        border-radius: inherit;\n      }\n    `;\n}\n", "import './Icon.js';\nimport CustomElement from '../core/CustomElement.js';\nimport DensityMixin from '../mixins/DensityMixin.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport HyperlinkMixin from '../mixins/HyperlinkMixin.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport RippleMixin from '../mixins/RippleMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/* https://m3.material.io/components/buttons/specs */\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(DensityMixin)\n  .mixin(StateMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .mixin(RippleMixin)\n  .mixin(InputMixin)\n  .mixin(HyperlinkMixin)\n  .define({\n    stateTargetElement() { return this.refs.control; },\n  })\n  .set({\n    stateLayer: true,\n    _allowedTypes: ['button', 'submit', 'reset', 'file'],\n  })\n  .observe({\n    type: {\n      empty: 'button',\n      /**\n       * @param {string} value\n       * @param {*} internalSet\n       */\n      set(value, internalSet) {\n        const enumeratedValue = value?.toLowerCase() ?? 'button';\n        internalSet(\n          this._allowedTypes.includes(enumeratedValue)\n            ? enumeratedValue\n            : 'button',\n        );\n      },\n    },\n    /** Bound to [elevated] specifying whether the element should be elevated */\n    elevated: 'boolean',\n    filled: 'string',\n    outlined: 'boolean',\n    icon: 'string',\n    iconInk: 'string',\n    svg: 'string',\n    viewBox: 'string',\n    svgPath: 'string',\n  })\n  .expressions({\n    /** Internal Expression showing whether the button has an icon */\n    hasIcon({ icon, svg, src, svgPath } = this) {\n      return icon ?? svg ?? src ?? svgPath;\n    },\n    iconVariation({ outlined } = this) {\n      return outlined ? null : 'filled';\n    },\n  })\n  .methods({\n    /** @type {HTMLElement['focus']} */\n    focus(...options) {\n      if (this.href) {\n        this.refs.anchor.focus(...options);\n      } else {\n        this.refs.control.focus(...options);\n      }\n    },\n  })\n  .html`\n    <mdw-icon mdw-if={hasIcon} id=icon ink={iconInk} disabled={disabledState}\n      outlined={outlined} variation={iconVariation} aria-hidden=true svg={svg} src={src}\n      svg-path={svgPath} view-box={viewBox} icon={icon}></mdw-icon>\n    <slot id=slot disabled={disabledState} aria-hidden=true>{_defaultValue}</slot>\n  `\n  .recompose(({ refs: { anchor, control } }) => {\n    control.setAttribute('mdw-if', '{!href}');\n    control.setAttribute('role', 'button');\n    anchor.setAttribute('mdw-if', '{href}');\n    anchor.setAttribute('aria-label', '{_computedAriaLabel}');\n    anchor.setAttribute('aria-labelledby', '{_computedAriaLabelledby}');\n  })\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__full);\n      --mdw-ink: var(--mdw-color__primary);\n\n      --mdw-type__font: var(--mdw-typescale__label-large__font);\n      --mdw-type__letter-spacing: var(--mdw-typescale__label-large__letter-spacing);\n\n      display: inline-flex;\n\n      align-items: center;\n      gap: 0;\n      justify-content: center;\n      vertical-align: middle;\n\n      /* box-sizing: border-box; */\n      min-block-size: 24px;\n      min-inline-size: 24px;\n\n      padding-block: calc(8px + (var(--mdw-density) * 2px));\n      padding-inline: calc(12px + (var(--mdw-density) * 2px));\n\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      user-select: none;\n\n      color: rgb(var(--mdw-ink));\n\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n    }\n\n    :host(:where([elevated],[filled])) {\n      transition: box-shadow 200ms;\n      will-change: box-shadow;\n    }\n\n    /** Elevated Color Defaults */\n    :host(:where([elevated])) {\n      --mdw-bg: var(--mdw-color__surface-container-low);\n      --mdw-ink: var(--mdw-color__primary);\n      box-shadow: var(--mdw-elevation__box-shadow__1);\n    }\n    /** Filled Color Defaults */\n    :host(:where([filled])) {\n      --mdw-bg: var(--mdw-color__primary);\n      --mdw-ink: var(--mdw-color__on-primary);\n      box-shadow: var(--mdw-elevation__box-shadow__0);\n    }\n\n    :host(:where([elevated]:hover:not(:active))) {\n      box-shadow: var(--mdw-elevation__box-shadow__2);\n    }\n\n    :host(:where([filled]:hover:not(:active))) {\n      box-shadow: var(--mdw-elevation__box-shadow__1);\n    }\n\n    :host(:where([elevated]:disabled)) {\n      box-shadow: var(--mdw-elevation__box-shadow__0);\n    }\n\n    :host(:where([filled]:disabled)) {\n      box-shadow: var(--mdw-elevation__box-shadow__0);\n    }\n\n    /** Filled Tonal Color Defaults */\n    :host(:where([filled=\"tonal\"])) {\n      --mdw-bg: var(--mdw-color__secondary-container);\n      --mdw-ink: var(--mdw-color__on-secondary-container);\n    }\n    /** Outlined Color Defaults */\n    :host(:where([outlined])) {\n      --mdw-ink: var(--mdw-color__primary);\n    }\n\n    :host(:where([icon])) {\n      gap: 8px;\n\n      padding-inline: calc(12px + (var(--mdw-density) * 2px)) calc(16px + (var(--mdw-density) * 2px));\n    }\n\n    :host(:where([outlined], [elevated], [filled])) {\n      padding-inline: calc(24px + (var(--mdw-density) * 2px));\n    }\n\n    :host(:where([icon]):where([outlined], [elevated], [filled])) {\n      gap: 8px;\n\n      padding-inline: calc(16px + (var(--mdw-density) * 2px)) calc(24px + (var(--mdw-density) * 2px));\n    }\n\n    :host(:where([elevated],[filled],[color])) {\n      background-color: rgb(var(--mdw-bg));\n    }\n\n    #slot {\n      text-align: center;\n      text-decoration: none;\n      white-space: nowrap;\n    }\n\n    #control {\n      cursor: pointer;\n    }\n\n    #anchor {\n      position: absolute;\n      inset: 0;\n\n      cursor: pointer;\n      outline: none;\n    }\n\n    :host([disabled]) {\n      /* cursor: not-allowed; */\n\n      color: rgba(var(--mdw-color__on-surface), 0.38);\n    }\n\n    :host([disabled]:is([elevated], [filled])) {\n      background-color: rgba(var(--mdw-color__on-surface), 0.12);\n      color: rgba(var(--mdw-color__on-surface), 0.38);\n    }\n\n    #slot[disabled] {\n      color: rgba(var(--mdw-color__on-surface), 0.38);\n    }\n\n    #icon {\n      font-size: calc(18/14 * 1em);\n    }\n\n    #icon[disabled] {\n      opacity: 0.38;\n\n      color: rgba(var(--mdw-color__on-surface));\n    }\n\n    #control[form-disabled] {\n      cursor: not-allowed;\n    }\n\n    @media (any-pointer: coarse) {\n      #touch-target {\n        visibility: inherit;\n      }\n    }\n  `\n  .autoRegister('mdw-button');\n", "import { ELEMENT_STYLE_TYPE } from '../core/customTypes.js';\nimport TooltipTriggerMixin from '../mixins/TooltipTriggerMixin.js';\n\nimport Button from './Button.js';\n\n/* https://m3.material.io/components/icon-buttons/specs */\n\nexport default Button\n  .extend()\n  .mixin(TooltipTriggerMixin)\n  .set({\n    _allowedTypes: ['button', 'submit', 'reset', 'checkbox', 'file'],\n  })\n  .observe({\n    _ariaPressed: {\n      get({ type, checked, indeterminate }) {\n        if (type !== 'checkbox') return null;\n        return indeterminate ? 'mixed' : (checked ? 'true' : 'false');\n      },\n    },\n    _isToggle({ type }) {\n      return type === 'checkbox';\n    },\n    autoTooltip: { empty: true },\n  })\n  .expressions({\n    iconVariation({ checked, outlined, _isToggle }) {\n      if (!checked && (_isToggle || outlined)) return null;\n      return 'filled';\n    },\n  })\n  .childEvents({\n    control: {\n      keydown(event) {\n        if (event.key !== 'Enter' && event.key !== ' ') return;\n        const input = /** @type {HTMLInputElement} */ (event.currentTarget);\n        if (input.type !== 'checkbox') return;\n        event.stopImmediatePropagation();\n        event.stopPropagation();\n        event.preventDefault();\n        if (input.disabled) return;\n\n        input.click();\n      },\n    },\n  })\n  .recompose(({ refs: { icon, control, outline } }) => {\n    icon.removeAttribute('mdw-if');\n\n    control.setAttribute('aria-pressed', '{_ariaPressed}');\n\n    outline.setAttribute('toggle', '{_isToggle}');\n    outline.setAttribute('selected', '{checked}');\n  })\n  .observe({\n    _styles: {\n      ...ELEMENT_STYLE_TYPE,\n      get({ checked, disabled, filled, outlined, _isToggle }) {\n        if (!_isToggle) return null;\n        if (disabled) return null;\n        if (outlined) {\n          if (checked) {\n            return {\n              backgroundColor: 'rgb(var(--mdw-bg))',\n            };\n          }\n          return {\n            color: 'rgb(var(--mdw-color__on-surface-variant))',\n          };\n        }\n        if (checked) return null; // All else uses checked state\n        if (filled == null) return null;\n        return {\n          backgroundColor: 'rgb(var(--mdw-color__surface-container-highest))',\n          color: filled === 'tonal'\n            ? 'rgb(var(--mdw-color__on-surface-variant))'\n            : 'rgb(var(--mdw-bg))',\n        };\n      },\n    },\n  })\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__full);\n      --mdw-ink: rgb(var(--mdw-color__on-surface-variant));\n\n      align-items: center;\n      justify-content: center;\n\n      min-block-size: 1em;\n      min-inline-size: 1em;\n\n      padding: max(8px, calc(8px + (var(--mdw-density) * 2px)));\n\n      font-size: 24px;\n\n      transition-property: background-color, box-shadow;\n    }\n\n    :host(:where([type=\"checkbox\"])) {\n      --mdw-ink: var(--mdw-color__primary);\n    }\n\n    /** Filled | Filled Checked */\n    :host(:where([filled])) {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n    }\n\n    /** Tonal | Tonal Checked */\n    :host(:where([filled=\"tonal\"])) {\n      --mdw-ink: var(--mdw-color__on-secondary-container);\n      --mdw-bg: var(--mdw-color__secondary-container);\n    }\n\n    /** Outlined | Outlined Unchecked */\n    :host(:where([outlined])) {\n      --mdw-ink: var(--mdw-color__on-surface-variant);\n      background-color: transparent;\n    }\n\n    /** Outlined | Outlined Unchecked */\n    :host(:where([outlined][type=\"checkbox\"])) {\n      --mdw-bg: var(--mdw-color__inverse-surface);\n      --mdw-ink: var(--mdw-color__inverse-on-surface);\n    }\n\n    #slot { display: none; }\n\n    #icon {\n      pointer-events: none;\n\n      font-size: inherit;\n\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      transition-property: color, inline-size, width;\n    }\n\n    #state {\n      z-index:1;\n    }\n\n    #ripple-container {\n      z-index:2;\n    }\n\n    #outline[focused] {\n      opacity: 1;\n\n      color: inherit;\n    }\n    \n    #outline[focused][toggle] {\n      color: rgb(var(--mdw-color__outline));\n    }\n\n    #outline[selected]:not([disabled]) {\n      opacity: 0;\n    }\n\n  `\n  .autoRegister('mdw-icon-button');\n", "/* https://m3.material.io/components/progress-indicators/specs */\n\nimport CustomElement from '../core/CustomElement.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n// https://html.spec.whatwg.org/multipage/form-elements.html#the-progress-element\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .observe({\n    circle: 'boolean',\n    value: 'float',\n    max: 'float',\n    autoHide: 'boolean',\n    _determinateStyle: 'string',\n  })\n  .observe({\n    _valueAsFraction: {\n      type: 'float',\n      get({ value, max }) {\n        return (value / (max || 100));\n      },\n      changedCallback(oldValue, newValue) {\n        this._determinateStyle = `\n        --previous:${oldValue ?? newValue ?? 0};\n        --value:${newValue ?? 0};\n      `;\n      },\n    },\n  })\n  .expressions({\n    isDeterminate({ value }) {\n      return value != null;\n    },\n  })\n  .define({\n    position() {\n      return /** @type {HTMLProgressElement} */ (this.refs.progress).position;\n    },\n    labels() {\n      return /** @type {HTMLProgressElement} */ (this.refs.progress).labels;\n    },\n  })\n  .html`\n    <div id=determinate style=\"{_determinateStyle}\">\n      <progress id=progress value={value} max={max} circle={circle}></progress>\n      <div mdw-if={circle} id=circle>\n        <div id=semi1 class=semi></div>\n        <div id=semi2 class=semi></div>\n      </div>\n    </div>\n    <div mdw-if={!isDeterminate} id=indeterminate>\n      <div mdw-if={!circle} id=indeterminate-line>\n        <div id=line1 class=line value={value}></div>\n        <div id=line2 class=line value={value}></div>\n      </div>\n      <div mdw-if={circle} id=indeterminate-circle>\n        <div id=arc2 class=arc></div>\n        <div id=arc3 class=arc></div>\n        <div id=arc4 class=arc></div>\n      </div>\n    </div>\n  `\n  .css`\n    /* Base Styles */\n\n    :host {\n      --mdw-bg: var(--mdw-color__surface-container-highest);\n      --mdw-ink: var(--mdw-color__primary);\n      --mdw-progress__opacity__duration: 500ms;\n      position: relative;\n\n      display: inline-block;\n      overflow: hidden;\n      vertical-align: middle;\n\n      min-block-size: 4px;\n      inline-size: 100%;\n\n      opacity: 1;\n\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n\n      transition: opacity 500ms 275ms;\n    }\n\n    :host([auto-hide]) {\n      will-change: opacity;\n    }\n\n    :host([auto-hide][value=\"100\"]) {\n      opacity:0;\n\n      transition: opacity 1s 1s;\n    }\n\n    #determinate {\n      --previous: 0;\n      --value: 0;\n    }\n\n    #progress {\n      position: absolute;\n      inset: 0;\n\n      box-sizing: border-box;\n      block-size: 100%;\n      inline-size: 100%;\n      border: none; /* FireFox */\n\n      -moz-appearance: none;\n      appearance: none;\n\n      opacity:0;\n      transform: scaleX(var(--value, 0));\n      transform-origin: 0 0;\n\n      background-color: currentColor;\n      color: inherit;\n\n      transition: transform 275ms, opacity var(--mdw-progress__opacity__duration);\n      will-change: transform, opacity;\n    }\n\n    #progress::-webkit-progress-bar {\n      display: none;\n    }\n\n    #progress::-moz-progress-bar  {\n      display: none; /* Doesn't always work */\n\n      block-size: 0;\n    }\n\n    #progress[value] {\n      opacity:1;\n      transform: scaleX(var(--value, 0));\n    }\n  `\n  .css`\n    /* Line Styles */\n\n    /* https://github.com/material-components/material-components-android/blob/ed77ab36ccac98df24e55060d58406c5981a9062/lib/java/com/google/android/material/progressindicator/ */\n\n    :host {\n      --mdw-progress__line1-head__timing: cubic-bezier(0.2, 0.8, 0, 1.0);\n      --mdw-progress__line1-tail__timing: cubic-bezier(0.4, 0.0, 1.0, 1.0);\n      --mdw-progress__line2-head__timing: cubic-bezier(0.0, 0.65, 0, 1.0);\n      --mdw-progress__line2-tail__timing: cubic-bezier(0.1, 0.45, 0, 1.0);\n      --mdw-progress__line__duration: 1800ms;\n    }\n\n    @media (prefers-reduced-motion) {\n      :host {\n        --mdw-progress__line__duration: 18000ms\n      }\n    }\n\n    .line {\n      opacity: 1;\n\n      transition: opacity var(--mdw-progress__opacity__duration);\n      will-change: opacity;\n    }\n\n    .line,\n    .line::after {\n      position: absolute;\n      inset: 0;\n\n      overflow: hidden;\n\n      animation-duration: var(--mdw-progress__line__duration);\n      animation-timing-function: linear;\n      animation-iteration-count: infinite;\n      animation-fill-mode: forwards;\n    }\n\n    .line::after {\n      content: '';\n\n      background-color: currentColor;\n\n      animation: inherit;\n      will-change: transform;\n    }\n\n    #line1 {\n      animation-name: l1h;\n    }\n\n    #line2 {\n      animation-name: l2h;\n    }\n\n    #line1::after {\n      animation-name: l1t;\n    }\n\n    #line2::after {\n      animation-name: l2t;\n    }\n\n    .line[value] {\n      opacity: 0;\n      visibility: hidden;\n\n      transition: opacity var(--mdw-progress__opacity__duration), visibility 1ms var(--mdw-progress__opacity__duration);\n    }\n\n    /**\n      * L1H = 1267 / +533 = 70.39% - 100%\n      * L1T = 1000 / +567 = 55.56% - 87.05%\n      * L2H = 0333 / +850 = 18.50% - 65.72%\n      * L2T = 0000 / +750 = 0% - 41.67%\n      * Total = 1800ms\n      *\n      *    t      l1h    l1t      l2h     l2t\n      * --------------------------------------\n      * 0.0000  0.0000  0.0000  0.0000  0.0000\n      * 0.1850  0.0000  0.0000  0.0000  0.5899\n      * 0.4167  0.0000  0.0000  0.7374  1.0000\n      * 0.5556  0.0000  0.0000  0.9072  1.0000\n      * 0.6572  0.0000  0.1544  1.0000  1.0000\n      * 0.7039  0.0000  0.2939  1.0000  1.0000\n      * 0.8706  0.7918  1.0000  1.0000  1.0000\n      * 1.0000  1.0000  1.0000  1.0000  1.0000\n    */\n\n    @keyframes l1h {\n      0% {\n        transform: translateX(0%);\n      }\n\n      70.4% {\n        transform: translateX(0%);\n\n        animation-timing-function: var(--mdw-progress__line1-head__timing);\n      }\n\n      100% {\n        transform: translateX(100%);\n      }\n    }\n    @keyframes l1t {\n      0% {\n        transform: translateX(-100%);\n      }\n\n      55.6% {\n        transform: translateX(-100%);\n\n        animation-timing-function: var(--mdw-progress__line1-tail__timing);\n      }\n\n      87.1% {\n        transform: translateX(0%);\n      }\n\n      100% {\n        transform: translateX(0%);\n      }\n    }\n    @keyframes l2h {\n      0% {\n        transform: translateX(0%);\n      }\n\n      18.5% {\n        transform: translateX(0%);\n\n        animation-timing-function: var(--mdw-progress__line2-head__timing);\n      }\n\n      65.72% {\n        transform: translateX(100%);\n      }\n\n      to {\n        transform: translateX(100%);\n      }\n    }\n    @keyframes l2t {\n      0% {\n        transform: translateX(-100%);\n\n        animation-timing-function: var(--mdw-progress__line2-tail__timing);\n      }\n\n      41.67% {\n        transform: translateX(0%);\n      }\n\n      to {\n        transform: translateX(0%);\n      }\n    }\n\n  `\n  .css`\n    /* Circle Styles */\n    /* stylelint-disable liberty/use-logical-spec */\n    /** https://github.com/material-components/material-components-android/blob/ed77ab36ccac98df24e55060d58406c5981a9062/lib/java/com/google/android/material/progressindicator/CircularIndeterminateAnimatorDelegate.java */\n\n    :host {\n      --mdw-progress__circle__timing: cubic-bezier(0.4, 0.0, 0.2, 1);\n      --mdw-progress__circle__margin: 4px;\n      --mdw-progress__circle__duration: 5400ms;\n      --mdw-progress__circle__duration__expand: 667ms;\n      --mdw-progress__circle__duration__collapse: 667ms;\n      --mdw-progress__circle__duration__fade-in: 333ms;\n      --mdw-progress__circle__duration__complete-end: 333ms;\n    }\n\n    @media (prefers-reduced-motion) {\n      :host {\n        --mdw-progress__circle__duration: 54000ms;\n      }\n    }\n\n    #circle {\n      --startA: min(0.5, var(--previous));\n      --endA: min(0.5, var(--value));\n      --travelA: max(\n          calc(var(--startA) - var(--endA)),\n          calc(var(--endA) - var(--startA))\n        );\n      --delayA: max(0, calc(var(--previous) - 0.5));\n      --startB: max(0, calc(var(--previous) - 0.5));\n      --endB: max(0, calc(var(--value) - 0.5));\n      --travelB: max(\n          calc(var(--startB) - var(--endB)),\n          calc(var(--endB) - var(--startB))\n        );\n      --delayB: max(0, 0.5 - calc(var(--previous)));\n\n      position: absolute;\n      inset: 0;\n    }\n\n    :host([circle]) {\n      block-size: 48px;\n      inline-size: 48px;\n    }\n\n    :host([circle]:not([color])) {\n      background-color: transparent;\n    }\n\n    #progress[circle] {\n      visibility: hidden;\n    }\n\n    .semi {\n      position: absolute;\n      inset: var(--mdw-progress__circle__margin);\n\n      overflow: hidden;\n\n      box-sizing: border-box;\n    }\n\n    #semi1 {\n      left: 50%;\n    }\n\n    #semi2 {\n      right: 50%;\n    }\n\n    .semi::after {\n      content: \"\";\n\n      position: absolute;\n      inset: 0;\n\n      box-sizing: border-box;\n      border: solid currentcolor 4px;\n\n      transform: rotate(var(--rotation));\n\n      background-color: transparent;\n      border-radius: 50%;\n\n      transition: transform 400ms;\n      transition-timing-function: linear;\n    }\n\n    #semi1::after {\n      --rotation: min(180deg, calc(var(--value) * 360deg));\n      left: -100%;\n\n      clip-path: inset(0 50% 0 0);\n\n      transition-delay: calc(var(--delayA) * var(--mdw-progress__circle__duration__expand));\n      transition-duration: calc(var(--travelA) * var(--mdw-progress__circle__duration__expand));\n    }\n\n    #semi2::after {\n      --rotation: max(0deg, calc(var(--value) * 360deg - 180deg));\n      right: -100%;\n\n      clip-path: inset(0 0 0 50%);\n\n      transition-delay: calc(var(--delayB) * var(--mdw-progress__circle__duration__expand));\n      transition-duration: calc(var(--travelB) * var(--mdw-progress__circle__duration__expand));\n    }\n\n    #indeterminate-circle {\n      position: absolute;\n      inset: 0;\n\n      display: block;\n\n      animation: rotate-cw calc(var(--mdw-progress__circle__duration) / 4) linear infinite;\n    }\n\n    .arc {\n      position: absolute;\n      inset: var(--mdw-progress__circle__margin);\n\n      overflow: hidden;\n\n      box-sizing: border-box;\n\n      animation: rotate-jump var(--mdw-progress__circle__duration) steps(1,end) infinite;\n    }\n\n    .arc::after {\n      content: \"\";\n\n      position: absolute;\n      inset: 0;\n\n      box-sizing: border-box;\n      border: solid currentcolor 4px;\n\n      background-color: transparent;\n      border-radius: 50%;\n\n      animation: grow-shrink calc(var(--mdw-progress__circle__duration) / 4) var(--mdw-progress__circle__timing) infinite;\n    }\n\n    #arc2 {\n      bottom: 50%;\n      left: 50%;\n\n      transform-origin: 0 100%;\n    }\n\n    #arc3 {\n      top: 50%;\n      right: 50%;\n\n      transform-origin: 100% 0;\n    }\n\n    #arc4 {\n      top: 50%;\n      left: 50%;\n\n      transform-origin: 0 0;\n    }\n\n    #arc2:after {\n      bottom: -100%;\n      left: -100%;\n\n      clip-path: polygon(0% 0%, 50% 0%, 50% 50%, 100% 50%, 100% 100%, 0% 100%);\n    }\n\n    #arc3:after {\n      top: -100%;\n      right: -100%;\n\n      clip-path: inset(0 50% 50% 0);\n    }\n\n    #arc4:after {\n      top: -100%;\n      left: -100%;\n\n      clip-path: inset(0 50% 0 0);\n    }\n\n    @keyframes rotate-cw {\n      from {\n        transform: rotate(0deg);\n      }\n\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    @keyframes rotate-jump {\n      0% { transform: scaleX(1) rotate(0deg); }\n\n      12.5% { transform: scaleX(-1) rotate(-270deg); }\n\n      25% { transform: scaleX(1) rotate(270deg); }\n\n      37.5% {transform: scaleX(-1) rotate(-180deg);}\n\n      50% { transform: scaleX(1) rotate(180deg); }\n\n      62.5% { transform: scaleX(-1) rotate(-90deg); }\n\n      75% { transform: scaleX(1) rotate(90deg); }\n\n      87.5% { transform: scaleX(-1) rotate(0deg); }\n\n      to { transform: scaleX(1) rotate(0deg); }\n    }\n\n    @keyframes grow-shrink {\n      from {\n        transform: rotate(calc(0.01 * 360deg));\n      }\n\n      50% {\n        transform: rotate(calc(0.73 * 360deg));\n      }\n\n      to {\n        transform: rotate(calc(0.01 * 360deg));\n      }\n    }\n  `\n  .autoRegister('mdw-progress');\n", "/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function ShapeMaskedMixin(Base) {\n  return Base\n    .observe({\n      shapeTop: 'boolean',\n      shapeBottom: 'boolean',\n      shapeStart: 'boolean',\n      shapeEnd: 'boolean',\n      shapeStyle: 'string',\n    })\n    .css`\n    :host {\n      --mdw-shape__size: 0px;\n      --mdw-shape__ltr: calc(0.5 * var(--mdw-dir, 1) + 0.5); /* 1 if LTR, 0 if RTL */\n      --mdw-shape__rtl: calc(-0.5 * var(--mdw-dir, 1) + 0.5); /* 0 if LTR, 1 if RTL */\n      --mdw-shape__mask: none;\n\n      /** By default, fallback to border-radius */\n      --mdw-shape__rounded: 1;\n      --mdw-shape__inline-start-deg: calc(var(--mdw-dir, 1) * -90deg);\n\n      --mdw-shape__size__top-start-size: var(--mdw-shape__size);\n      --mdw-shape__size__top-end-size: var(--mdw-shape__size);\n      --mdw-shape__size__bottom-start-size: var(--mdw-shape__size);\n      --mdw-shape__size__bottom-end-size: var(--mdw-shape__size);\n      /* (1/2n + 1/2)L + (-1/2n + 1/2)R  */\n      \n      --mdw-shape__size__top-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__top-end-size)));\n      --mdw-shape__size__top-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__top-end-size)));\n      --mdw-shape__size__bottom-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-end-size)));\n      --mdw-shape__size__bottom-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-end-size)));\n\n      border-start-start-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__top-start-size));\n      border-start-end-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__top-end-size));\n      border-end-start-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__bottom-start-size));\n      border-end-end-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__bottom-end-size));\n    }\n\n    :host([shape-style=\"none\"]) {\n      --mdw-shape__size: 0px;\n    }\n    \n    :host([shape-style=\"extra-small\"]) {\n      --mdw-shape__size: var(--mdw-shape__extra-small);\n    }\n    \n    :host([shape-style=\"small\"]) {\n      --mdw-shape__size: var(--mdw-shape__small);\n    }\n    \n    :host([shape-style=\"medium\"]) {\n      --mdw-shape__size: var(--mdw-shape__medium);\n    }\n    \n    :host([shape-style=\"large\"]) {\n      --mdw-shape__size: var(--mdw-shape__large);\n    }\n    \n    :host([shape-style=\"extra-large\"]) {\n      --mdw-shape__size: var(--mdw-shape__extra-large);\n    }\n    \n    :host([shape-style=\"full\"]) {\n      --mdw-shape__size: var(--mdw-shape__full);\n    }\n    \n    :host([shape-style=\"inherit\"]) {\n      --mdw-shape__size: inherit;\n    }\n    \n    :host([shape-top]) {\n      --mdw-shape__size__bottom-start-size: 0px;\n      --mdw-shape__size__bottom-end-size: 0px;\n      --mdw-shape__mask: linear-gradient(transparent 50%, black 50%);\n    }\n    \n    :host([shape-bottom]) {\n      --mdw-shape__size__top-start-size: 0px;\n      --mdw-shape__size__top-end-size: 0px;\n      --mdw-shape__mask: linear-gradient(black 50%, transparent 50%);\n    }\n    \n    :host([shape-start]) {\n      --mdw-shape__size__top-end-size: 0px;\n      --mdw-shape__size__bottom-end-size: 0px;\n      --mdw-shape__mask: linear-gradient(var(--mdw-shape__inline-start-deg), black 50%, transparent 50%);\n    }\n    \n    :host([shape-end]) {\n      --mdw-shape__size__top-start-size: 0px;\n      --mdw-shape__size__bottom-start-size: 0px;\n      --mdw-shape__mask: linear-gradient(var(--mdw-shape__inline-start-deg), transparent 50%, black 50%);\n    }\n\n    @supports(-webkit-mask-box-image: none) {\n      :host {\n        /* Inherit all the way up to :root */\n        --mdw-shape__rounded: inherit;\n      }\n    }\n\n    @supports(-webkit-mask-box-image: none) {\n      :host {\n        -webkit-mask-box-image: var(--mdw-shape__mask-border-source)\n          8 fill /\n          var(--mdw-shape__size)\n          stretch;\n\n        -webkit-mask: var(--mdw-shape__mask);\n\n        transition-duration: 200ms;\n        transition-property: -webkit-mask-box-image-width;\n        will-change: -webkit-mask-box-image;\n      }\n    }\n  `;\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ShapeMaskedMixin from '../mixins/ShapeMaskedMixin.js';\n\nexport default CustomElement\n  .extend()\n  .mixin(ShapeMaskedMixin)\n  .html`<slot id=slot></slot>`\n  .autoRegister('mdw-shape');\n", "/**\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function FlexableMixin(Base) {\n  return Base\n    .observe({\n      block: 'boolean',\n      inline: 'boolean',\n      row: 'boolean',\n      x: {\n        type: 'string',\n        empty: 'start',\n        /** @type {'start'|'center'|'end'|'between'|'around'|'stretch'|'baseline'} */\n        value: 'start',\n      },\n      y: {\n        type: 'string',\n        empty: 'start',\n        /** @type {'start'|'center'|'end'|'between'|'around'|'stretch'|'baseline'} */\n        value: 'start',\n      },\n      gap: 'float',\n      padding: 'string',\n    })\n    .css`\n      /* https://css-tricks.com/snippets/css/a-guide-to-flexbox/ */\n\n      :host{\n        display: flex;\n        flex-direction: column;\n\n        box-sizing: border-box;\n\n      }\n\n      :host(:is([inline])) {\n        display: inline-flex;\n      }\n\n      :host(:is([block])) {\n        display: block;\n      }\n      \n      \n      :host(:is([inline][block])) {\n        display: inline-block;\n      }\n\n      :host(:is([row])) {\n        flex-direction: row;\n      }\n\n      :host(:is([row][y=\"start\"], [x=\"start\"]:not([row]))) {\n        align-items: flex-start;\n      }\n\n      :host(:is([row][y=\"end\"], [x=\"end\"]:not([row]))) {\n        align-items: flex-end;\n      }\n\n      :host(:is([row][y=\"center\"], [x=\"center\"]:not([row]))) {\n        align-items: center;\n      }\n\n      :host(:is([row][y=\"between\"], [x=\"between\"]:not([row]))) {\n        align-items: space-between;\n      }\n\n      :host(:is([row][y=\"around\"], [x=\"around\"]:not([row]))) {\n        align-items: space-around;\n      }\n\n      :host(:is([row][y=\"baseline\"], [x=\"baseline\"]:not([row]))) {\n        align-items: baseline;\n      }\n\n      :host(:is([row][y=\"stretch\"], [x=\"stretch\"]:not([row]))) {\n        align-items: stretch;\n      }\n\n      :host(:is([row][x=\"start\"], [y=\"start\"]:not([row]))) {\n        justify-content: flex-start;\n      }\n\n      :host(:is([row][x=\"end\"], [y=\"end\"]:not([row]))) {\n        justify-content: flex-end;\n      }\n\n      :host(:is([row][x=\"center\"], [y=\"center\"]:not([row]))) {\n        justify-content: center;\n      }\n\n      :host(:is([row][x=\"between\"], [y=\"between\"]:not([row]))) {\n        justify-content: space-between;\n      }\n\n      :host(:is([row][x=\"stretch\"], [y=\"stretch\"]:not([row]))) {\n        justify-content: stretch;\n      }\n\n      :host(:is([wrap])) {\n        flex-wrap: wrap;\n      }\n\n      :host(:is([wrap=\"reverse\"])) {\n        flex-wrap: wrap-reverse;\n      }\n\n      :host(:is([gap])) {gap: 0;}\n      :host(:is([gap=\"4\"])) {gap: 4px;}\n      :host(:is([gap=\"8\"])) {gap: 8px;}\n      :host(:is([gap=\"12\"])) {gap: 12px;}\n      :host(:is([gap=\"16\"])) {gap: 16px;}\n      :host(:is([gap=\"20\"])) {gap: 20px;}\n      :host(:is([gap=\"24\"])) {gap: 24px;}\n\n      :host(:is([padding])) {padding: 0;}\n      :host(:is([padding=\"pane\"])) { padding-inline: var(--mdw-pane__padding-inline, 0) }\n      :host(:is([padding=\"4\"])) {padding: 4px;}\n      :host(:is([padding=\"8\"])) {padding: 8px;}\n      :host(:is([padding=\"12\"])) {padding: 12px;}\n      :host(:is([padding=\"16\"])) {padding: 16px;}\n      :host(:is([padding=\"20\"])) {padding: 20px;}\n      :host(:is([padding=\"24\"])) {padding: 24px;}\n      :host(:is([padding-x])) {padding-inline: 0;}\n      :host(:is([padding-x=\"4\"])) {padding-inline: 4px;}\n      :host(:is([padding-x=\"8\"])) {padding-inline: 8px;}\n      :host(:is([padding-x=\"12\"])) {padding-inline: 12px;}\n      :host(:is([padding-x=\"16\"])) {padding-inline: 16px;}\n      :host(:is([padding-x=\"20\"])) {padding-inline: 20px;}\n      :host(:is([padding-x=\"24\"])) {padding-inline: 24px;}\n      :host(:is([padding-y])) {padding-block: 0;}\n      :host(:is([padding-y=\"4\"])) {padding-block: 4px;}\n      :host(:is([padding-y=\"8\"])) {padding-block: 8px;}\n      :host(:is([padding-y=\"12\"])) {padding-block: 12px;}\n      :host(:is([padding-y=\"16\"])) {padding-block: 16px;}\n      :host(:is([padding-y=\"20\"])) {padding-block: 20px;}\n      :host(:is([padding-y=\"24\"])) {padding-block: 24px;}\n\n      \n    `;\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport FlexableMixin from '../mixins/FlexableMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(FlexableMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .html`<slot id=slot></slot>`\n  .css`\n    :host {\n      --mdw-bg: var(--mdw-color__surface);\n      --mdw-ink: var(--mdw-color__on-surface);\n      position: relative;\n\n      filter: var(--mdw-elevation__drop-shadow__0);\n    \n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n    \n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n\n      transition: filter 200ms;\n    }\n\n    :host(:where([elevation=\"1\"])) { filter: var(--mdw-elevation__drop-shadow__1); }\n    :host(:where([elevation=\"2\"])) { filter: var(--mdw-elevation__drop-shadow__2); }\n    :host(:where([elevation=\"3\"])) { filter: var(--mdw-elevation__drop-shadow__3); }\n    :host(:where([elevation=\"4\"])) { filter: var(--mdw-elevation__drop-shadow__4); }\n    :host(:where([elevation=\"5\"])) { filter: var(--mdw-elevation__drop-shadow__5); }\n  `\n  .autoRegister('mdw-surface');\n", "import CustomElement from '../core/CustomElement.js';\nimport FlexableMixin from '../mixins/FlexableMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Boxes are stateless elements that may have a color and ink.\n * They should have simple geometry for rendering and layout.\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(FlexableMixin)\n  .html`<slot id=slot></slot>`\n  .css`\n    :host(:where([color])) {\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n    }\n\n    :host(:is([color=\"none\"],[color=\"transparent\"])) {\n      background-color: transparent;\n      color: inherit;\n    }\n    \n    :host([ink]) {\n      color: rgb(var(--mdw-ink));\n    }\n    \n    :host([type-style]) {\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n    }\n\n    #slot::slotted([flex-0]) {\n      flex: 0;\n    }\n\n    #slot::slotted([flex-1]) {\n      flex: 1;\n    }\n\n    #slot::slotted([flex-none]) {\n      flex: none;\n    }\n  `\n  .autoRegister('mdw-box');\n", "import './Icon.js';\nimport CustomElement from '../core/CustomElement.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(ShapeMixin)\n  .observe({\n    selected: 'boolean',\n    icon: 'string',\n    errored: 'boolean',\n    disabled: 'boolean',\n  })\n  .define({\n    /** Alias for Selected (QoL) */\n    checked: {\n      get() { return this.selected; },\n      set(value) { this.selected = value; },\n    },\n  })\n  .css`\n    /* https://m3.material.io/components/checkbox/specs */\n\n    :host {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n      --mdw-shape__size: 2px;\n      --disabled-opacity: 0.38;\n      position: relative;\n\n      display: inline-block;\n      align-items: center;\n      justify-content: center;\n\n      box-sizing: border-box;\n      block-size: 18px;\n      inline-size: 18px;\n\n      font-size: 18px;\n      line-height: 18px;\n    }\n\n    #icon {\n      position: absolute;\n      inset: 0;\n\n      opacity: 0;\n\n      background-color: rgb(var(--mdw-bg));\n      border-radius: inherit;\n      color: rgb(var(--mdw-ink));\n\n      transition-duration: 200ms;\n      transition-property: opacity, background-color, color;\n      will-change: opacity;\n    }\n\n    #outline {\n      border-width: 2px;\n\n      color: rgb(var(--mdw-color__on-surface));\n\n      transition-duration: 200ms;\n      transition-property: opacity, background-color, color;\n      will-change: opacity;\n    }\n\n    /* Selected */\n\n    #icon[selected] {\n      opacity: 1;\n    }\n\n    #outline[selected] {\n      opacity: 0;\n    }\n\n    /* Errored */\n\n    #icon[errored] {\n      background-color: rgb(var(--mdw-color__error));\n      color: rgb(var(--mdw-color__on-error));\n    }\n\n    #outline[errored] {\n      color: rgb(var(--mdw-color__error));\n    }\n\n    /* Disabled */\n\n    #icon[disabled] {\n      background-color: rgba(var(--mdw-color__on-surface), var(--disabled-opacity));\n      color: rgb(var(--mdw-color__surface), var(--disabled-opacity));\n    }\n\n    #outline[disabled] {\n      color: rgb(var(--mdw-color__on-surface), var(--disabled-opacity));\n    }\n  `\n  .html`\n    <mdw-icon id=icon selected={selected} errored={errored} disabled={disabled} icon={icon}></mdw-icon>\n  `\n  .recompose(({ refs: { outline } }) => {\n    outline.removeAttribute('mdw-if');\n    outline.setAttribute('selected', '{selected}');\n    outline.setAttribute('errored', '{errored}');\n    outline.setAttribute('disabled', '{disabled}');\n  })\n  .autoRegister('mdw-checkbox-icon');\n", "/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function TouchTargetMixin(Base) {\n  return Base\n    .html`<div id=touch-target class=touch-target></div>`\n    .css`\n        /* stylelint-disable liberty/use-logical-spec */\n      .touch-target {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        /* --mdw-device-pixel-ratio: 1; */\n      \n        block-size: 100%;\n        min-block-size: 48px;\n        /* min-block-size: 10mm; */\n        /* min-block-size: calc(0.393701in / var(--mdw-device-pixel-ratio, 1)); */\n        inline-size:100%;\n        min-inline-size: 48px;\n        /* min-inline-size: 10mm; */\n        /* min-inline-size: calc(0.393701in / var(--mdw-device-pixel-ratio, 1)); */\n      \n        cursor: inherit;\n      \n        /* box-sizing: border-box; */\n        /* border: solid 1px magenta; */\n        pointer-events: auto;\n      \n        transform: translateX(-50%) translateY(-50%);\n        visibility: inherit;\n        z-index: 1;\n      \n        border-radius: inherit;\n      }\n    `;\n}\n", "import './CheckboxIcon.js';\n\nimport CustomElement from '../core/CustomElement.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport RippleMixin from '../mixins/RippleMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\nimport TouchTargetMixin from '../mixins/TouchTargetMixin.js';\n\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(StateMixin)\n  .mixin(RippleMixin)\n  .mixin(InputMixin)\n  .mixin(TouchTargetMixin)\n  .set({\n    stateLayer: true,\n    type: 'checkbox',\n  })\n  .observe({\n    icon: { value: 'check' },\n    indeterminateIcon: { value: 'check_indeterminate_small' },\n  })\n  .expressions({\n    _determinateIcon({ indeterminate, indeterminateIcon, icon }) {\n      return (indeterminate ? indeterminateIcon : icon);\n    },\n    _iconSelectedState({ checked, indeterminate }) {\n      return checked || indeterminate;\n    },\n  })\n  .html`\n    <div id=checkbox errored={erroredState} selected={checked}>\n      <mdw-checkbox-icon id=icon errored={erroredState} disabled={disabledState}\n        icon={_determinateIcon} selected={_iconSelectedState}>\n      </mdw-checkbox-icon>\n    </div>\n    <slot id=slot></slot>\n  `\n  .recompose(({ refs: { checkbox, state, rippleContainer } }) => {\n    checkbox.append(state, rippleContainer);\n  })\n  .css`\n    /* https://m3.material.io/components/checkbox/specs */\n\n    :host {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n\n      display: inline-grid;\n      align-items: baseline;\n      gap: 12px;\n      grid-auto-flow: column;\n      justify-content: flex-start;\n\n      cursor: pointer;\n\n      transition: none 100ms cubic-bezier(0.4, 0.0, 1, 1);\n    }\n\n    :host(:disabled) {\n      cursor: not-allowed;\n\n      opacity: 0.38;\n    }\n\n    :host([internals-disabled]) {\n      cursor: not-allowed;\n\n      opacity: 0.38;\n    }\n\n    :host(:empty) {\n      vertical-align: -11.5%;\n\n      line-height: 18px;\n    }\n\n    #control {\n      grid-column: 1/1;\n\n      cursor: inherit;\n    }\n\n    #state,\n    #ripple-container {\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      top: 50%;\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      left: 50%;\n\n      block-size: 40px;\n      inline-size: 40px;\n\n      transform: translateX(-50%) translateY(-50%);\n\n      border-radius: 50%;\n    }\n\n    #checkbox {\n      position: relative;\n\n      display: inline-flex;\n\n      grid-column: 1 / 1;\n\n      pointer-events: none;\n\n      transform: translateY(11.5%);\n\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #checkbox[selected] {\n      color: rgb(var(--mdw-bg));\n    }\n\n    #checkbox[disabled] {\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #checkbox[errored] {\n      color: rgb(var(--mdw-color__error));\n    }\n\n    :host(:empty) #checkbox {\n      transform: none;\n    }\n\n    #icon {\n      --mdw-ink: inherit;\n      --mdw-bg: inherit;\n      --disabled-opacity: 1;\n    }\n  `\n  .autoRegister('mdw-checkbox');\n", "import { EVENT_HANDLER_TYPE } from '../core/customTypes.js';\nimport AriaReflectorMixin from '../mixins/AriaReflectorMixin.js';\nimport DelegatesFocusMixin from '../mixins/DelegatesFocusMixin.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport FormAssociatedMixin from '../mixins/FormAssociatedMixin.js';\nimport HyperlinkMixin from '../mixins/HyperlinkMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\n\nimport Box from './Box.js';\n\n/* https://m3.material.io/components/cards/specs */\n\nconst SUPPORTS_INERT = 'inert' in HTMLElement.prototype;\n\nexport default Box\n  .extend()\n  .mixin(StateMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .mixin(FormAssociatedMixin) // Tap into FormAssociated for disabledState\n  .mixin(AriaReflectorMixin)\n  .mixin(DelegatesFocusMixin)\n  .mixin(HyperlinkMixin)\n  .set({\n    _ariaRole: 'figure',\n  })\n  .observe({\n    elevated: 'boolean',\n    filled: 'boolean',\n    actionable: 'boolean',\n    actionLabel: 'string',\n    onaction: EVENT_HANDLER_TYPE,\n  })\n  .define({\n    stateTargetElement() { return this.actionable ? this.refs.action : this; },\n  })\n  .expressions({\n    showBlocker: ({ disabledState, disabled }) => disabledState && (!disabled || !SUPPORTS_INERT),\n    showButton: ({ actionable, href }) => Boolean(actionable || href),\n  })\n  .methods({\n    focus() {\n      if (this.disabledState) return;\n      if (this.actionable) this.refs.action.focus();\n    },\n  })\n  .html`\n    <mdw-button mdw-if={showButton} aria-label={actionLabel} href={href}\n      target={target}\n      download={download}\n      ping={ping}\n      rel={rel}\n      hreflang={hreflang}\n      referrerpolicy={referrerPolicy} id=action disabled={disabledState}></mdw-button>\n    <div mdw-if={showBlocker} id=inert-blocker></div>\n  `\n  .recompose(({ refs: { anchor, inertBlocker, slot } }) => {\n    anchor.remove();\n    slot.setAttribute('disabled', '{disabledState}');\n    inertBlocker.before(slot);\n  })\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__medium);\n\n      /* padding-inline: 12px; */\n\n      --mdw-bg: var(--mdw-color__surface);\n      --mdw-ink: var(--mdw-color__on-surface);\n      position: relative;\n\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n\n      transition: filter 200ms;\n      will-change: filter;\n    }\n\n    :host(:where([elevated],[filled],[outlined])) {\n      background-color: rgb(var(--mdw-bg));\n    }\n\n    :host(:where([elevated])) {\n      --mdw-bg: var(--mdw-color__surface-container-low);\n      --mdw-ink: var(--mdw-color__on-surface);\n      filter: var(--mdw-elevation__drop-shadow__1);\n    }\n\n    :host(:where([filled])) {\n      --mdw-bg: var(--mdw-color__surface-container-highest);\n      --mdw-ink: var(--mdw-color__on-surface-variant);\n    }\n\n    :host(:where([filled][actionable])) {\n      filter: var(--mdw-elevation__drop-shadow__0);\n    }\n\n    :host(:where([elevated][actionable]:hover:not(:active))) {\n      filter: var(--mdw-elevation__drop-shadow__2);\n    }\n\n    :host(:where([filled][actionable]:hover:not(:active))) {\n      filter: var(--mdw-elevation__drop-shadow__1);\n    }\n\n    :host([disabled]) {\n      cursor: not-allowed;\n\n      filter: grayscale();\n      opacity: 0.38;\n\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #slot[disabled] {\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #outline[disabled] {\n      color: rgba(var(--mdw-color__on-surface), calc(0.12/0.38));\n    }\n\n    /** Firefox and Safari do not support [inert] */\n\n    #inert-blocker {\n      position: absolute;\n      inset: 0;\n\n      cursor: not-allowed;\n      pointer-events: auto;\n\n      z-index: 99;\n    }\n\n    :host([disabled][elevated]) {\n      background-color: rgba(var(--mdw-color__surface-container-highest));\n    }\n\n    :host([disabled][filled]) {\n      background-color: rgba(var(--mdw-color__surface));\n    }\n\n    #action {\n      --mdw-ink: inherit;\n      --mdw-shape__size: inherit;\n\n      position: absolute;\n      inset: 0;\n\n      padding: 0;\n\n      z-index: 0;\n\n      color: inherit\n    }\n  `\n  .recompose(({ refs: { slot, outline } }) => {\n    outline.removeAttribute('pressed');\n    outline.removeAttribute('focused');\n\n    slot.setAttribute('inert', '{disabledState}');\n    slot.setAttribute('disabled', '{disabledState}');\n  })\n  .childEvents({\n    action: {\n      click() {\n        if (this.disabledState) return;\n        this.dispatchEvent(new Event('action'));\n      },\n    },\n    slot: SUPPORTS_INERT ? {} : {\n      focusin() {\n        if (this.disabledState) {\n          console.warn('Inert not supported. Element should be able to receive focus');\n        }\n      },\n    },\n  })\n  .autoRegister('mdw-card');\n", "import DelegatesFocusMixin from './DelegatesFocusMixin.js';\n\n/**\n * @param {string} input\n * @return {string}\n */\nfunction parseSize(input) {\n  if (!input) return '';\n  if (input.includes('px')) return input;\n  if (input.includes('em')) return input;\n  if (input.includes('ex')) return input;\n  return `calc(${input.replace('sp', '')} * 0.0625rem)`;\n}\n\n/** @param {typeof import('../core/CustomElement.js').default} Base */\nexport default function TypographyMixin(Base) {\n  return Base\n    .mixin(DelegatesFocusMixin)\n    .observe({\n      textPadding: 'string',\n      textPaddingTop: 'string',\n      textLeading: 'string',\n      textPaddingBottom: 'string',\n    })\n    .observe({\n      _computedTextPaddingTop({ textPaddingTop, textPadding }) {\n        return parseSize(textPaddingTop ?? textPadding);\n      },\n      _computedTextPaddingBottom({ textPaddingBottom, textPadding }) {\n        return parseSize(textPaddingBottom ?? textPadding);\n      },\n      _computedTextLeading({ textLeading }) {\n        return parseSize(textLeading);\n      },\n    })\n    .observe({\n      _beforeStyle({ _computedTextPaddingTop, _computedTextLeading }) {\n        if (_computedTextLeading) {\n          return `margin-top:${_computedTextLeading}`;\n        }\n        if (_computedTextPaddingTop) {\n          return `margin-top:${_computedTextPaddingTop}`;\n        }\n        return '';\n      },\n      _afterStyle({ _computedTextPaddingBottom }) {\n        if (_computedTextPaddingBottom) {\n          return `vertical-align:calc(-1em + (-1 * ${_computedTextPaddingBottom}));`;\n        }\n        return '';\n      },\n    })\n    .html`\n      <div id=wrapper style={_wrapperStyle} before={!!_beforeStyle} after={!!_afterStyle}\n        ><span id=before mdw-if={!!_beforeStyle} style={_beforeStyle} text-leading={textLeading}></span\n        ><span id=content before={!!_beforeStyle} after={!!_afterStyle}><span id=after mdw-if={!!_afterStyle} style={_afterStyle}></span></span\n      ></div>\n      `\n    .recompose(({ refs: { content, slot } }) => {\n      content.prepend(slot);\n    })\n    .css`\n      :host {\n        display: block;\n      }\n\n      :host(:where([text-padding],[text-padding-top],[text-padding-bottom])) {\n        display: flex;\n      }\n\n      #wrapper {\n        display: contents;\n\n      }\n      \n      #wrapper:where([before], [after]) {\n        display: flex;\n        align-items: baseline; /* Allows growing element upwards without affecting text selection */\n\n      }\n\n      #wrapper[before] {\n        margin-block-start: -1em;\n      }\n\n      #wrapper[after] {\n        margin-block-end: -1em;\n      }\n\n      #before {\n        display: inline-block;\n\n        block-size: 1.4ex; /* Estimate */\n        padding-block-start: 1em; /* Padding to be cropped by wrapper */\n      }\n      @supports(height:1cap) {\n        #before {\n          block-size: 1cap;\n        }\n      }\n\n      #before[text-leading] {\n        block-size: 0;\n      }\n\n      #content {\n        display: contents;\n      }\n      \n      #content:where([before], [after]) {\n        display: block;\n      }\n\n      #after {\n        display: inline-block;\n\n        padding-block-end: 1em; /* Padding to be cropped by wrapper */\n      }\n\n    `;\n}\n", "import TypographyMixin from '../mixins/TypographyMixin.js';\n\nimport Box from './Box.js';\n\nexport default Box\n  .extend()\n  .mixin(TypographyMixin)\n  .css`\n    :host {\n      font: var(--mdw-typescale__label-large__font);\n      letter-spacing: var(--mdw-typescale__body-large__letter-spacing);\n    }\n    \n    :host([size=\"medium\"]) {\n      font: var(--mdw-typescale__label-medium__font);\n      letter-spacing: var(--mdw-typescale__body-medium__letter-spacing);\n    }\n    \n    :host([size=\"small\"]) {\n      font: var(--mdw-typescale__label-small__font);\n      letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n    }\n  `\n  .autoRegister('mdw-label');\n", "import '../../components/Input.js';\nimport '../../components/Slider.js';\nimport '../../components/Divider.js';\nimport '../../components/IconButton.js';\nimport '../../components/Progress.js';\nimport '../../components/Shape.js';\nimport '../../components/Surface.js';\nimport '../../components/Box.js';\nimport '../../components/Checkbox.js';\n\nimport Card from '../../components/Card.js';\nimport '../../components/Label.js';\nimport { buildMergePatch } from '../../core/jsonMergePatch.js';\nimport { addSVGAlias } from '../../services/svgAlias.js';\n\nconst SAMPLE_DATA = {\n  id: 1,\n  title: 'iPhone 9',\n  description: 'An apple mobile which is nothing like apple',\n  price: 549,\n  discountPercentage: 12.96,\n  rating: 4.69,\n  stock: 94,\n  brand: 'Apple',\n  category: 'smartphones',\n  thumbnail: 'https://i.dummyjson.com/data/products/1/thumbnail.jpg',\n  images: ['https://i.dummyjson.com/data/products/1/1.jpg',\n    'https://i.dummyjson.com/data/products/1/2.jpg',\n    'https://i.dummyjson.com/data/products/1/3.jpg',\n    'https://i.dummyjson.com/data/products/1/4.jpg',\n    'https://i.dummyjson.com/data/products/1/thumbnail.jpg'],\n};\n\n/**\n * @param {number} min\n * @param {number} max\n * @return {Promise<void>}\n */\nfunction asyncStall(min = 0, max = 4000) {\n  return new Promise((resolve) => setTimeout(resolve, (Math.random() * (max - min)) + min));\n}\n\nexport default Card\n  .extend()\n  // .setSchema(/** @type {SAMPLE_DATA} */ (null))\n  .observe({\n    title: 'string',\n    productId: {\n      type: 'integer',\n      empty: 1,\n    },\n    busy: {\n      type: 'boolean',\n      reflect: false,\n      empty: true,\n    },\n    lastObject: 'object',\n  })\n  .set({\n    /** @type {number} */\n    lastFetchedId: null,\n    /** @type {AbortController} */\n    fetchAbortController: null,\n    outlined: true,\n  })\n  .css`\n    :host {\n      /* Time until busy styles show */\n      --busy-delay: 500ms;\n    }\n\n    #overlay {\n      position: absolute;\n      inset: 0;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      opacity: 0;\n      visibility: hidden;\n      z-index:5;\n\n      transition-duration: 200ms;\n      transition-property: visibility, opacity;\n    }\n\n    #overlay[busy] {\n      pointer-events: auto;\n      \n      opacity: 1;\n      visibility: inherit;\n\n      transition-delay: var(--busy-delay);\n    }\n\n    #content {\n      transition: filter 200ms;\n    }\n\n    #content[busy] {\n      filter: blur(2px) grayscale(1);\n\n      transition-delay: var(--busy-delay);\n    }\n\n    #form {\n      position: relative;\n\n      overflow: hidden;\n    }\n\n    #thumbnail-shape {\n      overflow: hidden;\n\n      block-size: 128px;\n      min-block-size: 128px;\n      inline-size: 128px;\n      min-inline-size: 128px;\n    }\n\n    #thumbnail {\n      block-size: 100%;\n      inline-size: 100%;\n\n      object-fit: cover;\n    }\n    fieldset{ display: contents;}\n\n    #images {\n      display: grid;\n      align-items: center;\n      column-gap: 24px;\n      grid-auto-flow: column;\n      grid-template-rows: minmax(auto, 200px);\n      justify-items: center;\n      overflow-x: auto;\n      scroll-behavior: smooth;\n      scroll-snap-type: x mandatory;\n      scrollbar-width: none;\n\n      flex-grow: 1;\n      padding-inline: 24px;\n      -webkit-scroll-snap-type-x: mandatory;\n      scroll-snap-type-x: mandatory;\n      -webkit-scroll-snap-points-x: repeat(100%);\n      scroll-snap-points-x: repeat(100%);\n      overscroll-behavior-x: none;\n    }\n\n    .image {\n      scroll-snap-align: center;\n\n      max-block-size: 100%;\n\n      object-fit: contain;\n    }\n  `.html`\n    <form id=form>\n      <div id=overlay busy={busy}>\n        <mdw-progress circle></mdw-progress>\n      </div>\n      <div id=content busy={busy}>\n        <fieldset disabled={busy}>\n          <mdw-box row y=center gap=16 padding=16>\n            <mdw-surface id=thumbnail-shape outlined shape-style=full>\n              <img id=thumbnail src={thumbnail} />\n            </mdw-surface>\n            <div>\n              <mdw-title>{title}</mdw-title>\n              <mdw-label ink=primary size=small>{brand}</mdw-label>\n              <mdw-title size=small>{description}</mdw-title>\n            </div>\n          </mdw-box>\n          <mdw-divider></mdw-divider>\n          <mdw-box gap=16 padding=16>\n            <mdw-input outlined type=number name=price value={price} label=Price input-prefix=$ step=0.01></mdw-input>\n            <mdw-input outlined type=number name=discountPercentage value={discountPercentage} input-suffix=% label=Discount step=0.01></mdw-input>\n            <mdw-slider name=rating value={rating} min=0 max=5 step=0.1 ticks=4></mdw-slider>\n            <mdw-box row y=center gap=8>\n                <mdw-checkbox-icon icon=check selected=${({ stock }) => stock > 0}></mdw-checkbox-icon> Stock: {stock} </div>\n            <mdw-box>\n          </mdw-box>\n          <mdw-divider></mdw-divider>\n          <div id=images>\n            <mdw-label mdw-if={!images.length}>(No images available)</mdw-label>\n            <img mdw-for=\"{image of images}\" class=\"image\" src={image} />\n          </div>\n        </fieldset> \n      </div>\n    </form>\n    <mdw-divider></mdw-divider>\n    <mdw-box row x=between y=center padding=8 gap=8>\n      <mdw-title ink=secondary>Product ID: {productId}</mdw-title>\n      <mdw-box row gap=8>\n        <mdw-icon-button\n          disabled=\"${({ productId }) => productId === 1}\"\n          id=\"previous\"\n          icon=\"chevron_left\"\n          on-click=\"${function onClick() { this.productId--; }}\">Previous</mdw-icon-button>\n        <mdw-icon-button\n          on-click=${function onClick() { this.productId++; }}\n          id=next\n          icon=chevron_right>Next</mdw-icon-button>\n        </mdw-box>\n    </mdw-box>\n\n  `\n  .methods({\n    async refresh() {\n      const productId = this.productId;\n      this.fetchAbortController?.abort();\n      const controller = new AbortController();\n      this.fetchAbortController = controller;\n      try {\n        this.busy = true;\n        const response = await fetch(`https://dummyjson.com/products/${productId}`, { signal: this.fetchAbortController.signal });\n        // await asyncStall();\n        const json = await response.json();\n        const changes = buildMergePatch(this.lastData, json, 'object');\n        console.log(json, changes);\n        this.render(changes, json);\n        this.lastData = json;\n        this.refs.form.reset();\n        this.busy = false;\n      } catch (e) {\n        if (controller.signal.aborted) {\n          console.log('Aborted');\n        } else {\n          console.error(e);\n        }\n      }\n    },\n  })\n  .on({\n    connected() {\n      this.refresh();\n    },\n    productIdChanged() {\n      this.refresh();\n    },\n  })\n  .autoRegister('dummy-product-page');\n\naddSVGAlias('check', 'M382 816 154 588l57-57 171 171 367-367 57 57-424 424Z', '0 96 960 960');\naddSVGAlias('chevron_left', 'M560 816 320 576l240-240 56 56-184 184 184 184-56 56Z', '0 96 960 960');\naddSVGAlias('chevron_right', 'm376 816-56-56 184-184-184-184 56-56 240 240-240 240Z', '0 96 960 960');\n", "import ProductPage from './ProductPage.js';\n\nProductPage.autoRegister();\n"],
  "mappings": "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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAgKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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",
  "names": ["_a", "_a", "_a", "_inactiveDocument", "fragment", "_a", "changes", "data", "tag", "defaultValue", "_a", "formattedTag", "_a", "html", "DOMString", "_a", "_a", "html", "_a", "option", "_a", "onClick", "_a"]
}
