{
  "version": 3,
  "sources": ["../../core/optimizations.js", "../../core/CompositionAdapter.js", "../../core/css.js", "../../core/dom.js", "../../core/jsonMergePatch.js", "../../core/observe.js", "../../core/uid.js", "../../core/template.js", "../../core/Composition.js", "../../core/CustomElement.js", "../../mixins/DelegatesFocusMixin.js", "../../mixins/FormAssociatedMixin.js", "../../mixins/ControlMixin.js", "../../mixins/InputMixin.js", "../../mixins/ResizeObserverMixin.js", "../../mixins/StateMixin.js", "../../services/theme.js", "../../mixins/ThemableMixin.js", "../../services/svgAlias.js", "../../components/Icon.js", "../../mixins/DensityMixin.js", "../../mixins/ShapeMixin.js", "../../mixins/TextFieldMixin.js", "../../mixins/ElevationMixin.js", "../../utils/popup.js", "../../components/Scrim.js", "../../mixins/PopupMixin.js", "../../components/Popup.js", "../../components/Input.js", "../../services/rtl.js", "../../components/Slider.js", "../../components/Divider.js", "../../core/customTypes.js", "../../mixins/AriaReflectorMixin.js", "../../components/Tooltip.js", "../../mixins/TooltipTriggerMixin.js", "../../mixins/NavigationListenerMixin.js", "../../mixins/HyperlinkMixin.js", "../../components/Ripple.js", "../../mixins/RippleMixin.js", "../../components/Button.js", "../../components/IconButton.js", "../../components/Progress.js", "../../mixins/ShapeMaskedMixin.js", "../../components/Shape.js", "../../mixins/FlexableMixin.js", "../../components/Surface.js", "../../components/Box.js", "../../components/CheckboxIcon.js", "../../mixins/TouchTargetMixin.js", "../../components/Checkbox.js", "../../components/Card.js", "../../mixins/TypographyMixin.js", "../../components/Label.js", "ProductPage.js", "sample.js"],
  "sourcesContent": ["// Micro-optimized functions\n\nlet BLANK_TEXT;\nlet BLANK_COMMENT;\nlet BLANK_DIV;\n\n/** @return {Text} */\nexport function createEmptyTextNode() {\n  // eslint-disable-next-line no-return-assign\n  return (BLANK_TEXT ??= new Text()).cloneNode();\n}\n\n/** @return {HTMLDivElement} */\nexport function createEmptyDiv() {\n  // eslint-disable-next-line no-return-assign\n  return (BLANK_DIV ??= document.createElement('div')).cloneNode();\n}\n\n/** @return {Comment} */\nexport function createEmptyComment() {\n  // eslint-disable-next-line no-return-assign\n  return (BLANK_COMMENT ??= new Comment()).cloneNode();\n}\n", "import { createEmptyComment } from './optimizations.js';\n\n/**\n * @template T\n * @typedef {import('./Composition.js').default<T>} Composition\n */\n\n/**\n * @template T\n * @typedef {import('./Composition.js').RenderOptions<T>} RenderOptions\n */\n\n/**\n * @template T\n * @typedef {Object} DomAdapterCreateOptions\n * @prop {Comment} anchorNode\n * @prop {(...args:any[]) => HTMLElement} [create]\n * @prop {Composition<T>} composition\n * @prop {RenderOptions<T>} renderOptions\n */\n\n/**\n * @typedef {Object} ItemMetadata\n * @prop {Element} element\n * @prop {any} key\n * @prop {Element|Comment} domNode\n * @prop {Function} render\n * @prop {boolean} [hidden]\n * @prop {Comment} [comment]\n */\n\n/** @template T */\nexport default class CompositionAdapter {\n  /** @param {DomAdapterCreateOptions<T>} options */\n  constructor(options) {\n    this.anchorNode = options.anchorNode;\n\n    /** @type {ItemMetadata[]} */\n    this.metadata = [];\n    /**\n     * Ordered-list of metadata keys\n     * Chrome and FireFox optimize arrays for indexOf/includes\n     * Safari is faster with WeakMap.get(), but can't use Primitive keys\n     * TODO: Add Safari path\n     * @type {any[]}\n     */\n    this.keys = [];\n\n    /**\n     * Chrome needs a hint to know we will need a fast path for array by keys.\n     */\n    this.needsArrayKeyFastPath = false;\n\n    /** @type {Composition<T>} */\n    this.composition = options.composition;\n    /** @type {RenderOptions<T>} */\n    this.renderOptions = options.renderOptions;\n\n    /** @type {Map<any, ItemMetadata>} */\n    this.metadataCache = null;\n\n    /** @type {Element[]} */\n    this.queuedElements = [];\n    // this.batching = false;\n    /** @type {number|null} */\n    this.batchStartIndex = null;\n    /** @type {number|null} */\n    this.batchEndIndex = null;\n  }\n\n  /**\n   * @param {Partial<T>} changes\n   * @param {T} data\n   * @return {import('./Composition.js').RenderDraw<T>}\n   */\n  render(changes, data) {\n    return this.composition.render(changes, data, this.renderOptions);\n  }\n\n  startBatch() {\n    this.needsArrayKeyFastPath = true;\n    // this.batching = true;\n  }\n\n  writeBatch() {\n    if (!this.queuedElements.length) return;\n    /** @type {Comment|Element|Document} */\n    const previousSibling = this.metadata[this.batchStartIndex - 1]?.domNode ?? this.anchorNode;\n    previousSibling.after(...this.queuedElements);\n    this.queuedElements.length = 0;\n  }\n\n  stopBatch() {\n    this.writeBatch();\n\n    this.needsArrayKeyFastPath = false;\n    this.batchStartIndex = null;\n    this.batchEndIndex = null;\n    if (this.metadataCache) {\n      for (const { domNode } of this.metadataCache.values()) {\n        domNode.remove();\n      }\n      this.metadataCache.clear();\n    }\n  }\n\n  /** @param {number} index */\n  removeByIndex(index) {\n    const [metadata] = this.metadata.splice(index, 1);\n    const { domNode, key } = metadata;\n    this.keys.splice(index, 1);\n    domNode.remove();\n\n    // Don't release in case we may need it later\n    if (this.metadataCache) {\n      this.metadataCache.set(key, metadata);\n    } else {\n      this.metadataCache = new Map([[key, metadata]]);\n    }\n  }\n\n  /**\n   * Worst case scenario\n   * @param {number} newIndex expectedIndex\n   * @param {*} changes\n   * @param {*} data\n   * @param {*} key\n   * @param {*} change\n   * @param {boolean} [skipOnMatch]\n   * JSON Merge has no way to express sort change and data change. Best\n   * performance is done via invoking render on sort change and another on\n   * inner change. Can't skip if mixing change types.\n   */\n  renderData(newIndex, changes, data, key, change, skipOnMatch) {\n    if (newIndex < this.metadata.length) {\n      const metadataAtIndex = this.metadata[newIndex];\n\n      // There is an element in this slot\n\n      // Compare if different\n      const currentKey = metadataAtIndex.key;\n      const sameKey = (currentKey === key);\n      const isPartial = (change !== key);\n\n      if (sameKey) {\n        // Both reference the same key (correct spot)\n        if (isPartial) {\n          metadataAtIndex.render(changes, data);\n        } else if (skipOnMatch) {\n          // Skip overwrite. Presume no change\n          // console.warn('same key, no reason to repaint', newIndex);\n        } else {\n          // console.warn('no skip on match', newIndex);\n          metadataAtIndex.render(changes, data);\n        }\n        return;\n      }\n\n      // eslint-disable-next-line no-multi-assign\n      const metadataCache = (this.metadataCache ??= new Map());\n\n      // If not same key. Scan key list.\n      // Can avoid checking before current index. Will always be after current\n      let failedFastPath = false;\n      if (this.needsArrayKeyFastPath) {\n        // Invoking includes will ensure Chrome generates an internal hash map\n        failedFastPath = !this.keys.includes(key);\n        this.needsArrayFastPath = false;\n      }\n      const oldIndex = failedFastPath ? -1 : this.keys.indexOf(key, newIndex + 1);\n      if (oldIndex === -1) {\n        // New key\n        // console.log('new key?', 'should be at', newIndex);\n        // Was key removed in this batch?\n        if (metadataCache.has(key)) {\n          // console.log('inserting removed element', 'at', newIndex);\n          // (Optimistic insert)\n          // Key was removed and should be here instead\n          // If should have been replace, will correct next step\n          const previousMetadata = metadataCache.get(key);\n          this.metadata.splice(newIndex, 0, previousMetadata);\n          this.keys.splice(newIndex, 0, key);\n\n          const previousSibling = this.metadata[newIndex - 1]?.domNode ?? this.anchorNode;\n          previousSibling.after(previousMetadata.domNode);\n          metadataCache.delete(key);\n          return;\n        }\n\n        // (Optimistic replace)\n        // Brand new key. Cache whatever is in current and replace\n        // If should have been insert, will correct itself next step.\n        // Allows multiple inserts to batch instead of one-by-one\n\n        // console.log('completely new key', 'removing old. will replace', newIndex);\n        metadataCache.set(currentKey, metadataAtIndex);\n\n        // Continue to PUT below\n      } else {\n        // Key is in the wrong spot (guaranteed to be oldIndex > newIndex)\n        // console.warn('Found key for', newIndex, '@', oldIndex);\n        // console.warn('swapping', newIndex, '<=>', oldIndex);\n        if ((newIndex - oldIndex) === -1) {\n          // (Optimistic removal)\n          // If element should be one step sooner, remove instead to shift up.\n          // If should have been swap, will correct itself next step.\n          // console.warn('Removing', newIndex, 'instead');\n          this.removeByIndex(newIndex);\n          return;\n        }\n        // Swap with other element\n        // Arrays should be iterated sequentially.\n        // Array can never swap before current index\n\n        // Store what's later in the tree to move here\n\n        const correctMetadata = this.metadata[oldIndex];\n\n        // Move back <=\n        this.metadata[newIndex] = correctMetadata;\n        this.metadata.splice(oldIndex, 1);\n\n        const { domNode: domNodeToRemove } = metadataAtIndex;\n        domNodeToRemove.replaceWith(correctMetadata.domNode);\n\n        if (!skipOnMatch) {\n          console.warn('no skip on match on swap', newIndex);\n          correctMetadata.render(changes, data);\n        }\n\n        // Remove posterior\n\n        this.keys[newIndex] = key;\n        this.keys.splice(oldIndex, 1);\n\n        domNodeToRemove.remove();\n\n        // Don't release in case we may need it later\n        // console.debug('Caching key', key);\n        metadataCache.set(currentKey, metadataAtIndex);\n\n        return;\n      }\n    }\n\n    const render = this.render(changes, data);\n    const element = /** @type {Element} */ (render.target);\n\n    this.metadata[newIndex] = {\n      render,\n      element,\n      key,\n      domNode: element,\n    };\n    this.keys[newIndex] = key;\n\n    if (this.batchEndIndex === null || this.batchEndIndex !== (newIndex - 1)) {\n      this.writeBatch();\n      // Start new batch\n      this.batchStartIndex = newIndex;\n    }\n    this.batchEndIndex = newIndex;\n    this.queuedElements.push(element);\n  }\n\n  removeEntries(startIndex = 0) {\n    const { length } = this.metadata;\n    for (let index = length - 1; index >= startIndex; index--) {\n      this.metadata[index].domNode.remove();\n    }\n    this.metadata.length = startIndex;\n    this.keys.length = startIndex;\n  }\n\n  /**\n   * @param {number} [index]\n   * @param {ItemMetadata} [metadata]\n   * @param {any} [key]\n   * @return {boolean} changed\n   */\n  hide(index, metadata, key) {\n    if (!metadata) {\n      if (index == null) {\n        index = this.keys.indexOf(key);\n      }\n      metadata = this.metadata[index];\n      if (!metadata) {\n        return false;\n      }\n    }\n\n    if (metadata.hidden) return false;\n\n    let { comment, element } = metadata;\n    if (!comment) {\n      comment = createEmptyComment();\n      metadata.comment = comment;\n    }\n\n    element.replaceWith(comment);\n    metadata.domNode = comment;\n    metadata.hidden = true;\n    return true;\n  }\n\n  /**\n   * @param {number} [index]\n   * @param {ItemMetadata} [metadata]\n   * @param {any} [key]\n   * @return {boolean} changed\n   */\n  show(index, metadata, key) {\n    if (!metadata) {\n      if (index == null) {\n        index = this.keys.indexOf(key);\n      }\n      metadata = this.metadata[index];\n      if (!metadata) {\n        return false;\n      }\n    }\n\n    if (!metadata.hidden) return false;\n\n    const { comment, element } = metadata;\n\n    comment.replaceWith(element);\n    metadata.domNode = element;\n    metadata.hidden = false;\n    return true;\n  }\n}\n", "/** @type {Map<string, CSSStyleSheet>} */\nconst cssStyleSheetsCache = new Map();\n\n/**\n * @param {string} content\n * @param {boolean} [useCache=true]\n * @return {CSSStyleSheet}\n */\nexport function createCSSStyleSheet(content, useCache = true) {\n  if (useCache && cssStyleSheetsCache.has(content)) {\n    return cssStyleSheetsCache.get(content);\n  }\n  const sheet = new CSSStyleSheet();\n  sheet.replaceSync(content);\n  if (useCache) {\n    cssStyleSheetsCache.set(content, sheet);\n  }\n  return sheet;\n}\n\n/** @type {Map<string, HTMLStyleElement>} */\nconst styleElementCache = new Map();\n\n/** @type {Document} */\nlet _inactiveDocument;\n\n/**\n * @param {string} content\n * @param {boolean} [useCache=true]\n * @return {HTMLStyleElement}\n */\nexport function createHTMLStyleElement(content, useCache = true) {\n  let style;\n  if (useCache && styleElementCache.has(content)) {\n    style = styleElementCache.get(content);\n  } else {\n    _inactiveDocument ??= document.implementation.createHTMLDocument();\n    style = _inactiveDocument.createElement('style');\n    style.textContent = content;\n    if (useCache) {\n      styleElementCache.set(content, style);\n    }\n  }\n  return /** @type {HTMLStyleElement} */ (style.cloneNode(true));\n}\n\n/** @type {boolean} */\nlet _cssStyleSheetConstructable;\n\n/**\n * @param {string} content\n * @param {boolean} [useCache=true]\n */\nexport function createCSS(content, useCache = true) {\n  if (_cssStyleSheetConstructable == null) {\n    try {\n      const sheet = createCSSStyleSheet(content, useCache);\n      _cssStyleSheetConstructable = true;\n      return sheet;\n    } catch {\n      _cssStyleSheetConstructable = false;\n    }\n  }\n  return _cssStyleSheetConstructable\n    ? createCSSStyleSheet(content, useCache)\n    : createHTMLStyleElement(content, useCache);\n}\n\n/**\n * @param {Iterable<HTMLStyleElement|CSSStyleSheet>} styles\n * @param {boolean} [useCache=true]\n * @yields composed CSSStyleSheet\n * @return {Generator<CSSStyleSheet>} composed CSSStyleSheet\n */\nexport function* generateCSSStyleSheets(styles, useCache = true) {\n  for (const style of styles) {\n    if (style instanceof HTMLStyleElement) {\n      yield createCSSStyleSheet(style.textContent, useCache);\n    } else if (style.ownerNode) {\n      console.warn('Stylesheet is part of style');\n      yield createCSSStyleSheet([...style.cssRules].map((r) => r.cssText).join(''), useCache);\n    } else {\n      yield style;\n    }\n  }\n}\n\n/** @type {WeakMap<CSSStyleSheet, HTMLStyleElement>} */\nconst styleElementFromStyleSheetCache = new WeakMap();\n\n/**\n * @param {Iterable<HTMLStyleElement|CSSStyleSheet>} styles\n * @param {boolean} [useCache=true]\n * @yields composed HTMLStyleElement\n * @return {Generator<HTMLStyleElement>} composed CSSStyleSheet\n */\nexport function* generateHTMLStyleElements(styles, useCache = true) {\n  for (const style of styles) {\n    if (style instanceof HTMLStyleElement) {\n      yield style;\n    } else if (style.ownerNode instanceof HTMLStyleElement) {\n      // console.log('Cloning parent HTMLStyleElement instead');\n      // @ts-ignore Skip cast\n      yield style.ownerNode.cloneNode(true);\n    } else if (useCache && styleElementFromStyleSheetCache.has(style)) {\n      // @ts-ignore Skip cast\n      yield styleElementFromStyleSheetCache.get(style).cloneNode(true);\n    } else {\n      console.warn('Manually constructing HTMLStyleElement', [...style.cssRules].map((r) => r.cssText).join('\\n'));\n      const styleElement = document.createElement('style');\n      styleElement.textContent = [...style.cssRules].map((r) => r.cssText).join('');\n      if (useCache) {\n        styleElementFromStyleSheetCache.set(style, styleElement);\n      }\n\n      // @ts-ignore Skip cast\n      yield styleElement.cloneNode(true);\n    }\n  }\n}\n\n/**\n * @param {TemplateStringsArray|string} array\n * @param  {...any} substitutions\n * @return {HTMLStyleElement|CSSStyleSheet}\n */\nexport function css(array, ...substitutions) {\n  if (typeof array === 'string') return createCSS(array);\n  return createCSS(String.raw({ raw: array }, ...substitutions));\n}\n\n/**\n * @param {TemplateStringsArray|string|HTMLStyleElement|CSSStyleSheet} styles\n * @param  {...any} substitutions\n * @return {HTMLStyleElement|CSSStyleSheet}\n */\nexport function addGlobalCss(styles, ...substitutions) {\n  /** @type {HTMLStyleElement|CSSStyleSheet} */\n  let compiled;\n  if (typeof styles === 'string') {\n    compiled = css(styles);\n  } else if (Array.isArray(styles)) {\n    compiled = css(/** @type {TemplateStringsArray} */ (styles), ...substitutions);\n  } else {\n    compiled = /** @type {HTMLStyleElement|CSSStyleSheet} */ (styles);\n  }\n\n  if (compiled instanceof HTMLStyleElement) {\n    document.head.append(compiled);\n  } else {\n    document.adoptedStyleSheets = [\n      ...document.adoptedStyleSheets,\n      compiled,\n    ];\n  }\n  return compiled;\n}\n", "/* eslint-disable no-bitwise */\n\n/**\n * @param {any} value\n * @return {?string}\n */\nexport function attrValueFromDataValue(value) {\n  switch (value) {\n    case undefined:\n    case null:\n    case false:\n      return null;\n    case true:\n      return '';\n    default:\n      return `${value}`;\n  }\n}\n\n/** @type {Map<string, string>} */\nlet attrNameFromPropNameCache;\n\n/**\n * Converts property name to attribute name\n * (Similar to DOMStringMap)\n * @param {string} name\n * @return {string}\n */\nexport function attrNameFromPropName(name) {\n  attrNameFromPropNameCache ??= new Map();\n  if (attrNameFromPropNameCache.has(name)) {\n    return attrNameFromPropNameCache.get(name);\n  }\n  // eslint-disable-next-line unicorn/prefer-string-replace-all\n  const value = name.replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`);\n  attrNameFromPropNameCache.set(name, value);\n  return value;\n}\n\nexport const CHROME_VERSION = Number.parseFloat(navigator.userAgent.match(/Chrome\\/([\\d.]+)/)?.[1]);\nexport const FIREFOX_VERSION = Number.parseFloat(navigator.userAgent.match(/Firefox\\/([\\d.]+)/)?.[1]);\nexport const SAFARI_VERSION = CHROME_VERSION || !navigator.userAgent.includes('AppleWebKit')\n  ? Number.NaN\n  : Number.parseFloat(navigator.userAgent.match(/Version\\/([\\d.]+)/)?.[1]);\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isFocused(element) {\n  if (!element) return false;\n  // @ts-ignore runtime check\n  if (FIREFOX_VERSION < 113 && element.constructor.formAssociated && element.hasAttribute('disabled')) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1818287\n    console.warn('Firefox bug 1818287: Disabled form associated custom element cannot receive focus.');\n    return false;\n  }\n  if (document.activeElement === element) return true;\n  if (!element.isConnected) return false;\n  if (element?.getRootNode() === document) return false; // isInLightDOM\n  // console.debug('checking shadowdom', element, element.matches(':focus'));\n  return element.matches(':focus');\n}\n\n/**\n * @param {HTMLElement|Element} element\n * @param {Parameters<HTMLElement['focus']>} [options]\n * @return {boolean} Focus was successful\n */\nexport function attemptFocus(element, ...options) {\n  if (!element) return false;\n  try {\n    // @ts-expect-error Use catch if not HTMLElement\n    element.focus(...options);\n  } catch (e) {\n    console.error(e);\n    return false;\n    // Ignore error.\n  }\n  return isFocused(element);\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isRtl(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n", "/** @link https://www.rfc-editor.org/rfc/rfc7396 */\n\n/**\n * @template T1\n * @template T2\n * @param {T1} target\n * @param {T2} patch\n * @return {T1|T2|(T1 & T2)}\n */\nexport function applyMergePatch(target, patch) {\n  // @ts-ignore Runtime check\n  if (target === patch) return target;\n  if (target == null || patch == null || typeof patch !== 'object') return patch;\n  if (typeof target !== 'object') {\n    // @ts-ignore Forced cast to object\n    target = {};\n  }\n  for (const [key, value] of Object.entries(patch)) {\n    if (value == null) {\n      // @ts-ignore Runtime check\n      if (key in target) {\n        // @ts-ignore T1 is always object\n        delete target[key];\n      }\n    } else {\n      // @ts-ignore T1 is forced object\n      target[key] = applyMergePatch(target[key], value);\n    }\n  }\n  return target;\n}\n\n/**\n * Creates a JSON Merge patch based\n * Allows different strategies for arrays\n *  - `reference`: Per spec, returns array as is\n *  - `clone`: Clones all entries with no inspection.\n *  - `object`: Convert to flattened, array-like objects. Requires\n *    consumer of patch to be aware of the schema beforehand.\n * @param {object|number|string|boolean} previous\n * @param {object|number|string|boolean} current\n * @param {'clone'|'object'|'reference'} [arrayStrategy='reference']\n * @return {any} Patch\n */\nexport function buildMergePatch(previous, current, arrayStrategy = 'reference') {\n  if (previous === current) return null;\n  if (current == null || typeof current !== 'object') return current;\n  if (previous == null || typeof previous !== 'object') {\n    return structuredClone(current);\n  }\n\n  const patch = {};\n  if (Array.isArray(current)) {\n    if (arrayStrategy === 'reference') {\n      return current;\n    }\n    // Assume previous is array\n    if (arrayStrategy === 'clone') {\n      return structuredClone(current);\n    }\n    for (const [index, value] of current.entries()) {\n      if (value === null) {\n        // @ts-ignore patch is ArrayLike\n        patch[index] = null;\n        continue;\n      }\n      if (value == null) {\n        continue; // Skip undefined\n      }\n      // @ts-ignore previous is ArrayLike\n      const changes = buildMergePatch(previous[index], value, arrayStrategy);\n      if (changes !== null) {\n        // @ts-ignore patch is ArrayLike\n        patch[index] = changes;\n      }\n    }\n    // for (let i = current.length; i < previous.length; i++) {\n    //   patch[i] = null;\n    // }\n    // @ts-ignore previous is ArrayLike\n    if (current.length !== previous.length) {\n      patch.length = current.length;\n    }\n    return patch;\n  }\n\n  const previousKeys = new Set(Object.keys(previous));\n  for (const [key, value] of Object.entries(current)) {\n    previousKeys.delete(key);\n    if (value === null) {\n      // @ts-ignore patch is Object\n      patch[key] = null;\n      continue;\n    }\n    if (value == null) {\n      continue; // Skip undefined\n    }\n    // @ts-ignore previous is Object\n    const changes = buildMergePatch(previous[key], value, arrayStrategy);\n    if (changes !== null) {\n      // @ts-ignore patch is Object\n      patch[key] = changes;\n    }\n  }\n  for (const key of previousKeys) {\n    // @ts-ignore patch is Object\n    patch[key] = null;\n  }\n\n  return patch;\n}\n\n/**\n * Short-circuited JSON Merge Patch evaluation\n * @template T\n * @param {T} target\n * @param {Partial<T>} patch\n * @return {boolean}\n */\nexport function hasMergePatch(target, patch) {\n  if (target === patch) return false;\n  if (patch == null || typeof patch !== 'object') return true;\n  if (target != null && typeof target !== 'object') {\n    return true;\n  }\n  for (const [key, value] of Object.entries(patch)) {\n    if (value == null) {\n      // @ts-ignore Runtime check\n      if (key in target) {\n        return true;\n      }\n    // @ts-ignore T is object\n    } else if (hasMergePatch(target[key], value)) {\n      return true;\n    }\n  }\n  return false;\n}\n", "import { attrNameFromPropName } from './dom.js';\nimport { buildMergePatch, hasMergePatch } from './jsonMergePatch.js';\n\n/** @typedef {'string' | 'boolean' | 'map' | 'set' | 'float' | 'integer' | 'object' | 'function' | 'array'} ObserverPropertyType */\n\n/**\n * @template {ObserverPropertyType} T\n * @typedef {(\n * T extends 'boolean' ? boolean\n * : T extends 'string' ? string\n * : T extends 'float' | 'integer' ? number\n * : T extends 'array' ? any[]\n * : T extends 'object' ? any\n * : T extends 'function' ? (...args:any) => any\n * : unknown\n * )} ParsedObserverPropertyType\n */\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} T2\n * @template {Object} [C=any]\n * @typedef {Object} ObserverOptions\n * @prop {T1} [type]\n * @prop {boolean} [enumerable]\n * @prop {boolean|'write'|'read'} [reflect]\n * @prop {string} [attr]\n * @prop {boolean} [readonly]\n * Defaults to false if type is boolean\n * @prop {boolean} [nullable]\n * @prop {T2} [empty]\n * @prop {T2} [value]\n * @prop {(this:C, data:Partial<C>, fn?: () => T2) => T2} [get]\n * Function used when null passed\n * @prop {(this:C, value:any)=>T2} [parser]\n * @prop {(this:C, value:null|undefined)=>T2} [nullParser]\n * @prop {(this:C, value: T2, fn?:(value2: T2) => any) => any} [set]\n * Function used when comparing\n * @prop {(this:C, a:T2, b:T2)=> any} [diff]\n * @prop {(this:C, a:T2, b:T2)=>boolean} [is]\n * Simple callback\n * @prop {(this:C, oldValue:T2, newValue:T2, changes:any)=>any} [changedCallback]\n * Named callback\n * @prop {(this:C, name:string, oldValue: T2, newValue: T2, changes:any) => any} [propChangedCallback]\n * Attribute callback\n * @prop  {(this:C, name:keyof C & string, oldValue: string, newValue: string) => any} [attributeChangedCallback]\n * @prop {[keyof C & string, (this:C, ...args:any[]) => any][]} [watchers]\n * @prop {Set<keyof C & string>} [props]\n * @prop {WeakMap<C,T2>} [values]\n * @prop {WeakMap<C, T2>} [computedValues]\n * @prop {WeakSet<C>} [needsSelfInvalidation]\n */\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} [T2=any]\n * @template {Object} [C=any]\n * @template {keyof C & string} [K=any]\n * @typedef {ObserverOptions<T1, T2, C> & { key: K, values?: WeakMap<C, T2>; attrValues?: WeakMap<C, string> }} ObserverConfiguration\n */\n\n/**\n * @param {ObserverPropertyType} type\n * @return {any}\n */\nfunction emptyFromType(type) {\n  switch (type) {\n    case 'boolean':\n      return false;\n    case 'integer':\n    case 'float':\n      return 0;\n    case 'map':\n      return new Map();\n    case 'set':\n      return new Set();\n    case 'array':\n      return [];\n    case 'object':\n      return null;\n    default:\n    case 'string':\n      return '';\n  }\n}\n\n/**\n * @template {Object} T\n * @param {T} proxyTarget\n * @param {Set<string>} set\n * @param {Set<string>} deepSet\n * @param {string} [prefix]\n * @return {T}\n */\nfunction buildProxy(proxyTarget, set, deepSet, prefix) {\n  // @ts-ignore\n  proxyTarget ??= {};\n  return new Proxy(proxyTarget, {\n    get(target, p) {\n      // @ts-ignore\n      const value = target[p];\n      if (typeof p !== 'symbol') {\n        const arg = prefix ? `${prefix}.${p}` : p;\n        if (prefix) {\n          deepSet.add(arg);\n        } else {\n          set.add(arg);\n        }\n        if (typeof value === 'object' && value != null) {\n          return buildProxy(value, set, deepSet, arg);\n        }\n      }\n      return value;\n    },\n    has(target, p) {\n      const value = Reflect.has(target, p);\n      if (typeof p !== 'symbol') {\n        const arg = prefix ? `${prefix}.p` : p;\n        if (prefix) {\n          deepSet.add(arg);\n        } else {\n          set.add(arg);\n        }\n      }\n      return value;\n    },\n  });\n}\n\n/**\n * @param {ObserverPropertyType} type\n * @return {any}\n */\nfunction defaultParserFromType(type) {\n  switch (type) {\n    case 'boolean':\n      /**\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean#boolean_coercion\n       * @param {any} v\n       * @return {boolean}\n       */\n      return (v) => !!v;\n    case 'integer':\n      // Calls ToNumber(x)\n      return Math.round;\n    case 'float':\n      /**\n       * Doesn't support `BigInt` types\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number#number_coercion\n       * @param {any} v\n       * @return {number}\n       */\n      return (v) => +v;\n    case 'map':\n      return Map;\n    case 'set':\n      return Set;\n    case 'object':\n    case 'array':\n      /**\n       * Reflect self\n       * @template T\n       * @param {T} o\n       * @return {T}\n       */\n      return (o) => o;\n    default:\n    case 'string':\n      /**\n       * Doesn't support `Symbol` types\n       * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#string_coercion\n       * @param {any} v\n       * @return {string}\n       */\n      return (v) => `${v}`;\n  }\n}\n\n/**\n * @param {(data: Partial<any>) => any} fn\n * @param {...any} args\n * @this {any}\n * @return {{\n *  props: {\n *    this: string[],\n *    args: string[][],\n *  },\n *  deepPropStrings: {\n *   this: string[],\n *   args: string[][],\n *  },\n *  deepProps: {\n *   this: string[][],\n *   args: string[][][],\n *  },\n *  defaultValue: any,\n *  reusable: boolean,\n * }}\n */\nexport function observeFunction(fn, ...args) {\n  /** @type {Set<string>} */\n  const thisPoked = new Set();\n  /** @type {Set<string>} */\n  const thisPokedDeep = new Set();\n\n  const argWatchers = args.map((arg) => {\n    const poked = new Set();\n    const pokedDeep = new Set();\n    const proxy = buildProxy(arg, poked, pokedDeep);\n    return { poked, pokedDeep, proxy };\n  });\n\n  const thisProxy = buildProxy(this ?? {}, thisPoked, thisPokedDeep);\n  const defaultValue = fn.apply(thisProxy, argWatchers.map((watcher) => watcher.proxy));\n  /* Arrow functions can reused if they don't poke `this` */\n  const reusable = fn.name ? true : !thisPoked.size;\n\n  return {\n    props: {\n      this: [...thisPoked],\n      args: argWatchers.map((watcher) => [...watcher.poked]),\n    },\n    deepPropStrings: {\n      this: [...thisPokedDeep],\n      args: argWatchers.map((watcher) => [...watcher.pokedDeep]),\n    },\n    deepProps: {\n      this: [...thisPokedDeep].map((deepPropString) => deepPropString.split('.')),\n      args: argWatchers.map((watcher) => [...watcher.pokedDeep].map((deepPropString) => deepPropString.split('.'))),\n    },\n    defaultValue,\n    reusable,\n  };\n}\n\n/** @return {null} */\nfunction defaultNullParser() { return null; }\n\n/**\n * @template {string} K\n * @template {ObserverPropertyType} [T1=any]\n * @template {any} [T2=ParsedObserverPropertyType<T1>]\n * @template {Object} [C=any]\n * @param {K} name\n * @param {T1|ObserverOptions<T1,T2>} [typeOrOptions='string']\n * @param {any} [object]\n * @return {ObserverConfiguration<T1,T2,C,K> & ObserverOptions<T1,T2,C>}\n */\nexport function parseObserverOptions(name, typeOrOptions, object) {\n  /** @type {Partial<ObserverOptions<T1,T2>>} */\n  const options = (typeof typeOrOptions === 'string')\n    ? { type: typeOrOptions }\n    : typeOrOptions;\n\n  let {\n    watchers, value, readonly,\n    empty, type,\n    enumerable, reflect, attr,\n    nullable, parser, nullParser,\n    get,\n    is, diff,\n    props,\n  } = options;\n\n  watchers ??= [];\n  readonly ??= false;\n\n  if (empty === undefined) {\n    empty = null;\n  }\n\n  value ??= empty;\n\n  if (get && !props) {\n    // Custom `get` uses computed values.\n    // Invalidate computed value when dependent `prop` changes\n    const observeResult = observeFunction(get.bind(object), object, () => value);\n    value ??= observeResult.defaultValue;\n    const uniqueProps = new Set([\n      ...observeResult.props.this,\n      ...observeResult.props.args[0],\n    ]);\n    props = uniqueProps;\n  }\n\n  /** @type {ObserverPropertyType} */\n  if (!type) {\n    if (value == null) {\n      // @ts-ignore\n      type = 'string';\n    } else {\n      const parsed = typeof value;\n      // @ts-ignore\n      type = (parsed === 'number')\n        ? (Number.isInteger(value) ? 'integer' : 'number')\n        : parsed;\n    }\n  }\n\n  enumerable ??= name[0] !== '_';\n  nullable ??= (type === 'boolean') ? false : (empty == null);\n  if (!nullable) {\n    empty ??= emptyFromType(type);\n    value ??= empty;\n  }\n\n  reflect ??= enumerable ? (type !== 'object') : (attr ? 'write' : false);\n  attr ??= (reflect ? attrNameFromPropName(name) : null);\n\n  // if defined ? value\n  // else if boolean ? false\n  // else if onNullish ? false\n  // else if empty == null\n  parser ??= defaultParserFromType(type);\n  if (!nullParser) {\n    if (nullable) {\n      nullParser = defaultNullParser;\n    } else {\n      nullParser = (empty === null)\n        ? () => emptyFromType(type)\n        : () => empty;\n    }\n  }\n\n  is ??= (type === 'object')\n    ? (a, b) => !hasMergePatch(a, b)\n    : ((type === 'array') ? () => false : Object.is);\n\n  if (diff === undefined) {\n    // @ts-ignore\n    diff = ((type === 'object') ? (a, b) => buildMergePatch(a, b, 'reference') : null);\n  }\n\n  return {\n    ...options,\n    type,\n    is,\n    diff,\n    attr,\n    reflect,\n    readonly,\n    enumerable,\n    value,\n    parser,\n    nullParser,\n    key: name,\n    // @ts-ignore Can't cast\n    props,\n    // @ts-ignore Can't cast\n    watchers,\n  };\n}\n\n/**\n * @this {ObserverConfiguration<?,?,?>}\n * @param {*} value\n */\nexport function parsePropertyValue(value) {\n  let newValue = value;\n  newValue = value == null\n    ? this.nullParser.call(this, value)\n    : this.parser.call(this, newValue);\n  return newValue;\n}\n\n/**\n * @param {ObserverConfiguration<?,?,?,?>} config\n * @param {any} oldValue\n * @param {any} value\n * @return {boolean} changed\n */\nfunction detectChange(config, oldValue, value) {\n  if (config.get) {\n    // TODO: Custom getter vs parser\n  }\n\n  // Compute real new value after parsing\n  const newValue = (value == null)\n    ? config.nullParser.call(this, value)\n    : config.parser.call(this, value);\n\n  // Default change is the newValue\n  let changes = newValue;\n\n  // Null check\n  if (oldValue == null) {\n    if (newValue == null) {\n      // Both nullish\n      return false;\n    }\n  } else if (newValue != null) {\n    // Both non-null, compare\n    if (config.diff) {\n      // Custom change diff\n      changes = config.diff.call(this, oldValue, newValue);\n      if (changes == null) {\n        // No difference\n        return false;\n      }\n    } else if (config.is.call(this, oldValue, newValue)) {\n      // Non-equal\n      return false;\n    }\n  }\n\n  // Commit value\n  if (config.values) {\n    config.values.set(this, newValue);\n  } else {\n    config.values = new WeakMap([[this, newValue]]);\n  }\n\n  // Emit change\n\n  config.propChangedCallback?.call(this, config.key, oldValue, newValue, changes);\n  config.changedCallback?.call(this, oldValue, newValue, changes);\n\n  return true;\n}\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} T2\n * @template {Object} C\n * @template {keyof C & string} K\n * @param {C} object\n * @param {K} key\n * @param {ObserverOptions<T1, T2, C>} options\n * @return {ObserverConfiguration<T1,T2,C,K>}\n */\nexport function defineObservableProperty(object, key, options) {\n  const config = /** @type {ObserverConfiguration<T1,T2,C,K>} */ (\n    parseObserverOptions(key, options, object));\n\n  /**\n   * @this {C}\n   * @return {T2}\n   */\n  function internalGet() {\n    return config.values?.has(this) ? config.values.get(this) : config.value;\n  }\n\n  /**\n   * @this {C}\n   * @param {T2} value\n   * @return {void}\n   */\n  function internalSet(value) {\n    // @ts-ignore\n    const oldValue = this[key];\n    detectChange.call(this, config, oldValue, value);\n  }\n\n  /** @return {void} */\n  function onInvalidate() {\n    // Current value is now invalidated. Recompute and check if changed\n    // eslint-disable-next-line no-multi-assign\n\n    const oldValue = config.computedValues?.get(this);\n    const newValue = this[key];\n    config.needsSelfInvalidation?.delete(this);\n    detectChange.call(this, config, oldValue, newValue);\n  }\n\n  if (config.props) {\n    for (const prop of config.props) {\n      config.watchers.push([prop, onInvalidate]);\n    }\n  }\n\n  /**\n   * @this {C}\n   * @return {T2}\n   */\n  function cachedGet() {\n    const newValue = config.get.call(this, this, internalGet.bind(this));\n    // Store computed value internally. Used by onInvalidate to get previous value\n    // eslint-disable-next-line no-multi-assign\n    const computedValues = (config.computedValues ??= new WeakMap());\n    computedValues.set(this, newValue);\n    return newValue;\n  }\n\n  /**\n   * @this {C}\n   * @param {T2} value\n   * @return {void}\n   */\n  function cachedSet(value) {\n    if (config.needsSelfInvalidation) {\n      config.needsSelfInvalidation.add(this);\n    } else {\n      config.needsSelfInvalidation = new WeakSet([this]);\n    }\n    const oldValue = this[key];\n    config.set.call(this, value, internalSet.bind(this));\n    const newValue = this[key];\n    if (!config.needsSelfInvalidation.has(this)) return;\n    config.needsSelfInvalidation.delete(this);\n    detectChange.call(this, config, oldValue, newValue);\n  }\n\n  /** @type {Partial<PropertyDescriptor>} */\n  const descriptor = {\n    enumerable: config.enumerable,\n    configurable: true,\n    get: config.get ? cachedGet : internalGet,\n    set: config.set ? cachedSet : internalSet,\n  };\n\n  Object.defineProperty(object, key, descriptor);\n\n  return config;\n}\n", "/** @type {Set<string>} */\nconst generatedUIDs = new Set();\n\n/**\n * @param {string} [prefix='x'] Prefix all UIDs by string to apply a name or ensure starts with [A-Z] character\n * @param {number} [n] Maximum number of variations needed. Calculated as 32^n.\n  @return {string} */\nexport function generateUID(prefix = 'mdw_', n = 4) {\n  let id;\n  while (generatedUIDs.has(id = Math.random().toString(36).slice(2, n + 2)));\n  generatedUIDs.add(id);\n  return `${prefix}${id}`;\n}\n", "import { generateUID } from './uid.js';\n\n/**\n * Property are bound to an ID+Node\n * Values are either getter or via an function\n * @template {any} T\n * @typedef {Object} InlineFunctionEntry\n * @prop {(data:T) => any} fn\n * @prop {string[]} [props]\n * @prop {string[][]} [deepProps]\n * @prop {string[]} [injectionProps]\n * @prop {string[][]} [injectionDeepProps]\n * @prop {T} [defaultValue]\n */\n\n/** @type {Document} */\nlet _inactiveDocument;\n\n/** @type {DocumentFragment} */\nlet _blankFragment;\n\n/** @type {Range} */\nlet _fragmentRange;\n\n/**\n * @param {string} [fromString]\n * @return {DocumentFragment}\n */\nexport function generateFragment(fromString) {\n  _inactiveDocument ??= document.implementation.createHTMLDocument();\n  if (!fromString) {\n    _blankFragment ??= _inactiveDocument.createDocumentFragment();\n    return /** @type {DocumentFragment} */ (_blankFragment.cloneNode());\n  }\n  _fragmentRange ??= _inactiveDocument.createRange();\n  return _fragmentRange.createContextualFragment(fromString);\n}\n\n/** @type {Map<string, InlineFunctionEntry<?>>} */\nexport const inlineFunctions = new Map();\n\n/**\n * @template T\n * @typedef {Object} RenderOptions\n * @prop {Object} context\n * @prop {ParentNode} root\n * @prop {Object<string, HTMLElement>} refs\n */\n\n/**\n * @param {(data: Partial<any>) => any} fn\n * @return {string}\n */\nexport function addInlineFunction(fn) {\n  const internalName = `#${generateUID()}`;\n  inlineFunctions.set(internalName, { fn });\n  return `{${internalName}}`;\n}\n\n/** @type {Map<string, DocumentFragment>} */\nconst fragmentCache = new Map();\n/**\n * @template T1\n * @template T2\n * @param {TemplateStringsArray} strings\n * @param  {...(string|DocumentFragment|Element|((this:T1, data:T2) => any))} substitutions\n * @return {DocumentFragment}\n */\nexport function html(strings, ...substitutions) {\n  /** @type {Map<string, DocumentFragment|Element>} */\n  let tempSlots;\n  const replacements = substitutions.map((sub) => {\n    switch (typeof sub) {\n      case 'string': return sub;\n      case 'function': return addInlineFunction(sub);\n      case 'object': {\n        if (sub == null) {\n          console.warn(sub, 'is null', strings);\n          return '';\n        }\n        // Assume Element\n        const tempId = generateUID();\n        tempSlots ??= new Map();\n        tempSlots.set(tempId, sub);\n        return `<div id=\"${tempId}\"></div>`;\n      }\n      default:\n        throw new Error(`Unexpected substitution: ${sub}`);\n    }\n  });\n  const compiledString = String.raw({ raw: strings }, ...replacements);\n\n  if (tempSlots) {\n    const fragment = generateFragment(compiledString);\n    for (const [id, element] of tempSlots) {\n      const slot = fragment.getElementById(id);\n      slot.replaceWith(element);\n    }\n    return fragment;\n  }\n\n  let fragment;\n  if (fragmentCache.has(compiledString)) {\n    fragment = fragmentCache.get(compiledString);\n  } else {\n    fragment = generateFragment(compiledString);\n    fragmentCache.set(compiledString, fragment);\n  }\n\n  return /** @type {DocumentFragment} */ (fragment.cloneNode(true));\n}\n", "/* eslint-disable sort-class-members/sort-class-members */\n\nimport CompositionAdapter from './CompositionAdapter.js';\nimport { generateCSSStyleSheets, generateHTMLStyleElements } from './css.js';\nimport { observeFunction } from './observe.js';\nimport { createEmptyComment, createEmptyTextNode } from './optimizations.js';\nimport { generateFragment, inlineFunctions } from './template.js';\nimport { generateUID } from './uid.js';\n\n/**\n * @template T\n * @typedef {Composition<?>|HTMLStyleElement|CSSStyleSheet|DocumentFragment|string} CompositionPart\n */\n\n/**\n * @template {any} T\n * @callback Compositor\n * @param {...(CompositionPart<T>)} parts source for interpolation (not mutated)\n * @return {Composition<T>}\n */\n\n/**\n * @template T\n * @typedef {Object} RenderOptions\n * @prop {T} [defaults] what\n * @prop {T} [store] what\n * @prop {DocumentFragment|HTMLElement|Element} [target] where\n * @prop {ShadowRoot} [shadowRoot] where\n * @prop {any} [context] `this` on callbacks/events\n * @prop {any} [injections]\n */\n\n/**\n * @template T\n * @typedef {{\n *  target: Element|DocumentFragment,\n *  byProp: (prop: keyof T & string, value:any, data?:Partial<T>) => void,\n *  state: InitializationState,\n * } &  ((changes:Partial<T>, data:T) => void)} RenderDraw\n */\n\n/** @typedef {HTMLElementEventMap & { input: InputEvent; } } HTMLElementEventMapFixed */\n\n/**\n * @typedef {(\n * Pick<HTMLElementEventMapFixed,\n *  'auxclick' |\n *  'beforeinput' |\n *  'click' |\n *  'compositionstart' |\n *  'contextmenu' |\n *  'drag' |\n *  'dragenter' |\n *  'dragover' |\n *  'dragstart' |\n *  'drop' |\n *  'invalid' |\n *  'keydown' |\n *  'keypress' |\n *  'keyup' |\n *  'mousedown' |\n *  'mousemove' |\n *  'mouseout' |\n *  'mouseover' |\n *  'mouseup' |\n *  'pointerdown' |\n *  'pointermove' |\n *  'pointerout' |\n *  'pointerover' |\n *  'pointerup' |\n *  'reset' |\n *  'selectstart' |\n *  'submit' |\n *  'touchend' |\n *  'touchmove' |\n *  'touchstart' |\n *  'wheel'\n *  >\n *  )} HTMLElementCancellableEventMap\n */\n\n/**\n * @typedef {(\n *   HTMLElementEventMapFixed\n *   & {[P in keyof HTMLElementCancellableEventMap as `~${P}`]: HTMLElementCancellableEventMap[P]}\n *   & Record<string, Event|CustomEvent<any>>\n * )} CompositionEventMap\n */\n\n/**\n * @template {any} T\n * @template {keyof CompositionEventMap} [K = keyof CompositionEventMap]\n * @typedef {{\n * type?: K\n * tag?: string|symbol,\n * capture?: boolean;\n * once?: boolean;\n * passive?: boolean;\n * signal?: AbortSignal;\n * handleEvent?: (\n *     this: T,\n *     event: (K extends keyof CompositionEventMap ? CompositionEventMap[K] : Event) & {currentTarget:HTMLElement}\n *   ) => any;\n * prop?: string;\n * deepProp?: string[],\n * }} CompositionEventListener\n */\n\n/**\n * @template T\n * @typedef {{\n * [P in keyof CompositionEventMap]?: (keyof T & string)\n *   | ((this: T, event: CompositionEventMap[P] & {currentTarget:HTMLElement}) => any)\n *   | CompositionEventListener<T, P>\n * }} CompositionEventListenerObject\n */\n\n/**\n * @template {any} T\n * @typedef {Object} NodeBindEntry\n * @prop {string} [key]\n * @prop {number} [index]\n * @prop {string} tag\n * @prop {string|number} subnode Index of childNode or attrName\n * @prop {string[]} props\n * @prop {string[][]} deepProps\n * @prop {boolean} [negate]\n * @prop {boolean} [doubleNegate]\n * @prop {Function} [expression]\n * @prop {(options: RenderOptions<?>, element: Element, changes:any, data:any) => any} [render] custom render function\n * @prop {CompositionEventListener<T>[]} [listeners]\n * @prop {Composition<any>} [composition] // Sub composition templating (eg: array)\n * @prop {T} defaultValue\n */\n\n/** @typedef {any[]} RenderState */\n\n/**\n * @typedef RenderGraphSearch\n *  @prop {(state:InitializationState, changes:any, data:any) => any}  invocation\n *  @prop {number}  cacheIndex\n *  @prop {number}  searchIndex\n *  @prop {string | Function | string[]}  query\n *  @prop {boolean} [negate]\n *  @prop {boolean} [doubleNegate]\n *  @prop {Function}  [expression]\n *  @prop {string}  prop\n *  @prop {string[]}  deepProp\n *  @prop {string[]}  propsUsed\n *  @prop {string[][]}  deepPropsUsed\n *  @prop {any} defaultValue\n *  @prop {RenderGraphSearch}  [subSearch]\n */\n\n/**\n * @typedef RenderGraphAction\n * @prop {(state:InitializationState, value:any, changes: any, data:any) => any} invocation\n * @prop {number} [commentIndex]\n * @prop {number} [nodeIndex]\n * @prop {number} [cacheIndex]\n * @prop {string} [attrName]\n * @prop {any} [defaultValue]\n * @prop {RenderGraphSearch} search\n * @prop {InterpolateOptions['injections']} [injections]\n */\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDOMAttribute({ nodes }, value) {\n  const { nodeIndex, attrName } = this;\n  const element = /** @type {Element} */ (nodes[nodeIndex]);\n  switch (value) {\n    case undefined:\n    case null:\n    case false:\n      element.removeAttribute(attrName);\n      return false;\n    case true:\n      element.setAttribute(attrName, '');\n      return '';\n    default:\n      element.setAttribute(attrName, value);\n      return value;\n  }\n}\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDynamicNode({ nodeStates, comments, nodes }, value) {\n  const { commentIndex, nodeIndex } = this;\n  const nodeState = nodeStates[nodeIndex];\n  // eslint-disable-next-line no-bitwise\n  const hidden = nodeState & 0b0001;\n  const show = value != null && value !== false;\n  if (!show) {\n    // Should be hidden\n    if (hidden) return;\n    // Replace whatever node is there with the comment\n    let comment = comments[commentIndex];\n    if (!comment) {\n      comment = createEmptyComment();\n      comments[commentIndex] = comment;\n    }\n    nodes[nodeIndex].replaceWith(comment);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] |= 0b0001;\n    return;\n  }\n  // Must be shown\n  // Update node first (offscreen rendering)\n  const node = nodes[nodeIndex];\n  // eslint-disable-next-line no-bitwise\n  const isDynamicNode = nodeState & 0b0010;\n\n  if (typeof value === 'object') {\n    // Not string data, need to replace\n    console.warn('Dynamic nodes not supported yet');\n  } else if (isDynamicNode) {\n    const textNode = new Text(value);\n    node.replaceWith(textNode);\n    nodes[nodeIndex] = textNode;\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] &= ~0b0010;\n  } else {\n    /** @type {Text} */ (node).data = value;\n  }\n\n  // Updated, now set hidden state\n\n  if (hidden) {\n    const comment = comments[commentIndex];\n    comment.replaceWith(node);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] &= ~0b0001;\n  }\n  // Done\n}\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDOMElementAttachedState({ nodeStates, nodes, comments }, value) {\n  const { commentIndex, nodeIndex } = this;\n  // eslint-disable-next-line no-bitwise\n  const hidden = nodeStates[nodeIndex] & 1;\n  const show = value != null && value !== false;\n  if (show === !hidden) return;\n\n  const element = nodes[nodeIndex];\n  let comment = comments[commentIndex];\n  if (!comment) {\n    comment = createEmptyComment();\n    comments[commentIndex] = comment;\n  }\n  if (show) {\n    comment.replaceWith(element);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] &= ~0b0001;\n  } else {\n    element.replaceWith(comment);\n    // eslint-disable-next-line no-bitwise\n    nodeStates[nodeIndex] |= 0b0001;\n  }\n}\n\n/**\n * @type {RenderGraphAction['invocation']}\n * @this {RenderGraphAction}\n */\nfunction writeDOMHideNodeOnInit({ comments, nodeStates, nodes }) {\n  const { commentIndex, nodeIndex } = this;\n\n  const comment = createEmptyComment();\n  comments[commentIndex] = comment;\n  // eslint-disable-next-line no-bitwise\n  nodeStates[nodeIndex] |= 1;\n\n  nodes[nodeIndex].replaceWith(comment);\n}\n\n/**\n * @param {RenderGraphSearch} search\n * @param {Parameters<RenderGraphSearch['invocation']>} args\n */\nfunction executeSearch(search, ...args) {\n  const [{ caches, searchStates }] = args;\n  const { cacheIndex, searchIndex, subSearch, invocation } = search;\n  const cachedValue = caches[cacheIndex];\n  const searchState = searchStates[searchIndex];\n\n  // Ran   = 0b0001\n  // Dirty = 0b0010\n  // eslint-disable-next-line no-bitwise\n  if (searchState & 0b0001) {\n    // Return last result\n    return {\n      value: cachedValue,\n      // eslint-disable-next-line no-bitwise\n      dirty: ((searchState & 0b0010) === 0b0010),\n    };\n  }\n\n  // eslint-disable-next-line no-bitwise\n  searchStates[searchIndex] |= 0b0001;\n  let result;\n  if (invocation) {\n    if (subSearch) {\n      const subResult = executeSearch(subSearch, ...args);\n      // Use last cached value (if any)\n      if (!subResult.dirty && cachedValue !== undefined) {\n        // eslint-disable-next-line no-bitwise\n        searchStates[searchIndex] &= ~0b0010;\n        return { value: cachedValue, dirty: false };\n      }\n      // Pass from subquery\n      result = search.invocation(subResult.value);\n    } else {\n      result = search.invocation(...args);\n    }\n    if ((result === undefined) || (cachedValue === result)) {\n      // Return from cache\n      return { value: result, dirty: false };\n    }\n  }\n\n  // Overwrite cache and flag as dirty\n  caches[cacheIndex] = result;\n  // eslint-disable-next-line no-bitwise\n  searchStates[searchIndex] |= 0b0010;\n  return { value: result, dirty: true };\n}\n\n/**\n * @type {RenderGraphSearch['invocation']}\n * @this {RenderGraphSearch}\n */\nfunction searchWithExpression({ options: { context, store, injections } }, changes, data) {\n  return this.expression.call(\n    context,\n    store ?? data,\n    injections,\n  );\n}\n\n/**\n * @type {RenderGraphSearch['invocation']}\n * @this {RenderGraphSearch}\n */\nfunction searchWithProp(state, changes) {\n  return changes[this.prop];\n}\n\n/**\n * @type {RenderGraphSearch['invocation']}\n * @this {RenderGraphSearch}\n */\nfunction searchWithDeepProp(state, changes, data) {\n  let scope = changes;\n  for (const prop of this.deepProp) {\n    if (scope === null) return null;\n    if (prop in scope === false) return undefined;\n    scope = scope[prop];\n  }\n  return scope;\n}\n\n/**\n * @typedef InterpolateOptions\n * @prop {Record<string,any>} [defaults] Default values to use for interpolation\n * @prop {{iterable:string} & Record<string,any> & {index:number}} [injections] Context-specific injected properties. (Experimental)\n */\n\n/**\n * @typedef InitializationState\n * @prop {Element} lastElement\n * @prop {ChildNode} lastChildNode\n * @prop {(Element|Text)[]} nodes\n * @prop {any[]} caches\n * @prop {Comment[]} comments\n * @prop {Uint8Array} nodeStates\n * @prop {Uint8Array} searchStates\n * @prop {HTMLElement[]} refs\n * @prop {number} lastChildNodeIndex\n * @prop {RenderOptions<?>} options\n */\n\n/** Splits: `{template}text{template}` as `['', 'template', 'text', 'template', '']` */\nconst STRING_INTERPOLATION_REGEX = /{([^}]*)}/g;\n\n/**\n * Returns event listener bound to shadow root host.\n * Use this function to avoid generating extra closures\n * @this {HTMLElement}\n * @param {Function} fn\n */\nfunction buildShadowRootChildListener(fn) {\n  /** @param {Event & {currentTarget:{getRootNode: () => ShadowRoot}}} event */\n  return function onShadowRootChildEvent(event) {\n    const host = event.currentTarget.getRootNode().host;\n    fn.call(host, event);\n  };\n}\n\n/**\n * @example\n *  propFromObject('foo', {foo:'bar'}) == ['foo', 'bar'];\n * @param {string} prop\n * @param {any} source\n * @return {any}\n */\nfunction propFromObject(prop, source) {\n  if (source) {\n    return source[prop];\n  }\n  return undefined;\n}\n\n/**\n * @example\n *  deepPropFromObject(\n *    ['address', 'home, 'houseNumber'],\n *    {\n *      address: {\n *        home: {\n *          houseNumber:35,\n *        },\n *      }\n *    }\n * ) == [houseNumber, 35]\n * @param {string[]} nameArray\n * @param {any} source\n * @return {any}\n */\nfunction deepPropFromObject(nameArray, source) {\n  if (!source) return undefined;\n  let scope = source;\n  let prop;\n  for (prop of nameArray) {\n    if (typeof scope === 'object') {\n      if (scope === null) return null;\n      if (!(prop in scope)) return undefined;\n      scope = scope[prop];\n    } else {\n      return scope[prop];\n    }\n  }\n  return scope;\n}\n\n/**\n * @param {string} prop\n * @param {any} source\n * @return {any}\n */\nfunction valueFromPropName(prop, source) {\n  let value = source;\n  for (const child of prop.split('.')) {\n    if (!child) return null;\n    // @ts-ignore Skip cast\n    value = value[child];\n    if (value == null) return null;\n  }\n  if (value === source) return null;\n  return value;\n}\n\nconst compositionCache = new Map();\n\n/** @template T */\nexport default class Composition {\n  static EVENT_PREFIX_REGEX = /^([*1~]+)?(.*)$/;\n\n  _interpolationState = {\n    nodeIndex: -1,\n    searchIndex: 0,\n    cacheIndex: 0,\n    commentIndex: 0,\n    /** @type {this['nodesToBind'][0]} */\n    nodeEntry: null,\n  };\n\n  // eslint-disable-next-line symbol-description\n  static shadowRootTag = Symbol();\n\n  /** @type {{tag:string, textNodes: number[]}[]} */\n  nodesToBind = [];\n\n  /** @type {string[]} */\n  props = [];\n\n  /** @type {RenderGraphSearch[]} */\n  searches = [];\n\n  /** @type {any[]} */\n  initCache = [];\n\n  /**\n   * Index of searches by query (dotted notation for deep props)\n   * @type {Map<Function|string, RenderGraphSearch>}\n   */\n  searchByQuery;\n\n  /**\n   * Index of searches by query (dotted notation for deep props)\n   * @type {Map<string, RenderGraphAction[]>}\n   */\n  actionsByPropsUsed;\n\n  /** @type {RenderGraphAction[]} */\n  postInitActions = [];\n\n  /** @type {Set<string>} */\n  tagsWithBindings;\n\n  /**\n   * Array of element tags\n   * @type {string[]}\n   */\n  tags = [];\n\n  /**\n   * Data of arrays used in templates\n   * Usage of a [mdw-for] will create an ArrayLike expectation based on key\n   * Only store metadata, not actual data. Currently only needs length.\n   * TBD if more is needed later\n   * Referenced by property key (string)\n   * @type {CompositionAdapter<T>}\n   */\n  adapter;\n\n  /**\n   * Collection of events to bind.\n   * Indexed by ID\n   * @type {Map<string|symbol, CompositionEventListener<any>[]>}\n   */\n  events;\n\n  /**\n   * Snapshot of composition at initial state.\n   * This fragment can be cloned for first rendering, instead of calling\n   * of using `render()` to construct the initial DOM tree.\n   * @type {DocumentFragment}\n   */\n  cloneable;\n\n  /** @type {(HTMLStyleElement|CSSStyleSheet)[]} */\n  styles = [];\n\n  /** @type {CSSStyleSheet[]} */\n  adoptedStyleSheets = [];\n\n  /** @type {DocumentFragment} */\n  stylesFragment;\n\n  /**\n   * List of IDs used by template elements\n   * May be needed to be removed when adding to non-DocumentFragment\n   * @type {string[]}\n   */\n  allIds = [];\n\n  /**\n   * Collection of IDs used for referencing elements\n   * Not meant for live DOM. Removed before attaching to document\n   */\n  /** @type {Set<string>} */\n  temporaryIds;\n\n  /** Flag set when template and styles have been interpolated */\n  interpolated = false;\n\n  /**\n   * @param {(CompositionPart<T>)[]} parts\n   */\n  constructor(...parts) {\n    /**\n     * Template used to build interpolation and cloneable\n     */\n    this.template = generateFragment();\n    this.append(...parts);\n  }\n\n  * [Symbol.iterator]() {\n    for (const part of this.styles) {\n      yield part;\n    }\n    yield this.template;\n  }\n\n  /**\n   * @template T\n   * @param  {ConstructorParameters<typeof Composition<T>>} parts\n   * @return {Composition<T>}\n   */\n  static compose(...parts) {\n    for (const [cache, comp] of compositionCache) {\n      if (cache.length !== parts.length) continue;\n      if (parts.every((part, index) => part === cache[index])) {\n        return comp;\n      }\n    }\n\n    const composition = new Composition(...parts);\n    compositionCache.set(parts, composition);\n    return composition;\n  }\n\n  /**\n   * @param {CompositionPart<T>[]} parts\n   */\n  append(...parts) {\n    for (const part of parts) {\n      if (typeof part === 'string') {\n        this.append(generateFragment(part.trim()));\n      } else if (part instanceof Composition) {\n        this.append(...part);\n      } else if (part instanceof DocumentFragment) {\n        this.template.append(part);\n      } else if (part instanceof CSSStyleSheet || part instanceof HTMLStyleElement) {\n        this.styles.push(part);\n      }\n    }\n    // Allow chaining\n    return this;\n  }\n\n  /** @param {CompositionEventListener<T>} listener */\n  addCompositionEventListener(listener) {\n    const key = listener.tag ?? '';\n    // eslint-disable-next-line no-multi-assign\n    const events = (this.events ??= new Map());\n    if (events.has(key)) {\n      events.get(key).push(listener);\n    } else {\n      events.set(key, [listener]);\n    }\n    return this;\n  }\n\n  /**\n   * @param {string|symbol} tag\n   * @param {EventTarget} target\n   * @param {any} [context]\n   * @return {void}\n   */\n  #bindCompositionEventListeners(tag, target, context) {\n    if (!this.events?.has(tag)) return;\n    for (const event of this.events.get(tag)) {\n      let listener;\n      if (event.handleEvent) {\n        listener = event.handleEvent;\n      } else if (event.deepProp.length) {\n        listener = deepPropFromObject(event.deepProp, this.interpolateOptions.defaults);\n      } else {\n        listener = propFromObject(event.prop, this.interpolateOptions.defaults);\n      }\n      target.addEventListener(event.type, context ? listener.bind(context) : listener, event);\n    }\n  }\n\n  /**\n   * TODO: Add types and clean up closure leak\n   * Updates component nodes based on data.\n   * Expects data in JSON Merge Patch format\n   * @see https://www.rfc-editor.org/rfc/rfc7386\n   * @template {Object} T\n   * @param {Partial<T>} changes what specifically\n   * @param {T} [data]\n   * @param {RenderOptions<T>} [options]\n   * @return {RenderDraw<T>} anchor\n   */\n  render(changes, data, options = {}) {\n    if (!this.interpolated) {\n      this.interpolate({\n        defaults: data ?? changes,\n        ...options,\n      });\n    }\n\n    const instanceFragment = /** @type {DocumentFragment} */ (this.cloneable.cloneNode(true));\n\n    const shadowRoot = options.shadowRoot;\n    const target = shadowRoot ?? options.target ?? instanceFragment.firstElementChild;\n\n    /** @type {InitializationState} */\n    const initState = {\n      lastChildNode: null,\n      lastChildNodeIndex: 0,\n      lastElement: null,\n      nodeStates: new Uint8Array(this._interpolationState.nodeIndex + 1),\n      searchStates: new Uint8Array(this._interpolationState.searchIndex),\n      comments: [],\n      nodes: [],\n      caches: this.initCache.slice(),\n      refs: [],\n      options,\n    };\n\n    const { nodes, refs, searchStates, caches } = initState;\n    for (const { tag, textNodes } of this.nodesToBind) {\n      /** @type {Text} */\n      let textNode;\n      if (tag === '') {\n        if (!textNodes.length) {\n          console.warn('why was root tagged?');\n          continue;\n        }\n        console.warn('found empty tag??');\n        refs.push(null);\n        nodes.push(null);\n        textNode = /** @type {Text} */ (instanceFragment.firstChild);\n      } else {\n        const element = instanceFragment.getElementById(tag);\n        refs.push(element);\n        nodes.push(element);\n        this.#bindCompositionEventListeners(tag, element, options.context);\n        if (!textNodes.length) continue;\n        textNode = /** @type {Text} */ (element.firstChild);\n      }\n\n      let currentIndex = 0;\n      for (const index of textNodes) {\n        while (index !== currentIndex) {\n          textNode = /** @type {Text} */ (textNode.nextSibling);\n          currentIndex++;\n        }\n        nodes.push(textNode);\n      }\n    }\n    this.#bindCompositionEventListeners('', options.context);\n    this.#bindCompositionEventListeners(Composition.shadowRootTag, options.context.shadowRoot, options.context);\n\n    for (const action of this.postInitActions) {\n      action.invocation(initState);\n    }\n\n    /**\n     * @param {Partial<T>} changes\n     * @param {T} data\n     */\n    const draw = (changes, data) => {\n      let ranSearch = false;\n      for (const prop of this.props) {\n        if (!this.actionsByPropsUsed?.has(prop)) continue;\n        if (!(prop in changes)) continue;\n        const actions = this.actionsByPropsUsed.get(prop);\n        for (const action of actions) {\n          ranSearch = true;\n          const { dirty, value } = executeSearch(action.search, initState, changes, data);\n          if (dirty) {\n            // console.log('dirty, updating from batch', initState.nodes[action.nodeIndex], 'with', value);\n            action.invocation(initState, value, changes, data);\n          }\n        }\n      }\n      if (!ranSearch) return;\n      searchStates.fill(0);\n    };\n\n    if (shadowRoot) {\n      options.context ??= shadowRoot.host;\n      if ('adoptedStyleSheets' in shadowRoot) {\n        if (this.adoptedStyleSheets.length) {\n          shadowRoot.adoptedStyleSheets = [\n            ...shadowRoot.adoptedStyleSheets,\n            ...this.adoptedStyleSheets,\n          ];\n        }\n      } else if (this.stylesFragment.hasChildNodes()) {\n        instanceFragment.prepend(this.stylesFragment.cloneNode(true));\n      }\n    } else {\n      options.context ??= target;\n    }\n\n    if (changes !== this.interpolateOptions.defaults) {\n      // Not default, overwrite nodes\n      draw(changes, data);\n    }\n\n    if (shadowRoot) {\n      shadowRoot.append(instanceFragment);\n      customElements.upgrade(shadowRoot);\n    }\n\n    draw.target = target;\n\n    /**\n     * @param {keyof T & string} prop\n     * @param {any} value\n     * @param {Partial<T>} [data]\n     */\n    draw.byProp = (prop, value, data) => {\n      if (!this.actionsByPropsUsed?.has(prop)) return;\n      let ranSearch = false;\n\n      // Update search\n      if (this.searchByQuery?.has(prop)) {\n        ranSearch = true;\n        const search = this.searchByQuery.get(prop);\n        const cachedValue = caches[search.cacheIndex];\n        if (cachedValue === value) {\n          return;\n        }\n        caches[search.cacheIndex] = value;\n        searchStates[search.searchIndex] = 0b0011;\n      }\n\n      /** @type {Partial<T>} */\n      let changes;\n      const actions = this.actionsByPropsUsed.get(prop);\n      for (const action of actions) {\n        if (action.search.query === prop) {\n          action.invocation(initState, value);\n        } else {\n          // @ts-expect-error Skip cast\n          changes ??= { [prop]: value };\n          data ??= changes;\n          ranSearch = true;\n          const result = executeSearch(action.search, initState, changes, data);\n          if (result.dirty) {\n            // console.debug('dirty, updating by prop', prop, initState.nodes[action.nodeIndex], 'with', result.value);\n            action.invocation(initState, result.value, changes, data);\n          }\n        }\n      }\n\n      if (!ranSearch) return;\n      searchStates.fill(0);\n    };\n    draw.state = initState;\n    return draw;\n  }\n\n  /**\n   * @param {Attr|Text} node\n   * @param {Element|null} [element]\n   * @param {InterpolateOptions} [options]\n   * @param {string} [parsedValue]\n   * @return {true|undefined} remove node\n   */\n  #interpolateNode(node, element, options, parsedValue) {\n    const { nodeValue, nodeName, nodeType } = node;\n\n    /** @type {Attr} */\n    let attr;\n    /** @type {Text} */\n    let text;\n    if (nodeType === Node.ATTRIBUTE_NODE) {\n      attr = /** @type {Attr} */ (node);\n    } else {\n      text = /** @type {Text} */ (node);\n    }\n\n    // Get template strings(s) in node if not passed\n    if (parsedValue == null) {\n      if (!nodeValue) return;\n      const trimmed = nodeValue.trim();\n      if (!trimmed) return;\n      if (attr || element?.tagName === 'STYLE') {\n        if (trimmed[0] !== '{') return;\n        const { length } = trimmed;\n        if (trimmed[length - 1] !== '}') return;\n        parsedValue = trimmed.slice(1, -1);\n        // TODO: Support segmented attribute values\n      } else {\n        // Split text node into segments\n        // TODO: Benchmark indexOf pre-check vs regex\n\n        const segments = trimmed.split(STRING_INTERPOLATION_REGEX);\n        if (segments.length < 3) return;\n        if (segments.length === 3 && !segments[0] && !segments[2]) {\n          parsedValue = segments[1];\n        } else {\n          for (const [index, segment] of segments.entries()) {\n            // is even = is template string\n            if (index % 2) {\n              const newNode = createEmptyTextNode();\n              text.before(newNode);\n              this.#interpolateNode(newNode, element, options, segment);\n            } else if (segment) {\n              text.before(segment);\n            }\n          }\n          // eslint-disable-next-line consistent-return\n          return true;\n        }\n      }\n    }\n\n    // Check mutations\n\n    const query = parsedValue;\n    const negate = parsedValue[0] === '!';\n    let doubleNegate = false;\n    if (negate) {\n      parsedValue = parsedValue.slice(1);\n      doubleNegate = parsedValue[0] === '!';\n      if (doubleNegate) {\n        parsedValue = parsedValue.slice(1);\n      }\n    }\n\n    let isEvent;\n    let textNodeIndex;\n\n    if (text) {\n      // eslint-disable-next-line unicorn/consistent-destructuring\n      if (element !== text.parentElement) {\n        console.warn('mismatch?');\n        element = text.parentElement;\n      }\n      textNodeIndex = 0;\n      /** @type {ChildNode} */\n      let prev = text;\n      while ((prev = prev.previousSibling)) {\n        textNodeIndex++;\n      }\n    } else {\n      // @ts-ignore Skip cast\n      // eslint-disable-next-line unicorn/consistent-destructuring\n      if (element !== attr.ownerElement) {\n        console.warn('mismatch?');\n        element = attr.ownerElement;\n      }\n      if (nodeName.startsWith('on')) {\n        // Do not interpolate inline event listeners\n        const hyphenIndex = nodeName.indexOf('-');\n        if (hyphenIndex === -1) return;\n        isEvent = hyphenIndex === 2;\n      }\n    }\n\n    if (isEvent) {\n      element.removeAttribute(nodeName);\n      const tag = this.#tagElement(element);\n      const eventType = nodeName.slice(3);\n      const [, flags, type] = eventType.match(/^([*1~]+)?(.*)$/);\n\n      let handleEvent;\n      /** @type {string} */\n      let prop;\n      /** @type {string[]} */\n      let deepProp = [];\n      if (parsedValue.startsWith('#')) {\n        handleEvent = inlineFunctions.get(parsedValue).fn;\n      } else {\n        const parsedProps = parsedValue.split('.');\n        if (parsedProps.length === 1) {\n          prop = parsedValue;\n          deepProp = [];\n        } else {\n          prop = parsedProps[0];\n          deepProp = parsedProps;\n        }\n      }\n\n      this.addCompositionEventListener({\n        tag,\n        type,\n        handleEvent,\n        prop,\n        deepProp,\n        once: flags?.includes('1'),\n        passive: flags?.includes('~'),\n        capture: flags?.includes('*'),\n      });\n\n      return;\n    }\n\n    /** @type {RenderGraphSearch} */\n    let search;\n\n    if (this.searchByQuery?.has(query)) {\n      search = this.searchByQuery.get(query);\n    } else {\n      // Has subquery?\n      const subquery = parsedValue;\n      const isSubquery = subquery !== query;\n      /** @type {RenderGraphSearch} */\n      let subSearch;\n      if (isSubquery && this.searchByQuery?.has(subquery)) {\n        subSearch = this.searchByQuery.get(subquery);\n      } else {\n        // Construct subsearch, even is not subquery.\n        /** @type {Function} */\n        let expression;\n        /** @type {string[]} */\n        let propsUsed;\n        /** @type {string[][]} */\n        let deepPropsUsed;\n        let defaultValue;\n        let prop;\n        let deepProp;\n        let invocation;\n\n        let inlineFunctionOptions;\n        // Is Inline Function?\n        if (parsedValue.startsWith('#')) {\n          inlineFunctionOptions = inlineFunctions.get(parsedValue);\n          if (!inlineFunctionOptions) {\n            console.warn(`Invalid interpolation value: ${parsedValue}`);\n            return;\n          }\n          expression = inlineFunctionOptions.fn;\n          invocation = searchWithExpression;\n          if (inlineFunctionOptions.props) {\n          // console.log('This function has already been called. Reuse props', inlineFunctionOptions, this);\n            propsUsed = inlineFunctionOptions.props;\n            deepPropsUsed = inlineFunctionOptions.deepProps;\n            defaultValue = inlineFunctionOptions.defaultValue ?? null;\n          } else {\n            defaultValue = inlineFunctionOptions.fn;\n          }\n        } else {\n          defaultValue = null;\n          if (options?.defaults) {\n            defaultValue = deepPropFromObject(parsedValue.split('.'), options.defaults) ?? null;\n          }\n          if (defaultValue == null && options?.injections) {\n            defaultValue = valueFromPropName(parsedValue, options.injections);\n            // console.log('default value from injection', parsedValue, { defaultValue });\n          }\n        }\n\n        if (!propsUsed) {\n          if (typeof defaultValue === 'function') {\n          // Value must be reinterpolated and function observed\n            const observeResult = observeFunction.call(this, defaultValue, options?.defaults, options?.injections);\n            const uniqueProps = new Set([\n              ...observeResult.props.this,\n              ...observeResult.props.args[0],\n              ...observeResult.props.args[1],\n            ]);\n            const uniqueDeepProps = new Set([\n              ...observeResult.deepPropStrings.this,\n              ...observeResult.deepPropStrings.args[0],\n            ]);\n            expression = defaultValue;\n            defaultValue = observeResult.defaultValue;\n            propsUsed = [...uniqueProps];\n            deepPropsUsed = [...uniqueDeepProps].map((deepPropString) => deepPropString.split('.'));\n            invocation = searchWithExpression;\n          // console.log(this.static.name, fn.name || parsedValue, combinedSet);\n          } else {\n          // property binding\n            const parsedProps = parsedValue.split('.');\n            if (parsedProps.length === 1) {\n              prop = parsedValue;\n              propsUsed = [prop];\n              invocation = searchWithProp;\n            } else {\n              propsUsed = [parsedProps[0]];\n              deepProp = parsedProps;\n              deepPropsUsed = [parsedProps];\n              invocation = searchWithDeepProp;\n            }\n\n            // TODO: Rewrite property as deep with array index?\n          }\n        }\n\n        if (inlineFunctionOptions) {\n          inlineFunctionOptions.defaultValue = defaultValue;\n          inlineFunctionOptions.props = propsUsed;\n          inlineFunctionOptions.deepProps = deepPropsUsed;\n        }\n        subSearch = {\n          cacheIndex: this._interpolationState.cacheIndex++,\n          searchIndex: this._interpolationState.searchIndex++,\n          query: subquery,\n          defaultValue,\n          subSearch: null,\n          prop,\n          propsUsed,\n          deepProp,\n          deepPropsUsed,\n          invocation,\n          expression,\n        };\n        this.addSearch(subSearch);\n      }\n      if (isSubquery) {\n        search = {\n          cacheIndex: this._interpolationState.cacheIndex++,\n          searchIndex: this._interpolationState.searchIndex++,\n          query,\n          subSearch,\n          negate,\n          doubleNegate,\n          prop: subSearch.prop,\n          deepProp: subSearch.deepProp,\n          propsUsed: subSearch.propsUsed,\n          deepPropsUsed: subSearch.deepPropsUsed,\n          defaultValue: doubleNegate ? !!subSearch.defaultValue\n            : (negate ? !subSearch.defaultValue : subSearch.defaultValue),\n          invocation(value) {\n            if (this.doubleNegate) return !!value;\n            if (this.negate) return !value;\n            console.warn('Unknown query mutation', this.query);\n            return value;\n          },\n        };\n        this.addSearch(search);\n      } else {\n        // Store as search instead\n        search = subSearch;\n      }\n    }\n\n    // Tag\n    let tag;\n    let subnode = null;\n    let defaultValue = search.defaultValue;\n    if (text) {\n      subnode = textNodeIndex;\n    } else if (nodeName === 'mdw-if') {\n      tag = this.#tagElement(element);\n      element.removeAttribute(nodeName);\n      defaultValue = defaultValue != null && defaultValue !== false;\n    } else {\n      subnode = nodeName;\n      if (nodeName === 'id' || defaultValue == null || defaultValue === false) {\n        element.removeAttribute(nodeName);\n      } else {\n        element.setAttribute(nodeName, defaultValue === true ? '' : defaultValue);\n      }\n    }\n\n    tag ??= this.#tagElement(element);\n\n    // Node entry\n    let nodeEntry = this._interpolationState.nodeEntry;\n    if (!nodeEntry || nodeEntry.tag !== tag) {\n      nodeEntry = {\n        tag,\n        textNodes: [],\n      };\n      this._interpolationState.nodeEntry = nodeEntry;\n      this.nodesToBind.push(nodeEntry);\n      this._interpolationState.nodeIndex++;\n    }\n\n    /** @type {RenderGraphAction} */\n    let action;\n\n    // Node Action\n    if (text) {\n      nodeEntry.textNodes.push(textNodeIndex);\n\n      this._interpolationState.nodeIndex++;\n      action = {\n        nodeIndex: this._interpolationState.nodeIndex,\n        commentIndex: this._interpolationState.commentIndex++,\n        invocation: writeDynamicNode,\n        defaultValue,\n        search,\n      };\n      switch (typeof defaultValue) {\n        case 'string':\n          text.data = defaultValue;\n          break;\n        case 'number':\n          // Manually coerce to string (0 will be empty otherwise)\n          text.data = `${defaultValue}`;\n          break;\n        default:\n          text.data = '';\n          break;\n      }\n    } else if (subnode) {\n      action = {\n        nodeIndex: this._interpolationState.nodeIndex,\n        attrName: /** @type {string} */ (subnode),\n        defaultValue,\n        invocation: writeDOMAttribute,\n        search,\n      };\n    } else {\n      action = {\n        nodeIndex: this._interpolationState.nodeIndex,\n        commentIndex: this._interpolationState.commentIndex++,\n        defaultValue,\n        invocation: writeDOMElementAttachedState,\n        search,\n      };\n      if (!defaultValue) {\n        this.postInitActions.push({\n          ...action,\n          invocation: writeDOMHideNodeOnInit,\n        });\n      }\n    }\n\n    this.addAction(action);\n    // eslint-disable-next-line no-multi-assign\n    const tagsWithBindings = (this.tagsWithBindings ??= new Set());\n    tagsWithBindings.add(tag);\n  }\n\n  /**\n   * @param {Element} element\n   * @return {string}\n   */\n  #tagElement(element) {\n    if (!element) return '';\n    let id = element.id;\n    if (id) {\n      if (!this.allIds.includes(id)) {\n        this.allIds.push(id);\n      }\n    } else {\n      id = generateUID();\n      // eslint-disable-next-line no-multi-assign\n      const temporaryIds = (this.temporaryIds ??= new Set());\n      temporaryIds.add(id);\n      this.allIds.push(id);\n      element.id = id;\n    }\n    return id;\n  }\n\n  /**\n   * TODO: Subtemplating lacks optimization, though functional.\n   * - Would benefit from custom type handler for arrays\n   * to avoid multi-iteration change-detection.\n   * - Could benefit from debounced/throttled render\n   * - Consider remap of {item.prop} as {array[index].prop}\n   * @param {Element} element\n   * @param {InterpolateOptions} options\n   * @return {?Composition<?>}\n   */\n  #interpolateIterable(element, options) {\n    // TODO: Microbenchmark element.attributes\n    const forAttr = element.getAttribute('mdw-for');\n    const trimmed = forAttr?.trim();\n    if (!trimmed) {\n      console.warn('Malformed mdw-for found at', element);\n      return null;\n    }\n\n    if (trimmed[0] !== '{') {\n      console.warn('Malformed mdw-for found at', element);\n      return null;\n    }\n    const { length } = trimmed;\n    if (trimmed[length - 1] !== '}') {\n      console.warn('Malformed mdw-for found at', element);\n      return null;\n    }\n    const parsedValue = trimmed.slice(1, -1);\n    const [valueName, iterableName] = parsedValue.split(/\\s+of\\s+/);\n    element.removeAttribute('mdw-for');\n    // Create a new composition targetting element as root\n\n    const elementAnchor = element.ownerDocument.createElement('template');\n    element.replaceWith(elementAnchor);\n    const tag = this.#tagElement(elementAnchor);\n    // console.log('tagging placeholder element with', elementAnchor, tag);\n\n    let nodeEntry = this._interpolationState.nodeEntry;\n    if (!nodeEntry || nodeEntry.tag !== tag) {\n      nodeEntry = {\n        tag,\n        textNodes: [],\n      };\n      this._interpolationState.nodeEntry = nodeEntry;\n      this.nodesToBind.push(nodeEntry);\n      this._interpolationState.nodeIndex++;\n    }\n\n    const newComposition = new Composition();\n    newComposition.template.append(element);\n    // Move uninterpolated element to new composition template.\n    /** @type {InterpolateOptions['injections']} */\n    const injections = {\n      ...options.injections,\n      [valueName]: null,\n      index: null,\n    };\n\n    const propsUsed = [iterableName];\n    /** @type {RenderGraphSearch} */\n    const search = {\n      cacheIndex: this._interpolationState.cacheIndex++,\n      searchIndex: this._interpolationState.searchIndex++,\n      query: null,\n      prop: null,\n      deepProp: null,\n      propsUsed,\n      deepPropsUsed: [[iterableName]],\n      defaultValue: {},\n      invocation: null,\n    };\n\n    /** @type {RenderGraphAction} */\n    const action = {\n      defaultValue: null,\n      nodeIndex: this._interpolationState.nodeIndex,\n      search,\n      commentIndex: this._interpolationState.commentIndex++,\n      injections,\n      invocation(state, value, changes, data) {\n        if (!newComposition.adapter) {\n          // console.log({ state.options });\n          const instanceAnchorElement = state.nodes[this.nodeIndex];\n          const anchorNode = createEmptyComment();\n          // Avoid leak\n          state.comments[this.commentIndex] = anchorNode;\n          instanceAnchorElement.replaceWith(anchorNode);\n          newComposition.adapter = new CompositionAdapter({\n            anchorNode,\n            composition: newComposition,\n            renderOptions: {\n              target: null,\n              context: state.options.context,\n              store: state.options.store,\n              injections: this.injections,\n            },\n          });\n        }\n        const { adapter } = newComposition;\n        const iterable = (data ?? state.options.store)[iterableName];\n        // Remove oversized\n        if (!iterable || iterable.length === 0) {\n          adapter.removeEntries();\n          return;\n        }\n        const changeList = changes[iterableName];\n        const innerChanges = { ...changes };\n        const needTargetAll = newComposition.props.some((prop) => prop !== iterableName && prop in changes);\n\n        adapter.startBatch();\n        let isArray;\n        if (!needTargetAll && !(isArray = Array.isArray(changeList))) {\n          const iterator = isArray ? changeList.entries() : Object.entries(changeList);\n          // console.log('changeList render', iterator);\n          for (const [key, change] of iterator) {\n            if (key === 'length') continue;\n            if (change === null) {\n              // console.warn('null?', 'remove?', key);\n              continue;\n            }\n            const index = (+key);\n            const resource = iterable[index];\n            innerChanges[valueName] = change;\n            this.injections[valueName] = resource;\n            this.injections.index = index;\n\n            adapter.renderData(index, innerChanges, data, resource, change);\n          }\n        } else {\n          if (!changeList) {\n            delete innerChanges[valueName];\n          }\n          // console.log('full array render', iterable);\n          for (const [index, resource] of iterable.entries()) {\n            let change;\n            if (changeList) {\n              // console.warn('full array render has changeList?', changeList);\n              if (!needTargetAll && !(index in changeList)) {\n                console.warn('huh?');\n                continue;\n              }\n              change = changeList[index];\n              if (change === null) {\n                // console.warn('remove?');\n                continue;\n              }\n              innerChanges[valueName] = change;\n            }\n            this.injections[valueName] = resource;\n            this.injections.index = index;\n\n            adapter.renderData(index, innerChanges, data, resource, change);\n            // adapter.renderIndex(index, innerChanges, data, resource);\n          }\n        }\n        adapter.stopBatch();\n\n        adapter.removeEntries(iterable.length);\n      },\n\n    };\n\n    newComposition.interpolate({\n      defaults: options.defaults,\n      injections,\n    });\n\n    propsUsed.push(...newComposition.props);\n    this.addSearch(search);\n    this.addAction(action);\n    // eslint-disable-next-line no-multi-assign\n    const tagsWithBindings = (this.tagsWithBindings ??= new Set());\n    tagsWithBindings.add(tag);\n    // console.log('adding', iterable, 'bind to', this);\n    // this.addBinding(iterable, entry);\n    return newComposition;\n  }\n\n  /**\n   * @param {InterpolateOptions} [options]\n   */\n  interpolate(options) {\n    this.interpolateOptions = options;\n    // console.log('Template', [...this.template.children].map((child) => child.outerHTML).join('\\n'));\n\n    // Copy template before working on it\n    // Store into `cloneable` to split later into `interpolation`\n    this.cloneable = /** @type {DocumentFragment} */ (this.template.cloneNode(true));\n\n    const TREE_WALKER_FILTER = 5; /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT */\n\n    const treeWalker = document.createTreeWalker(this.cloneable, TREE_WALKER_FILTER);\n    /** Note: `node` and treeWalker.currentNode may deviate */\n    let node = treeWalker.nextNode();\n    while (node) {\n      /** @type {Element} */\n      let element = null;\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n          element = /** @type {Element} */ (node);\n          if (element.tagName === 'TEMPLATE') {\n            while (element.contains(node = treeWalker.nextNode()));\n            continue;\n          }\n\n          if (element.tagName === 'SCRIPT') {\n            console.warn('<script> element found.');\n            while (element.contains(node = treeWalker.nextNode()));\n            continue;\n          }\n\n          if (element.hasAttribute('mdw-for')) {\n            while (element.contains(node = treeWalker.nextNode()));\n            this.#interpolateIterable(element, options);\n            continue;\n          } else {\n            // @ts-expect-error Bad typings\n            const idAttr = element.attributes.id;\n            if (idAttr) {\n              this.#interpolateNode(idAttr, element, options);\n              this.#tagElement(element);\n            }\n            for (const attr of [...element.attributes].reverse()) {\n              if (attr.nodeName === 'id') continue; // Already handled\n              this.#interpolateNode(attr, element, options);\n            }\n          }\n\n          break;\n        case Node.TEXT_NODE:\n          element = node.parentElement;\n          if (this.#interpolateNode(/** @type {Text} */ (node), element, options)) {\n            const nextNode = treeWalker.nextNode();\n            /** @type {Text} */ (node).remove();\n            node = nextNode;\n            continue;\n          }\n          break;\n        default:\n          throw new Error(`Unexpected node type: ${node.nodeType}`);\n      }\n      node = treeWalker.nextNode();\n    }\n\n    if ('adoptedStyleSheets' in document) {\n      this.adoptedStyleSheets = [\n        ...generateCSSStyleSheets(this.styles),\n      ];\n    } else {\n      this.stylesFragment = generateFragment();\n      this.stylesFragment.append(\n        ...generateHTMLStyleElements(this.styles),\n      );\n    }\n\n    this.props = this.actionsByPropsUsed\n      ? [...this.actionsByPropsUsed.keys()]\n      : [];\n\n    for (const id of this.allIds) {\n      if (!this.tagsWithBindings?.has(id)) {\n        this.nodesToBind.push({\n          tag: id,\n          textNodes: [],\n        });\n      }\n    }\n\n    this.tags = this.nodesToBind.map((n) => n.tag);\n    this.interpolated = true;\n\n    // console.log('Cloneable', [...this.cloneable.children].map((child) => child.outerHTML).join('\\n'));\n  }\n\n  /**\n   * @param {RenderGraphSearch} search\n   * @return {RenderGraphSearch}\n   */\n  addSearch(search) {\n    this.searches.push(search);\n    if (search.query) {\n      // eslint-disable-next-line no-multi-assign\n      const searchByQuery = (this.searchByQuery ??= new Map());\n      searchByQuery.set(search.query, search);\n      this.initCache[search.cacheIndex] = search.defaultValue;\n    }\n    return search;\n  }\n\n  /**\n   * @param {RenderGraphAction} action\n   * @return {RenderGraphAction}\n   */\n  addAction(action) {\n    // eslint-disable-next-line no-multi-assign\n    const actionsByPropsUsed = (this.actionsByPropsUsed ??= new Map());\n    for (const prop of action.search.propsUsed) {\n      if (actionsByPropsUsed.has(prop)) {\n        actionsByPropsUsed.get(prop).push(action);\n      } else {\n        actionsByPropsUsed.set(prop, [action]);\n      }\n    }\n    return action;\n  }\n}\n", "/* eslint-disable max-classes-per-file */\n\nimport Composition from './Composition.js';\nimport { css } from './css.js';\nimport { attrNameFromPropName, attrValueFromDataValue } from './dom.js';\nimport { applyMergePatch } from './jsonMergePatch.js';\nimport { defineObservableProperty } from './observe.js';\nimport { addInlineFunction, html } from './template.js';\n\n/** @typedef {import('./observe.js').ObserverPropertyType} ObserverPropertyType */\n\n/**\n * @template {any} T\n * @typedef {{\n * [P in keyof T]:\n *   T[P] extends (...args:any[]) => infer T2 ? T2\n *     : T[P] extends ObserverPropertyType\n *     ? import('./observe.js').ParsedObserverPropertyType<T[P]>\n *     : T[P] extends {type: ObserverPropertyType}\n *     ? import('./observe.js').ParsedObserverPropertyType<T[P]['type']>\n *     : T[P] extends ObserverOptions<null, infer T2>\n *     ? unknown extends T2 ? string : T2\n *     : never\n * }} ParsedProps\n */\n\n/**\n * @template {ObserverPropertyType} T1\n * @template {any} T2\n * @template {Object} [C=any]\n * @typedef {import('./observe.js').ObserverOptions<T1,T2,C>} ObserverOptions\n */\n\n/**\n * @template {{ prototype: unknown; }} T\n * @typedef {T} ClassOf<T>\n */\n\n/**\n * @template {any} [T=any]\n * @template {any[]} [A=any[]]\n * @typedef {abstract new (...args: A) => T} Class\n */\n\n/**\n * @template {any} T1\n * @template {any} [T2=T1]\n * @callback HTMLTemplater\n * @param {TemplateStringsArray} string\n * @param {...(string|DocumentFragment|Element|((this:T1, data:T2) => any))} substitutions\n * @return {DocumentFragment}\n */\n\n/**\n * @template {any} [T1=any]\n * @template {any} [T2=T1]\n * @typedef {Object} CallbackArguments\n * @prop {Composition<T1>} composition\n * @prop {Record<string, HTMLElement>} refs\n * @prop {HTMLTemplater<T1, Partial<T2>>} html\n * @prop {(fn: (this:T1, data: T2) => any) => string} inline\n * @prop {DocumentFragment} template\n * @prop {T1} element\n */\n\n/**\n * @template {any} T1\n * @template {any} [T2=T1]\n * @typedef {{\n * composed?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * constructed?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * connected?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * disconnected?: (this: T1, options: CallbackArguments<T1, T2>) => any,\n * props?: {\n *   [P in keyof T1] : (\n *   this: T1,\n *   oldValue: T1[P],\n *   newValue: T1[P],\n *   changes:any,\n *   element: T1\n *   ) => any\n * },\n * attrs?: {[K in keyof any]: (\n *   this: T1,\n *   oldValue: string,\n *   newValue: string,\n *   element: T1\n *   ) => unknown\n * },\n * } & {\n * [P in keyof T1 & string as `${P}Changed`]?: (\n *   this: T1,\n *   oldValue: T1[P],\n *   newValue: T1[P],\n *   changes:any,\n *   element: T1\n *   ) => any\n * }} CompositionCallback\n */\n\n/**\n * @template {Object} C\n * @typedef {{\n *  [P in string] :\n *    ObserverPropertyType\n *    | ObserverOptions<ObserverPropertyType, unknown, C>\n *    | ((this:C, data:Partial<C>, fn?: () => any) => any)\n * }} IDLParameter\n */\n\n/**\n * @template T\n * @typedef {(T | Array<[keyof T & string, T[keyof T]]>)} ObjectOrObjectEntries\n */\n\n/**\n * @template {abstract new (...args: any) => unknown} T\n * @param {InstanceType<T>} instance\n */\nfunction superOf(instance) {\n  const staticContext = instance.constructor;\n  const superOfStatic = Object.getPrototypeOf(staticContext);\n  return superOfStatic.prototype;\n}\n\n/**\n * Clone attribute\n * @param {string} name\n * @param {string} target\n * @return {(oldValue:string, newValue:string, element: CustomElement) => void}\n */\nexport function cloneAttributeCallback(name, target) {\n  return (oldValue, newValue, element) => {\n    if (newValue == null) {\n      element.refs[target].removeAttribute(name);\n    } else {\n      element.refs[target].setAttribute(name, newValue);\n    }\n  };\n}\n\n/**\n * Web Component that can cache templates for minification or performance\n */\nexport default class CustomElement extends HTMLElement {\n  /** @type {string} */\n  static elementName;\n\n  /** @return {Iterable<string>} */\n  static get observedAttributes() {\n    return this.attrList.keys();\n  }\n\n  /** @type {import('./Composition.js').Compositor<?>} */\n  compose() {\n    // eslint-disable-next-line no-return-assign\n    return (this.#composition ??= new Composition());\n  }\n\n  /** @type {Composition<?>} */\n  static _composition = null;\n\n  /** @type {Map<string, import('./observe.js').ObserverConfiguration<?,?,?>>} */\n  static _props = new Map();\n\n  /** @type {Map<string, import('./observe.js').ObserverConfiguration<?,?,?>>} */\n  static _attrs = new Map();\n\n  /** @type {Map<string, Array<(this: any, ...args: any[]) => any>>} */\n  static _propChangedCallbacks = new Map();\n\n  /** @type {Map<string, Array<(this: any, ...args: any[]) => any>>} */\n  static _attributeChangedCallbacks = new Map();\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onComposeCallbacks = [];\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onConnectedCallbacks = [];\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onDisconnectedCallbacks = [];\n\n  /** @type {Array<(callback: CallbackArguments) => any>} */\n  static _onConstructedCallbacks = [];\n\n  static interpolatesTemplate = true;\n\n  static supportsElementInternals = 'attachInternals' in HTMLElement.prototype;\n\n  static supportsElementInternalsRole = CustomElement.supportsElementInternals\n    && 'role' in ElementInternals.prototype;\n\n  /** @type {boolean} */\n  static templatable = null;\n\n  static defined = false;\n\n  static autoRegistration = true;\n\n  /** @type {Map<string, typeof CustomElement>} */\n  static registrations = new Map();\n\n  /**\n   * Expressions are idempotent functions that are selectively called whenever\n   * a render is requested.\n   * Expressions are constructed exactly as methods though differ in expected\n   * arguments. The first argument should be destructured to ensure each used\n   * property is accessed at least once in order to inspect used properties.\n   *\n   * The Composition API will inspect this function with a proxy for `this` to\n   * catalog what observables are used by the expression. This allows the\n   * Composition API to build a cache as well as selective invoke the expression\n   * only when needed.\n   *\n   * When used with in element templates, the element itself will be passed as\n   * its first argument.\n   * ````js\n   *    Button\n   *      .prop('filled', 'boolean')\n   *      .prop('outlined', 'boolean')\n   *      .expresssions({\n   *        _isFilledOrOutlined({filled, outlined}) {\n   *          return (filled || outlined)\n   *        },\n   *      })\n   *      .html`<div custom={_isFilledOrOutlined}></div>`;\n   * ````\n   *\n   * When used with external data source, that data source\n   * will be passed to the expression with all properties being `null` at first\n   * inspection.\n   * ````js\n   *    const externalData = {first: 'John', last: 'Doe'};\n   *    ContactCard\n   *      .expresssions({\n   *        _fullName({first, last}) {\n   *          return [first, last].filter(Boolean).join(' ');\n   *        },\n   *      })\n   *   myButton.render(externalData);\n   * ````\n   *\n   * Expressions may be support argumentless calls by using default\n   * parameters with `this`.\n   * ````js\n   *    Button\n   *      .expresssions({\n   *        isFilledOrOutlined({filled, outlined} = this) {\n   *          return (filled || outlined)\n   *        },\n   *      });\n   *    myButton.isFilledorOutlined();\n   * ````\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends {\n   *    [K in keyof any]: K extends `_${any}` ? ((data: INSTANCE, state?: Record<string, any>) => string|boolean|null)\n   *      : ((data?: INSTANCE, state?: Record<string, any>) => string|boolean|null)\n   *  } & ThisType<INSTANCE>\n   *  >(this: CLASS, expressions: PROPS & ThisType<INSTANCE & PROPS>):\n   *  CLASS & Class<{\n   *    [K in keyof PROPS]: K extends `_${any}` ? never : () =>  ReturnType<PROPS[K]> }\n   *    ,ARGS>\n   * }}\n   */\n  static expressions = /** @type {any} */ (this.set);\n\n  static methods = this.set;\n\n  /**\n   * @type {{\n   * <\n   * CLASS extends typeof CustomElement,\n   * ARGS extends ConstructorParameters<CLASS>,\n   * INSTANCE extends InstanceType<CLASS>,\n   * PROPS extends Partial<INSTANCE>>\n   * (this: CLASS, source: PROPS & ThisType<PROPS & INSTANCE>, options?: Partial<PropertyDescriptor>)\n   * : CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static overrides = /** @type {any} */ (this.set);\n\n  /**\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  KEY extends string,\n   *  OPTIONS extends ObserverPropertyType\n   *    | ObserverOptions<ObserverPropertyType, unknown, INSTANCE>\n   *    | ((this:INSTANCE, data:Partial<INSTANCE>, fn?: () => any) => any),\n   *  VALUE extends Record<KEY, OPTIONS extends (...args2:any[]) => infer R ? R\n   *      : OPTIONS extends ObserverPropertyType ? import('./observe.js').ParsedObserverPropertyType<OPTIONS>\n   *      : OPTIONS extends {type: 'object'} & ObserverOptions<any, infer R> ? (unknown extends R ? object : R)\n   *      : OPTIONS extends {type: ObserverPropertyType} ? import('./observe.js').ParsedObserverPropertyType<OPTIONS['type']>\n   *      : OPTIONS extends ObserverOptions<any, infer R> ? (unknown extends R ? string : R)\n   *      : never\n   *      >\n   *  > (this: CLASS, name: KEY, options: OPTIONS)\n   *    : CLASS & Class<VALUE,ARGS>;\n   * }}\n   */\n  static props = /** @type {any} */ (this.observe);\n\n  static idl = this.prop;\n\n  /**\n   * @this T\n   * @template {typeof CustomElement} T\n   * @template {keyof T} K\n   * @param {K} collection\n   * @param {Function} callback\n   */\n  static _addCallback(collection, callback) {\n    if (!this.hasOwnProperty(collection)) {\n      // @ts-expect-error not typed\n      this[collection] = [...this[collection], callback];\n      return;\n    }\n    // @ts-expect-error any\n    this[collection].push(callback);\n  }\n\n  /**\n   * Append parts to composition\n   * @type {{\n   * <\n   *  T extends typeof CustomElement,\n   *  >\n   *  (this: T, ...parts: ConstructorParameters<typeof Composition<InstanceType<T>>>): T;\n   * }}\n   */\n  static append(...parts) {\n    this._onComposeCallbacks.push(({ composition }) => {\n      composition.append(...parts);\n    });\n\n    this._addCallback('_onComposeCallbacks', /** @type {(opts: CallbackArguments) => unknown} */ ((opts) => {\n      const { composition } = opts;\n      composition.append(...parts);\n    }));\n    return this;\n  }\n\n  /**\n   * After composition, invokes callback.\n   * May be called multiple times.\n   * @type {{\n   * <\n   *  T1 extends (typeof CustomElement),\n   *  T2 extends InstanceType<T1>,\n   *  T3 extends CompositionCallback<T2, T2>['composed'],\n   *  >\n   *  (this: T1, callback: T3): T1\n   * }}\n   */\n  static recompose(callback) {\n    this._addCallback('_onComposeCallbacks', callback);\n    return this;\n  }\n\n  /**\n   * Appends styles to composition\n   * @type {{\n   * <\n   *   T1 extends (typeof CustomElement),\n   *   T2 extends TemplateStringsArray|HTMLStyleElement|CSSStyleSheet|string>(\n   *   this: T1,\n   *   array: T2,\n   *   ...rest: T2 extends string ? any : T2 extends TemplateStringsArray ? any[] : (HTMLStyleElement|CSSStyleSheet)[]\n   * ): T1\n   * }}\n   */\n  static css(array, ...substitutions) {\n    this._addCallback('_onComposeCallbacks', /** @type {(opts: CallbackArguments) => unknown} */ ((opts) => {\n      const { composition } = opts;\n      if (typeof array === 'string' || Array.isArray(array)) {\n        // @ts-expect-error Complex cast\n        composition.append(css(array, ...substitutions));\n      } else {\n        // @ts-expect-error Complex cast\n        composition.append(array, ...substitutions);\n      }\n    }));\n\n    return this;\n  }\n\n  /**\n   * Registers class with customElements. If class is registered before then,\n   * does nothing.\n   * @type {{\n   * <T extends typeof CustomElement>(this: T, elementName: string): T;\n   * }}\n   */\n  static autoRegister(elementName) {\n    if (this.hasOwnProperty('defined') && this.defined) {\n      console.warn(this.elementName, 'already registered.');\n      return this;\n    }\n    this.register(elementName);\n    return this;\n  }\n\n  /**\n   * Appends DocumentFragment to composition\n   * @type {{\n   * <T extends typeof CustomElement>(\n   *  this: T,\n   *  string: TemplateStringsArray,\n   *  ...substitutions: (string|Element|((this:InstanceType<T>, data:InstanceType<T>, injections?:any) => any))[]\n   *  ): T\n   * }}\n   */\n  static html(strings, ...substitutions) {\n    this._addCallback('_onComposeCallbacks', /** @type {(opts: CallbackArguments) => unknown} */ ((opts) => {\n      const { composition } = opts;\n      // console.log('onComposed:html', strings);\n      composition.append(html(strings, ...substitutions));\n    }));\n    return this;\n  }\n\n  /**\n   * Extends base class into a new class.\n   * Use to avoid mutating base class.\n   * @type {{\n   * <T1 extends typeof CustomElement, T2 extends T1, T3 extends (Base:T1) => T2>\n   * (this: T1,customExtender?: T3|null): T3 extends null ? T1 : T2;\n   * }}\n   */\n  static extend(customExtender) {\n    // @ts-expect-error Can't cast T\n    return customExtender ? customExtender(this) : class extends this {};\n  }\n\n  /**\n   * Assigns static values to class\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends {\n   *    [K in keyof any]: (\n   *      ((this:T1, ...args:any[]) => any)\n   *      |string|number|boolean|any[]|object)}\n   *  >\n   *  (this: T1, source: T2 & ThisType<T1 & T2>):T1 & T2;\n   * }}\n   */\n  static setStatic(source) {\n    Object.assign(this, source);\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Assigns values directly to all instances (via prototype)\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends object>\n   *  (this: CLASS, source: PROPS & ThisType<PROPS & INSTANCE>, options?: Partial<PropertyDescriptor>)\n   *  : CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static readonly(source, options) {\n    return this.set(source, { ...options, writable: false });\n  }\n\n  /**\n   * Assigns values directly to all instances (via prototype)\n   * @type {{\n   * <\n   * CLASS extends typeof CustomElement,\n   * ARGS extends ConstructorParameters<CLASS>,\n   * INSTANCE extends InstanceType<CLASS>,\n   * PROPS extends object>\n   * (this: CLASS, source: PROPS & ThisType<PROPS & INSTANCE>, options?: Partial<PropertyDescriptor>)\n   * : CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static set(source, options) {\n    Object.defineProperties(\n      this.prototype,\n      Object.fromEntries([\n        ...Object.entries(source).map(([name, value]) => {\n          // Tap into .map() to avoid double iteration\n          // Property may be redefined observable\n          this.undefine(name);\n          return [\n            name,\n            {\n              enumerable: name[0] !== '_',\n              configurable: true,\n              value,\n              writable: true,\n              ...options,\n            },\n          ];\n        }),\n        ...Object.getOwnPropertySymbols(source).map((symbol) => [\n          symbol,\n          {\n            enumerable: false,\n            configurable: true,\n            // @ts-expect-error Can't index by symbol\n            value: source[symbol],\n            writable: true,\n            ...options,\n          },\n        ]),\n      ]),\n    );\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Returns result of calling mixin with current class\n   * @type {{\n   * <\n   *  BASE extends typeof CustomElement,\n   *  FN extends (...args:any[]) => any,\n   *  RETURN extends ReturnType<FN>,\n   *  SUBCLASS extends ClassOf<RETURN>,\n   *  >(this: BASE, mixin: FN): SUBCLASS & BASE\n   * }}\n   */\n  static mixin(mixin) {\n    return mixin(this);\n  }\n\n  /**\n   * Registers class with window.customElements synchronously\n   * @type {{\n   * <T extends typeof CustomElement>(this: T, elementName?: string, force?: boolean): T;\n   * }}\n   */\n  static register(elementName) {\n    if (elementName) {\n      this.elementName = elementName;\n    }\n\n    customElements.define(this.elementName, this);\n    CustomElement.registrations.set(this.elementName, this);\n    this.defined = true;\n    return this;\n  }\n\n  static get propList() {\n    if (!this.hasOwnProperty('_props')) {\n      this._props = new Map(this._props);\n    }\n    return this._props;\n  }\n\n  static get attrList() {\n    if (!this.hasOwnProperty('_attrs')) {\n      this._attrs = new Map(this._attrs);\n    }\n    return this._attrs;\n  }\n\n  static get propChangedCallbacks() {\n    if (!this.hasOwnProperty('_propChangedCallbacks')) {\n      // structuredClone()\n      this._propChangedCallbacks = new Map(\n        [\n          ...this._propChangedCallbacks,\n        ].map(([name, array]) => [name, array.slice()]),\n      );\n    }\n    return this._propChangedCallbacks;\n  }\n\n  static get attributeChangedCallbacks() {\n    if (!this.hasOwnProperty('_attributeChangedCallbacks')) {\n      this._attributeChangedCallbacks = new Map(\n        [\n          ...this._attributeChangedCallbacks,\n        ].map(([name, array]) => [name, array.slice()]),\n      );\n    }\n    return this._attributeChangedCallbacks;\n  }\n\n  /**\n   * Creates observable property on instances (via prototype)\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  KEY extends string,\n   *  OPTIONS extends ObserverPropertyType\n   *    | ObserverOptions<ObserverPropertyType, unknown, INSTANCE>\n   *    | ((this:INSTANCE, data:Partial<INSTANCE>, fn?: () => any) => any),\n   *  VALUE extends Record<KEY, OPTIONS extends (...args2:any[]) => infer R ? R\n   *      : OPTIONS extends ObserverPropertyType ? import('./observe').ParsedObserverPropertyType<OPTIONS>\n   *      : OPTIONS extends {type: 'object'} & ObserverOptions<any, infer R> ? (unknown extends R ? object : R)\n   *      : OPTIONS extends {type: ObserverPropertyType} ? import('./observe').ParsedObserverPropertyType<OPTIONS['type']>\n   *      : OPTIONS extends ObserverOptions<any, infer R> ? (unknown extends R ? string : R)\n   *      : never\n   *      >\n   *  > (this: CLASS, name: KEY, options: OPTIONS)\n   *    : CLASS & Class<VALUE,ARGS>\n   * }}\n   */\n  static prop(name, typeOrOptions) {\n    // TODO: Cache and save configuration for reuse (mixins)\n    const config = defineObservableProperty(\n      /** @type {any} */ (this.prototype),\n      name,\n      /** @type {any} */ (typeOrOptions),\n    );\n\n    const { changedCallback, attr, reflect, watchers } = config;\n    if (changedCallback) {\n      watchers.push([name, changedCallback]);\n    }\n    // TODO: Inspect possible closure bloat\n    config.changedCallback = function wrappedChangedCallback(oldValue, newValue, changes) {\n      this._onObserverPropertyChanged.call(this, name, oldValue, newValue, changes);\n    };\n\n    this.propList.set(name, config);\n\n    if (attr\n        && (reflect === true || reflect === 'read')\n        && (config.enumerable || !this.attrList.has(attr) || !this.attrList.get(attr).enumerable)) {\n      this.attrList.set(attr, config);\n    }\n\n    this.onPropChanged(watchers);\n\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Define properties on instances via Object.defineProperties().\n   * Automatically sets property non-enumerable if name begins with `_`.\n   * Functions will be remapped as getters\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends {\n   *      [P in keyof any] :\n   *        {\n   *          enumerable?: boolean;\n   *          configurable?: boolean;\n   *          writable?: boolean;\n   *          value?: any;\n   *          get?: ((this: INSTANCE) => any);\n   *          set?: (this: INSTANCE, value: any) => void;\n   *        } | ((this: INSTANCE, ...args:any[]) => any)\n   *    },\n   *  VALUE extends {\n   *    [KEY in keyof PROPS]: PROPS[KEY] extends (...args2:any[]) => infer R ? R\n   *      : PROPS[KEY] extends TypedPropertyDescriptor<infer R> ? R : never\n   *  }>\n   *  (this: CLASS, props: PROPS & ThisType<PROPS & INSTANCE>): CLASS\n   *    & Class<VALUE,ARGS>\n   * }}\n   */\n  static define(props) {\n    Object.defineProperties(\n      this.prototype,\n      Object.fromEntries(\n        Object.entries(props).map(([name, options]) => {\n          // Tap into .map() to avoid double iteration\n          // Property may be redefined observable\n          this.undefine(name);\n          return [\n            name,\n            {\n              enumerable: name[0] !== '_',\n              configurable: true,\n              ...(\n                typeof options === 'function'\n                  ? { get: options }\n                  : options\n              ),\n            },\n          ];\n        }),\n      ),\n    );\n\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Assigns values directly to all instances (via prototype)\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROP extends string,\n   *  PROPS extends INSTANCE & Record<PROP, never>\n   *  >(this: CLASS, name: PROP):\n   *  CLASS & Class<PROPS,ARGS>\n   * }}\n   */\n  static undefine(name) {\n    Reflect.deleteProperty(this.prototype, name);\n    if (this.propList.has(name)) {\n      const { watchers, attr, reflect } = this.propList.get(name);\n      if (watchers.length && this.propChangedCallbacks.has(name)) {\n        const propWatchers = this.propChangedCallbacks.get(name);\n        for (const [prop, watcher] of watchers) {\n          const index = propWatchers.indexOf(watcher);\n          if (index !== -1) {\n            console.warn('Unwatching', name);\n            propWatchers.splice(index, 1);\n          }\n        }\n      }\n      if (attr && (reflect === true || reflect === 'read')) {\n        this.attrList.delete(attr);\n      }\n      this.propList.delete(name);\n    }\n\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * Creates observable properties on instances\n   * @type {{\n   * <\n   *  CLASS extends typeof CustomElement,\n   *  ARGS extends ConstructorParameters<CLASS>,\n   *  INSTANCE extends InstanceType<CLASS>,\n   *  PROPS extends IDLParameter<INSTANCE & VALUE>,\n   *  VALUE extends {\n   *    [KEY in keyof PROPS]:\n   *    PROPS[KEY] extends (...args2:any[]) => infer R ? R\n   *        : PROPS[KEY] extends ObserverPropertyType ? import('./observe').ParsedObserverPropertyType<PROPS[KEY]>\n   *        : PROPS[KEY] extends {type: 'object'} & ObserverOptions<any, infer R> ? (unknown extends R ? object : R)\n   *        : PROPS[KEY] extends {type: ObserverPropertyType} ? import('./observe').ParsedObserverPropertyType<PROPS[KEY]['type']>\n   *        : PROPS[KEY] extends ObserverOptions<any, infer R> ? (unknown extends R ? string : R)\n   *        : never\n   *  },\n   *  > (this: CLASS, props: PROPS)\n   *    : CLASS & Class<VALUE,ARGS>\n   * }}\n   */\n  static observe(props) {\n    for (const [name, typeOrOptions] of Object.entries(props ?? {})) {\n      /** @type {any} */\n      const options = (typeof typeOrOptions === 'function')\n        ? { reflect: false, get: typeOrOptions }\n        : typeOrOptions;\n\n      this.prop(name, options);\n    }\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends IDLParameter<T1>>\n   *  (this: T1, props: T2):T1 & ParsedProps<T2>\n   * }}\n   */\n  static defineStatic(props) {\n    for (const [name, typeOrOptions] of Object.entries(props ?? {})) {\n      const options = (typeof typeOrOptions === 'function')\n        ? { get: typeOrOptions }\n        : (typeof typeOrOptions === 'string'\n          ? { type: typeOrOptions }\n          : typeOrOptions);\n      // @ts-expect-error Adding property to this\n      defineObservableProperty(this, name, {\n        reflect: false,\n        ...options,\n      });\n    }\n    // @ts-expect-error Can't cast T\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <T extends typeof CustomElement>\n   *  (\n   *    this: T,\n   *    listeners?: import('./Composition').CompositionEventListenerObject<InstanceType<T>>,\n   *    options?: Partial<import('./Composition').CompositionEventListener<InstanceType<T>>>,\n   *  ): T;\n   * }}\n   */\n  static events(listeners, options) {\n    this.on({\n      composed({ composition }) {\n        for (const [key, listenerOptions] of Object.entries(listeners)) {\n          const [, flags, type] = key.match(/^([*1~]+)?(.*)$/);\n          // TODO: Make abstract\n          let prop;\n          /** @type {string[]} */\n          let deepProp = [];\n          if (typeof listenerOptions === 'string') {\n            const parsedProps = listenerOptions.split('.');\n            if (parsedProps.length === 1) {\n              prop = listenerOptions;\n              deepProp = [];\n            } else {\n              prop = parsedProps[0];\n              deepProp = parsedProps;\n            }\n          }\n          composition.addCompositionEventListener({\n            type,\n            once: flags?.includes('1'),\n            passive: flags?.includes('~'),\n            capture: flags?.includes('*'),\n            ...(\n              typeof listenerOptions === 'function'\n                ? { handleEvent: listenerOptions }\n                : (typeof listenerOptions === 'string'\n                  ? { prop, deepProp }\n                  : listenerOptions)\n            ),\n            ...(\n              options\n            )\n            ,\n          });\n        }\n      },\n    });\n\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <T extends typeof CustomElement>\n   *  (\n   *    this: T,\n   *    listenerMap: {\n   *      [P in keyof any]: import('./Composition').CompositionEventListenerObject<InstanceType<T>>\n   *    },\n   *    options?: Partial<import('./Composition').CompositionEventListener<InstanceType<T>>>,\n   *  ): T;\n   * }}\n   */\n  static childEvents(listenerMap, options) {\n    for (const [tag, listeners] of Object.entries(listenerMap)) {\n      this.events(listeners, {\n        tag: attrNameFromPropName(tag),\n        ...options,\n      });\n    }\n\n    return this;\n  }\n\n  /** @type {typeof CustomElement['events']} */\n  static rootEvents(listeners, options) {\n    return this.events(listeners, {\n      tag: Composition.shadowRootTag,\n      ...options,\n    });\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends InstanceType<T1>,\n   *  T3 extends CompositionCallback<T2, T2>,\n   *  T4 extends keyof T3,\n   *  >\n   *  (this: T1, name: T3|T4, callbacks?: T3[T4] & ThisType<T2>): T1\n   * }}\n   */\n  static on(nameOrCallbacks, callback) {\n    const callbacks = typeof nameOrCallbacks === 'string'\n      ? { [nameOrCallbacks]: callback }\n      : nameOrCallbacks;\n    for (const [name, fn] of Object.entries(callbacks)) {\n      /** @type {keyof (typeof CustomElement)} */\n      let arrayPropName;\n      switch (name) {\n        case 'composed': arrayPropName = '_onComposeCallbacks'; break;\n        case 'constructed': arrayPropName = '_onConstructedCallbacks'; break;\n        case 'connected': arrayPropName = '_onConnectedCallbacks'; break;\n        case 'disconnected': arrayPropName = '_onDisconnectedCallbacks'; break;\n        case 'props':\n          this.onPropChanged(fn);\n          continue;\n        case 'attrs':\n          this.onAttributeChanged(fn);\n          continue;\n        default:\n          if (name.endsWith('Changed')) {\n            const prop = name.slice(0, name.length - 'Changed'.length);\n            // @ts-expect-error Computed key\n            this.onPropChanged({ [prop]: fn });\n            continue;\n          }\n          throw new Error('Invalid callback name');\n      }\n      this._addCallback(arrayPropName, fn);\n    }\n\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends InstanceType<T1>\n   *  >\n   *  (\n   *    this: T1,\n   *    options: ObjectOrObjectEntries<{\n   *      [P in keyof T2]? : (\n   *      this: T2,\n   *      oldValue: T2[P],\n   *      newValue: T2[P],\n   *      changes:any,\n   *      element: T2\n   *      ) => void\n   *    }>,\n   *  ): T1;\n   * }}\n   */\n  static onPropChanged(options) {\n    const entries = Array.isArray(options) ? options : Object.entries(options);\n    const { propChangedCallbacks } = this;\n    for (const [prop, callback] of entries) {\n      if (propChangedCallbacks.has(prop)) {\n        propChangedCallbacks.get(prop).push(callback);\n      } else {\n        propChangedCallbacks.set(prop, [callback]);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @type {{\n   * <\n   *  T1 extends typeof CustomElement,\n   *  T2 extends InstanceType<T1>\n   *  >\n   *  (\n   *    this: T1,\n   *    options: {\n   *      [x:string]: (\n   *      this: T2,\n   *      oldValue: string,\n   *      newValue: string,\n   *      element: T2\n   *      ) => void\n   *    },\n   *  ): T1;\n   * }}\n   */\n  static onAttributeChanged(options) {\n    const entries = Array.isArray(options) ? options : Object.entries(options);\n    const { attributeChangedCallbacks } = this;\n    for (const [name, callback] of entries) {\n      if (attributeChangedCallbacks.has(name)) {\n        attributeChangedCallbacks.get(name).push(callback);\n      } else {\n        attributeChangedCallbacks.set(name, [callback]);\n      }\n    }\n\n    return this;\n  }\n\n  /** @type {Record<string, HTMLElement>}} */\n  #refsProxy;\n\n  /** @type {Map<string, WeakRef<HTMLElement>>}} */\n  #refsCache = new Map();\n\n  /** @type {Map<string, WeakRef<HTMLElement>>}} */\n  #refsCompositionCache = new Map();\n\n  /** @type {Composition<?>} */\n  #composition;\n\n  #patching = false;\n\n  /** @type {Array<[string, any, CustomElement]>} */\n  #pendingPatchRenders = [];\n\n  /** @type {Map<string,{stringValue:string, parsedValue:any}>} */\n  _propAttributeCache;\n\n  /** @type {CallbackArguments} */\n  _callbackArguments = null;\n\n  /** @param {any[]} args */\n  constructor(...args) {\n    super();\n\n    if (CustomElement.supportsElementInternals) {\n      this.elementInternals = this.attachInternals();\n    }\n\n    this.attachShadow({ mode: 'open', delegatesFocus: this.delegatesFocus });\n\n    /**\n     * Updates nodes based on data\n     * Expects data in JSON Merge Patch format\n     * @see https://www.rfc-editor.org/rfc/rfc7386\n     * @param {Partial<?>} changes\n     * @param {any} data\n     * @return {void}\n     */\n    this.render = this.composition.render(\n      this.constructor.prototype,\n      this,\n      {\n        defaults: this.constructor.prototype,\n        store: this,\n        shadowRoot: this.shadowRoot,\n        context: this,\n      },\n    );\n\n    for (const callback of this.static._onConstructedCallbacks) {\n      callback.call(this, this.callbackArguments);\n    }\n  }\n\n  /**\n   * @type {{\n   * <\n   *   T extends CustomElement,\n   *   K extends string = string,\n   * >(this:T,\n   *     name: K,\n   *     oldValue: K extends keyof T ? T[K] : unknown,\n   *     newValue: K extends keyof T ? T[K] : unknown,\n   *     changes?: K extends keyof T ? T[K] extends object ? Partial<T[K]> : T[K] : unknown): void;\n   * }}\n   */\n  propChangedCallback(name, oldValue, newValue, changes = newValue) {\n    if (this.#patching) {\n      this.#pendingPatchRenders.push([name, changes, this]);\n    } else {\n      this.render.byProp(name, changes, this);\n      // this.render({ [name]: changes });\n    }\n\n    const { _propChangedCallbacks } = this.static;\n    if (_propChangedCallbacks.has(name)) {\n      for (const callback of _propChangedCallbacks.get(name)) {\n        callback.call(this, oldValue, newValue, changes, this);\n      }\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @param {string|null} oldValue\n   * @param {string|null} newValue\n   */\n  attributeChangedCallback(name, oldValue, newValue) {\n    const { attributeChangedCallbacks } = this.static;\n    if (attributeChangedCallbacks.has(name)) {\n      for (const callback of attributeChangedCallbacks.get(name)) {\n        callback.call(this, oldValue, newValue, this);\n      }\n    }\n\n    // Array.find\n    const { attrList } = this.static;\n    if (!attrList.has(name)) return;\n\n    const config = attrList.get(name);\n\n    if (config.attributeChangedCallback) {\n      config.attributeChangedCallback.call(this, name, oldValue, newValue);\n      return;\n    }\n\n    let cacheEntry;\n    if (this.attributeCache.has(name)) {\n      cacheEntry = this.attributeCache.get(name);\n      if (cacheEntry.stringValue === newValue) return;\n    }\n\n    // @ts-expect-error any\n    const previousDataValue = this[config.key];\n    const parsedValue = newValue === null\n      ? config.nullParser(/** @type {null} */ (newValue))\n    // Avoid Boolean('') === false\n      : (config.type === 'boolean' ? true : config.parser(newValue));\n\n    if (parsedValue === previousDataValue) {\n      // No internal value change\n      return;\n    }\n    // \"Remember\" that this attrValue equates to this data value\n    // Avoids rewriting attribute later on data change event\n    if (cacheEntry) {\n      cacheEntry.stringValue = newValue;\n      cacheEntry.parsedValue = parsedValue;\n    } else {\n      this.attributeCache.set(name, {\n        stringValue: newValue, parsedValue,\n      });\n    }\n    // @ts-expect-error any\n    this[config.key] = parsedValue;\n  }\n\n  get #template() {\n    return this.#composition?.template;\n  }\n\n  /**\n   * @param {string} name\n   * @param {any} oldValue\n   * @param {any} newValue\n   * @param {any} changes\n   */\n  _onObserverPropertyChanged(name, oldValue, newValue, changes) {\n    const { propList } = this.static;\n    if (propList.has(name)) {\n      const { reflect, attr } = propList.get(name);\n      if (attr && (reflect === true || reflect === 'write')) {\n        /** @type {{stringValue:string, parsedValue:any}} */\n        let cacheEntry;\n        let needsWrite = false;\n        const { attributeCache } = this;\n        if (attributeCache.has(attr)) {\n          cacheEntry = attributeCache.get(attr);\n          needsWrite = (cacheEntry.parsedValue !== newValue);\n        } else {\n        // @ts-ignore skip cast\n          cacheEntry = {};\n          attributeCache.set(attr, cacheEntry);\n          needsWrite = true;\n        }\n        if (needsWrite) {\n          const stringValue = attrValueFromDataValue(newValue);\n          cacheEntry.parsedValue = newValue;\n          cacheEntry.stringValue = stringValue;\n          // Cache attrValue to ignore attributeChangedCallback later\n          if (stringValue == null) {\n            this.removeAttribute(attr);\n          } else {\n            this.setAttribute(attr, stringValue);\n          }\n        }\n      }\n    }\n\n    // Invoke change => render\n    this.propChangedCallback(name, oldValue, newValue, changes);\n  }\n\n  /** @param {any} patch */\n  patch(patch) {\n    this.#patching = true;\n    applyMergePatch(this, patch);\n    for (const [name, changes, state] of this.#pendingPatchRenders) {\n      if (name in patch) continue;\n      this.render.byProp(name, changes, state);\n    }\n    this.#pendingPatchRenders.slice(0, this.#pendingPatchRenders.length);\n    this.render(patch);\n    this.#patching = false;\n  }\n\n  /**\n   * Proxy object that returns shadow DOM elements by tag.\n   * If called before interpolation (eg: on composed), returns from template\n   * @return {Record<string,HTMLElement>}\n   */\n  get refs() {\n    // eslint-disable-next-line no-return-assign\n    return (this.#refsProxy ??= new Proxy({}, {\n      /**\n       * @param {any} target\n       * @param {string} tag\n       * @return {Element}\n       */\n      get: (target, tag) => {\n        if (!this.#composition) {\n          console.warn(this.static.name, 'Attempted to access references before composing!');\n        }\n        const composition = this.composition;\n        let element;\n        if (!composition.interpolated) {\n          if (this.#refsCompositionCache.has(tag)) {\n            element = this.#refsCompositionCache.get(tag).deref();\n            if (element) return element;\n          }\n          const formattedTag = attrNameFromPropName(tag);\n          // console.warn(this.tagName, 'Returning template reference');\n          element = composition.template.getElementById(formattedTag);\n          if (!element) return null;\n          this.#refsCompositionCache.set(tag, new WeakRef(element));\n          return element;\n        }\n        if (this.#refsCache.has(tag)) {\n          element = this.#refsCache.get(tag).deref();\n          if (element) {\n            return element;\n          }\n        }\n\n        const formattedTag = attrNameFromPropName(tag);\n        const tagIndex = this.composition.tags.indexOf(formattedTag);\n        element = this.render.state.refs[tagIndex];\n\n        if (!element) return null;\n        this.#refsCache.set(tag, new WeakRef(element));\n        return element;\n      },\n    }));\n  }\n\n  get attributeCache() {\n    // eslint-disable-next-line no-return-assign\n    return (this._propAttributeCache ??= new Map());\n  }\n\n  get static() { return /** @type {typeof CustomElement} */ (/** @type {unknown} */ (this.constructor)); }\n\n  get unique() { return false; }\n\n  /**\n   * @template {CustomElement} T\n   * @this {T}\n   */\n  get callbackArguments() {\n    // eslint-disable-next-line no-return-assign\n    return this._callbackArguments ??= {\n      composition: this.#composition,\n      refs: this.refs,\n      html: html.bind(this),\n      inline: addInlineFunction,\n      template: this.#template,\n      element: this,\n    };\n  }\n\n  /** @return {Composition<?>} */\n  get composition() {\n    if (this.#composition) return this.#composition;\n\n    if (!this.unique && this.static.hasOwnProperty('_composition')) {\n      this.#composition = this.static._composition;\n      return this.static._composition;\n    }\n\n    // TODO: Use Composition to track uniqueness\n    // console.log('composing', this.static.elementName);\n    this.compose();\n    for (const callback of this.static._onComposeCallbacks) {\n      // console.log(this.static.elementName, 'composition callback');\n      callback.call(this, this.callbackArguments);\n    }\n\n    if (!this.unique) {\n      // Cache compilation into static property\n      this.static._composition = this.#composition;\n    }\n\n    return this.#composition;\n  }\n\n  connectedCallback() {\n    for (const callbacks of this.static._onConnectedCallbacks) {\n      callbacks.call(this, this.callbackArguments);\n    }\n  }\n\n  disconnectedCallback() {\n    for (const callbacks of this.static._onDisconnectedCallbacks) {\n      callbacks.call(this, this.callbackArguments);\n    }\n  }\n}\n\nCustomElement.prototype.delegatesFocus = false;\n", "import { CHROME_VERSION, isFocused } from '../core/dom.js';\n\n/**\n * Enables focus delegation to an internal focus target and manages tabindex behavior.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\n/**\n * Adds delegated focus behavior to the element's internals for keyboard navigation.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function DelegatesFocusMixin(Base) {\n  return Base\n    .set({\n      /** When true, the element delegates focus to an internal focus target. */\n      delegatesFocus: true,\n    })\n    .extend(CHROME_VERSION >= 111\n      ? (BaseClass) => BaseClass\n      : (BaseClass) => class extends BaseClass {\n        get tabIndex() {\n          return super.tabIndex;\n        }\n\n        set tabIndex(value) {\n          if (value === super.tabIndex && value !== -1) {\n            // Non -1 value already set\n            return;\n          }\n\n          if (this.delegatesFocus && isFocused(this)) {\n            if (this.getAttribute('tabindex') === value.toString()) {\n              // Skip if possible\n              return;\n            }\n\n            // Chrome blurs on tabindex changes with delegatesFocus\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=1346606\n            /** @type {EventListener} */\n            const listener = (e) => {\n              e.stopImmediatePropagation();\n              e.stopPropagation();\n              if (e.type === 'blur') {\n                console.warn('Chromium bug 1346606: Tabindex change caused blur. Giving focusing back.', this);\n                this.focus();\n              } else {\n                console.warn(`Chromium bug 1346606: Blocking ${e.type} event.`, this);\n              }\n            };\n            for (const type of ['blur', 'focus', 'focusout', 'focusin']) {\n              this.addEventListener(type, listener, { capture: true, once: true });\n            }\n            super.tabIndex = value;\n            for (const type of ['blur', 'focus', 'focusout', 'focusin']) {\n              this.removeEventListener(type, listener, { capture: true });\n            }\n            return;\n          }\n\n          super.tabIndex = value;\n        }\n      });\n}\n", "/* https://html.spec.whatwg.org/multipage/form-control-infrastructure.html */\n\nimport { CHROME_VERSION } from '../core/dom.js';\n\n/** @typedef {HTMLElement & {value:string}} HTMLControlElement */\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\nconst FORM_IPC_EVENT = 'mdw-form-associated-changed';\n\nconst DOMString = { nullParser: String, value: '' };\n\n/**\n * Implements form-associated element behavior (internals, validity, files, value handling).\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function FormAssociatedMixin(Base) {\n  return Base\n    .setStatic({\n      formAssociated: true,\n    })\n    .set({\n      /** @type {EventListener} */\n      _ipcListener: null,\n      /** @type {EventTarget} */\n      _ipcTarget: null,\n      /** @type {FileList} */\n      _files: null,\n    })\n    .observe({\n      /** ARIA 'controls' attribute (string). */\n      ariaControls: 'string',\n      /** Autocomplete token for the associated control (string). */\n      autocomplete: DOMString,\n      /** Name attribute for the control used in forms. */\n      name: DOMString,\n      /** Read-only state reflected to control via 'readonly' attribute. */\n      readOnly: { attr: 'readonly', type: 'boolean' },\n      /** When true, form validation is skipped for this control (formnovalidate). */\n      formNoValidate: { attr: 'formnovalidate', type: 'boolean' },\n      /** Default checked state for checkable controls (checkbox/radio). */\n      defaultChecked: { attr: 'checked', type: 'boolean' },\n      _checkedDirty: 'boolean',\n      /* \"Checkedness\" */\n      _checked: 'boolean',\n      /** Whether the control is required for form submission. */\n      required: 'boolean',\n      /** Control type token (e.g. 'text','checkbox','radio','file'). */\n      type: DOMString,\n      //  [CEReactions] attribute [LegacyNullToEmptyString] DOMString value;\n      /** Reflected default value backing field (attr: value). */\n      _defaultValue: { reflect: true, attr: 'value' },\n      /** Internal value storage. */\n      _value: { empty: '' },\n      _valueDirty: 'boolean',\n      /** Whether the user has interacted with the control (used for validation UX). */\n      _userInteracted: 'boolean',\n      _invalid: 'boolean',\n      _badInput: 'boolean',\n      _validationMessage: 'string',\n      _formDisabled: 'boolean',\n      _formReset: 'boolean',\n    })\n    .observe({\n      erroredState({ _invalid, _userInteracted }) { return _userInteracted && _invalid; },\n      defaultValue: {\n        reflect: false,\n        get({ _defaultValue }) {\n          return _defaultValue ?? '';\n        },\n        set(value) {\n          this._defaultValue = String(value);\n        },\n      },\n      _valueBehavior({ type }) {\n        switch (type) {\n          case 'radio':\n          case 'checkbox':\n            return 'default/on';\n          case 'hidden':\n          case 'button':\n          case 'submit':\n          case 'image':\n          case 'reset':\n            return 'default';\n          case 'file': return 'filename';\n          default: return 'value';\n        }\n      },\n    })\n    .methods({\n      /**\n       * Default behavior should likely be overridden\n       * @param {string} value\n       */\n      _onSetValue(value) {\n        this._value = value;\n      },\n      /**\n       * Default behavior should likely be overridden\n       * @param {boolean} checked\n       */\n      _onSetChecked(checked) {\n        this._checked = checked;\n      },\n    })\n    .observe({\n      value: {\n        reflect: false,\n        get({ _valueBehavior, _defaultValue, _value }) {\n          switch (_valueBehavior) {\n            case 'filename':\n            default:\n              return _value;\n            case 'default':\n              return _defaultValue ?? '';\n            case 'default/on':\n              return _defaultValue ?? 'on';\n          }\n        },\n        /** @param {string} v */\n        set(v) {\n          switch (this._valueBehavior) {\n            case 'value':\n              this._valueDirty = true;\n              this._onSetValue(v);\n              break;\n            case 'filename':\n              if (v == null || v === '') {\n                this._files = null;\n                // Presume overriding class will interpet null as empty\n              } else {\n                throw new DOMException('InvalidStateError');\n              }\n              break;\n            default:\n              this.defaultValue = v;\n          }\n        },\n      },\n      /**\n       * Part of FormAssociatedMixin for simplicity.\n       * Enumerability doesn't guarantee checked state will be passed or used.\n       */\n      checked: {\n        reflect: false,\n        type: 'boolean',\n        get({ _checkedDirty, defaultChecked, _checked }) {\n          if (_checkedDirty) return _checked;\n          return defaultChecked;\n        },\n        /** @param {boolean} checked */\n        set(checked) {\n          this._checkedDirty = true;\n          this._onSetChecked(checked);\n        },\n      },\n    })\n    .define({\n      form() { return this.elementInternals.form; },\n      validity() { return this.elementInternals.validity; },\n      validationMessage() { return this.elementInternals.validationMessage; },\n      willValidate() {\n        if (this.type === 'submit') return !this.formNoValidate;\n        if (this.type === 'button' || this.type === 'reset') return false;\n        return this.elementInternals.willValidate;\n      },\n      labels() { return this.elementInternals.labels; },\n    })\n    .observe({\n      disabledState({ _formDisabled, disabled }) {\n        if (_formDisabled) return true;\n        return !!disabled;\n      },\n    })\n    .methods({\n      checkValidity() { return this.elementInternals.checkValidity(); },\n\n      reportValidity() { return this.elementInternals.reportValidity(); },\n\n      /**\n       * @param {string} error\n       * @return {void}\n       */\n      setCustomValidity(error) {\n        this.elementInternals.setValidity({\n          ...this.elementInternals.validity,\n          customError: !!error,\n        }, this.elementInternals.validationMessage || error);\n      },\n\n      /**\n       * @param {string} key\n       * @param {string} value\n       * @return {void}\n       */\n      _notifyRadioChange(key, value) {\n        this._ipcTarget?.dispatchEvent(\n          new CustomEvent(FORM_IPC_EVENT, { detail: [key, value] }),\n        );\n      },\n\n      refreshFormAssociation() {\n        const newTarget = this.elementInternals.form ?? this.getRootNode();\n        if (newTarget === this._ipcTarget) {\n          // console.warn('Already associated?', newTarget);\n          return;\n        }\n        if (this._ipcTarget) {\n          this._ipcTarget.removeEventListener(FORM_IPC_EVENT, this._ipcListener);\n        }\n        if (this.type !== 'radio') return;\n\n        this._ipcTarget = newTarget;\n        this._ipcListener ??= this.formIPCEvent.bind(this);\n        this._ipcTarget.addEventListener(FORM_IPC_EVENT, this._ipcListener);\n      },\n\n      /**\n       * New lifecycle callback. This is called when association with\n       * <form> is changed.\n       * @param {HTMLFormElement?} form\n       * @return {void}\n       */\n      formAssociatedCallback(form) {\n        this.refreshFormAssociation();\n        this.checkValidity();\n      },\n\n      /**\n       * @param {CustomEvent<[string, string]>} event\n       * @return {void}\n       */\n      formIPCEvent(event) {\n        if (event.target instanceof HTMLFormElement && event.target !== this.form) {\n          console.warn('Control.formIPCEvent: Abort from wrong form');\n          return;\n        }\n        if (this.type !== 'radio') {\n          console.warn('Control.formIPCEvent: Abort from not radio');\n          return;\n        }\n        const [name, value] = event.detail;\n        if (this.name !== name) return;\n        if (value === this.value) {\n          // console.log('Control.formIPCEvent: Continue match', this.name, this.value);\n        } else {\n          console.debug('FormAssociatedMixin: Unchecking', this);\n          this.checked = false;\n        }\n      },\n\n      /** @param {boolean} disabled */\n      formDisabledCallback(disabled) {\n        this._formDisabled = disabled;\n      },\n\n      formResetCallback() {\n        this._formReset = true; // Fires Change Event\n        this._valueDirty = false;\n        this.checkValidity();\n        this._userInteracted = false; // Reset error states\n        this._formReset = false;\n      },\n\n      /**\n       * @param {string|FormData} state\n       * @param {'autocomplete'|'restore'} mode\n       */\n      formStateRestoreCallback(state, mode) {\n        if (CHROME_VERSION < 115) {\n          // formStateRestoreCallback is broken on Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1429585\n          return;\n        }\n        if (typeof state !== 'string') {\n          console.warn('FormAssociatedMixin: (Restore) Could not restore', state);\n          return;\n        }\n        if (this.type === 'checkbox' || this.type === 'radio') {\n          console.debug('FormAssociatedMixin: (Restore) Setting Checkbox checked state.', state, this);\n          this.checked = (state === 'checked');\n          return;\n        }\n        if (this.type === 'radio') {\n          // Due to lifecycle quirks, other radio elements on the page may not have\n          // been upgraded to Custom Element yet and would not receive\n          // the 'uncheck' communication. Delay notice until then.\n          this.checked = (state === 'checked');\n          return;\n        }\n\n        console.debug('FormAssociatedMixin: (Restore) Setting value state.', state, this);\n        this.value = state;\n      },\n\n      _updateFormAssociatedValue() {\n        switch (this.type) {\n          case 'radio':\n            if (this.checked) {\n              this._notifyRadioChange(this.name, this.value || 'on');\n            }\n            // Fallthrough\n          case 'checkbox':\n            if (this.checked) {\n              // console.debug('FormAssociatedMixin: setFormValue', this.name, `(${this.value}, 'checked')`, this);\n              this.elementInternals.setFormValue(this.value, 'checked');\n            } else {\n              // console.debug('FormAssociatedMixin: setFormValue', this.name, \"(null, 'unchecked')\", this);\n              this.elementInternals.setFormValue(null, 'unchecked');\n            }\n            break;\n          case 'button':\n          case 'reset':\n            this.elementInternals.setFormValue(null);\n            break;\n          case 'file': {\n            const { elementInternals, _files, name } = this;\n            if (!_files || _files.length) {\n              elementInternals.setFormValue(null);\n            } else {\n              const fd = new FormData();\n              for (const entry of _files) {\n                fd.append(name, entry);\n              }\n              elementInternals.setFormValue(fd);\n            }\n            break;\n          }\n          case 'select-multiple': {\n            const formData = new FormData();\n            // eslint-disable-next-line unicorn/no-this-assignment, @typescript-eslint/no-this-alias\n            const selectElement = /** @type {HTMLSelectElement} */ (/** @type {unknown} */ (this));\n            if (selectElement.name) {\n              for (const option of selectElement.selectedOptions) {\n                formData.append(selectElement.name, option.value);\n              }\n            }\n            this.elementInternals.setFormValue(formData);\n            break;\n          }\n          // case 'select-one':\n          default:\n            // console.debug('FormAssociatedMixin: setFormValue', this.name, this.value, this);\n            this.elementInternals.setFormValue(this.value);\n        }\n      },\n    })\n    .events({\n      blur() {\n        this._userInteracted = true;\n        this.checkValidity();\n      },\n    })\n    .on({\n      connected() {\n        // Bind to global if no form is present (used by radio)\n        this.refreshFormAssociation();\n      },\n      checkedChanged() {\n        this._updateFormAssociatedValue();\n      },\n      valueChanged() {\n        this._updateFormAssociatedValue();\n      },\n      _valueBehaviorChanged(previous, current) {\n        if (previous !== 'filename' && current === 'filename') {\n          this.value = '';\n        }\n      },\n      typeChanged() {\n        this._updateFormAssociatedValue();\n      },\n    });\n}\n", "/* https://html.spec.whatwg.org/multipage/form-control-infrastructure.html */\n\nimport { cloneAttributeCallback } from '../core/CustomElement.js';\nimport { FIREFOX_VERSION, SAFARI_VERSION } from '../core/dom.js';\n\nimport DelegatesFocusMixin from './DelegatesFocusMixin.js';\nimport FormAssociatedMixin from './FormAssociatedMixin.js';\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\n/** @typedef {'align'|'useMap'} DeprecatedHTMLInputElementProperties */\n\n/** @typedef {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} HTMLControlElement */\n\n/**\n * Adds form-control behavior and wiring to an internal control element.\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function ControlMixin(Base) {\n  return Base\n    .mixin(FormAssociatedMixin)\n    .mixin(DelegatesFocusMixin)\n    .observe({\n      /** Optional aria-label applied to the internal control (string). */\n      ariaLabel: 'string',\n      /** Internal cached slot text used as fallback label when aria-label is absent. */\n      _slotInnerText: 'string',\n    })\n    .set({\n      focusableOnDisabled: false,\n      controlTagName: 'input',\n      controlVoidElement: true,\n      _slotMutationObserver: null,\n    })\n    .methods({\n      /**\n       * Default behavior can be overridden\n       * @param {string} value\n       */\n      _onControlValue(value) {\n        this._value = value;\n      },\n      onValueChangingContentAttribute() {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n\n        if (!this.hasAttribute('value')) {\n          // Force HTMLInputElement to recalculate default\n          // Unintended effect of incrementally changing attributes (eg: range)\n          control.removeAttribute('value'); // Firefox will not run steps unless value is changed (remove first)\n          control.setAttribute('value', ''); // Chrome needs to know to reset\n        }\n        // Changing control attribute may change the value (eg: min/max)\n        this._onControlValue(control.value);\n      },\n      /** @type {HTMLElement['focus']} */\n      focus(...options) {\n        this.refs.control.focus(...options);\n      },\n      /** Redirect click requests to control itself */\n      click() {\n        if (this.disabledState) return;\n        this.refs.control.click();\n      },\n    })\n    .define({\n      stateTargetElement() { return this.refs.control; },\n    })\n    .methods({\n      checkValidity() {\n        if (!this.willValidate) return true;\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        const validityState = control.checkValidity();\n        /** @type {Partial<ValidityState>} */\n        const newValidity = {};\n\n        // eslint-disable-next-line guard-for-in\n        for (const key in control.validity) {\n          // @ts-ignore Skip cast\n          newValidity[key] = control.validity[key];\n        }\n        this.elementInternals.setValidity(newValidity, control.validationMessage, control);\n        this._invalid = !validityState;\n        this._validationMessage = control.validationMessage;\n        this._badInput = control.validity.badInput;\n        return validityState;\n      },\n      reportValidity() {\n        this.checkValidity();\n        /** @type {HTMLControlElement} */ (this.refs.control).reportValidity();\n        return this.elementInternals.reportValidity();\n      },\n      /**\n       * @param {string} error\n       * @return {void}\n       */\n      setCustomValidity(error) {\n        /** @type {HTMLControlElement} */ (this.refs.control).setCustomValidity(error);\n        this.checkValidity();\n        this.elementInternals.setValidity(\n          {\n            ...this.elementInternals.validity,\n            customError: !!error,\n          },\n          this.elementInternals.validationMessage || error,\n          this.refs.control,\n        );\n      },\n    })\n    .observe({\n      _computedAriaLabel({ ariaLabel, _slotInnerText }) {\n        return ariaLabel?.trim() || _slotInnerText?.trim() || null;\n      },\n    })\n    .expressions({\n      _computedAriaLabelledby({ _computedAriaLabel }) {\n        return _computedAriaLabel ? null : 'slot';\n      },\n    })\n\n    .recompose(({ template, html, element }) => {\n      template.append(html`\n        <${element.controlTagName} id=control\n          aria-label={_computedAriaLabel}\n          aria-labelledby={_computedAriaLabelledby}\n          part=control\n          form-disabled={disabledState}\n          type={type}\n          >${element.controlVoidElement ? '' : `</${element.controlTagName}>`}\n      `);\n    })\n    .on({\n      disabledStateChanged(oldValue, newValue) {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        control.setAttribute('aria-disabled', `${newValue}`);\n        if (!this.focusableOnDisabled) {\n          control.disabled = newValue;\n          if (newValue) {\n            this.tabIndex = 0;\n          } else {\n            this.removeAttribute('tabindex');\n          }\n        }\n      },\n      readOnlyChanged(oldValue, newValue) {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        if (this.type === 'checkbox') {\n          control.setAttribute('aria-readonly', newValue ? 'true' : 'false');\n        } else {\n          control.removeAttribute('aria-readonly');\n        }\n      },\n      constructed() {\n        const control = /** @type {HTMLControlElement} */ (this.refs.control);\n        this._onControlValue(control.value);\n      },\n      connected() {\n        // Expose this element as focusable\n        if (!this.hasAttribute('tabindex')) {\n          this.tabIndex = 0;\n        }\n      },\n      attrs: {\n        autocomplete: cloneAttributeCallback('autocomplete', 'control'),\n        name: cloneAttributeCallback('name', 'control'),\n        readonly: cloneAttributeCallback('readonly', 'control'),\n        required: cloneAttributeCallback('required', 'control'),\n      },\n    })\n    .childEvents({\n      control: {\n        click(e) {\n          if ((this.type === 'checkbox' && this.readOnly)\n           || (this.focusableOnDisabled && this.disabledState)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          }\n        },\n        input({ currentTarget }) {\n          const control = /** @type {HTMLControlElement} */ (currentTarget);\n          if (this.validity.valid) {\n            // Track internally\n            control.checkValidity();\n            this._badInput = control.validity.badInput;\n          } else {\n            // Perform check in case user has validated\n            this.checkValidity();\n          }\n          this._onControlValue(control.value);\n        },\n        change({ currentTarget }) {\n          const control = /** @type {HTMLControlElement} */ (currentTarget);\n          this._valueDirty = true;\n          this._onControlValue(control.value);\n          this.checkValidity();\n        },\n      },\n      slot: (FIREFOX_VERSION < 116 || SAFARI_VERSION) ? {\n        slotchange({ currentTarget }) {\n          // Firefox and Safari will not apply label from slots.\n          // https://bugzilla.mozilla.org/show_bug.cgi?id=1826194\n          // https://commits.webkit.org/263644@main\n          // https://bugs.webkit.org/show_bug.cgi?id=260772\n          this._slotInnerText = this.textContent;\n          if (!this._slotMutationObserver) {\n            this._slotMutationObserver = new MutationObserver(() => {\n              this._slotInnerText = this.textContent;\n            });\n            this._slotMutationObserver.observe(currentTarget, { characterData: true });\n          }\n        },\n      } : {},\n    })\n    .rootEvents({\n      change(event) {\n        // Change event is NOT composed. Needs to escape shadow DOM\n        // @ts-ignore skip constructor cast\n        this.dispatchEvent(new event.constructor(event.type, event));\n      },\n    })\n    .css`\n      :host {\n        display: inline-flex;\n      }\n      \n      /* Remove Firefox inner */\n      :host(::-moz-focus-inner) {\n        border: 0;\n      }\n\n      #control {\n        /* Control is the touch target */\n        /* Firefox requires at least 1px \"visible\" for screen reading */\n        /* Safari will not allow interaction with 0 opacity */\n        /* Chrome will not focus with visibility:hidden */\n      \n        position: absolute;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        top: 50%;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        left: 50%;\n        \n        /* --mdw-device-pixel-ratio: 1; */\n      \n        block-size: 100%;\n        min-block-size: 48px;\n        inline-size:100%;\n        min-inline-size: 48px;\n        margin: 0;\n        border: 0;\n        padding: 0;\n      \n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n      \n        cursor: auto;\n        outline: none;\n        transform: translateX(-50%) translateY(-50%);\n      \n        /* Safari and Chrome will emit two click events if not at top of stack */\n        /* Allows up to 3 other layers (eg: ripple, outline) */\n        z-index: 4;\n\n        background-color: transparent;\n      \n        border-radius: 0;\n        color: transparent;\n      }\n      \n      #control::-moz-focus-inner {\n        border: 0;\n      }\n    \n    `;\n}\n", "import { cloneAttributeCallback } from '../core/CustomElement.js';\n\nimport ControlMixin from './ControlMixin.js';\n\n/** @typedef {'align'|'useMap'} DeprecatedHTMLInputElementProperties */\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\nconst IMPLICIT_SUBMISSION_BLOCKING_TYPES = new Set([\n  'text',\n  'search',\n  'url',\n  'tel',\n  'email',\n  'password',\n  'date',\n  'month',\n  'week',\n  'time',\n  'datetime-local',\n  'number',\n]);\n\nconst DOMString = { nullParser: String, empty: '' };\n\n/** Flag redispatched click events to know not to block them */\nconst redispatchedClickEvents = new WeakSet();\n/** Flag root click events to know not to block them */\nconst rootClickEvents = new WeakSet();\n\n/**\n * Enhances a component with input-like attributes and behaviors (value, step, min/max, etc.).\n * @see https://html.spec.whatwg.org/multipage/input.html#htmlinputelement\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function InputMixin(Base) {\n  return Base\n    .mixin(ControlMixin)\n    .observe({\n      /** Accepted file types for file input (e.g. '.png,.jpg'). */\n      accept: DOMString,\n      /** Alternate text for images (for `type='image'`). */\n      alt: DOMString,\n      /** Directionality for form submission name (dirname attribute). */\n      dirName: { attr: 'dirname', ...DOMString },\n      /** Form action URL when this input is used as a submit button. */\n      _formAction: { attr: 'formaction' },\n      /** Form encoding type (formenctype). */\n      formEnctype: { attr: 'formenctype', ...DOMString },\n      /** Form method when associated with a submit input (formmethod). */\n      formMethod: { attr: 'formmethod', ...DOMString },\n      /** Target browsing context for form submission (formtarget). */\n      formTarget: { attr: 'formtarget', ...DOMString },\n      /** Rendered height hint for certain input types (integer). */\n      _height: { attr: 'height', type: 'integer' },\n      _indeterminate: 'boolean',\n      /** Max value or token for the input. */\n      max: DOMString,\n      /** Maximum length for text-like inputs. */\n      maxLength: { attr: 'maxlength', type: 'integer', empty: -1 },\n      /** Min value or token for the input. */\n      min: DOMString,\n      /** Minimum length for text-like inputs. */\n      minLength: { attr: 'minlength', type: 'integer', empty: -1 },\n      /** When true, multiple values are allowed (e.g. file inputs). */\n      multiple: 'boolean',\n      /** Pattern used for validation (RegExp as string). */\n      pattern: DOMString,\n      /** Placeholder text shown when no value is present. */\n      placeholder: DOMString,\n      /** Suggested control size (number of characters). */\n      size: { type: 'integer', empty: 20 },\n      /** Source URL for image-type inputs. */\n      src: DOMString,\n      /** Step interval for numeric inputs. */\n      step: DOMString,\n      //  [CEReactions] attribute [LegacyNullToEmptyString] DOMString value;\n      /** Rendered width hint for certain input types (integer). */\n      _width: { attr: 'width', type: 'integer' },\n    })\n    .set({\n      _useFormImplicitSubmission: true,\n    })\n    .define({\n      // Alias for typescript\n      _input() { return /** @type {HTMLInputElement} */ (this.refs.control); },\n    })\n    .observe({\n      indeterminate: {\n        type: 'boolean',\n        get({ _indeterminate }) {\n          return _indeterminate;\n        },\n        /** @param {boolean} value */\n        set(value) {\n          this._input.indeterminate = value;\n          this._indeterminate = this._input.indeterminate;\n        },\n      },\n    })\n    .overrides({\n      controlTagName: 'input',\n    })\n    .recompose(({ refs: { control } }) => {\n      control.setAttribute('checked', '{defaultChecked}');\n      control.setAttribute('height', '{_height}');\n      control.setAttribute('width', '{_width}');\n      control.setAttribute('value', '{_defaultValue}');\n    })\n    .on({\n      // TODO: Bind multiple\n      typeChanged() { this.onValueChangingContentAttribute(); },\n      checkedChanged() {\n        this._input.checked = this.checked;\n        this._input.indeterminate = this._indeterminate;\n      },\n      _indeterminateChanged(previous, current) {\n        this._input.indeterminate = current;\n      },\n      minChanged() { this.onValueChangingContentAttribute(); },\n      minLengthChanged() { this.onValueChangingContentAttribute(); },\n      maxChanged() { this.onValueChangingContentAttribute(); },\n      maxLengthChanged() { this.onValueChangingContentAttribute(); },\n      multipleChanged() { this.onValueChangingContentAttribute(); },\n      patternChanged() { this.onValueChangingContentAttribute(); },\n      stepChanged() { this.onValueChangingContentAttribute(); },\n      defaultValueChanged() { this.onValueChangingContentAttribute(); },\n      _formResetChanged(oldValue, newValue) {\n        if (!newValue) return;\n        this._onSetValue(this.defaultValue);\n        const input = this._input;\n        input.checked = this.defaultChecked;\n        this._checked = input.checked;\n        this._checkedDirty = false;\n      },\n      attrs: {\n        accept: cloneAttributeCallback('accept', 'control'),\n        alt: cloneAttributeCallback('alt', 'control'),\n        dirname: cloneAttributeCallback('dirname', 'control'),\n        formenctype: cloneAttributeCallback('formenctype', 'control'),\n        formmethod: cloneAttributeCallback('formmethod', 'control'),\n        formnovalidate: cloneAttributeCallback('formnovalidate', 'control'),\n        formTarget: cloneAttributeCallback('formTarget', 'control'),\n        max: cloneAttributeCallback('max', 'control'),\n        maxlength: cloneAttributeCallback('maxlength', 'control'),\n        min: cloneAttributeCallback('min', 'control'),\n        minlength: cloneAttributeCallback('minlength', 'control'),\n        multiple: cloneAttributeCallback('multiple', 'control'),\n        pattern: cloneAttributeCallback('pattern', 'control'),\n        placeholder: cloneAttributeCallback('placeholder', 'control'),\n        size: cloneAttributeCallback('size', 'control'),\n        src: cloneAttributeCallback('src', 'control'),\n        step: cloneAttributeCallback('step', 'control'),\n      },\n    })\n    .overrides({\n      _onSetChecked(checked) {\n        // Apply user value to input and read back result to apply control to parse\n        this._input.checked = checked;\n        this._checked = this._input.checked;\n        this.indeterminate = false;\n      },\n      _onSetValue(value) {\n        // Apply user value to input and read back result to apply control to parse\n        this._input.value = value;\n        this._value = this._input.value;\n      },\n    })\n    .methods({\n      /**\n       * @see https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#implicit-submission\n       * @param {Event} event\n       * @return {void}\n       */\n      performImplicitSubmission(event) {\n        if (!this._useFormImplicitSubmission) return;\n        const form = this.form;\n        if (!form) return;\n        /** @type {HTMLInputElement} */\n        let defaultButton;\n        const submissionBlockers = new Set();\n        for (const element of /** @type {HTMLCollectionOf<HTMLInputElement>} */ (form.elements)) {\n          if (element.type === 'submit' && !element.disabled && !element.matches(':disabled')) {\n            defaultButton ??= element;\n            break;\n          }\n\n          if (IMPLICIT_SUBMISSION_BLOCKING_TYPES.has(element.type)) {\n            submissionBlockers.add(element);\n          }\n        }\n        if (defaultButton) {\n          defaultButton.dispatchEvent(new PointerEvent(\n            'click',\n            { bubbles: true, cancelable: true, composed: true },\n          ));\n          return;\n        }\n        if (submissionBlockers.size > 1) return;\n        this.form.submit();\n      },\n      /** @param {Event} event */\n      _redispatchControlClickEvent(event) {\n        event.stopPropagation();\n        // Use constructor to match mouse/pointer properties\n        /**  @type {Event} */\n        // @ts-ignore skip-cast\n        const newEvent = (new event.constructor(event.type, event));\n        redispatchedClickEvents.add(newEvent);\n        return this.dispatchEvent(newEvent);\n      },\n      /** @param {MouseEvent} event */\n      _handleInputClick(event) {\n        if (this.disabledState) return;\n        const input = this._input;\n        switch (input.type) {\n          case 'checkbox':\n          case 'radio': {\n            const { _checkedDirty, _checked, _indeterminate } = this;\n            this.checked = input.checked;\n            // Event needs to be rethrown and preventDefault inspected\n            if (this._redispatchControlClickEvent(event)) return;\n            event.preventDefault();\n            this._checkedDirty = _checkedDirty;\n            this._checked = _checked;\n            this._indeterminate = _indeterminate;\n            break;\n          }\n          case 'button':\n          case 'submit':\n          case 'reset': {\n            if (!this._redispatchControlClickEvent(event)) {\n              event.preventDefault();\n              return;\n            }\n            const { type } = input;\n            if (type !== 'submit' && type !== 'reset') return;\n            // If in the composed path is another submit/reset button,\n            // Let that button take preference and ignore click.\n\n            for (const target of event.composedPath()) {\n              if (target === input || target === this) break;\n              if ((target instanceof HTMLInputElement || target instanceof HTMLButtonElement)\n                  && (target.type === 'submit' || target.type === 'reset')) {\n                // Inner Native Button\n                return;\n              }\n              // @ts-expect-error Verified in runtime\n              if ((target instanceof HTMLElement && target.form instanceof HTMLFormElement\n                  // @ts-expect-error Verified in runtime\n                  && (target.type === 'submit' || target.type === 'reset'))) {\n                // Inner FACE Button\n                return;\n              }\n              if ((target instanceof HTMLAnchorElement && target.href)) {\n                // Inner Anchor Button\n                return;\n              }\n            }\n\n            const form = this.elementInternals?.form;\n            if (!form) return;\n\n            if (type === 'submit') {\n              const duplicatedButton = /** @type {HTMLInputElement} */ (input.cloneNode());\n              duplicatedButton.hidden = true;\n              form.append(duplicatedButton);\n              if ('requestSubmit' in form) {\n                form.requestSubmit(duplicatedButton);\n              } else {\n                duplicatedButton.click();\n              }\n              duplicatedButton.remove();\n            } else if (type === 'reset') {\n              form.reset();\n            }\n          }\n            break;\n          default:\n        }\n      },\n    })\n    .rootEvents({\n      click(event) {\n        rootClickEvents.add(event);\n        const { control } = this.refs;\n        if (event.target === control) return;\n        // Label-like click\n        if (!event.bubbles) return;\n        const { disabledState, type } = this;\n        if (disabledState) return;\n        if (type === 'checkbox' || type === 'radio') {\n          event.stopPropagation();\n          control.click();\n        } else {\n          this._handleInputClick(event);\n        }\n      },\n    })\n    .events({\n      click(event) {\n        // If click event came from own shadowRoot, let it through\n        if (rootClickEvents.has(event)) return;\n        // If click event is a redispatch, let it through\n        if (redispatchedClickEvents.has(event)) return;\n        if (event.target === this) {\n          // Support custom host.dispatchEvent(new Event('click'))\n          event.stopImmediatePropagation();\n          this.refs.control.click();\n        }\n      },\n    })\n    .childEvents({\n      control: {\n        keydown(event) {\n          if (event.defaultPrevented) return;\n          if (event.key !== 'Enter') return;\n          if (/** @type {HTMLInputElement} */ (event.currentTarget).type === 'submit') return;\n          this.performImplicitSubmission(event);\n        },\n        click: '_handleInputClick',\n        input(event) {\n          if (this.disabledState) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            return;\n          }\n          const input = /** @type {HTMLInputElement} */ (event.currentTarget);\n          this.checked = input.checked;\n        },\n        change(event) {\n          if (this.disabledState) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            return;\n          }\n          const input = /** @type {HTMLInputElement} */ (event.currentTarget);\n          this.checked = input.checked;\n        },\n      },\n    })\n    .methods({\n      /** @type {HTMLInputElement['setRangeText']} */\n      // @ts-ignore Can't cast?\n      setRangeText(...args) { this._input.setRangeText(...args); },\n\n      /** @type {HTMLInputElement['setSelectionRange']} */\n      setSelectionRange(...args) { this._input.setSelectionRange(...args); },\n\n      /** @type {HTMLInputElement['showPicker']} */\n      showPicker(...args) { this._input.showPicker(...args); },\n\n      /** @type {HTMLInputElement['stepDown']} */\n      stepDown(...args) {\n        this._input.stepDown(...args);\n        this._value = this._input.value;\n      },\n\n      /** @type {HTMLInputElement['stepUp']} */\n      stepUp(...args) {\n        this._input.stepUp(...args);\n        this._value = this._input.value;\n      },\n\n      /** @type {HTMLInputElement['select']} */\n      select(...args) {\n        this._input.select(...args);\n      },\n    })\n    .define({\n      files: {\n        get() { return this._input.files; },\n        set(value) {\n          if (value == null && this.type === 'file') {\n            // TODO: Clean up single-loop recursion\n            this._input.value = ''; // Clears files\n            this.value = '';\n          } else {\n            this._input.files = value;\n          }\n        },\n      },\n\n      selectionDirection: {\n        get() { return this._input.selectionDirection; },\n        set(value) { this._input.selectionDirection = value; },\n      },\n\n      selectionEnd: {\n        get() { return this._input.selectionEnd; },\n        set(value) { this._input.selectionEnd = value; },\n      },\n\n      selectionStart: {\n        get() { return this._input.selectionStart; },\n        set(value) { this._input.selectionStart = value; },\n      },\n\n      valueAsDate: {\n        get() { return this._input.valueAsDate; },\n        set(value) {\n          this._input.valueAsDate = value;\n          this.value = this._input.value;\n        },\n      },\n\n      valueAsNumber: {\n        get() { return this._input.valueAsNumber; },\n        set(value) {\n          this._input.valueAsNumber = value;\n          this.value = this._input.value;\n        },\n      },\n\n      height: {\n        get() { return this._input.height; },\n        set(value) {\n          this._input.height = value;\n          this._height = value;\n        },\n      },\n\n      formAction: {\n        get() { return this._input.formAction; },\n        set(value) {\n          this._input.formAction = value;\n          this._formAction = value;\n        },\n      },\n\n      width: {\n        get() { return this._input.width; },\n        set(value) {\n          this._input.width = value;\n          this._width = value;\n        },\n      },\n    })\n    .css`\n      #control::-webkit-file-upload-button {\n        display: none;\n      }\n    `;\n}\n", "const resizeObserver = new ResizeObserver((entries) => {\n  for (const entry of entries) {\n    // @ts-ignore Skip cast\n    entry.target.onResizeObserved(entry);\n  }\n});\n\n/**\n * Attaches a shared ResizeObserver to the element and provides lifecycle helpers.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function ResizeObserverMixin(Base) {\n  return Base\n    .observe({\n      /** Enable or disable automatic ResizeObserver attachment (defaults true) */\n      _resizeObserverEnabled: {\n        type: 'boolean',\n        value: true,\n      },\n    })\n    .methods({\n      /** @param {ResizeObserverEntry} entry */\n      onResizeObserved(entry) {\n        // Virtual function\n      },\n      observeResize() {\n        resizeObserver.observe(this, {\n          box: 'border-box',\n        });\n      },\n      unobserveResize() {\n        resizeObserver.unobserve(this);\n      },\n    })\n    .on({\n      connected() {\n        if (!this._resizeObserverEnabled) return;\n        this.observeResize();\n      },\n      disconnected() {\n        this.unobserveResize();\n      },\n      _resizeObserverEnabledChanged(previous, enabled) {\n        if (enabled) {\n          this.observeResize();\n        } else {\n          this.unobserveResize();\n        }\n      },\n    });\n}\n", "// Globals\n\nlet lastInteractionWasTouch = window?.matchMedia?.('(any-pointer: coarse)').matches;\n\n/**\n * Manages interactive state flags (disabled, focused, hovered, pressed, touch)\n * and derived state expressions used by components.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function StateMixin(Base) {\n  return Base\n    .observe({\n      /** Whether the element is disabled (affects interactive states) */\n      disabled: 'boolean',\n      /** Force focus state (independent of document) */\n      focused: 'boolean',\n      /** Force hover state (independent of interaction) */\n      hovered: 'boolean',\n      /** Force pressed state (independent of interaction) */\n      pressed: 'boolean',\n      _lastInteraction: {\n        /** @type {'mouse'|'touch'|'key'|'pen'|null} */\n        value: null,\n      },\n      _hovered: 'boolean',\n      _focused: 'boolean',\n      /** True if focus was synthetic */\n      _focusedSynthetic: 'boolean',\n      _keyPressed: 'boolean',\n      /** True if key was released this event loop. (Used to ignore clicks) */\n      _keyReleased: 'boolean',\n      _pointerPressed: 'boolean',\n      /** Show the visual state layer element when true */\n      stateLayer: 'boolean',\n    })\n    .observe({\n      disabledState({ disabled }) { return disabled; },\n      hoveredState({ _hovered, hovered }) { return _hovered || hovered; },\n      focusedState({ _focused, focused }) { return _focused || focused; },\n      pressedState({ _keyPressed, _pointerPressed, pressed }) { return _keyPressed || _pointerPressed || pressed; },\n      touchedState({ _lastInteraction }) {\n        return _lastInteraction === 'touch';\n      },\n      pointedState({ _lastInteraction }) {\n        return _lastInteraction === 'mouse' || _lastInteraction === 'pen';\n      },\n    })\n    .define({\n      /** @return {HTMLElement} */\n      stateTargetElement() { return this; },\n    })\n    .html`\n      <div id=state mdw-if={stateLayer}\n        disabled={disabledState}\n        focused={focusedState}\n        hovered={hoveredState}\n        pressed={pressedState}\n        interaction={_lastInteraction}\n        touched={touchedState}\n        pointed={pointedState}\n        aria-hidden=true></div>\n    `\n    .events({\n      pointerenter(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._pointerPressed = this.stateTargetElement.matches(':active');\n        if (event.pointerType === 'touch') return;\n        this._hovered = true;\n      },\n      '~pointerdown'(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._lastInteraction = /** @type {'touch'|'mouse'|'pen'} */ (event.pointerType);\n        this._pointerPressed = true;\n      },\n      '~pointerup'(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._lastInteraction = /** @type {'touch'|'mouse'|'pen'} */ (event.pointerType);\n        this._pointerPressed = false;\n      },\n      pointercancel(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._pointerPressed = this.stateTargetElement.matches(':active');\n      },\n      pointerleave(event) {\n        if (!event.isTrusted) return;\n        if (!event.isPrimary) return;\n        this._pointerPressed = false;\n        this._hovered = false;\n      },\n      '~keydown'(event) {\n        if (!event.isTrusted) return;\n        this._lastInteraction = 'key';\n        if (event.repeat) return;\n        if (event.key !== ' ') return;\n        this._keyPressed = true;\n      },\n      '~keyup'(event) {\n        if (!event.isTrusted) return;\n        this._lastInteraction = 'key';\n        if (event.key !== ' ') return;\n        this._keyPressed = false;\n        this._keyReleased = true;\n        setTimeout(() => {\n          this._keyReleased = false;\n        });\n      },\n      blur(event) {\n        if (!event.isTrusted) return;\n        this._focused = false;\n        this._focusedSynthetic = false;\n        this._keyPressed = false;\n        this._pointerPressed = false;\n        if (!this._lastInteraction) return;\n        lastInteractionWasTouch = (this._lastInteraction === 'touch');\n        this._lastInteraction = null;\n      },\n      focus(event) {\n        if (!event.isTrusted) return;\n        this._focusedSynthetic = 'sourceCapabilities' in event\n          ? !event.sourceCapabilities\n          : (this._lastInteraction === null && !event.relatedTarget);\n        this._focused = true;\n        // Element was focused without a mouse or touch event (keyboard or programmatic)\n        if (!this._lastInteraction && lastInteractionWasTouch) {\n          // Replicate touch behavior\n          this._lastInteraction = 'touch';\n        }\n      },\n    })\n    .on({\n      disconnected() {\n        this._focused = false;\n        this._keyPressed = false;\n        this._pointerPressed = false;\n        this._lastInteraction = null;\n      },\n    })\n    .css`\n      /* https://m3.material.io/foundations/interaction-states */\n\n      :host {\n        --mdw-state__hovered-opacity: 0.08;\n        --mdw-state__focused-opacity: 0.12;\n        --mdw-state__pressed-opacity: 0.12;\n        --mdw-state__dragged-opacity: 0.12;\n        position: relative;\n\n        outline: none;\n        -webkit-tap-highlight-color: transparent;\n      }\n\n      /* Remove Firefox inner */\n      :host(::-moz-focus-inner) {\n        border: 0;\n      }\n\n      #state {\n        --mdw-state__opacity: calc(\n          var(--mdw-state__hovered-opacity) +\n          var(--mdw-state__focused-opacity) +\n          var(--mdw-state__pressed-opacity) +\n          var(--mdw-state__dragged-opacity)\n        );\n\n        position: absolute;\n        inset: 0;\n\n        pointer-events: none;\n\n        opacity: var(--mdw-state__opacity);\n        /* opacity handled by theme engine */\n        background-color: currentColor;\n        border-radius: inherit;\n\n        transition-delay: 0ms;\n        transition-duration: 000ms;\n        transition-property: opacity, color, background-color;\n        will-change: opacity;\n      }\n\n      /** Reduce RAM usage by not creating stack contexts */\n      @supports(background-color: color-mix(in srgb, red calc(100%), red)) {\n        #state {\n          opacity: 1;\n\n          background-color: color-mix(in srgb, currentColor calc(100% * var(--mdw-state__opacity)), transparent);\n\n          transition-property: color, background-color;\n          will-change: color, background-color;\n        }\n      }\n\n      #state[touched] {\n        --mdw-state__hovered-opacity: 0;\n        --mdw-state__focused-opacity: 0;\n      }\n\n      /* Remove Hover State */\n      #state:is(\n      :not([hovered]),\n      [disabled]:not([state-disabled~=\"hover\"]),\n      [state-off~=\"hover\"]) {\n        --mdw-state__hovered-opacity: 0;\n      }\n\n      /* Remove Focus State */\n      #state:is(\n      :not([focused]),\n      [disabled]:not([state-disabled~=\"focus\"]),\n      [state-off~=\"focus\"]) {\n        --mdw-state__focused-opacity: 0;\n      }\n\n      /* Remove Pressed State */\n\n      #state:is(\n      :not([pressed]),\n      [disabled]:not([state-disabled~=\"pressed\"]),\n      [state-off~=\"pressed\"]) {\n        --mdw-state__pressed-opacity: 0;\n      }\n\n      /* Remove Dragged State */\n      :host(:not([aria-dragged=\"true\"])) #state,\n      #state:is(\n        [disabled]:not([state-disabled~=\"dragged\"]),\n        [state-off~=\"dragged\"]) {\n        --mdw-state__dragged-opacity: 0;\n      }\n\n      /* Disabled */\n      #state[disabled]:not([state-disabled]) {\n        display: none;\n      }\n\n    `;\n}\n", "import { COLOR_KEYWORDS } from '../constants/colorKeywords.js';\nimport { SHAPE_ROUNDED_DEFAULT } from '../constants/shapes.js';\nimport { TYPOGRAPHY_DEFAULT } from '../constants/typography.js';\nimport { getScheme } from '../utils/material-color/helper.js';\nimport { svgToCSSURL } from '../utils/svg.js';\n\nexport const PALETTES = [\n  'primary',\n  'secondary',\n  'tertiary',\n  'error',\n  'surface',\n];\n\nexport const TYPE_STYLES = [\n  'display',\n  'headline',\n  'title',\n  'label',\n  'body',\n];\n\n/**\n * @typedef {Object} ThemeOptions\n * @prop {string} [color]\n * @prop {Iterable<[string,string?]>} [custom] Map()\n * @prop {'auto'|'light'|'dark'} [lightness='auto']\n * @return {string}\n */\n\n/**\n * @param {string} shape\n * @return {string}\n */\nfunction getShapeMaskSVG(shape) {\n  return [\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">',\n    `<defs><path id=\"a\" d=\"${shape}\"/></defs>`,\n    '<use href=\"#a\" transform=\"scale(.666)\"/>',\n    '<use href=\"#a\" transform=\"translate(8) scale(.666)\"/>',\n    '<use href=\"#a\" transform=\"matrix(.666 0 0 .666 0 8)\"/>',\n    '<use href=\"#a\" transform=\"matrix(.666 0 0 .666 8 8)\"/>',\n    '<path d=\"M8 0h8v24H8Z\"/><path d=\"M0 8h24v8H0Z\"/>',\n    '</svg>',\n  ].join('');\n}\n\n/**\n * @param {string} shape\n * @param {'top-left'|'top-right'|'bottom-left'|'bottom-right'} corner\n * @param {boolean} [convex]\n * @return {string}\n */\nfunction getShapeCornerSVGs(shape, corner, convex) {\n  const path = `<path ${[\n    `d=\"${shape}\"`,\n    'vector-effect=\"non-scaling-stroke\"',\n    `transform-origin=\"${corner.replace('-', ' ')}\"`,\n    'stroke-linejoin=\"miter\"',\n    'transform=\"scale(2)\"',\n    `stroke-width=\"${convex ? 4 : 2}px\"`,\n    'stroke=\"black\"',\n    'fill=\"none\"',\n  ].join(' ')}/>`;\n\n  return [\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">',\n    convex\n      ? [\n        '<mask id=\"m\">',\n        '<rect x=\"0\" y=\"0\" width=\"24\" height=\"24\" fill=\"white\"/>',\n        `<path d=\"${shape}\" transform-origin=\"${corner.replace('-', ' ')}\" transform=\"scale(2)\"/>`,\n        '</mask>',\n        `<g mask=\"url(#m)\">${path}</g>`,\n      ].join('')\n      : path,\n    '</svg>',\n  ].join('');\n}\n\n/**\n * @return {string}\n */\nfunction getShapeEdgesSVGs() {\n  return [\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">',\n    '<rect x=\"0\" y=\"0\" width=\"24\" height=\"24\" vector-effect=\"non-scaling-stroke\" stroke-width=\"2px\" stroke=\"black\" fill=\"none\"/>',\n    '</svg>',\n  ].join('');\n}\n\n/**\n * @param {typeof TYPOGRAPHY_DEFAULT} config\n * @return {string}\n */\nexport function generateTypographyCSS(config = TYPOGRAPHY_DEFAULT) {\n  return /* css */ `\n    :root {\n      --mdw-typeface__brand: ${config.face.brand};\n      --mdw-typeface__weight-regular: ${config.face.weight.regular};\n      --mdw-typeface__weight-medium: ${config.face.weight.medium};\n      --mdw-typeface__plain: ${config.face.plain};\n\n      --mdw-typescale__display-large__font-family: ${config.scale.display.large.fontFamily};\n      --mdw-typescale__display-large__line-height: calc(${config.scale.display.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__display-large__font-size: calc(${config.scale.display.large.fontSize} * 0.0625rem);\n      --mdw-typescale__display-large__letter-spacing: calc(${config.scale.display.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__display-large__font-weight: ${config.scale.display.large.weight};\n\n      --mdw-typescale__display-medium__font-family: ${config.scale.display.medium.fontFamily};\n      --mdw-typescale__display-medium__line-height: calc(${config.scale.display.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__display-medium__font-size: calc(${config.scale.display.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__display-medium__letter-spacing: calc(${config.scale.display.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__display-medium__font-weight: ${config.scale.display.medium.weight};\n\n      --mdw-typescale__display-small__font-family: ${config.scale.display.small.fontFamily};\n      --mdw-typescale__display-small__line-height: calc(${config.scale.display.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__display-small__font-size: calc(${config.scale.display.small.fontSize} * 0.0625rem);\n      --mdw-typescale__display-small__letter-spacing: calc(${config.scale.display.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__display-small__font-weight: ${config.scale.display.small.weight};\n\n      --mdw-typescale__headline-large__font-family: ${config.scale.headline.large.fontFamily};\n      --mdw-typescale__headline-large__line-height: calc(${config.scale.headline.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__headline-large__font-size: calc(${config.scale.headline.large.fontSize} * 0.0625rem);\n      --mdw-typescale__headline-large__letter-spacing: calc(${config.scale.headline.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__headline-large__font-weight: ${config.scale.headline.large.weight};\n\n      --mdw-typescale__headline-medium__font-family: ${config.scale.headline.medium.fontFamily};\n      --mdw-typescale__headline-medium__line-height: calc(${config.scale.headline.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__headline-medium__font-size: calc(${config.scale.headline.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__headline-medium__letter-spacing: calc(${config.scale.headline.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__headline-medium__font-weight: ${config.scale.headline.medium.weight};\n\n      --mdw-typescale__headline-small__font-family: ${config.scale.headline.small.fontFamily};\n      --mdw-typescale__headline-small__line-height: calc(${config.scale.headline.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__headline-small__font-size: calc(${config.scale.headline.small.fontSize} * 0.0625rem);\n      --mdw-typescale__headline-small__letter-spacing: calc(${config.scale.headline.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__headline-small__font-weight: ${config.scale.headline.small.weight};\n\n      --mdw-typescale__title-large__font-family: ${config.scale.title.large.fontFamily};\n      --mdw-typescale__title-large__line-height: calc(${config.scale.title.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__title-large__font-size: calc(${config.scale.title.large.fontSize} * 0.0625rem);\n      --mdw-typescale__title-large__letter-spacing: calc(${config.scale.title.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__title-large__font-weight: ${config.scale.title.large.weight};\n\n      --mdw-typescale__title-medium__font-family: ${config.scale.title.medium.fontFamily};\n      --mdw-typescale__title-medium__line-height: calc(${config.scale.title.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__title-medium__font-size: calc(${config.scale.title.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__title-medium__letter-spacing: calc(${config.scale.title.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__title-medium__font-weight: ${config.scale.title.medium.weight};\n\n      --mdw-typescale__title-small__font-family: ${config.scale.title.small.fontFamily};\n      --mdw-typescale__title-small__line-height: calc(${config.scale.title.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__title-small__font-size: calc(${config.scale.title.small.fontSize} * 0.0625rem);\n      --mdw-typescale__title-small__letter-spacing: calc(${config.scale.title.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__title-small__font-weight: ${config.scale.title.small.weight};\n\n      --mdw-typescale__label-large__font-family: ${config.scale.label.large.fontFamily};\n      --mdw-typescale__label-large__line-height: calc(${config.scale.label.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__label-large__font-size: calc(${config.scale.label.large.fontSize} * 0.0625rem);\n      --mdw-typescale__label-large__letter-spacing: calc(${config.scale.label.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__label-large__font-weight: ${config.scale.label.large.weight};\n\n      --mdw-typescale__label-medium__font-family: ${config.scale.label.medium.fontFamily};\n      --mdw-typescale__label-medium__line-height: calc(${config.scale.label.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__label-medium__font-size: calc(${config.scale.label.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__label-medium__letter-spacing: calc(${config.scale.label.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__label-medium__font-weight: ${config.scale.label.medium.weight};\n\n      --mdw-typescale__label-small__font-family: ${config.scale.label.small.fontFamily};\n      --mdw-typescale__label-small__line-height: calc(${config.scale.label.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__label-small__font-size: calc(${config.scale.label.small.fontSize} * 0.0625rem);\n      --mdw-typescale__label-small__letter-spacing: calc(${config.scale.label.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__label-small__font-weight: ${config.scale.label.small.weight};\n\n      --mdw-typescale__body-large__font-family: ${config.scale.body.large.fontFamily};\n      --mdw-typescale__body-large__line-height: calc(${config.scale.body.large.lineHeight} * 0.0625rem);\n      --mdw-typescale__body-large__font-size: calc(${config.scale.body.large.fontSize} * 0.0625rem);\n      --mdw-typescale__body-large__letter-spacing: calc(${config.scale.body.large.letterSpacing} * 0.0625rem);\n      --mdw-typescale__body-large__font-weight: ${config.scale.body.large.weight};\n\n      --mdw-typescale__body-medium__font-family: ${config.scale.body.medium.fontFamily};\n      --mdw-typescale__body-medium__line-height: calc(${config.scale.body.medium.lineHeight} * 0.0625rem);\n      --mdw-typescale__body-medium__font-size: calc(${config.scale.body.medium.fontSize} * 0.0625rem);\n      --mdw-typescale__body-medium__letter-spacing: calc(${config.scale.body.medium.letterSpacing} * 0.0625rem);\n      --mdw-typescale__body-medium__font-weight: ${config.scale.body.medium.weight};\n\n      --mdw-typescale__body-small__font-family: ${config.scale.body.small.fontFamily};\n      --mdw-typescale__body-small__line-height: calc(${config.scale.body.small.lineHeight} * 0.0625rem);\n      --mdw-typescale__body-small__font-size: calc(${config.scale.body.small.fontSize} * 0.0625rem);\n      --mdw-typescale__body-small__letter-spacing: calc(${config.scale.body.small.letterSpacing} * 0.0625rem);\n      --mdw-typescale__body-small__font-weight: ${config.scale.body.small.weight};\n      }`;\n}\n\n/** @return {string} */\nexport function generateTypographyGlobalCSS() {\n  return /* css */ `\n    :root {${['display', 'headline', 'title', 'label', 'body']\n    .map((style) => ['large', 'medium', 'small']\n      .map((size) => `--mdw-typescale__${style}-${size}__font: ${\n        [\n          `var(--mdw-typescale__${style}-${size}__font-weight)`,\n          `var(--mdw-typescale__${style}-${size}__font-size)/var(--mdw-typescale__${style}-${size}__line-height)`,\n          `var(--mdw-typescale__${style}-${size}__font-family)`,\n        ].join(' ')\n      };`).join('\\n'))\n    .join('\\n')}}`;\n}\n\n/**\n * @param {typeof SHAPE_ROUNDED_DEFAULT} [config]\n * @return {string}\n */\nexport function generateShapeCSS(config = SHAPE_ROUNDED_DEFAULT) {\n  return /* css */`\n    :root {\n      --mdw-shape__extra-small: ${config.size.extraSmall};\n      --mdw-shape__small: ${config.size.small};\n      --mdw-shape__medium: ${config.size.medium};\n      --mdw-shape__large: ${config.size.large};\n      --mdw-shape__extra-large: ${config.size.extraLarge};\n      --mdw-shape__full: ${config.size.full};\n      --mdw-shape__rounded: ${config.mask ? '0' : '1'};\n      --mdw-shape__outline__background: ${config.mask ? 'currentColor' : 'transparent'};\n      --mdw-shape__convex: ${config.convex ? '1' : '0'};\n      --mdw-shape__mask-border-source: ${config.mask ? svgToCSSURL(getShapeMaskSVG(config.mask)) : 'none'};\n      --mdw-shape__mask-image__top-left: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'top-left')) : 'none'};\n      --mdw-shape__mask-image__top-right: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'top-right')) : 'none'};\n      --mdw-shape__mask-image__bottom-right: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'bottom-right')) : 'none'};\n      --mdw-shape__mask-image__bottom-left: ${config.mask ? svgToCSSURL(getShapeCornerSVGs(config.mask, 'bottom-left')) : 'none'};\n      --mdw-shape__mask-image__edges: ${config.mask ? svgToCSSURL(getShapeEdgesSVGs()) : 'none'};\n    }\n  `;\n}\n\n/**\n * @param {string} content\n * @return {HTMLStyleElement} element\n */\nfunction addStyle(content) {\n  const element = document.createElement('style');\n  element.textContent = content;\n  document.head.append(element);\n  return element;\n}\n\n/**\n * @param {ThemeOptions} options\n * @return {string}\n */\nexport function generateColorCSS({ color = '#6750A4', custom = [], lightness = 'light' }) {\n  /** @type {[string,string][]} */\n  const parsedColors = [...custom]\n    .map(([name, hex]) => [name, COLOR_KEYWORDS.get(hex) || hex || COLOR_KEYWORDS.get(name)]);\n  const scheme = getScheme(color, parsedColors);\n  if (lightness === 'dark') {\n    return scheme.dark;\n  }\n  return scheme.light;\n}\n\n/**\n * @param {ThemeOptions} options\n * @return {void}\n */\nexport function setupTheme({ color = '#6750A4', custom = [], lightness = 'auto' }) {\n  /** @type {[string,string][]} */\n  const parsedColors = [...custom]\n    .map(([name, hex]) => [name, COLOR_KEYWORDS.get(hex) || hex || COLOR_KEYWORDS.get(name)]);\n  const scheme = getScheme(color, parsedColors);\n  if (lightness === 'dark') {\n    addStyle(scheme.dark);\n  } else {\n    addStyle(scheme.light);\n    if (lightness !== 'light') {\n      addStyle(scheme.dark).media = '(prefers-color-scheme:dark)';\n    }\n  }\n  addStyle(generateShapeCSS());\n  addStyle(generateTypographyCSS());\n}\n\n/**\n * @param {URLSearchParams} searchParams\n * @return {ThemeOptions}\n */\nexport function themeOptionsFromSearchParams(searchParams) {\n  const color = searchParams?.get('color') || '#6750A4';\n\n  const custom = /** @type {[string,string?][]} */(searchParams?.getAll('custom')\n    .flatMap((c) => c.split(','))\n    .map((c) => c.split(':')) ?? []);\n\n  const lightness = /** @type {ThemeOptions['lightness']} */(searchParams?.get('lightness') ?? 'auto');\n  return { color, custom, lightness };\n}\n\n/**\n * @param {ThemeOptions} options\n * @return {string}\n */\nexport function generateThemeCSS({ color = '#6750A4', custom = [], lightness = 'auto' }) {\n  const shapeCss = generateShapeCSS();\n  const typographyCss = generateTypographyCSS();\n  let colorCss;\n  if (lightness === 'light' || lightness === 'dark') {\n    colorCss = generateColorCSS({ color, custom, lightness });\n  } else {\n    colorCss = `\n    ${generateColorCSS({ color, custom, lightness: 'light' })}\n    @media (prefers-color-scheme:dark) {\n      :root { color-scheme: dark; }\n      ${generateColorCSS({ color, custom, lightness: 'dark' })}\n    }`;\n  }\n  return [\n    shapeCss,\n    typographyCss,\n    colorCss,\n  ].join('\\n');\n}\n", "import { PALETTES, TYPE_STYLES } from '../services/theme.js';\n\nconst colorAttributeCSS = PALETTES.map((palette) => [\n  `:host([color=\"${palette}\"]){`,\n  `--mdw-bg: var(--mdw-color__${palette});`,\n  `--mdw-ink: var(--mdw-color__on-${palette});`,\n  '}',\n  `:host([color=\"${palette}-container\"]){`,\n  `--mdw-bg: var(--mdw-color__${palette}-container);`,\n  `--mdw-ink: var(--mdw-color__on-${palette}-container);`,\n  '}',\n].join('')).join('');\n\nconst inkAttributeCSS = PALETTES.map((palette) => [\n  `:host([ink=\"${palette}\"]){`,\n  `--mdw-ink: var(--mdw-color__${palette});`,\n  '}',\n  `:host([ink=\"on-${palette}\"]){`,\n  `--mdw-ink: var(--mdw-color__on-${palette});`,\n  '}',\n  `:host([ink=\"on-${palette}-container\"]){`,\n  `--mdw-ink: var(--mdw-color__on-${palette}-container);`,\n  '}',\n].join('')).join('');\n\nconst typeStyleAttributeCSS = TYPE_STYLES.map((typeStyle) => [\n  `:host([type-style|=\"${typeStyle}\"]) {`,\n  `--mdw-type__font: var(--mdw-typescale__${typeStyle}-large__font);`,\n  `--mdw-type__letter-spacing: var(--mdw-typescale__${typeStyle}-large__letter-spacing);`,\n  '}',\n  `:host([type-style=\"${typeStyle}-medium\"]) {`,\n  `--mdw-type__font: var(--mdw-typescale__${typeStyle}-medium__font);`,\n  `--mdw-type__letter-spacing: var(--mdw-typescale__${typeStyle}-medium__letter-spacing);`,\n  '}',\n  `:host([type-style=\"${typeStyle}-small\"]) {`,\n  `--mdw-type__font: var(--mdw-typescale__${typeStyle}-small__font);`,\n  `--mdw-type__letter-spacing: var(--mdw-typescale__${typeStyle}-small__letter-spacing);`,\n  '}',\n].join('')).join('');\n\n/**\n * Adds theming attributes (`color`, `ink`, `typeStyle`) that map to CSS tokens.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function ThemableMixin(Base) {\n  return Base\n    .observe({\n      /**\n       * Palette or surface token used to select background/ink tokens.\n       * Examples: 'primary', 'background', 'surface-container-low'.\n       */\n      color: 'string',\n      /**\n       * Explicit ink override token (e.g. 'outline', 'on-primary', 'inverse-on-surface', 'inherit').\n       * Maps to `--mdw-ink`.\n       */\n      ink: 'string',\n      /**\n       * Typographic style shortcut that maps to type scale variables\n       * (e.g. 'headline-large', 'body-medium').\n       */\n      typeStyle: 'string',\n    })\n    .css(colorAttributeCSS)\n    .css`\n      :host([color=\"background\"]) {\n        --mdw-bg: var(--mdw-color__background);\n        --mdw-ink: var(--mdw-color__on-background);\n      }\n\n      :host([color=\"surface-dim\"]) {\n        --mdw-bg: var(--mdw-color__surface-dim);\n      }\n\n      :host([color=\"surface-bright\"]) {\n        --mdw-bg: var(--mdw-color__surface-bright);\n      }\n\n      :host([color=\"surface-container-lowest\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-lowest);\n      }\n\n      :host([color=\"surface-container-low\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-low);\n      }\n\n      :host([color=\"surface-container-high\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-high);\n      }\n      \n      :host([color=\"surface-container-highest\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-highest);\n      }\n      \n      /* Quality-of-life */\n      :host([color=\"surface-primary\"]) {\n        --mdw-bg: var(--mdw-color__surface);\n        --mdw-ink: var(--mdw-color__primary);\n      }\n      \n      :host([color$=\"variant\"]) {\n        --mdw-bg: var(--mdw-color__surface-container-highest);\n        --mdw-ink: var(--mdw-color__on-surface-variant);\n      }\n      \n      :host([color^=\"inverse\"]) {\n        --mdw-bg: var(--mdw-color__inverse-surface);\n        --mdw-ink: var(--mdw-color__inverse-on-surface);\n      }\n      \n      :host([color=\"inverse-primary\"]) {\n        --mdw-ink: var(--mdw-color__inverse-primary);\n      }\n      `\n    .css(inkAttributeCSS)\n    .css`\n      :host([ink=\"inverse-primary\"]) {\n        --mdw-ink: var(--mdw-color__inverse-primary);\n      }\n\n      :host([ink=\"outline\"]) {\n        --mdw-ink: var(--mdw-color__outline);\n      }\n      \n      :host([ink=\"surface-container-highest\"]) {\n        --mdw-ink: var(--mdw-color__surface-container-highest);\n      }\n      \n      :host([ink=\"on-surface-variant\"]) {\n        --mdw-ink: var(--mdw-color__on-surface-variant);\n      }\n      \n      :host([ink=\"inverse-on-surface\"]) {\n        --mdw-ink: var(--mdw-color__inverse-on-surface);\n      }\n      \n      :host([ink=\"inherit\"]) {\n        --mdw-ink: inherit;\n      }\n    `\n    .css(typeStyleAttributeCSS);\n}\n", "/** @type {Map<string, {path:string, viewBox:string}>} */\nexport const svgAliasMap = new Map();\nexport const unaliased = new Set();\n\n/**\n * @param {string} name\n * @param {string} path\n * @param {string} [viewBox]\n */\nexport function addSVGAlias(name, path, viewBox = '0 0 24 24') {\n  name = name.toLowerCase();\n  if (path) {\n    svgAliasMap.set(name, { path, viewBox });\n  } else {\n    svgAliasMap.delete(name);\n  }\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\nimport { svgAliasMap, unaliased } from '../services/svgAlias.js';\n\nconst documentLoadedStyleSheets = new Set();\n\n/** @typedef {'align'|'border'|'hspace'|'longDesc'|'lowsrc'|'name'|'vspace'} DeprecatedHTMLImageElementProperties */\n\n// https://html.spec.whatwg.org/multipage/embedded-content.html#htmlimageelement\n\n/**\n * Material system icons represent actions, objects, and concepts; prefer\n * the Material icon system (SVG or Material Symbols) for consistent visual language.\n * implements {Omit<HTMLImageElement,DeprecatedHTMLImageElementProperties>}\n * @see https://m3.material.io/styles/icons\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .define({\n    _img() { return /** @type {HTMLImageElement} */ (this.refs.img); },\n  })\n  .define({\n    naturalWidth() { return this._img.naturalWidth; },\n    naturalHeight() { return this._img.naturalHeight; },\n    complete() { return this._img.complete; },\n    currentSrc() { return this._img.currentSrc; },\n    x() { return this._img.x; },\n    y() { return this._img.y; },\n    decode() { return this._img.decode; },\n  })\n  .observe({\n    /** Icon name used with SVG aliases or font glyphs. */\n    icon: 'string',\n    /** Whether the icon is disabled; affects image appearance. */\n    disabled: 'boolean',\n    /** Alternative text for image-backed icons. */\n    alt: 'string',\n    /** Image source URL for an icon. */\n    src: 'string',\n    /** URL to an external SVG resource. */\n    svg: 'string',\n    /** Inline SVG path data to render as the icon. */\n    svgPath: 'string',\n    /** Image `srcset` attribute for responsive icon images. */\n    srcset: 'string',\n    /** Image `sizes` attribute for responsive icon images. */\n    sizes: 'string',\n    /** Variation suffix used when resolving icon aliases (e.g., 'filled'). */\n    variation: 'string',\n    /** `crossorigin` attribute for image requests. */\n    crossOrigin: { attr: 'crossorigin' },\n    /** `usemap` attribute for image maps. */\n    useMap: { attr: 'usemap' },\n    /** `ismap` boolean attribute for image maps. */\n    isMap: { type: 'boolean', attr: 'ismap' },\n    /** `referrerpolicy` attribute for image requests. */\n    referrerPolicy: { attr: 'referrerpolicy' },\n    /** Preferred image decoding mode: 'async' | 'sync' | 'auto'. */\n    decoding: { value: /** @type {'async'|'sync'|'auto'} */ (null) },\n    /** Image loading hint: 'eager' | 'lazy'. */\n    loading: { value: /** @type {'eager'|'lazy'} */ (null) },\n    /** Rendered width in CSS pixels. */\n    width: 'integer',\n    /** Rendered height in CSS pixels. */\n    height: 'integer',\n    /** Force using font glyphs instead of SVG when true. */\n    forceFont: 'boolean',\n    _linkLoaded: 'boolean',\n    /** viewBox used for SVG rendering. */\n    viewBox: 'string',\n    /** CSS class applied to font-based icons. */\n    fontClass: { empty: 'material-symbols-outlined' },\n    /** URL to Material Symbols CSS when using font-based icons. */\n    fontLibrary: { empty: 'https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1&display=block' },\n    _isConnected: 'boolean',\n  })\n  .observe({\n    _svgAlias: {\n      type: 'object',\n      get({ icon, variation }) {\n        if (!icon) return null;\n        const iconName = icon.trim().toLowerCase();\n        const suffix = variation ? `#${variation}` : '';\n\n        const aliasName = `${iconName}${suffix}`;\n        if (svgAliasMap.has(aliasName)) {\n          return svgAliasMap.get(aliasName);\n        }\n        unaliased.add(aliasName);\n\n        // Fallback to base version\n        if (suffix && svgAliasMap.has(iconName)) {\n          return svgAliasMap.get(iconName);\n        }\n\n        return null;\n      },\n    },\n  })\n  .observe({\n    _computedSVGPath({ svgPath, _svgAlias }) {\n      return svgPath || _svgAlias?.path;\n    },\n    _computedViewBox({ viewBox, _svgAlias }) {\n      return viewBox ?? _svgAlias?.viewBox ?? '0 0 24 24';\n    },\n  })\n  .observe({\n    _showFontIcon: {\n      type: 'boolean',\n      get({ icon, svg, _computedSVGPath, src }) {\n        return icon && !svg && !_computedSVGPath && !src;\n      },\n    },\n  })\n  .expressions({\n    showSVG({ svg, _computedSVGPath }) {\n      return Boolean(svg || _computedSVGPath);\n    },\n\n  })\n  .html`\n    <link mdw-if={_showFontIcon} id=link rel=stylesheet href={fontLibrary} />\n    <svg mdw-if=\"{showSVG}\" id=\"svg\" viewBox=\"{_computedViewBox}\">\n      <use id=\"use\" mdw-if=\"{svg}\" href=\"{svg}\" fill=\"currentColor\"/>\n      <path id=\"path\" mdw-if=\"{_computedSVGPath}\" d=\"{_computedSVGPath}\"/>\n    </svg>\n    <img mdw-if={src} id=img\n      disabled={disabled}\n      alt={alt} src={src} srcset={srcset} sizes={sizes}\n      crossorigin={crossOrigin} usemap={useMap} ismap={isMap}\n      referrerpolicy={referrerPolicy} decoding={decoding} loading={loading}\n      width={width} height={height}\n    />\n    <span id=icon class={fontClass} hidden={!_showFontIcon} aria-hidden=true>{icon}</span>\n  `\n  .css`\n    /* https://material.io/design/iconography/system-icons.html */\n\n    :host {\n      vertical-align: -11.5%;\n\n      block-size: 1em;\n      inline-size: 1em;\n\n      -webkit-user-select: none;\n      user-select: none;\n\n      line-height: 1;\n\n      font-variation-settings: 'FILL' 0;\n\n      transition-duration: 200ms;\n      /* stylelint-disable-next-line liberty/use-logical-spec -- Safari does not animate inline-size */\n      transition-property: inline-size, width;\n    }\n\n    :host([variation=\"fill\"]) {\n      font-variation-settings: 'FILL' 1;\n    }\n\n    :host(:is([color],[ink])) {\n      color: rgb(var(--mdw-ink));\n    }\n\n    #icon {\n      /* Clip bounds in case font is not ready */\n      overflow: clip;\n\n      block-size: 1em;\n      inline-size: 1em;\n\n      font-size: inherit;\n      font-variation-settings: inherit;\n\n      transition-delay: 1ms;\n      transition-duration: 200ms;\n\n      transition-property: font-variation-settings;\n    }\n\n    #icon[hidden] {\n      display: none;\n    }\n\n    #svg {\n      block-size: inherit;\n      inline-size: inherit;\n\n      fill: currentColor;\n\n      object-fit: cover;\n    }\n\n    #img {\n      block-size: inherit;\n      inline-size: inherit;\n\n      object-fit: cover;\n\n      transition-delay: 1ms;\n      transition-duration: 200ms;\n      transition-property: filter;\n    }\n\n    #img[disabled] {\n      filter: grayscale();\n    }\n\n    .material-symbols-outlined {\n      /* https://github.com/google/material-design-icons/issues/750 */\n      direction: inherit;\n    }\n\n  `\n  .childEvents({\n    link: {\n      /**\n       * @param {{currentTarget: HTMLLinkElement}} event\n       * @type {any}\n       */\n      load({ currentTarget }) {\n        const { href, parentNode } = currentTarget;\n        if (!parentNode) {\n          console.warn('Icon: parentNode is blank');\n        }\n        if (documentLoadedStyleSheets.has(href)) return;\n        // console.debug('Icon: Checking if link also in document', href);\n        for (const link of document.head.getElementsByTagName('link')) {\n          if (link.href === href) {\n            // console.debug(`Icon: Found ${href} in document.`);\n            documentLoadedStyleSheets.add(href);\n            return;\n          }\n        }\n        // console.debug(`Icon: Adding ${href} to document.`);\n        document.head.append(currentTarget.cloneNode());\n        documentLoadedStyleSheets.add(href);\n      },\n    },\n  })\n  .extend((BaseClass) => class extends BaseClass {\n    /**\n     * @param {number} [width]\n     * @param {number} [height]\n     */\n    constructor(width, height) {\n      super();\n\n      if (width != null) {\n        this.width = width;\n      }\n      if (height != null) {\n        this.height = height;\n      }\n    }\n  })\n  .autoRegister('mdw-icon');\n", "/**\n * Adds a `density` property to control component spacing and compactness.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function DensityMixin(Base) {\n  return Base\n    .observe({\n      /** Density level affecting spacing and compactness. Integer from -4 (dense) to 4 (spacious). */\n      density: 'integer',\n    })\n    .css`\n      :host {\n        --mdw-density: var(--mdw-density__default, 0);\n      }\n      \n      /* Reset */\n      :host([density]) { --mdw-density: 0; }\n      \n      :host([density=\"-1\"]) { --mdw-density: -1; }\n      :host([density=\"-2\"]) { --mdw-density: -2; }\n      :host([density=\"-3\"]) { --mdw-density: -3; }\n      :host([density=\"-4\"]) { --mdw-density: -4; }\n      :host([density=\"1\"]) { --mdw-density: 1; }\n      :host([density=\"2\"]) { --mdw-density: 2; }\n      :host([density=\"3\"]) { --mdw-density: 3; }\n      :host([density=\"4\"]) { --mdw-density: 4; }\n    `;\n}\n", "/**\n * Adds shape sizing and outline support for components (shape-style, shape-top, etc.).\n * @param {ReturnType<import('./StateMixin.js').default> & ReturnType<import('./ThemableMixin.js').default>} Base\n */\nexport default function ShapeMixin(Base) {\n  return Base\n    .observe({\n      /** Show top cut/shape on the element */\n      shapeTop: 'boolean',\n      /** Show bottom cut/shape on the element */\n      shapeBottom: 'boolean',\n      /** Show start-side cut/shape (logical start) */\n      shapeStart: 'boolean',\n      /** Show end-side cut/shape (logical end) */\n      shapeEnd: 'boolean',\n      /** Predefined shape size/style name (none|extra-small|small|medium|large|extra-large|full|inherit) */\n      shapeStyle: 'string',\n      /** When true, an outline is rendered around the element */\n      outlined: 'boolean',\n    })\n    .html`\n      <div id=outline mdw-if={outlined} class=outline disabled={disabledState} focused={focusedState} pressed={pressedState} hovered={hoveredState}></div>\n    `\n    .css`\n      :host {\n        --mdw-shape__size: 0px;\n        --mdw-shape__ltr: calc(0.5 * var(--mdw-dir, 1) + 0.5); /* 1 if LTR, 0 if RTL */\n        --mdw-shape__rtl: calc(-0.5 * var(--mdw-dir, 1) + 0.5); /* 0 if LTR, 1 if RTL */\n\n        /** By default, fallback to border-radius */\n        --mdw-shape__inline-start-deg: calc(var(--mdw-dir, 1) * -90deg);\n\n        --mdw-shape__size__top-start-size: var(--mdw-shape__size);\n        --mdw-shape__size__top-end-size: var(--mdw-shape__size);\n        --mdw-shape__size__bottom-start-size: var(--mdw-shape__size);\n        --mdw-shape__size__bottom-end-size: var(--mdw-shape__size);\n        /* (1/2n + 1/2)L + (-1/2n + 1/2)R  */\n        \n        --mdw-shape__size__top-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__top-end-size)));\n        --mdw-shape__size__top-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__top-end-size)));\n        --mdw-shape__size__bottom-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-end-size)));\n        --mdw-shape__size__bottom-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-end-size)));\n        z-index: 0;\n\n        border-start-start-radius: calc(var(--mdw-shape__size__top-start-size));\n        border-start-end-radius: calc(var(--mdw-shape__size__top-end-size));\n        border-end-start-radius: calc(var(--mdw-shape__size__bottom-start-size));\n        border-end-end-radius: calc(var(--mdw-shape__size__bottom-end-size));\n      }\n\n      :host([shape-style=\"none\"]) {\n        --mdw-shape__size: 0px;\n      }\n      \n      :host([shape-style=\"extra-small\"]) {\n        --mdw-shape__size: var(--mdw-shape__extra-small);\n      }\n      \n      :host([shape-style=\"small\"]) {\n        --mdw-shape__size: var(--mdw-shape__small);\n      }\n      \n      :host([shape-style=\"medium\"]) {\n        --mdw-shape__size: var(--mdw-shape__medium);\n      }\n      \n      :host([shape-style=\"large\"]) {\n        --mdw-shape__size: var(--mdw-shape__large);\n      }\n      \n      :host([shape-style=\"extra-large\"]) {\n        --mdw-shape__size: var(--mdw-shape__extra-large);\n      }\n      \n      :host([shape-style=\"full\"]) {\n        --mdw-shape__size: var(--mdw-shape__full);\n      }\n      \n      :host([shape-style=\"inherit\"]) {\n        --mdw-shape__size: inherit;\n      }\n      \n      :host([shape-top]) {\n        --mdw-shape__size__bottom-start-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n      }\n      \n      :host([shape-bottom]) {\n        --mdw-shape__size__top-start-size: 0px;\n        --mdw-shape__size__top-end-size: 0px;\n      }\n      \n      :host([shape-start]) {\n        --mdw-shape__size__top-end-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n      }\n      \n      :host([shape-end]) {\n        --mdw-shape__size__top-start-size: 0px;\n        --mdw-shape__size__bottom-start-size: 0px;\n      }\n      \n    `\n    .css`\n      .outline {\n        position: absolute;\n        inset: 0;\n\n        overflow: hidden;\n\n        border-style: solid;\n        border-width: 1px;\n      \n        pointer-events: none;\n      \n        border-color: currentColor;\n        border-radius: inherit;\n        color: rgb(var(--mdw-color__outline));\n      }\n      \n      .outline:is([pressed],[focused]) {\n        color: rgb(var(--mdw-ink));\n      \n        transition-delay: 0;\n        transition-duration: 0;\n      }\n      \n      .outline[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.12);\n      }\n      \n    `;\n}\n", "import '../components/Icon.js';\nimport DensityMixin from './DensityMixin.js';\nimport ShapeMixin from './ShapeMixin.js';\n\n/** @typedef {import('../core/CustomElement.js').default} CustomElement */\n\n/**\n * Composes a text field with label, supporting text, icons and control wiring.\n * @param {ReturnType<import('./ControlMixin.js').default>} Base\n */\nexport default function TextFieldMixin(Base) {\n  return Base\n    .mixin(DensityMixin)\n    .mixin(ShapeMixin)\n    .set({\n      /** Show an internal visual state layer element */\n      stateLayer: true,\n    })\n    .observe({\n      /** Input type (text, password, email, etc.) */\n      type: { empty: 'text' },\n      /** Leading icon key/name to render inside the field */\n      icon: 'string',\n      /** Variation of the icon display (e.g., filled) */\n      iconVariation: 'string',\n      /** Floating label text for the field */\n      label: 'string',\n      /** When true, use filled styling */\n      filled: 'boolean',\n      /** When true, use outlined styling */\n      outlined: 'boolean',\n      /** Prefix text shown before the input */\n      inputPrefix: 'string',\n      /** Suffix text shown after the input */\n      inputSuffix: 'string',\n      /** Trailing icon key/name */\n      trailingIcon: 'string',\n      /** Ink/color token for the trailing icon */\n      trailingIconInk: 'string',\n      /** Accessible label for the trailing icon */\n      trailingIconLabel: 'string',\n      /** Supporting/helper text shown beneath the field */\n      supporting: 'string',\n      /** Error message text */\n      error: 'string',\n      /** Placeholder text (DOMString) */\n      placeholder: { nullParser: String },\n    })\n    .observe({\n      erroredState({ error, _invalid, _userInteracted }) { return _userInteracted && Boolean(error || _invalid); },\n    })\n    .expressions({\n      computePlaceholder({ filled, outlined, label, placeholder }) {\n        if (filled || outlined) return placeholder;\n        return placeholder ?? label;\n      },\n\n      shouldShowSupporting({ erroredState, supporting }) {\n        return erroredState || (supporting != null);\n      },\n\n      computeSupportingText({ error, erroredState, _validationMessage, supporting }) {\n        return (error || (erroredState && _validationMessage) || supporting) ?? '';\n      },\n\n      populatedState({ value, _badInput }) {\n        return !!value || _badInput;\n      },\n      _showLabelText({ label, filled, outlined }) {\n        return label && (filled || outlined);\n      },\n    })\n    .expressions({\n      _shapeShapeTop({ shapeTop, filled }) {\n        return shapeTop || filled;\n      },\n      computedIconVariation({ iconVariation, outlined }) {\n        return iconVariation ?? (outlined ? null : 'filled');\n      },\n    })\n    .html`\n      <div id=shape role=none filled={filled} icon={icon} trailing-icon={trailingIcon}\n      populated={populatedState} focused={focusedState} label={label} outlined={outlined}\n      shape-top={_shapeShapeTop}>\n        <mdw-icon mdw-if={icon} id=icon aria-hidden=true disabled={disabledState} icon={icon} variation={computedIconVariation}></mdw-icon>\n        <div id=inline role=none filled={filled} icon={icon} trailing-icon={trailingIcon}\n          populated={populatedState} focused={focusedState} label={label} outlined={outlined}>\n          <span mdw-if={inputPrefix} class=inline id=prefix aria-hidden=true focused={focusedState} populated={populatedState}>{inputPrefix}</span>\n          <span mdw-if={inputSuffix} class=inline id=suffix aria-hidden=true focused={focusedState} populated={populatedState}>{inputSuffix}</span>\n        </div>\n        <mdw-icon-button tabindex=-1 disabled={disabledState} mdw-if={trailingIcon} id=trailing-icon ink={trailingIconInk} disabled={disabledState} icon={trailingIcon}>{trailingIconLabel}</mdw-icon-button>\n        <div mdw-if={filled} id=indicator aria-hidden=true focused={focusedState} hovered={hoveredState} errored={erroredState} disabled={disabledState}></div>\n      </div>\n      <div id=label-text mdw-if={_showLabelText} aria-hidden=true\n        outlined={outlined}\n        populated={populatedState}\n        focused={focusedState}\n        icon={icon}\n        trailing-icon={trailingIcon}\n        disabled={disabledState}\n        errored={erroredState}>{label}</div>\n      <div mdw-if={shouldShowSupporting} id=supporting disabled={disabledState} errored={erroredState}>\n        {computeSupportingText}\n        <slot id=supporting-slot name=supporting></slot>\n      </div>\n      \n    `\n    .recompose(({ html, refs: { control, outline, state, shape, inline } }) => {\n      control.setAttribute('placeholder', '{computePlaceholder}');\n      control.setAttribute('aria-label', '{label}');\n      control.setAttribute('input-suffix', '{inputSuffix}');\n      control.setAttribute('errored', '{erroredState}');\n      control.setAttribute('aria-describedby', 'supporting');\n      control.removeAttribute('aria-labelledby');\n      control.classList.add('inline');\n\n      state.setAttribute('mdw-if', '{!outlined}');\n      outline.append(html`\n        <div id=outline-left class=outline-section focused={focusedState}></div>\n        <div id=gap label={label} populated={populatedState} focused={focusedState}>\n          <div id=gap-slot focused={focusedState}></div>\n          <span id=gap-label>{label}</span>\n        </div>\n        <div id=outline-right class=outline-section focused={focusedState}></div>\n      `);\n      outline.setAttribute('label', '{label}');\n      outline.setAttribute('errored', '{erroredState}');\n      shape.prepend(outline, state);\n      inline.prepend(control);\n    })\n    .on({\n      // @ts-ignore TODO: Missing observable size property\n      sizeChanged(oldValue, newValue) {\n        // @ts-ignore TODO: Missing {this} context\n        const control = /** @type {HTMLElement} */ (this.refs.control);\n        control.style.setProperty('--size', `${newValue}ch`);\n      },\n    })\n    .css`\n      /* https://m3.material.io/components/text-fields/specs */\n\n      /**\n       * States:      Enabled            / Hover              / Focus              / Error              / Error Hover        / Error Focus\n       * Input:       on-surface         / on-surface         / on-surface         / on-surface         / on-surface         / on-surface\n       * Inline:      on-surface-variant / on-surface-variant / on-surface-variant / on-surface-variant / on-surface-variant / on-surface-variant\n       * Label:       on-surface-variant / on-surface*        / ink                / error              / on-error-container / error\n       * Indicator:   on-surface-variant / on-surface         / ink                / error              / on-error-container / error\n       * Caret:       (any)              / (any)              / ink                / (any)              / (any)              / error\n       * Outline:     outline            / on-surface         / ink                / error              / on-error-container / error\n       * Selection:   on-*               / on-*               / ink                / error              / on-error-container / error\n       *\n       *\n       * *Filled hovered unpopulated label may be on-surface-variant instead\n       *\n       * Input: Always on-surface\n       * Inline: Always on-surface-variant\n       * Indicator: same as label\n       * Label: same as indicator\n       * Outline: outline default, same as label+indicator on :hover or :focus\n       * Caret: same as label+indicator+outline (cannot inherit color or use currentColor)\n       * Selection:  (cannot inherit color or use currentColor)\n       */\n\n      :host {\n        --mdw-shape__size: var(--mdw-shape__extra-small);\n        /* --mdw-shape__size: 8px; */\n        /* --mdw-shape__size__bottom-start-size: var(--mdw-shape__size); */\n        /* --mdw-shape__size__bottom-end-size: var(--mdw-shape__size); */\n        --mdw-text-field__ratio: calc(var(--mdw-density) * 0.125 + 1);\n\n        --control__margin-top: calc(var(--mdw-typescale__body-small__line-height) / 2);\n        --control__padding-top: calc((var(--mdw-text-field__ratio) * 16px) - calc(var(--mdw-typescale__body-small__line-height) / 2));\n        --control__padding-bottom: calc(var(--mdw-text-field__ratio) * 16px);\n        --control__margin-bottom: 0px;\n\n        --inline-color: rgb(var(--mdw-color__on-surface-variant));\n\n        --descriptor-opacity: 0.5;\n        --mdw-ink: var(--mdw-color__primary);\n        --mdw-bg: var(--mdw-color__surface-container-highest);\n\n        --mdw-type__font: var(--mdw-typescale__body-large__font);\n        --mdw-type__letter-spacing: var(--mdw-typescale__body-large__letter-spacing);\n\n        display: inline-block;\n\n        border-radius: 0;\n\n        /* State layer */\n        color: rgb(var(--mdw-color__on-surface));\n\n        font: var(--mdw-type__font);\n        letter-spacing: var(--mdw-type__letter-spacing);\n      }\n\n      :host(:is([color], [ink])) {\n        background-color: transparent;\n        color: rgb(var(--mdw-color__on-surface));\n      }\n\n      /** Guard against bleed */\n      #shape[label][outlined] {\n        --mdw-shape__size__top-start-size: min(var(--mdw-shape__size), 12px);\n        --mdw-shape__size__bottom-start-size: min(var(--mdw-shape__size), 12px);\n        --mdw-shape__size__top-end-size: min(var(--mdw-shape__size), 12px);\n        --mdw-shape__size__bottom-end-size: min(var(--mdw-shape__size), 12px);\n      }\n\n      #shape {\n        position: relative;\n\n        display: flex;\n\n        cursor: inherit;\n\n        z-index: 0;\n\n        background-color: transparent;\n\n        border-start-start-radius: calc(var(--mdw-shape__size__top-start-size));\n        border-start-end-radius: calc(var(--mdw-shape__size__top-end-size));\n        border-end-start-radius: calc(var(--mdw-shape__size__bottom-start-size));\n        border-end-end-radius: calc(var(--mdw-shape__size__bottom-end-size));\n\n        font-weight: inherit;\n        font-size: inherit;\n        line-height: inherit;\n        font-family: inherit;\n        letter-spacing: inherit;\n\n        transition: none 200ms cubic-bezier(0.0, 0.0, 0.2, 1);\n      }\n\n      #inline {\n        display: flex;\n\n        align-items: center;\n        overflow: visible;\n\n        flex: 1;\n        padding-block: var(--control__margin-top) var(--control__margin-bottom);\n\n        cursor: inherit;\n\n        font-weight: inherit;\n        font-size: inherit;\n        line-height: inherit;\n        font-family: inherit;\n        letter-spacing: inherit;\n\n        transition: none 200ms cubic-bezier(0.0, 0.0, 0.2, 1);\n      }\n\n      \n\n      #shape:where([filled],[color]) {\n        background-color: rgb(var(--mdw-bg));\n        color: rgb(var(--mdw-color__on-surface));\n      }\n\n      #shape[outlined] {\n        background-color: transparent;\n      }\n\n      #label-text,\n      #indicator {\n        color: rgb(var(--mdw-color__on-surface-variant))\n      }\n\n      :is(#label-text, #indicator)[focused] {\n        color: rgb(var(--mdw-ink))\n      }\n\n      #shape[focused] {\n        transition: none 100ms cubic-bezier(0.4, 0.0, 1, 1);\n      }\n\n      #shape[shape-top] {\n        --mdw-shape__size__bottom-start-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n      }\n\n      #prefix,\n      #suffix,\n      #control::placeholder {\n        opacity: var(--descriptor-opacity);\n\n        color: var(--inline-color);\n\n        transition-duration: inherit;\n        transition-property: opacity;\n        transition-timing-function: inherit;\n        will-change: opacity;\n      }\n\n      :host([label]:is([filled],[outlined])) {\n        --descriptor-opacity: 0;\n      }\n\n      #control {\n        position: relative;\n        inset: auto;\n        align-self: flex-start;\n\n        display: inline-block;\n\n        box-sizing: border-box;\n\n        block-size: auto;\n        min-block-size: 0;\n        inline-size: 100%;\n        min-inline-size: 0;\n        flex: 1;\n        border-block-end: solid var(--control__margin-bottom) transparent;\n        padding-block: var(--control__padding-top) var(--control__padding-bottom);\n\n        appearance: none;\n        caret-color: rgb(var(--mdw-ink));\n        cursor: auto;\n\n        transform: none;\n\n        visibility: inherit;\n\n        background-color: transparent;\n        border-color: transparent;\n        color: inherit;\n        /* rgb(var(--mdw-color__on-surface)); */\n\n        font-weight: inherit;\n        font-size: inherit;\n        line-height: inherit;\n        font-family: inherit;\n        letter-spacing: inherit;\n        text-align: initial;\n\n        transition-duration: inherit;\n        transition-property: color;\n        transition-timing-function: inherit;\n      }\n\n      #suffix,\n      #prefix {\n        /* Symmetrical to allow centering */\n        padding-block: var(--control__padding-top) var(--control__padding-bottom);\n      }\n\n      /* stylelint-disable-next-line plugin/no-unsupported-browser-features */\n      #control::selection {\n        background-color: rgb(var(--mdw-ink));\n        color: rgb(var(--mdw-color__surface));\n      }\n\n      #state {\n        --mdw-state__focused-opacity: 0;\n        --mdw-state__pressed-opacity: 0;\n      }\n\n      mdw-icon {\n        --mdw-icon__size: 24px;\n        align-self: center;\n\n        color: var(--inline-color);\n      }\n\n      #icon {\n        order: -2;\n\n        margin-inline-start: 12px;\n\n        font-size: 24px;\n      }\n\n      #prefix {\n        order: -1;\n      }\n\n      #suffix {\n        order: 1;\n      }\n\n      #trailing-icon {\n        order: 2;\n\n        /* stylelint-disable-next-line declaration-property-value-disallowed-list */\n        margin-inline-end: 12px;\n      }\n\n      #indicator {\n        position: absolute;\n        inset-block-end: 0;\n        inset-inline: 0;\n\n        border-block-end: 2px solid currentColor;\n\n        pointer-events: none;\n\n        transform: scaleY(0.5);\n        z-index: 1; /* Force new layer to avoid repaint */\n\n        transition-duration: inherit;\n        transition-property: transform;\n        transition-timing-function: inherit;\n        will-change: transform;\n      }\n\n      #indicator[focused] {\n        transform: scaleY(1);\n\n      }\n\n      /** Label Text **/\n\n      #label-text {\n        position: absolute;\n        inset-block-start: 0;\n        inset-inline: 0;\n\n        display: block;\n        overflow-x: clip;\n        overflow-y: visible;\n\n        padding-inline: 16px;\n\n        pointer-events: none;\n\n        opacity: 1;\n        transform: translateY(calc((var(--control__margin-top) + var(--control__padding-top) + 100% + var(--control__padding-bottom) + var(--control__margin-bottom)) / 2)) translateY(-50%);\n        z-index: 4;\n        /* FireFox bug */\n\n        color: rgb(var(--mdw-color__on-surface-variant));\n\n        text-overflow: ellipsis;\n        white-space: nowrap;\n\n        transition-duration: 200ms;\n        transition-property: inset-inline-start, font-size, transform;\n        /* transition-timing-function: inherit; */\n        /*Expand*/\n\n        will-change: inset-inline-start, font-size, transform;\n      }\n\n      @supports (-moz-appearance:none ) {\n        #label-text {\n          /* Firefox clips Y as well as X */\n          overflow-x: hidden;\n        }\n      }\n\n      #label-text[focused] {\n        color: rgb(var(--mdw-ink));\n      }\n\n      #label-text[icon] {\n        inset-inline-start: calc(12px + 24px);\n      }\n\n      #label-text[trailing-icon] {\n        inset-inline-end: calc(24px + 12px);\n      }\n\n      #label-text:is([focused], [populated]) {\n        transform: translateY(calc(var(--mdw-text-field__ratio) * 8px));\n\n        font: var(--mdw-typescale__body-small__font);\n        /* Not spec: Should only use font-size and line-height */\n        letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n      }\n\n      #label-text[outlined]:is([focused], [populated]) {\n        inset-inline: 0;\n\n        transform: translateY(-50%);\n      }\n\n      :is(#prefix, #suffix):is([focused], [populated]) {\n        opacity: 1;\n      }\n\n      /* If no label */\n      #control:is(:focus, :not(:placeholder-shown))::placeholder {\n        opacity: 0.70;\n      }\n\n      #control[input-suffix] {\n        text-align: end;\n      }\n\n      /** Outlined **/\n\n      #outline {\n        position: absolute;\n        inset: 0;\n\n        border-style: solid;\n        border-width: 0px;\n\n        pointer-events: none;\n\n        border-color: currentColor;\n        border-radius: inherit;\n        color: rgb(var(--mdw-color__outline));\n      }\n\n      #outline:is([pressed],[focused]) {\n        color: rgb(var(--mdw-ink));\n\n        transition-delay: 0;\n        transition-duration: 0;\n      }\n      \n      #outline[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.12);\n      }\n\n      #outline::before {\n        content: none;\n      }\n\n      .outline-section {\n        position: relative;\n\n        border: 1px solid currentColor;\n      }\n\n      .outline-section[focused] {\n        border-width: 2px;\n      }\n\n      #outline-left {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-right-width: 0;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-top-left-radius: inherit;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-bottom-left-radius: inherit;\n      }\n\n      #outline-right {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-left-width: 0;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-top-right-radius: inherit;\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        border-bottom-right-radius: inherit;\n      }\n\n      #outline {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: 1fr 0 1fr;\n\n        color: rgb(var(--mdw-color__outline));\n      }\n\n      #outline[label] {\n        grid-template-columns: 12px minmax(0,auto) minmax(12px, 1fr);\n      }\n\n      #outline[hovered] {\n        color: rgb(var(--mdw-color__on-surface));\n      }\n\n      #outline[focused] {\n        color: rgb(var(--mdw-ink));\n      }\n\n      .outline-section {\n        min-inline-size: 12px;\n      }\n\n      .outline-section::before,\n      .outline-section::after {\n        max-inline-size: none;\n      }\n\n      .outline-left {\n        grid-column: calc(2 - var(--mdw-dir, 1)) / span 1; /* 1 on LTR, 3 on RTL */\n      }\n\n      .outline-right {\n        grid-column: calc(2 + var(--mdw-dir, 1)) / span 1;\n      }\n\n      #gap {\n        position: relative;\n\n        display: inline-block;\n        overflow: clip hidden;\n\n        max-inline-size: 100%;\n        grid-column: 2;\n\n        font: var(--mdw-typescale__body-small__font);\n        /* Not spec: Should only use font-size and line-height */\n        letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n\n        /* Close gap */\n        transition-duration: inherit;\n        transition-property: padding;\n        transition-timing-function: inherit;\n      }\n\n      #gap-label {\n        display: inline-block;\n        overflow: clip hidden;\n\n        padding-inline: 4px;\n\n        color:transparent;\n\n        white-space: nowrap;\n      }\n\n      #gap::after {\n        content: '';\n\n        position: absolute;\n        inset: 0;\n\n        border-block-end: solid 1px currentColor;\n      }\n\n      #gap[focused]::after {\n        border-block-end-width: 2px;\n      }\n\n      #gap-slot {\n        position: absolute;\n        inset: 0;\n\n      }\n\n      #gap-slot::before,\n      #gap-slot::after {\n        content: '';\n\n        position: absolute;\n        inset: 0;\n\n        border-block-start: solid 1px currentColor;\n\n        transition: transform 200ms;\n        will-change: transform;\n      }\n\n      #gap-slot[focused]::before,\n      #gap-slot[focused]::after {\n        border-block-start-width: 2px;\n      }\n\n      #gap-slot::before {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        margin-right: -0.99px;\n\n        transform: var(--gap-transform, scaleX(0.5));\n        transform-origin: 0 0;\n      }\n\n      #gap-slot::after {\n        /* stylelint-disable-next-line liberty/use-logical-spec */\n        margin-left: -0.99px;\n\n        transform: var(--gap-transform, scaleX(0.5));\n        transform-origin: 100% 0;\n      }\n\n      #gap:is([focused], [populated]) {\n        /* Open gap */\n        --gap-transform: scaleX(0);\n      }\n\n      #gap:empty {\n        padding: 0;\n      }\n\n      #inline[label][filled] {\n        align-items: flex-start;\n      }\n\n      :host([filled]) {\n        --mdw-shape__size__bottom-start-size: 0px;\n        --mdw-shape__size__bottom-end-size: 0px;\n        --mdw-text-field__ratio: calc(var(--mdw-density) * 0.25 + 1);\n      }\n\n      :host(:is([filled][label])) {\n        --control__margin-top: calc((var(--mdw-text-field__ratio) * 8px) + var(--mdw-typescale__body-small__line-height));\n        --control__padding-top: 0px;\n        --control__padding-bottom: calc(var(--mdw-text-field__ratio) * 4px);\n        --control__margin-bottom: calc(var(--mdw-text-field__ratio) * 4px);\n      }\n\n      #supporting {\n        min-block-size: var(--mdw-typescale__body-small__line-height);\n        margin-block-start: 4px;\n        margin-inline: 16px;\n\n        font-weight: var(--mdw-typescale__body-small__font-weight); /* Not spec */\n        font-size: var(--mdw-typescale__body-small__font-size);\n        line-height: var(--mdw-typescale__body-small__line-height);\n        font-family: var(--mdw-typescale__body-small__font-family); /* Not spec */\n        letter-spacing: var(--mdw-typescale__body-small__letter-spacing); /* Not spec */\n      }\n\n      /* Error States */\n\n      #control[errored] {\n        caret-color: rgb(var(--mdw-color__error));\n      }\n\n      #control[errored]::selection {\n        background-color: rgb(var(--mdw-color__on-error-container));\n      }\n\n      :is(#indicator, #label-text, #supporting, #outline)[errored] {\n        color: rgb(var(--mdw-color__error));\n      }\n\n      :is(#indicator, #label-text, #supporting, #outline)[errored]:where([hovered]) {\n        color: rgb(var(--mdw-color__on-error-container));\n      }\n\n      :is(#indicator, #label-text, #supporting, #outline)[errored]:where([focused]) {\n        color: rgb(var(--mdw-color__error));\n      }\n\n      /* stylelint-disable-next-line selector-max-compound-selectors */\n      #shape[disabled],\n      #shape[disabled] #control {\n        cursor: not-allowed;\n      }\n\n      #outline[disabled] {\n        color: rgba(var(--mdw-color__outline), 0.12);\n      }\n\n      #label-text[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #supporting[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      .inline[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      mdw-icon[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #shape[disabled] {\n        background-color: rgba(var(--mdw-color__on-surface), calc(0.04));\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #indicator[disabled] {\n        color: rgba(var(--mdw-color__on-surface), 0.38);\n      }\n\n      #shape[disabled][outlined] {\n        background-color: transparent;\n      }\n    \n    `;\n}\n", "/**\n * Adds CSS properties for elevation via shadows or underlighting.\n * @param {ReturnType<import('./StateMixin.js').default> & ReturnType<import('./ThemableMixin.js').default>} Base\n */\nexport default function ElevationMixin(Base) {\n  return Base\n    .css`:host {\n\n        /** Reference Properties */\n        /*\n        --mdw-surface__box-shadow__1__umbra: 0px 1px 2px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__2__umbra: 0px 1px 2px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__3__umbra: 0px 1px 3px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__4__umbra: 0px 2px 3px 0px rgba(var(--mdw-color__shadow), 0.30);\n        --mdw-surface__box-shadow__5__umbra: 0px 4px 4px 0px rgba(var(--mdw-color__shadow), 0.30);\n      \n        --mdw-surface__filter__0__umbra: drop-shadow(0px 1px 1px rgba(var(--mdw-color__shadow), 0));\n        --mdw-surface__filter__1__umbra: drop-shadow(0px 1px 1px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__2__umbra: drop-shadow(0px 1px 1px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__3__umbra: drop-shadow(0px 1px 1.5px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__4__umbra: drop-shadow(0px 2px 1.5px rgba(var(--mdw-color__shadow), 0.30));\n        --mdw-surface__filter__5__umbra: drop-shadow(0px 4px 2px rgba(var(--mdw-color__shadow), 0.30));\n      \n        --mdw-surface__box-shadow__1__penumbra: 0px 1px 3px 1px  rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__2__penumbra: 0px 2px 6px 2px  rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__3__penumbra: 0px 4px 8px 3px  rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__4__penumbra: 0px 6px 10px 4px rgba(var(--mdw-color__shadow), 0.15);\n        --mdw-surface__box-shadow__5__penumbra: 0px 8px 12px 6px rgba(var(--mdw-color__shadow), 0.15);\n      \n        --mdw-elevation__filter__0__penumbra: drop-shadow(0px 1px 2.5px rgba(var(--mdw-color__shadow), 0));\n        --mdw-elevation__filter__1__penumbra: drop-shadow(0px 1px 2.5px rgba(var(--mdw-color__shadow), 0.25));\n        --mdw-elevation__filter__2__penumbra: drop-shadow(0px 2px 5px rgba(var(--mdw-color__shadow), 0.25));\n        --mdw-elevation__filter__3__penumbra: drop-shadow(0px 4px 7px rgba(var(--mdw-color__shadow), 0.263));\n        --mdw-elevation__filter__4__penumbra: drop-shadow(0px 6px 9px rgba(var(--mdw-color__shadow), 0.27));\n        --mdw-elevation__filter__5__penumbra: drop-shadow(0px 8px 12px rgba(var(--mdw-color__shadow), 0.30));\n      \n        --mdw-elevation__filter__0: var(--mdw-surface__shadow__0__umbra) var(--mdw-surface__shadow__0__penumbra);\n        --mdw-elevation__filter__1: var(--mdw-surface__shadow__1__umbra) var(--mdw-surface__shadow__1__penumbra);\n        --mdw-elevation__filter__2: var(--mdw-surface__shadow__2__umbra) var(--mdw-surface__shadow__2__penumbra);\n        --mdw-elevation__filter__3: var(--mdw-surface__shadow__3__umbra) var(--mdw-surface__shadow__3__penumbra);\n        --mdw-elevation__filter__4: var(--mdw-surface__shadow__4__umbra) var(--mdw-surface__shadow__4__penumbra);\n        --mdw-elevation__filter__5: var(--mdw-surface__shadow__5__umbra) var(--mdw-surface__shadow__5__penumbra);\n        */\n\n      --mdw-elevation__rgb: var(--mdw-color__shadow);\n\n      --mdw-elevation__box-shadow__0: 0px 1px 1px 0px rgba(var(--mdw-elevation__rgb), 0.00), 0px 0px 1px 1px  rgba(var(--mdw-elevation__rgb), 0.00);\n      --mdw-elevation__box-shadow__1: 0px 1px 2px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 1px 3px 1px  rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__2: 0px 1px 2px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 2px 6px 2px  rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__3: 0px 1px 3px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 4px 8px 3px  rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__4: 0px 2px 3px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 6px 10px 4px rgba(var(--mdw-elevation__rgb), 0.15);\n      --mdw-elevation__box-shadow__5: 0px 4px 4px 0px rgba(var(--mdw-elevation__rgb), 0.30), 0px 8px 12px 6px rgba(var(--mdw-elevation__rgb), 0.15);\n\n      --mdw-elevation__drop-shadow__0: drop-shadow(0px 1px 001px rgba(var(--mdw-elevation__rgb),000)) drop-shadow(0px 1px 2.5px rgba(var(--mdw-elevation__rgb),00000));\n      --mdw-elevation__drop-shadow__1: drop-shadow(0px 1px 001px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 1px 2.5px rgba(var(--mdw-elevation__rgb),0.250));\n      --mdw-elevation__drop-shadow__2: drop-shadow(0px 1px 001px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 2px 005px rgba(var(--mdw-elevation__rgb),0.250));\n      --mdw-elevation__drop-shadow__3: drop-shadow(0px 1px 1.5px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 4px 007px rgba(var(--mdw-elevation__rgb),0.263));\n      --mdw-elevation__drop-shadow__4: drop-shadow(0px 2px 1.5px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 6px 009px rgba(var(--mdw-elevation__rgb),0.270));\n      --mdw-elevation__drop-shadow__5: drop-shadow(0px 4px 2.0px rgba(var(--mdw-elevation__rgb),0.3)) drop-shadow(0px 8px 012px rgba(var(--mdw-elevation__rgb),0.300));\n    }`;\n}\n", "/**\n * @typedef {Object} DOMRectLike\n * @prop {number} left\n * @prop {number} right\n * @prop {number} top\n * @prop {number} bottom\n * @prop {number} width\n * @prop {number} height\n */\n\n/**\n * @typedef {Object} CanAnchorPopUpOptions\n * @prop {Element|DOMRectLike} [anchor]\n * @prop {number|'left'|'center'|'right'} [clientX]\n * @prop {number|'top'|'center'|'bottom'} [clientY]\n * @prop {number} [pageX]\n * @prop {number} [pageY]\n * @prop {Element|{width:number, height:number}} [popup]\n * @prop {number} [width]\n * @prop {number} [height]\n * @prop {number} [offsetX] Offset from anchor\n * @prop {number} [offsetY] Offset from anchor\n * @prop {number} [margin] Margin from page\n * @prop {'left'|'center'|'right'} [directionX='right']\n * @prop {'up'|'center'|'down'} [directionY='down']\n * @prop {boolean} [force=false]\n */\n\n/** @param {CanAnchorPopUpOptions} options */\nexport function canAnchorPopup(options) {\n  let { pageX, pageY, directionX, directionY } = options;\n  const pageWidth = document.documentElement.clientWidth;\n  const pageHeight = document.documentElement.clientHeight;\n  if (pageX == null || pageY == null) {\n    const { clientX, clientY, anchor } = options;\n    let rect;\n    if (anchor) {\n      rect = anchor instanceof Element ? anchor.getBoundingClientRect() : anchor;\n    } else {\n      rect = {\n        left: 0,\n        width: pageWidth,\n        right: pageWidth,\n        top: 0,\n        bottom: pageHeight,\n        height: pageHeight,\n      };\n    }\n\n    if (pageX == null) {\n      switch (clientX) {\n        case 'left':\n        case null:\n        case undefined:\n          pageX = rect.left;\n          directionX ??= 'right';\n          break;\n        case 'center':\n          pageX = rect.left + rect.width / 2;\n          directionX ??= 'center';\n          break;\n        case 'right':\n          pageX = rect.right;\n          directionX ??= 'left';\n          break;\n        default:\n          pageX = rect.left + clientX;\n      }\n    }\n    if (pageY == null) {\n      switch (clientY) {\n        case 'top':\n          pageY = rect.top;\n          directionY ??= 'up';\n          break;\n        case 'center':\n          pageY = rect.top + rect.height / 2;\n          directionY ??= 'center';\n          break;\n        case 'bottom':\n        case null:\n        case undefined:\n          pageY = rect.bottom;\n          directionY ??= 'down';\n          break;\n        default:\n          pageY = rect.top + clientY;\n      }\n    }\n  }\n\n  let { width, height } = options;\n  if (width == null || height == null) {\n    const { popup } = options;\n    if (popup instanceof Element) {\n      width = popup.clientWidth;\n      height = popup.clientHeight;\n    } else {\n      width = popup.width;\n      height = popup.height;\n    }\n  }\n\n  let top;\n  let right;\n  let bottom;\n  let left;\n  const margin = options.margin ?? 0;\n\n  let pageTop = margin;\n  let pageBottom = -margin;\n  let pageLeft = margin;\n  let pageRight = -margin;\n\n  if (window.visualViewport) {\n    pageTop += window.visualViewport.offsetTop;\n    pageBottom += window.visualViewport.offsetTop + window.visualViewport.height;\n    pageLeft += window.visualViewport.offsetLeft;\n    pageRight += window.visualViewport.offsetLeft + window.visualViewport.width;\n  } else {\n    pageBottom += pageHeight;\n    pageRight += pageWidth;\n  }\n\n  const offsetX = options.offsetX ?? 0;\n  const offsetY = options.offsetY ?? 0;\n  pageX += offsetX;\n  pageY += offsetY;\n\n  let cssTop = 'auto';\n  let cssRight = 'auto';\n  let cssBottom = 'auto';\n  let cssLeft = 'auto';\n  let maxHeight = null;\n  let maxWidth = null;\n\n  switch (directionY) {\n    case 'up':\n      bottom = Math.min(pageY, pageBottom);\n      top = Math.max(bottom - height, pageTop);\n      cssBottom = `${pageHeight - bottom}px`;\n      if (top === pageTop) {\n        maxHeight = `${bottom - pageTop}px`;\n      }\n      break;\n    case 'center':\n      top = Math.max(pageY - height / 2, pageTop);\n      bottom = Math.min(pageY + height / 2, pageBottom);\n      cssTop = `${top}px`;\n      if (bottom === pageBottom) {\n        maxHeight = `${pageBottom - pageTop}px`;\n      }\n      break;\n    default:\n      top = Math.max(pageY, pageTop);\n      bottom = Math.min(top + height, pageBottom);\n      cssTop = `${top}px`;\n      if (bottom === pageBottom) {\n        maxHeight = `${pageBottom - top}px`;\n      }\n  }\n\n  switch (directionX) {\n    case 'left':\n      right = Math.min(pageX, pageRight);\n      left = Math.max(right - width, pageLeft);\n      cssRight = `${pageWidth - right}px`;\n      if (left === pageLeft) {\n        maxWidth = `${right - pageLeft}px`;\n      }\n      break;\n    case 'center':\n      left = Math.max(pageX - width / 2, pageLeft);\n      right = Math.min(pageX + width / 2, pageRight);\n      cssLeft = `${left}px`;\n      if (right === pageRight) {\n        maxWidth = `${pageRight - pageLeft}px`;\n      }\n      break;\n    default:\n      left = Math.max(pageX, pageLeft);\n      right = Math.min(left + width, pageRight);\n      cssLeft = `${left}px`;\n      if (right === pageRight) {\n        maxWidth = `${pageRight - left}px`;\n      }\n  }\n\n  // compute area\n  const fullSize = width * height;\n  const realSize = (bottom - top) * (right - left);\n\n  const visibility = realSize / fullSize;\n\n  const transformOriginX = directionX === 'center' ? 'center' : (directionX === 'left' ? 'right' : 'left');\n  const transformOriginY = directionY === 'center' ? 'center' : (directionY === 'up' ? 'bottom' : 'top');\n  return {\n    ...options,\n    top,\n    right,\n    bottom,\n    left,\n    visibility,\n    styles: {\n      top: cssTop,\n      bottom: cssBottom,\n      left: cssLeft,\n      right: cssRight,\n      maxWidth,\n      maxHeight,\n      transformOrigin: `${transformOriginY} ${transformOriginX}`,\n    },\n  };\n}\n", "import CustomElement from '../core/CustomElement.js';\n\n/**\n * A scrim can bring focus to specific elements by increasing the visual contrast of a large layered surface.\n * Use the scrim beneath elements like modals and expanded navigation menus.\n * @see https://m3.material.io/styles/elevation/applying-elevation\n */\nexport default CustomElement\n  .extend()\n  .observe({\n    /** When true the scrim is hidden and will be removed after its fade-out animation. */\n    hidden: 'boolean',\n  })\n  .html`<div id=scroll-blocker></div>`\n  .css`\n    :host {\n      position: fixed;\n      inset: 0;\n\n      display: block;\n      overflow: overlay;\n\n      overscroll-behavior: none;\n      overscroll-behavior: contain;\n      scrollbar-color: transparent transparent;\n      scrollbar-width: none;\n\n      cursor: pointer;\n\n      outline: none; /* Older Chromium Builds */\n      \n      -webkit-tap-highlight-color: transparent;\n\n      opacity: 0;\n\n      z-index: 23;\n\n      background-color: rgb(var(--mdw-color__scrim));\n      \n      animation: fade-in 200ms forwards ease-out;\n      will-change: opacity;\n    }\n\n    :host::-webkit-scrollbar {\n      display: none;\n    }\n\n    :host([hidden]) {\n      animation-name: fade-out;\n      animation-timing-function: ease-in;\n    }\n\n    :host([invisible]) {\n      background: transparent;\n    }\n\n    #scroll-blocker {\n      position: absolute;\n      inset-block-start: 0;\n      inset-inline-start: 0;\n\n      display: block;\n\n      block-size: 200%;\n      inline-size: 200%;\n    }\n\n    @keyframes fade-in {\n      from {\n        opacity: 0;\n      }\n\n      to {\n        opacity: 0.38;\n      }\n    }\n\n    @keyframes fade-out {\n      from {\n        opacity: 0.38;\n      }\n\n      to {\n        opacity: 0;\n      }\n    }\n  `\n  .events({\n    animationend() {\n      if (this.hidden) {\n        this.remove();\n      }\n    },\n  })\n  .autoRegister('mdw-scrim');\n", "import { attemptFocus, isRtl } from '../core/dom.js';\nimport { canAnchorPopup } from '../utils/popup.js';\n\nimport DelegatesFocusMixin from './DelegatesFocusMixin.js';\nimport '../components/Scrim.js';\nimport ResizeObserverMixin from './ResizeObserverMixin.js';\n\nconst supportsHTMLDialogElement = typeof HTMLDialogElement !== 'undefined';\n\n/** @typedef {import('../utils/popup.js').DOMRectLike} DOMRectLike */\n\n/**\n * @typedef {Object} PopupStack\n * @prop {InstanceType<ReturnType<typeof PopupMixin>>} element\n * @prop {HTMLElement} previousFocus\n * @prop {boolean} [centered=false]\n * @prop {Record<string, any>} [state]\n * @prop {Record<string, any>} [previousState]\n * @prop {any} [pendingResizeOperation]\n * @prop {window['history']['scrollRestoration']} [scrollRestoration]\n */\n\n/** @type {PopupStack[]} */\nconst OPEN_POPUPS = [];\n\n/**\n * @return {void}\n */\nfunction onWindowResize() {\n  // Fire in popup order\n  for (const { element } of OPEN_POPUPS) {\n    element.updatePopupPosition();\n  }\n}\n\n/**\n * Prevent focus being given to elements via mouse nav back\n * @param {MouseEvent} event\n */\nfunction onNavMouseDown(event) {\n  if (event.button === 3) {\n    event.preventDefault();\n  }\n}\n\n/**\n * @param {PopStateEvent} event\n */\nfunction onPopState(event) {\n  if (!event.state) return;\n  const lastOpenPopup = OPEN_POPUPS.at(-1);\n  if (!lastOpenPopup || !lastOpenPopup.previousState) {\n    return;\n  }\n  if ((lastOpenPopup.previousState === event.state) || Object.keys(event.state)\n    .every((key) => event.state[key] === lastOpenPopup.previousState[key])) {\n    // Close (cancel event) can be prevented. Fire and check if prevented\n    const cancelEvent = new Event('cancel', { cancelable: true });\n    if (lastOpenPopup.element.dispatchEvent(cancelEvent)) {\n      lastOpenPopup.element.close();\n    } else {\n      // Revert pop state by pushing state again\n      window.history.pushState(lastOpenPopup.state, lastOpenPopup.state.title);\n    }\n  }\n}\n\n/** @param {BeforeUnloadEvent} event */\nfunction onBeforeUnload(event) {\n  if (!OPEN_POPUPS.length) return;\n  console.warn('Popup was open during page unload (refresh?).');\n}\n\n/**\n * Provides positioning, modal behavior, and history-aware popup/dialog support.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function PopupMixin(Base) {\n  return Base\n    .mixin(DelegatesFocusMixin)\n    .mixin(ResizeObserverMixin)\n    .observe({\n      /** Whether the popup is currently open */\n      open: 'boolean',\n      /** When true the popup behaves as a blocking modal */\n      modal: 'boolean',\n      /** Use the native HTMLDialogElement when available */\n      native: 'boolean',\n      /** Allow internal content to scroll when true */\n      scrollable: 'boolean',\n      /** When true, match the popup width to the source element */\n      matchSourceWidth: 'boolean',\n      /** Internal: current resolved flow used for positioning */\n      _currentFlow: 'string',\n      flow: {\n        type: 'string',\n        /** @type {'corner'|'adjacent'|'overflow'|'vcenter'|'hcenter'|'center'} */\n        value: null,\n      },\n      /** Margin between popup and viewport/anchor (px) */\n      popupMargin: 'float',\n    })\n    .set({\n      /** Whether to push/pop history entries when opening the popup */\n      useHistory: true,\n      /** Optional return value for dialog-like popups */\n      returnValue: '',\n      /** Internal: true while closing is in-progress */\n      _closing: false,\n      /** Internal: whether to show a scrim (overlay) for modal popups */\n      _useScrim: false,\n      /**\n       * Source that triggered the popup\n       * @type {MouseEvent|PointerEvent|HTMLElement|Event}\n       */\n      _source: null,\n      /**\n       * Anchor used for positioning\n       * @type {MouseEvent|PointerEvent|HTMLElement|Event}\n       */\n      _anchor: null,\n    })\n    .define({\n      _dialog() {\n        return /** @type {HTMLDialogElement} */ (this.refs.dialog);\n      },\n    })\n    .expressions({\n      _ariaHidden({ open }) {\n        return (open ? 'false' : 'true');\n      },\n    })\n    .methods({\n      /**\n       * @param {DOMRectLike|Element} [anchor]\n       * @return {void}\n       */\n      updatePopupPosition(anchor = this._anchor) {\n        const flow = this._currentFlow ?? this.flow;\n        Object.assign(this.style, {\n          top: '0',\n          left: '0',\n          right: 'auto',\n          bottom: 'auto',\n          maxWidth: null,\n          maxHeight: null,\n        });\n\n        const layoutElement = this.native ? this._dialog : this;\n        Object.assign(layoutElement.style, { width: 'auto', height: 'auto' });\n\n        const width = (anchor && this.matchSourceWidth)\n          ? /** @type {Element} */ (anchor).clientWidth\n          : 56 * Math.ceil(layoutElement.clientWidth / 56);\n\n        layoutElement.style.setProperty('width', `${width}px`);\n\n        const height = layoutElement.clientHeight;\n        Object.assign(layoutElement.style, { height: null });\n\n        /** @type {import('../utils/popup.js').CanAnchorPopUpOptions} */\n        const anchorOptions = {\n          anchor,\n          width,\n          height,\n          margin: this.popupMargin ?? (window.innerWidth < 648 ? 16 : 24),\n        };\n\n        const isPageRTL = isRtl(this);\n        const xStart = isPageRTL ? 'right' : 'left';\n        const xEnd = isPageRTL ? 'left' : 'right';\n\n        /* Automatic Positioning\n         *\n         * Positions:\n         *\n         *   3      7      4\n         *     \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         *     \u2502         \u2502\n         *   5 \u2502    9    \u2502 6\n         *     \u2502         \u2502\n         *     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         *   1      8      2\n         *\n         * 1: Bottom Left\n         * 2: Bottom Right\n         * 3: Top Left\n         * 4: Top Right\n         * 5: VCenter Left\n         * 6: VCenter Right\n         * 7: HCenter Top\n         * 8: HCenter Bottom\n         * 9: VCenter HCenter\n         *\n         * Directions:\n         * a - Down LTR\n         * b - Down RTL\n         * c - Up LTR\n         * d - Up RTL\n         * e - LTR\n         * f - RTL\n         * g - Down\n         * h - Up\n         * i - Center\n         *\n         *\n         * 16 total combos\n         * 1a 1b 1c 1d  \u2514\u2198 \u2514\u2199 \u2514\u2197 \u2514\u2196\n         * 2a 2b 2c 2d  \u2518\u2198 \u2518\u2199 \u2518\u2197 \u2518\u2196\n         * 3a 3b 3c 3d  \u250C\u2198 \u250C\u2199 \u250C\u2197 \u250C\u2196\n         * 4a 4b 4c 4d  \u2510\u2198 \u2510\u2199 \u2510\u2197 \u2510\u2196\n         *\n         * Avoid using opposite angle\n         *\n         * 1a XX 1c 1d  \u2514\u2198 \u2588\u2588 \u2514\u2197 \u2514\u2196\n         * XX 2b 2c 2d  \u2588\u2588 \u2518\u2199 \u2518\u2197 \u2518\u2196\n         * 1a 3b 3c XX  \u250C\u2198 \u250C\u2199 \u250C\u2197 \u2588\u2588\n         * 4a 4b XX 4d  \u2510\u2198 \u2510\u2199 \u2588\u2588 \u2510\u2196\n         *\n         *\n         * Preference Order:\n         * - Flow from corner           1a 2b 3c 4d    \u2514\u2198 \u2518\u2199 \u250C\u2197 \u2510\u2196\n         * - Open adjacent to target    4a 3b 2c 1d    \u2510\u2198 \u250C\u2199 \u2518\u2197 \u2514\u2196\n         * - Overlay target             3a 4b 1c 2d    \u250C\u2198 \u2510\u2199 \u2514\u2197 \u2518\u2196\n         * - Open from horizontal side  5e 6f          \u2502\u2192 \u2502\u2190\n         * - Open from center           9i             \u2588\u00B7\n         */\n\n        const preferences = /** @type {import('../utils/popup.js').CanAnchorPopUpOptions[]} */ ([\n          ((flow ?? 'corner') === 'corner') ? [\n            { clientY: 'bottom', clientX: xStart },\n            { clientY: 'bottom', clientX: xEnd },\n            { clientY: 'top', clientX: xStart },\n            { clientY: 'top', clientX: xEnd },\n          ] : [],\n          ((flow ?? 'adjacent') === 'adjacent') ? [\n            { clientY: 'top', clientX: xEnd, directionX: xEnd, directionY: 'down' },\n            { clientY: 'top', clientX: xStart, directionX: xStart, directionY: 'down' },\n            { clientY: 'bottom', clientX: xEnd, directionX: xEnd, directionY: 'up' },\n            { clientY: 'bottom', clientX: xStart, directionX: xStart, directionY: 'up' },\n          ] : [],\n          ((flow ?? 'overlay') === 'overlay') ? [\n            { clientY: 'top', clientX: xStart, directionX: xEnd, directionY: 'down' },\n            { clientY: 'top', clientX: xEnd, directionX: xStart, directionY: 'down' },\n            { clientY: 'bottom', clientX: xStart, directionX: xEnd, directionY: 'up' },\n            { clientY: 'bottom', clientX: xEnd, directionX: xStart, directionY: 'up' },\n          ] : [],\n          ((flow ?? 'vcenter') === 'vcenter') ? [\n            { clientY: 'center', clientX: xEnd, directionX: xEnd, directionY: 'center' },\n            { clientY: 'center', clientX: xStart, directionX: xStart, directionY: 'center' },\n          ] : [],\n          ((flow ?? 'hcenter') === 'hcenter') ? [\n            { clientY: 'bottom', clientX: 'center', directionX: 'center', directionY: 'down' },\n            { clientY: 'top', clientX: 'center', directionX: 'center', directionY: 'up' },\n          ] : [],\n          ((flow ?? 'center') === 'center') ? [\n            { clientY: 'center', clientX: 'center', directionX: 'center', directionY: 'center' },\n          ] : [],\n        ].flat());\n\n        let anchorResult;\n        for (const preference of preferences) {\n          const result = canAnchorPopup({\n            ...anchorOptions,\n            ...preference,\n          });\n          if (!anchorResult || anchorResult.visibility < result.visibility) {\n            anchorResult = result;\n          }\n          if (result.visibility === 1) break;\n        }\n\n        let { maxWidth, maxHeight } = anchorResult.styles;\n        if (maxWidth || maxHeight) {\n          const styles = window.getComputedStyle(this);\n          if (styles.maxWidth) {\n            maxWidth = `min(${maxWidth}, ${styles.maxWidth})`;\n          }\n          if (styles.maxHeight) {\n            maxHeight = `min(${maxHeight}, ${styles.maxHeight})`;\n          }\n        }\n        Object.assign(this.style, { ...anchorResult.styles, maxWidth, maxHeight });\n        // this.scrollIntoView();\n      },\n      /**\n       * @param {Event & {currentTarget: HTMLSlotElement}} event\n       * @return {void}\n       */\n      onSlotChange({ currentTarget }) {\n        const nodes = currentTarget.assignedNodes();\n        const hasContent = nodes.some((node) => (node.nodeType === node.ELEMENT_NODE)\n      || (node.nodeType === node.TEXT_NODE && node.nodeValue.trim().length));\n        currentTarget.toggleAttribute('slotted', hasContent);\n      },\n\n      /**\n       * @param {MouseEvent|PointerEvent|HTMLElement|Event} [source]\n       * @param {boolean} focus\n       * @param {string} flow\n       * @return {boolean} handled\n       */\n      showPopup(source, focus = true, flow = null) {\n        if (this.open) return false;\n        this.open = true;\n        this._source = source;\n        this._anchor = source;\n\n        const { scrim } = this.refs;\n        if (this._useScrim) {\n          if (this.native) {\n            document.body.append(scrim);\n          } else {\n            this.before(scrim);\n          }\n          scrim.hidden = false;\n        } else {\n          scrim.remove();\n        }\n\n        const previousFocus = source instanceof HTMLElement\n          ? source\n          : /** @type {HTMLElement} */(document.activeElement);\n\n        if (supportsHTMLDialogElement && focus // Calling show will force focus which is not intended for non-modals\n          && !this._dialog.open) {\n          this._dialog.show();\n        }\n\n        this._currentFlow = flow;\n\n        // Short first, then move\n        // Native modals can fail update bounds on Chrome\n        // @ts-ignore `updatePopupPosition` has runtime check\n        this.updatePopupPosition(source);\n\n        let newState;\n        let scrollRestoration;\n        let previousState;\n        if (this.useHistory) {\n          newState = { hash: Math.random().toString(36).slice(2, 18) };\n\n          if (!window.history.state) {\n            // Create new previous state\n            window.history.replaceState({\n              hash: Math.random().toString(36).slice(2, 18),\n            }, document.title);\n          }\n          previousState = window.history.state;\n\n          scrollRestoration = window.history.scrollRestoration;\n\n          window.history.scrollRestoration = 'manual';\n          window.history.pushState(newState, document.title);\n          window.addEventListener('popstate', onPopState);\n          window.addEventListener('beforeunload', onBeforeUnload);\n        }\n\n        window.addEventListener('mousedown', onNavMouseDown, { capture: true });\n\n        window.addEventListener('resize', onWindowResize);\n        window.addEventListener('scroll', onWindowResize);\n        if (window.visualViewport) {\n          window.visualViewport.addEventListener('resize', onWindowResize);\n          window.visualViewport.addEventListener('scroll', onWindowResize);\n        }\n\n        OPEN_POPUPS.push({\n          element: this,\n          previousFocus,\n          state: newState,\n          previousState,\n          scrollRestoration,\n        });\n\n        // Overrideable\n        if (focus) {\n          this.focus();\n        }\n\n        return true;\n      },\n      /**\n       * @param {MouseEvent|PointerEvent|HTMLElement|Event} [source]\n       * @param {boolean} [focus]\n       * @param {string} [flow]\n       * @return {boolean} handled\n       */\n      showModal(source, focus, flow) {\n        if (this.open) return false;\n        this.modal = true;\n        if (supportsHTMLDialogElement) {\n          this._dialog.showModal();\n          this.native = true;\n        }\n        return this.showPopup(source, focus, flow);\n      },\n      /**\n       * @param {MouseEvent|PointerEvent|HTMLElement|Event} [source]\n       * @param {boolean} [focus]\n       * @param {string} [flow]\n       * @return {boolean} handled\n       */\n      show(source, focus, flow) {\n        // Auto-select type based on default platform convention\n        // Mac OS X / iPad does not expect clickthrough\n        if (navigator.userAgent.includes('Mac OS X')) {\n          return this.showModal(source, focus, flow);\n        }\n        return this.showPopup(source, focus, flow);\n      },\n      /**\n       * @param {any} [returnValue]\n       * @param {boolean} [returnFocus=true]\n       * @return {boolean} handled\n       */\n      close(returnValue = undefined, returnFocus = true) {\n        if (!this.open) return false;\n        if (this._closing) return false;\n        this._source = null;\n        this._closing = true;\n        this.modal = false;\n\n        // SCRIM\n        this.refs.scrim.hidden = true;\n\n        if (this.native) {\n          this.native = false;\n        } else {\n          const main = document.querySelector('main');\n          if (main) {\n            main.removeAttribute('aria-hidden');\n          }\n        }\n        // if (this.dialogElement.getAttribute('aria-hidden') === 'true') return false;\n        if (supportsHTMLDialogElement && this._dialog.open) {\n          const previousFocus = document.activeElement;\n          // Closing a native dialog will return focus automatically.\n          this._dialog.close();\n          if (!attemptFocus(previousFocus, { preventScroll: true })) {\n            const currentlyFocused = /** @type {SVGElement|HTMLElement} */ (document.activeElement);\n            currentlyFocused?.blur?.();\n          }\n        } else {\n          this._dialog.returnValue = returnValue;\n        }\n\n        // Will invoke observed attribute change: ('aria-hidden', 'true');\n        this.open = false;\n        this._currentFlow = null;\n\n        this.dispatchEvent(new Event('close'));\n\n        const len = OPEN_POPUPS.length;\n        for (let i = len - 1; i >= 0; i--) {\n          const entry = OPEN_POPUPS[i];\n          if (entry.element === this) {\n            if (this.useHistory) {\n              if (entry.state && window.history\n                && window.history.state && entry.state.hash === window.history.state.hash) {\n                window.removeEventListener('popstate', onPopState);\n                window.history.back();\n                // Back does not set state immediately\n                // Needed to track submenu\n                // TODO: use window.history.go(indexDelta) instead for Safari (not Webkit) submenu support\n                window.history.replaceState(entry.previousState, document.title);\n                window.history.scrollRestoration = entry.scrollRestoration || 'auto';\n                window.addEventListener('popstate', onPopState);\n              } else {\n                console.warn('Menu state mismatch?', entry, window.history.state);\n              }\n            }\n            if (returnFocus) {\n              // console.log('not returning focus');\n              entry.previousFocus?.focus?.({ preventScroll: true });\n            }\n            OPEN_POPUPS.splice(i, 1);\n            break;\n          } else if (this.contains(entry.element)) {\n            // console.debug('Closing submenu first');\n            entry.element.close(false);\n            // console.debug('Sub menu closed. Continuing...');\n          }\n        }\n        if (!OPEN_POPUPS.length) {\n          window.removeEventListener('popstate', onPopState);\n          window.removeEventListener('beforeunload', onBeforeUnload);\n          window.removeEventListener('resize', onWindowResize);\n          window.removeEventListener('mousedown', onNavMouseDown, { capture: true });\n          // console.debug('All menus closed');\n        }\n        this._closing = false;\n        return true;\n      },\n    })\n\n    .overrides({\n      onResizeObserved(entry) {\n        if (!this.open || this._closing) return;\n        this.updatePopupPosition();\n      },\n    })\n    .html`\n      <mdw-scrim id=scrim tabindex=-1 aria-hidden=true></mdw-scrim>\n      <dialog id=dialog aria-modal=true role=dialog\n      aria-hidden={_ariaHidden} scrollable={scrollable}>\n        <slot id=slot on-slotchange={onSlotChange}></slot>\n      </dialog>\n    `\n    .css`\n    /* https://m3.material.io/components/dialogs/specs */\n\n    :host([popover]) {\n      margin: 0;\n      border: 0;\n      padding: 0;\n    }\n\n    :host(::backdrop) {\n      display: none;\n    }\n\n    :host {\n      --mdw-popup__expand-duration: var(--mdw-motion-expand-duration, 250ms);\n      --mdw-popup__simple-duration: var(--mdw-motion-simple-duration, 100ms);\n      --mdw-popup__standard-easing: var(--mdw-motion-standard-easing, cubic-bezier(0.4, 0.0, 0.2, 1));\n      --mdw-popup__deceleration-easing: var(--mdw-motion-deceleration-easing, cubic-bezier(0.0, 0.0, 0.2, 1));\n      --mdw-popup__fade-in-duration: var(--mdw-motion-fade-in-duration, 150ms);\n\n      --mdw-shape__size: 28px;\n\n      /* padding-inline: 12px; */\n\n      --mdw-bg: var(--mdw-color__surface);\n      --mdw-ink: var(--mdw-color__on-surface);\n\n      position: fixed;\n\n      inset-block-start: 0;\n      inset-inline-start: 0;\n      align-self: center;\n      justify-self: center;\n\n      display: block;\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      overscroll-behavior: none;\n      overscroll-behavior: contain;\n\n      box-sizing: border-box;\n      block-size: auto;\n      min-block-size: none;\n      max-block-size: 100vh;\n      inline-size: auto;\n      min-inline-size: none;\n      max-inline-size: 100vw;\n\n      outline: none; /* Older Chromium Builds */\n\n      pointer-events: none;\n\n      opacity: 0;\n      transform: scale(0);\n\n      visibility: hidden;\n      z-index: 24;\n\n      color: rgb(var(--mdw-ink));\n\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n\n      transition-delay: 200ms, 0s;\n      transition-duration: 0s, 200ms, 200ms;\n      transition-property: visibility, opacity, transform;\n      transition-timing-function: ease-out;\n\n      will-change: visibility, opacity, transform;\n\n    }\n\n    :host([open]) {\n      pointer-events: inherit;\n\n      opacity: 1;\n\n      transform: none;\n      visibility: inherit;\n\n      transition-delay: 0s;\n      transition-timing-function: ease-in;\n    }\n\n    :host([native][open]) {\n      opacity: 0;\n    }\n\n    #dialog {\n      position: static;\n      inset-block-start: 0;\n      inset-inline-start: 0;\n\n      display: contents;\n      align-items: inherit;\n      flex-direction: inherit;\n      gap: inherit;\n      justify-content: inherit;\n      justify-items: inherit;\n      place-items: inherit;\n\n      box-sizing: border-box;\n      block-size: inherit;\n      flex: inherit;\n      margin:0;\n      border: none;\n      padding: inherit;\n      padding: 0;\n\n      pointer-events: inherit;\n\n      filter: inherit;\n\n      opacity: 1;\n\n      transform:inherit;\n      visibility: inherit;\n      /* visiblity:hidden still registers events, hide from pointer with scale(0) */\n      z-index: 24;\n\n      background-color: transparent;\n\n      color:inherit;\n      \n    }\n\n    :host([color]) {\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n    }\n\n    :host(:is([color=\"none\"],[color=\"transparent\"])) {\n      background-color: transparent;\n      color: inherit;\n    }\n\n    :host([scrollable]) {\n      overflow-y:auto;\n    }\n\n    #dialog::backdrop {\n      /** Use scrim instead */\n      background-color: transparent;\n    }\n\n    #dialog:modal {\n      position: inherit;\n      inset: inherit;\n\n      display: inherit;\n      align-items: inherit;\n      flex-direction: inherit;\n      gap: inherit;\n      justify-content: inherit;\n      justify-items: inherit;\n      place-items: inherit;\n\n      block-size: auto;\n      min-block-size: inherit;\n      max-block-size: inherit;\n\n      inline-size:auto;\n      min-inline-size: inherit;\n      max-inline-size: inherit;\n      flex: inherit;\n      padding: inherit;\n\n      pointer-events: inherit;\n\n      filter: inherit;\n      transform: inherit;\n      visibility: inherit;\n\n      background-color: inherit;\n      border-radius: inherit;\n    }\n\n    #dialog[scrollable][open] {\n      display: inherit;\n      align-items: inherit;\n      flex-direction: inherit;\n      gap: inherit;\n      justify-content: inherit;\n      justify-items: inherit;\n      \n      place-items: inherit;\n\n      block-size: 100%;\n      max-block-size: none;\n      inline-size: 100%;\n      max-inline-size: none;\n\n      flex: 1;\n    }\n\n    \n\n    #dialog[scrollable][open]:modal {\n      overflow:auto;\n\n      block-size:100%;\n      min-block-size: none;\n      max-block-size: inherit;\n      inline-size:100%;\n      min-inline-size: none;\n      max-inline-size: inherit;\n      flex: inherit;\n      padding: inherit;\n    }\n\n    \n  `\n    .childEvents({\n      dialog: {\n        cancel(event) {\n          event.stopPropagation();\n          const cancelEvent = new Event('cancel', { cancelable: true });\n          if (!this.dispatchEvent(cancelEvent)) {\n            event.preventDefault();\n          }\n        },\n        close(event) {\n          event.stopPropagation();\n          this.close(this.returnValue);\n        },\n        '~click'(event) {\n          // Track if click on backdrop\n          if (event.target !== event.currentTarget) return;\n          if (!this.native) return;\n          if (event.offsetX >= 0 && event.offsetX < event.currentTarget.offsetWidth\n        && event.offsetY >= 0 && event.offsetY < event.currentTarget.offsetHeight) return;\n          const cancelEvent = new Event('cancel', { cancelable: true });\n          if (!this.dispatchEvent(cancelEvent)) return;\n          this.close();\n        },\n      },\n      scrim: {\n        '~click'() {\n          const cancelEvent = new Event('cancel', { cancelable: true });\n          if (!this.dispatchEvent(cancelEvent)) return;\n          this.close();\n        },\n      },\n    });\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport PopupMixin from '../mixins/PopupMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Popup displays transient content such as menus or popovers and provides\n * elevation, shape, and theming control for floating surfaces.\n * @see https://m3.material.io/styles/elevation/overview\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .mixin(PopupMixin)\n  .observe({\n    /** Elevation level (0\u20135) controlling the drop-shadow depth of the popup. */\n    elevation: 'integer',\n  })\n  .css`\n    :host {\n      filter: var(--mdw-elevation__drop-shadow__0);\n\n      transition: filter 200ms;\n    }\n\n    :host(:where([elevation=\"1\"])) { filter: var(--mdw-elevation__drop-shadow__1); }\n    :host(:where([elevation=\"2\"])) { filter: var(--mdw-elevation__drop-shadow__2); }\n    :host(:where([elevation=\"3\"])) { filter: var(--mdw-elevation__drop-shadow__3); }\n    :host(:where([elevation=\"4\"])) { filter: var(--mdw-elevation__drop-shadow__4); }\n    :host(:where([elevation=\"5\"])) { filter: var(--mdw-elevation__drop-shadow__5); }\n  `\n  .autoRegister('mdw-popup');\n", "/* https://learn.microsoft.com/en-us/dotnet/api/system.windows.controls.combobox.iseditable?view=windowsdesktop-7.0#remarks */\n\nimport CustomElement from '../core/CustomElement.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport ResizeObserverMixin from '../mixins/ResizeObserverMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport TextFieldMixin from '../mixins/TextFieldMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\nimport Popup from './Popup.js';\n\n/** @typedef {import('./Listbox.js').default} Listbox */\n\n/** @typedef {import('../mixins/RippleMixin.js').default} RippleMixin */\n\n/** @type {InstanceType<import('./Popup.js').default>} */\nlet sharedPopup;\n\n/** @return {InstanceType<import('./Popup.js').default>} */\nfunction getSharedPopup() {\n  if (!sharedPopup) {\n    sharedPopup = new Popup();\n    sharedPopup.scrollable = true;\n    sharedPopup.shapeStyle = 'extra-small';\n    sharedPopup.color = 'surface';\n    sharedPopup.matchSourceWidth = true;\n    sharedPopup.flow = 'corner';\n    sharedPopup.elevation = 2;\n  }\n  return sharedPopup;\n}\n\n/**\n * Text fields let users enter and edit text. This component implements\n * autocomplete, suggestions, and listbox behaviors where applicable.\n * @see https://m3.material.io/components/text-fields/specs\n * @see https://www.w3.org/WAI/ARIA/apg/patterns/combobox/\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(StateMixin)\n  .mixin(InputMixin)\n  .mixin(TextFieldMixin)\n  .mixin(ResizeObserverMixin)\n  .observe({\n    /**\n     * When true, the component inserts the best suggestion into the input field\n     * as inline text. The appended portion of the suggestion is selected so the\n     * user can accept it (e.g. press Enter) or continue typing to replace it.\n     * Typically combined with `autosuggestInline` to display candidates while\n     * typing.\n     * @see https://w3c.github.io/aria/#aria-autocomplete\n     */\n    autocompleteInline: 'boolean',\n\n    /**\n     * When set and not `'custom'`, `applyAutocompleteList()` filters the\n     * listbox options to items that start * with the typed text. This controls\n     * dropdown filtering but does not itself cause inline insertion.\n     * @see https://w3c.github.io/aria/#aria-autocomplete\n     */\n    autocompleteList: 'string',\n\n    /**\n     * When true, the component advances/searches suggestion candidates as the\n     * user types (calls `changeSuggestion({ startsWith })`). If\n     * `autosuggestInline` is true and `autocompleteInline` is also true the\n     * current candidate will be shown inline; if `autocompleteInline` is false\n     * only the candidate selection changes (no inline text insertion).\n     */\n    autosuggestInline: 'boolean',\n\n    /** If true, when listbox is open, arrow navigation will automatically select options. */\n    autoSelect: 'boolean',\n\n    /** True when the listbox popup is currently expanded. */\n    _expanded: 'boolean',\n\n    /** If true, when listbox is open, <Esc> accepts current suggestion (same as Enter). */\n    acceptOnEscape: 'boolean',\n\n    _listbox: {\n      type: 'object',\n      /** @type {InstanceType<Listbox>} */\n      value: null,\n    },\n\n    /** Currently focused suggestion value in the listbox. */\n    _focusedValue: 'string',\n\n    /** Focus position in set (1-based) for aria-posinset. */\n    _focusedPosInSet: { value: -1 },\n\n    /** Computed size of the listbox (number of options). */\n    _listboxSize: { value: -1 },\n\n    /** Draft input text while composing suggestions. */\n    _draftInput: { type: 'string', nullable: false },\n\n    /** Whether a suggestion is currently available. */\n    _hasSuggestion: 'boolean',\n\n    /** The current selected/committed listbox value. */\n    _listboxValue: 'string',\n\n    /** Last computed listbox value (non-nullable string). */\n    _lastComputedListboxValue: { type: 'string', nullable: false },\n\n    _values: {\n      type: 'array',\n      /** @type {string[]} */\n      value: [],\n    },\n\n    /** Whether an input chip is currently selected in multi-select mode. */\n    _chipSelected: 'boolean',\n  })\n  .observe({\n    _hasListbox({ _listbox }) {\n      return !!_listbox;\n    },\n    _isSelect({ type }) {\n      return type.toLowerCase() === 'select-one' || type.toLocaleLowerCase() === 'select-multiple';\n    },\n  })\n  .define({\n    listbox() {\n      return this._listbox;\n    },\n  })\n  .set({\n    /** @type {EventListener} */\n    _onListboxChangeListener: null,\n    /** @type {EventListener} */\n    _onListboxClickListener: null,\n    /** @type {EventListener} */\n    _onPopupFocusoutListener: null,\n    _suggestionText: '',\n    _suggestionValue: '',\n    /** @type {Pick<HTMLOptionElement, 'label'|'value'|'selected'>} */\n    _suggestionOption: null,\n  })\n  .define({\n    stateTargetElement() { return this.refs.control; },\n  })\n  .methods({\n    onResizeObserved() {\n      if (!this._expanded) return;\n      getSharedPopup().updatePopupPosition(this.refs.shape);\n    },\n    /**\n     * Listbox should close if clicking own selection\n     * @param {Event} event\n     */\n    onListboxClick(event) {\n      this.closeListbox();\n      // Revert focus back\n      this.refs.control.focus();\n    },\n    /**\n     * @param {Event} event\n     */\n    onListboxChange(event) {\n      if (this.multiple) {\n        const values = [...this._listbox.selectedOptions].map((option) => option.value);\n        this._values = values;\n        if (this._input.value) {\n          this.closeListbox();\n        }\n        return;\n      }\n      const option = this._listbox.selectedOptions.item(0);\n      this.render({\n        selectedOption: option,\n      });\n\n      const { label: suggestionText, value: suggestionValue } = option;\n      this._suggestionText = suggestionText;\n      this._suggestionValue = suggestionValue;\n      this._suggestionOption = option;\n      this._hasSuggestion = true;\n      this.acceptSuggestion(true);\n      this.closeListbox();\n      this.refs.control.focus();\n    },\n    /** @param {FocusEvent} Event */\n    onPopupFocusout({ relatedTarget }) {\n      if (!this._expanded) return;\n      // Ignore if focus lost to pop-up (likely pointerdown).\n      if (relatedTarget) {\n        if (this === relatedTarget) return;\n        if (this.contains(/** @type {any} */ (relatedTarget))) return;\n        if (getSharedPopup().contains(/** @type {any} */ (relatedTarget))) return;\n      }\n      this.closeListbox();\n    },\n    applyAutocompleteList() {\n      const { _listbox, _draftInput } = this;\n      if (!_listbox) return;\n\n      const lowerCase = _draftInput.toLowerCase();\n      for (const option of _listbox) {\n        option.hidden = !option.label.toLowerCase().startsWith(lowerCase);\n      }\n    },\n    showListbox() {\n      // Move contents of list slot into top-layer\n      // Should only have one element\n\n      const _listbox = this._listbox;\n      if (!_listbox) return;\n      this._expanded = true;\n      const { ariaListbox, shape } = this.refs;\n      ariaListbox.setAttribute('aria-hidden', 'false');\n      const popup = getSharedPopup();\n      if ('popover' in popup) {\n        this.insertAdjacentElement('afterend', popup);\n        popup.popover = 'manual';\n        popup.showPopover();\n      } else {\n        document.body.append(popup);\n      }\n      popup.replaceChildren(_listbox);\n      popup.showPopup(shape, false);\n      popup.addEventListener('focusout', this._onPopupFocusoutListener);\n      if (!this._isSelect && !this.multiple) {\n        _listbox.value = this._listboxValue;\n      }\n      const [option] = _listbox.selectedOptions;\n      if (option) {\n        option.scrollIntoView({\n          behavior: 'instant',\n          block: 'nearest',\n        });\n      }\n    },\n\n    closeListbox() {\n      this._expanded = false;\n      const { _listbox } = this;\n      if (!_listbox) return;\n      const popup = getSharedPopup();\n      this.refs.ariaListbox.setAttribute('aria-hidden', 'true');\n      this.replaceChildren(_listbox);\n      popup.close(undefined, false);\n      // TODO: Animate\n      popup.remove();\n    },\n    toggleListbox() {\n      if (this._expanded) {\n        this.closeListbox();\n      } else {\n        this.showListbox();\n      }\n    },\n    /**\n     * @param {Pick<HTMLOptionElement, 'label'|'value'|'selected'>} option\n     * @return {void}\n     */\n    suggestOption(option) {\n      this.render({\n        selectedOption: option,\n      });\n\n      const {\n        _draftInput: currentInput,\n        _input: inputElement,\n        _isSelect,\n        autocompleteInline,\n        _expanded,\n        autoSelect,\n      } = this;\n      const { label: suggestionText, value: suggestionValue } = option;\n\n      this._suggestionText = suggestionText;\n      this._suggestionValue = suggestionValue;\n      this._suggestionOption = option;\n      this._hasSuggestion = true;\n      if (autoSelect) {\n        this.acceptSuggestion(true);\n        return;\n      }\n\n      // Autocomplete Inline\n      if ((_isSelect && !this.multiple) || autocompleteInline) {\n        let valueText = suggestionText;\n        let selectionStart = 0;\n        if (_expanded) {\n          if (!_isSelect && suggestionText.toLowerCase().startsWith(currentInput.toLowerCase())) {\n            valueText = currentInput + suggestionText.slice(currentInput.length);\n            selectionStart = currentInput.length;\n          } else {\n            selectionStart = suggestionText.length;\n          }\n        } else {\n          selectionStart = 0;\n        }\n        inputElement.value = valueText; // Displayed value\n        if (autocompleteInline) {\n          inputElement.setSelectionRange(selectionStart, suggestionText.length);\n        }\n        if (!_expanded) {\n          this.acceptSuggestion(true);\n        }\n      }\n    },\n    acceptSuggestion(emitChange = false) {\n      if (!this._hasSuggestion) return;\n      if (this.readOnly) return;\n      const { _suggestionText, _suggestionValue, _input, multiple, _listbox, _values } = this;\n      if (multiple) {\n        const newArray = [..._values.filter(Boolean), _suggestionValue ?? _suggestionText];\n        this._values = [...new Set(newArray)];\n      } else {\n        this.value = _suggestionValue;\n        _input.value = _suggestionText;\n        this._draftInput = _suggestionText;\n        _listbox.value = _suggestionValue;\n      }\n      if (emitChange) {\n        this.dispatchEvent(new Event('change', { bubbles: true }));\n      }\n    },\n    /**\n     * @param {Object} options\n     * @param {boolean} [options.first] first option\n     * @param {boolean} [options.last] first option\n     * @param {boolean} [options.next] next fosuable option\n     * @param {boolean} [options.previous] previous focusable option\n     * @param {string} [options.startsWith] option label starsWith\n     * @param {string} [options.value] matches option value\n     * @param {string} [options.label] matches option label\n     */\n    changeSuggestion({ first, last, next, previous, startsWith, value, label }) {\n      const _listbox = this._listbox;\n      let suggestion;\n      let suggestionIndex;\n      let current;\n      let currentIndex;\n      let backup;\n      let backupIndex = -1;\n      let optionIndex = -1;\n      for (const option of _listbox.options) {\n        optionIndex++;\n        if (!current && option.focused) {\n          current = option;\n          currentIndex = optionIndex;\n          if (suggestion && (!next && !last)) {\n            break;\n          }\n        }\n        if (option.hidden) continue;\n        if (last) {\n          suggestion = option;\n          suggestionIndex = optionIndex;\n          continue;\n        }\n        if (first) {\n          if (!suggestion) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (startsWith != null) {\n          if (!suggestion && option.label.toLowerCase().startsWith(startsWith)) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (value != null) {\n          if (!suggestion && option.value === value) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (label != null) {\n          if (!suggestion && option.label === label) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n          }\n          continue;\n        }\n        if (currentIndex === optionIndex) continue;\n        if (previous) {\n          suggestion = option;\n          suggestionIndex = optionIndex;\n        } else if (next) {\n          if (current) {\n            suggestion = option;\n            suggestionIndex = optionIndex;\n            break;\n          } else if (!backup) {\n            backup = option;\n            backupIndex = optionIndex;\n          }\n        }\n      }\n      if (current && current !== suggestion) {\n        current.focused = false;\n      }\n      if (!suggestion) {\n        suggestionIndex = backupIndex;\n        suggestion = backup;\n        this._input.value = this._draftInput;\n      }\n      if (suggestionIndex === -1) {\n        this._focusedPosInSet = -1;\n        this._hasSuggestion = false;\n        return;\n      }\n      this._focusedPosInSet = suggestionIndex + 1;\n      suggestion.focused = true;\n      suggestion.scrollIntoView({\n        behavior: 'instant',\n        block: 'nearest',\n      });\n      this.suggestOption(suggestion);\n    },\n    resetSuggestion() {\n      if (this._isSelect) {\n        this.changeSuggestion({ label: this._draftInput });\n      } else {\n        this.changeSuggestion({ value: this._listboxValue });\n      }\n    },\n    refreshMultiple() {\n      const { _values, multiple } = this;\n      if (!multiple) {\n        this.refs.chips.replaceChildren();\n        return;\n      }\n      let element = /** @type {InstanceType<import('./InputChip.js').default>} */ (this.refs.chips.firstElementChild);\n\n      for (let i = 0; i < _values.length; i++) {\n        const currentValue = _values[i];\n        let foundOption;\n        if (this.listbox) {\n          for (const option of this.listbox.options) {\n            if (option.value === currentValue) {\n              foundOption = option;\n              break;\n            }\n          }\n        }\n\n        element ??= /** @type {InstanceType<import('./InputChip.js').default>} */ (this.refs.chips.appendChild(document.createElement('mdw-input-chip')));\n        element.closeButton = true;\n        element.textContent = foundOption?.label || currentValue;\n        element.textContent = foundOption?.label || currentValue;\n        element.disabled = this.disabled;\n        element.readOnly = this.readOnly;\n        // eslint-disable-next-line unicorn/prefer-add-event-listener\n        element.onclose ??= this.onChipClose.bind(this);\n        element = /** @type {InstanceType<import('./InputChip.js').default>} */ (element.nextElementSibling);\n      }\n      while (element) {\n        const prev = element;\n        element = /** @type {InstanceType<import('./InputChip.js').default>} */ (element.nextElementSibling);\n        prev.remove();\n      }\n      this._chipSelected = false;\n      this._input.value = '';\n      this._draftInput = '';\n      this._listboxValue = '';\n      if (this.listbox) {\n        for (const option of this.listbox.options) {\n          option.selected = _values.includes(option.value);\n        }\n      }\n    },\n    populateInputFromListbox() {\n      if (this.multiple) {\n        this.refreshMultiple();\n        return;\n      }\n      if (!this._isSelect) return;\n      if (!this._listbox) return;\n\n      this._listbox.value = this._value;\n      const [option] = this._listbox.selectedOptions;\n      if (option) {\n        this._input.value = option.label;\n        this._draftInput = option.label;\n      }\n    },\n    /** @param {CloseEvent & {currentTarget: HTMLElement}} event */\n    onChipClose({ currentTarget }) {\n      /** @type {Node} */\n      let prev = currentTarget;\n      let elementIndex = 0;\n      while ((prev = prev.previousSibling)) {\n        elementIndex++;\n      }\n      currentTarget.remove();\n      this._values.splice(elementIndex, 1);\n      this._values = [...this._values];\n    },\n  })\n  .childEvents({\n    control: {\n      click() {\n        if (!this._isSelect) return;\n        if (this.readOnly) return;\n        this.toggleListbox();\n      },\n      input(event) {\n        if (!this._hasListbox) return;\n        // Intercept event and dispatch a new one.\n        // This allow authors to modify listbox (filter) and value (custom pattern)\n        event.stopPropagation();\n        const performDefault = this.dispatchEvent(new InputEvent('input', {\n          composed: true,\n          data: event.data,\n          bubbles: true,\n          dataTransfer: event.dataTransfer,\n          detail: event.detail,\n          inputType: event.inputType,\n          view: event.view,\n          targetRanges: event.getTargetRanges(),\n          isComposing: event.isComposing,\n        }));\n        if (!performDefault) {\n          event.preventDefault();\n          return;\n        }\n        const value = /** @type {HTMLInputElement} */ (event.currentTarget).value;\n        this._draftInput = value;\n        if (this.autocompleteList != null && this.autocompleteList !== 'custom') {\n          this.applyAutocompleteList();\n        }\n        this.resetSuggestion();\n        if (value && !this._expanded && this._listbox.length) {\n          this.showListbox();\n        }\n        // Only inline suggest if appending characters\n        if (event.data != null && this.autosuggestInline) {\n          this.changeSuggestion({ startsWith: this._draftInput.toLocaleLowerCase() });\n        }\n      },\n      keydown(event) {\n        if (!this._listbox) return;\n        // Calls to return will not prevent default.\n        switch (event.key) {\n          case 'Home':\n            if (!this._isSelect) return;\n            if (this.readOnly) return;\n            this.changeSuggestion({ first: true });\n            break;\n          case 'End':\n            this._chipSelected = false;\n            if (!this._isSelect) return;\n            if (this.readOnly) return;\n            this.changeSuggestion({ last: true });\n            break;\n          case 'ArrowDown':\n          case 'Down':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            this._chipSelected = false;\n            if (this.readOnly) return;\n            if (event.altKey) {\n              this.toggleListbox();\n              break;\n            }\n            if (!this._expanded && !this.autocompleteInline && !this._isSelect) return;\n            this.changeSuggestion({ next: true });\n            break;\n          case 'ArrowUp':\n          case 'Up':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            if (event.altKey) {\n              this.toggleListbox();\n              break;\n            }\n            this._chipSelected = false;\n            if (!this._expanded && !this.autocompleteInline && !this._isSelect) return;\n            this.changeSuggestion({ previous: true });\n            break;\n          case 'Escape':\n            if (!this._expanded) return;\n            event.stopImmediatePropagation();\n            event.preventDefault();\n            if (this.acceptOnEscape) {\n              this.acceptSuggestion(true);\n            } else {\n              this.resetSuggestion();\n            }\n            this.closeListbox();\n            break;\n          case 'Space':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            if (!this._isSelect) return;\n            if (!this._listbox) return;\n            if (this._expanded) {\n              if (this.multiple && this._suggestionOption) {\n                this._suggestionOption.selected = !this._suggestionOption.selected;\n                this.closeListbox();\n              }\n            } else {\n              this.showListbox();\n            }\n            break;\n          case 'Backspace':\n            if (this.disabled) return;\n            if (this.readOnly) return;\n            if (!this.multiple) return;\n            if (this._isSelect) return;\n            if (!this._input.value) {\n              if (this._chipSelected) {\n                this._values.pop();\n                this._values = [...this._values];\n              } else if (this._values.length) {\n                this._chipSelected = true;\n              }\n            }\n            return;\n          case 'Tab':\n            if (!this._expanded && this.multiple) return;\n            this.closeListbox();\n            this.acceptSuggestion(true);\n            event.stopPropagation();\n            return;\n          case 'Enter':\n            this._chipSelected = false;\n            if (!this._expanded) return;\n            event.stopImmediatePropagation();\n            event.preventDefault();\n            this.acceptSuggestion(true);\n            this.closeListbox();\n            break;\n          case ' ':\n            return;\n          default:\n            if (this._isSelect && event.key.length === 1) {\n              this.changeSuggestion({ startsWith: event.key.toLocaleLowerCase() });\n              break;\n            }\n            return;\n        }\n        event.stopPropagation(); // Avoid kbd within kbd (sub menus)\n        event.preventDefault();\n      },\n    },\n    slot: {\n      /**\n       * @param {{currentTarget: HTMLSlotElement}} event\n       * @type {any}\n       */\n      slotchange({ currentTarget }) {\n        if (this._expanded) return;\n        const [listbox] = /** @type {InstanceType<Listbox>[]} */ (currentTarget.assignedElements());\n        const _listbox = this._listbox;\n        if (_listbox === listbox) {\n          // Internal already matches\n          return;\n        }\n        if (_listbox) {\n          // Unbind and release\n          _listbox.removeEventListener('change', this._onListboxChangeListener);\n          _listbox.removeEventListener('click', this._onListboxClickListener);\n          _listbox._handleFormReset = true;\n        }\n        this._listbox = listbox;\n        if (listbox) {\n          // Bind and store\n          if (!this.multiple) {\n            listbox.required = true; // Don't allow unclick\n          }\n\n          listbox._handleFormReset = false;\n          listbox.addEventListener('change', this._onListboxChangeListener);\n          listbox.addEventListener('click', this._onListboxChangeListener);\n          this.populateInputFromListbox();\n        }\n      },\n    },\n    trailingIcon: {\n      '~click'() {\n        if (!this._listbox) return;\n        this.toggleListbox();\n        this.refs.control.focus();\n      },\n    },\n  })\n  .events({\n    blur({ relatedTarget }) {\n      this._chipSelected = false;\n      if (!this._expanded) return;\n      // Ignore if focus lost to pop-up (likely pointerdown).\n      const popup = getSharedPopup();\n      if (popup === relatedTarget) return;\n      if (relatedTarget && popup.contains(/** @type {Node} */ (relatedTarget))) return;\n      if (popup.matches(':focus-within,:focus')) return;\n      this.closeListbox();\n    },\n  })\n  .expressions({\n    showTrailingIcon({ trailingIcon, _listbox, _expanded, readOnly }) {\n      if (trailingIcon != null) {\n        return trailingIcon;\n      }\n      if (_listbox && !readOnly) {\n        return _expanded ? 'arrow_drop_up' : 'arrow_drop_down';\n      }\n      return null;\n    },\n    computedTrailingIcon({ trailingIcon, _listbox, _expanded }) {\n      if (trailingIcon != null) {\n        return trailingIcon;\n      }\n      if (_listbox) {\n        return _expanded ? 'arrow_drop_up' : 'arrow_drop_down';\n      }\n      return null;\n    },\n    controlTypeAttrValue({ _isSelect, type }) {\n      if (_isSelect) return 'text';\n      return type;\n    },\n    controlReadonlyAttrValue({ _isSelect, type, readOnly }) {\n      if (_isSelect) return true;\n      return readOnly;\n    },\n    controlIsSelect({ _isSelect, type }) {\n      return _isSelect;\n    },\n    ariaExpandedAttrValue({ _hasListbox, _expanded }) {\n      if (!_hasListbox) return null;\n      return `${_expanded}`;\n    },\n    ariaControlsAttrValue({ _hasListbox }) {\n      if (!_hasListbox) return null;\n      return 'aria-listbox';\n    },\n    /**\n     * Compute `aria-autocomplete` to describe the widget's behavior to AT.\n     *\n     * ARIA values:\n     * - `none`  : no autocomplete behavior is provided\n     * - `inline`: the textbox shows an inline completion the user can accept\n     * - `list`  : a popup listbox provides choices (no inline insertion)\n     * - `both`  : both inline completion and a listbox are available\n     *\n     * Component mapping:\n     * - `autocompleteInline` -> inline completion behavior\n     * - `autocompleteList` (non-null) -> listbox filtering / dropdown present\n     * - `autosuggestInline` -> drives candidate selection as user types\n     *\n     * Note: the current implementation reports `'both'` when a named\n     * `autocompleteList` is present (even if `autocompleteInline` is false).\n     * A stricter mapping would return `list` when only a listbox is present\n     * and `both` only when both `autocompleteInline` and a listbox exist.\n     */\n    ariaAutocompleteAttrValue({ _hasListbox, autocompleteList, _isSelect, autocompleteInline }) {\n      if (!_hasListbox) return null;\n      if (_isSelect) return null;\n      if (autocompleteList != null) {\n        return 'both';\n      }\n      return 'inline';\n    },\n    ariaActiveDescendantAttrValue({ _hasListbox, _expanded, _focusedValue }) {\n      if (!_hasListbox) return null;\n      if (_expanded && _focusedValue) return 'aria-active';\n      return '';\n    },\n    controlRoleAttrValue({ _hasListbox }) {\n      if (_hasListbox) return 'combobox';\n      return null;\n    },\n    populatedState({ value, _badInput, _draftInput, type }) {\n      return !!value || _badInput || !!_draftInput || type === 'datetime-local';\n    },\n  })\n  .recompose(({ refs: { control, trailingIcon, shape, labelText } }) => {\n    // Can't cross DOM boundaries\n    control.setAttribute('aria-activedescendant', '{ariaActiveDescendantAttrValue}');\n    control.setAttribute('aria-autocomplete', '{ariaAutocompleteAttrValue}');\n    control.setAttribute('aria-controls', '{ariaControlsAttrValue}');\n    control.setAttribute('aria-expanded', '{ariaExpandedAttrValue}');\n    control.setAttribute('type', '{controlTypeAttrValue}');\n    control.setAttribute('role', '{controlRoleAttrValue}');\n    control.setAttribute('readonly', '{controlReadonlyAttrValue}');\n    control.setAttribute('autocomplete', 'off');\n    control.setAttribute('is-select', '{controlIsSelect}');\n    trailingIcon.setAttribute('mdw-if', '{showTrailingIcon}');\n    trailingIcon.setAttribute('icon', '{computedTrailingIcon}');\n    shape.setAttribute('trailing-icon', '{computedTrailingIcon}');\n    labelText.setAttribute('trailing-icon', '{computedTrailingIcon}');\n  })\n  .overrides({\n    _onSetValue(value) {\n      if (this.multiple) {\n        this._values = value.split(',').filter(Boolean);\n      } else if (this._isSelect) {\n        this._value = value;\n      } else {\n      // Apply user value to input and read back result to apply control to parse\n        this._input.value = value;\n        this._value = this._input.value;\n      }\n    },\n    _onControlValue(value) {\n      // Only accept values from accepted suggestions\n      if (this.multiple) {\n        if (value) {\n          this._chipSelected = false;\n        }\n        return;\n      }\n      this._value = value;\n    },\n  })\n  .on({\n    _valueChanged(previous, current) {\n      if (this.multiple) return; // Handled by _values\n      if (this._isSelect) {\n        this.populateInputFromListbox();\n      } else {\n        this._listboxValue = current;\n      }\n    },\n    _valuesChanged(previous, current) {\n      if (this.multiple && current) {\n        this._value = current.join(',');\n        this.refreshMultiple();\n      }\n    },\n    _chipSelectedChanged(previous, current) {\n      if (!this.multiple) return;\n      const element = /** @type {HTMLOptionElement} */ (this.refs.chips.lastElementChild);\n      if (element) {\n        element.selected = current;\n      }\n    },\n    _listboxValueChanged(previous, current) {\n      if (!this._hasListbox) return;\n      this._listbox.value = current;\n      this._draftInput = current;\n      this.changeSuggestion({ value: current });\n    },\n    _expandedChanged(previous, current) {\n      this._useFormImplicitSubmission = !current;\n    },\n    constructed() {\n      this._onListboxChangeListener = this.onListboxChange.bind(this);\n      this._onListboxClickListener = this.onListboxClick.bind(this);\n      this._onPopupFocusoutListener = this.onPopupFocusout.bind(this);\n      document.addEventListener('DOMContentLoaded', () => this.populateInputFromListbox(), { once: true });\n    },\n    multipleChanged(previous, current) {\n      if (this.listbox) {\n        this.listbox.multiple = current;\n      }\n      if (current) {\n        this._onSetValue(this._input.value);\n      }\n    },\n    disabledStateChanged() {\n      this.refreshMultiple();\n      this._chipSelected = false;\n      this.closeListbox();\n    },\n    readOnlyChanged() {\n      this.refreshMultiple();\n      this._chipSelected = false;\n      this.closeListbox();\n    },\n  })\n  .html`\n    <div id=chips mdw-if={multiple}></div>\n    <slot id=slot></slot>\n    <div id=aria-listbox role=listbox mdw-if={_hasListbox}>\n      <div id=aria-active role=option aria-hidden=false aria-label={selectedOption.label}\n        aria-setsize=\"{_listbox.length}\" aria-posinset={_focusedPosInSet}></div>\n    </div>\n  `\n  .css`\n    #slot {\n      display: none;\n    }\n\n    #aria-listbox {\n      display: none;\n    }\n\n    #trailing-icon {\n      align-self: center;\n    }\n\n    #control:where([type=\"button\"], [is-select]) {\n      cursor: pointer;\n    }\n\n    #inline[multiple] {\n      gap: 8px;\n    }\n\n    mdw-input-chip {\n      align-self: baseline;\n\n    }\n\n    #control[multiple] {\n      align-self: baseline;\n    }\n\n    #chips {\n      display: contents;\n    }\n\n    #inline {\n      flex-wrap: wrap;\n    }\n\n    #inline:where([filled],[outlined]) {\n      padding-inline: 16px;\n    }\n\n    #control {\n      flex: 1 1 8ch;\n    }\n\n    #control[is-select][multiple] {\n      flex: 1 1 0px;\n    }\n  `\n  .recompose(({ refs: { inline, chips } }) => {\n    inline.prepend(chips);\n    inline.setAttribute('multiple', '{multiple}');\n  })\n  .extend((Base) => class Input extends Base {\n    /** @type {InstanceType<ReturnType<RippleMixin>>['addRipple']} */\n    addRipple(...args) {\n      // @ts-ignore TODO: Fix invalid cast\n      if (!this.active) return null;\n      // @ts-ignore TODO: Fix invalid cast\n      return super.addRipple(...args);\n    }\n  })\n  .autoRegister('mdw-input');\n", "import { addGlobalCss } from '../core/css.js';\n\nlet globalStylesLoaded = false;\n\n/** @return {void} */\nexport function loadGlobalStyles() {\n  if (globalStylesLoaded) return;\n  addGlobalCss('html[dir=\"rtl\"]{--mdw-dir: -1;}');\n  globalStylesLoaded = true;\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport { SAFARI_VERSION, isFocused, isRtl } from '../core/dom.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\nimport { loadGlobalStyles } from '../services/rtl.js';\n\nloadGlobalStyles();\n\n/**\n * @param {string} value\n * @param {number} onNaN\n * @return {number}\n */\nfunction parseFloat(value, onNaN = 0) {\n  const number = Number.parseFloat(value);\n  if (Number.isNaN(number)) return onNaN;\n  return number;\n}\n\n/**\n * @param {string} value\n * @param {string} min\n * @param {string} max\n * @return {?number}\n */\nfunction valueAsFraction(value, min, max) {\n  const nValue = parseFloat(value);\n  const nMin = parseFloat(min);\n  const nMax = parseFloat(max, 100);\n\n  return (nValue - nMin) / (nMax - nMin);\n}\n\n/**\n * Slider allows users to select a value from a range by dragging a thumb.\n * @see https://m3.material.io/components/sliders/specs\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(StateMixin)\n  .mixin(InputMixin)\n  .set({\n    stateLayer: true,\n    type: 'range',\n  })\n  .observe({\n    /** Number of tick marks to show along the track (integer). */\n    ticks: 'integer',\n    /** Internal string representation of the current value used for formatting. */\n    _valueAsText: { nullable: false },\n    /** Text to show in the thumb label; when null the numeric value is shown. */\n    thumbLabel: {\n      type: 'string',\n      reflect: 'read',\n    },\n    /** Rounded numeric value (used while dragging) tracked as a float. */\n    _roundedValue: 'float',\n    /** True while the pointer is hovering the thumb (used to show the label). */\n    _isHoveringThumb: 'boolean',\n    /** Last `value` string that produced a dispatched `change` event; used to avoid duplicates. */\n    _lastDispatchedChangeValue: 'string',\n  })\n  .methods({\n    /**\n     * Handle pointer or touch interactions on the native control to compute\n     * position and update the intermediate rounded value while dragging.\n     * @param {(MouseEvent|TouchEvent) & {currentTarget:HTMLInputElement}} event\n     * @return {void}\n     */\n    onControlMouseOrTouch(event) {\n      const input = event.currentTarget;\n      if (input.disabled) return;\n\n      if (this.disabledState) return;\n\n      if (event.type === 'touchend') {\n        this._isHoveringThumb = false;\n        return;\n      }\n\n      let offsetX;\n      let clientX;\n      let pageX;\n      let isActive;\n\n      const isTouch = 'touches' in event;\n      if (isTouch) {\n        if (event.touches.length) {\n          const [touch] = event.touches;\n          isActive = true;\n          // @ts-ignore Might exist\n          ({ offsetX, clientX, pageX } = touch);\n        }\n      } else {\n        // Ignore mouse drag-over\n        // Firefox doesn't report `:active`\n        // eslint-disable-next-line no-bitwise\n        isActive = (event.buttons & 1) === 1\n       && (event.type === 'mousedown' || input.matches(':active'));\n        ({ offsetX, clientX, pageX } = event);\n      }\n\n      if (offsetX == null) {\n        clientX ??= pageX - window.scrollX; // Safari\n        offsetX = clientX - input.getBoundingClientRect().left;\n      }\n\n      const { clientWidth } = input;\n      let position = (offsetX / clientWidth);\n      if (position > 1) {\n        position = 1;\n      } else if (position < 0) {\n        position = 0;\n      }\n\n      if (isActive) {\n        this._isHoveringThumb = true;\n        const { min, max, step } = this;\n\n        const nMin = parseFloat(min);\n        const nMax = parseFloat(max, 100);\n        const nStep = parseFloat(step, 1);\n\n        if (isRtl(this)) {\n          position = 1 - position;\n        }\n        const currentValue = position * (nMax - nMin) + nMin;\n        let roundedValue = Math.round(currentValue / nStep) * nStep;\n\n        if (nStep < 1) {\n          // Floating Point Numbers need to be rounded off based on step\n          // eg: 3.4 / 10 with step of 0.1 yields 0.33999999999999997\n          const log10 = Math.floor(Math.log10(nStep)); // e value in scientific notation\n          const scale = 10 ** (-1 * log10); // multiplier to scale up to integer\n          roundedValue = Math.round(roundedValue * scale) / scale;\n        }\n\n        this._roundedValue = roundedValue;\n        this._valueAsText = roundedValue.toString(10);\n        if (isTouch && SAFARI_VERSION) {\n          // Safari does not update input when drag wasn't initiated at thumb\n          if (event.type === 'touchstart') {\n            // Default touch action on Safari is to magnify when on track\n            event.preventDefault();\n          }\n          const { _input } = this;\n          if (_input.valueAsNumber !== roundedValue) {\n            _input.valueAsNumber = roundedValue;\n            this.dispatchEvent(new Event('input', { bubbles: true, composed: true }));\n          }\n        }\n\n        return;\n      }\n\n      if (isTouch) return;\n\n      let fractionalValue = valueAsFraction(this.value, this.min, this.max);\n      if (isRtl(this)) {\n        fractionalValue = 1 - fractionalValue;\n      }\n      const thumbOffset = fractionalValue * clientWidth;\n      const thumbMin = thumbOffset - 20;\n      const thumbMax = thumbOffset + 20;\n      this._isHoveringThumb = offsetX >= thumbMin && offsetX <= thumbMax;\n    },\n\n    /**\n     * Pointer leave/blur handler for the control; hides the thumb label when focus is lost.\n     * @param {Event} event\n     */\n    onLeaveEvent({ currentTarget }) {\n      if (isFocused(/** @type {Element} */ (currentTarget))) return;\n      this._isHoveringThumb = false;\n    },\n\n    /**\n     * Finalize interaction with the control: commit the rounded value to the\n     * native input and dispatch a `change` event if the value changed.\n     * @param {(MouseEvent|TouchEvent) & {currentTarget:HTMLInputElement}} event\n     * @return {void}\n     */\n    onControlFinish(event) {\n      const input = event.currentTarget;\n      if (input.disabled) return;\n      if (event.type === 'click') {\n        event.preventDefault();\n      }\n      input.valueAsNumber = this._roundedValue;\n      this._value = input.value;\n      if (this._lastDispatchedChangeValue !== this._value) {\n        this._lastDispatchedChangeValue = this._value;\n        this.dispatchEvent(new Event('change', { bubbles: true }));\n      }\n    },\n  })\n  .events({\n    blur: 'onLeaveEvent',\n    mouseout: 'onLeaveEvent',\n  })\n  .childEvents({\n    control: {\n      '~mousedown': 'onControlMouseOrTouch',\n      '~mousemove': 'onControlMouseOrTouch',\n      '~mouseout': 'onControlMouseOrTouch',\n      touchstart: 'onControlMouseOrTouch',\n      '~touchmove': 'onControlMouseOrTouch',\n      '~touchleave': 'onControlMouseOrTouch',\n      '~touchcancel': 'onControlMouseOrTouch',\n      '~touchend': 'onControlMouseOrTouch',\n      touchend: 'onControlFinish',\n      click: 'onControlFinish',\n      '~change'(event) {\n        // Change event will be rethrown by ControlMixin\n        // Track value to avoid double dispatch\n        if (this._lastDispatchedChangeValue === this._value) {\n          event.stopPropagation();\n        }\n        this._lastDispatchedChangeValue = this._value;\n      },\n    },\n  })\n  .expressions({\n    /** Compute inline style variables for the track, including ticks and value fraction. */\n    computeTrackStyle({ ticks, _valueAsText, min, max }) {\n      return [\n        ticks ? `--ticks:${ticks}` : null,\n        `--value:${valueAsFraction(_valueAsText, min, max)}`,\n      ].filter(Boolean).join(';') || null;\n    },\n    /** True when the thumb label should be hidden (not hovering and not focused). */\n    _thumbLabelHidden({ _isHoveringThumb, focusedState }) {\n      return (!_isHoveringThumb && !focusedState);\n    },\n    /** Compute the label text to show in the thumb: explicit `thumbLabel` or numeric value. */\n    _computedThumbLabel({ thumbLabel, _valueAsText }) {\n      return thumbLabel ?? _valueAsText;\n    },\n  })\n  .html`\n    <div id=track style={computeTrackStyle} aria-hidden=true disabled={disabledState}>\n      <div mdw-if={ticks} id=ticks></div>\n      <div id=track-active></div>\n      <div id=thumb-anchor>\n        <div id=thumb></div>\n        <div id=thumb-label\n          hidden={_thumbLabelHidden}\n          text={_computedThumbLabel}></div>\n      </div>\n    </div>\n  `\n  .recompose(({ refs: { thumb, state, control } }) => {\n    thumb.append(state);\n    control.removeAttribute('aria-labelledby');\n  })\n  .on({\n    valueChanged(oldValue, newValue) {\n      this._valueAsText = newValue;\n    },\n  })\n  .css`\n    /* https://m3.material.io/components/sliders/specs */\n\n    :host {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n\n      display: block;\n      vertical-align: middle;\n\n      min-block-size: 40px;\n      min-inline-size: 88px;\n\n      background-color: transparent;\n    }\n\n    :host,\n    :host([color]) {\n      background-color: transparent;\n    }\n\n    #control {\n      inset:0;\n\n      overflow: visible;\n\n      block-size: 100%;\n      min-block-size: 0;\n      inline-size: 100%;\n      min-inline-size: 0;\n\n      appearance: none;\n\n      cursor: pointer;\n\n      transform: none;\n\n      background-color: transparent;\n    }\n\n    #control::-webkit-slider-runnable-track {\n      /* stylelint-disable-next-line declaration-property-value-disallowed-list */\n      margin-inline: -10px;\n\n      appearance: none;\n\n      background-color: transparent;\n    }\n\n    @supports (-moz-appearance:none ){\n      #control {\n        inset-inline: -10px;\n\n        inline-size: calc(100% + 20px);\n      }\n    }\n\n    #control::-moz-range-track {\n      inline-size: calc(100% + 20px) !important;\n\n      appearance: none;\n    }\n\n    #control::-webkit-slider-thumb {\n      display: block;\n\n      block-size: 20px;\n      inline-size: 20px;\n\n      -webkit-appearance: none;\n      cursor: inherit;\n\n      transform: scale(2);\n\n      background-color: transparent; /* Safari */\n\n      border-radius: 50%;\n      box-shadow: none; /* Safari */\n    }\n\n    #control::-moz-range-thumb {\n      display: block;\n\n      box-sizing: content-box;\n      block-size: 20px;\n      inline-size: 20px;\n      border: none;\n\n      appearance: none;\n      cursor: inherit;\n\n      transform: scale(2);\n\n      background-color: transparent;\n      border-radius: 50%;\n    }\n\n    #control[disabled] {\n      cursor: not-allowed;\n    }\n\n    #track {\n      --value: 0.5;\n      position: absolute;\n      inset-block-start: 50%;\n      inset-inline: 0;\n\n      block-size: 4px;\n      margin-block-start: -2px;\n\n      pointer-events: none;\n      user-select: none;\n\n      background-color: rgb(var(--mdw-color__surface-container-highest));\n      border-radius: inherit;\n      color: rgb(var(--mdw-bg));\n    }\n\n    #thumb {\n      position: absolute;\n      inset-block-start: -18px;\n      inset-inline-start: -20px;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n\n      block-size: 40px;\n      inline-size: 40px;\n\n      pointer-events: none;\n\n      border-radius: 50%;\n\n      color: currentColor;\n    }\n\n    #thumb::before {\n      content: '';\n\n      display: block;\n\n      block-size: 20px;\n      inline-size: 20px;\n\n      background-color: currentColor;\n      border-radius: 50%;\n\n      transition: color 100ms, background-color 100ms;\n    }\n\n    /* Inactive ticks */\n\n    #ticks::before,\n    #ticks::after {\n      content: '';\n\n      position: absolute;\n      inset: 0;\n\n      padding-inline: 2px;\n\n      background-clip: content-box;\n      background-image: radial-gradient(circle at 1px, currentColor 0, currentColor 1px, transparent 0);\n      background-position: -1px 50%;\n      background-repeat: repeat-x;\n      background-size: calc(100% / (var(--ticks, 0) + 1)) 2px;\n    }\n\n    #ticks::before {\n      color: rgb(var(--mdw-color__on-surface-variant));\n    }\n\n    #ticks::after {\n      /* TODO: Use single-paint implementation */\n      padding-inline-end: calc(100% - (100% * var(--value)) + 10px);\n\n      z-index: 1;\n\n      color: rgb(var(--mdw-ink));\n\n      will-change: padding-inline-end;\n    }\n    /* Active Indicator */\n    #track-active {\n      position: absolute;\n      inset: 0;\n\n      overflow: hidden;\n\n      border-radius: 99px;\n    }\n\n    #track-active::before {\n      content: '';\n\n      position: absolute;\n      inset: 0;\n\n      transform: scaleX(var(--value));\n      transform-origin: calc(100% * calc(-0.5 * var(--mdw-dir, 1) + 0.5)) 0;\n\n      background-color: currentColor;\n\n      will-change: transform;\n    }\n\n    #thumb-anchor {\n      position: absolute;\n\n      inset-inline-start: calc(var(--value) * 100%);\n\n      display: flex;\n      align-items: flex-start;\n      flex-direction: column;\n\n      z-index: 24;\n\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      will-change: inset-inline-start, left, right;\n    }\n\n    #thumb-label {\n      position: absolute;\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      left: 0;\n      inset-block-end: 14px;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      box-sizing: content-box;\n      margin-block-end: 6px;\n\n      transform: translateX(-50%) scale(1);\n      transform-origin: 50% 100%;\n\n      font-weight: var(--mdw-typescale__label-medium__font-weight);\n      line-height: var(--mdw-typescale__label-medium__line-height);\n      font-family: var(--mdw-typescale__label-medium__font-family);\n      letter-spacing: var(--mdw-typescale__label-medium__letter-spacing);\n\n      transition: transform 200ms;\n      will-change: transform;\n    }\n\n    #thumb-label:is([hidden],[text=\"\"]) {\n      transform: translateX(-50%) scale(0);\n    }\n\n    #thumb-label::before {\n      content: attr(text);\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      box-sizing: border-box;\n\n      min-block-size: 28px;\n      min-inline-size: 28px;\n      padding: 4px;\n\n      z-index: 1;\n\n      background-color: rgb(var(--mdw-bg));\n      border-radius: 14px;\n      color: rgb(var(--mdw-ink));\n    }\n\n    #thumb-label::after {\n      /* Values from Figma SVG */\n      --x-start: 4.1005px; /*4.1005px*/\n      --x-end: calc(100% - 4.1005px);\n      --y: calc(100% - 9.9584px); /*24.0416px*/\n\n      content: \"\";\n\n      position: absolute;\n      inset: 0;\n      inset-block-end: -6px;\n\n      clip-path: polygon(var(--x-start) var(--y), var(--x-end) var(--y), 50% 100%, var(--x-start) var(--y));\n\n      background-color: currentColor;\n    }\n\n    #track[disabled] {\n      --mdw-bg: var(--mdw-color__on-surface);\n      cursor: not-allowed;\n\n      opacity: 0.38;\n\n      background-color: rgb(var(--mdw-color__on-surface), calc(0.12 / 0.38));\n    }\n  `\n  .autoRegister('mdw-slider');\n", "/* https://m3.material.io/components/dividers/specs */\n\nimport CustomElement from '../core/CustomElement.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Dividers are thin lines that group content in lists or other containers\n * @see https://m3.material.io/components/divider/specs\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .observe({\n    /** When true, render the divider vertically instead of horizontally. */\n    vertical: 'boolean',\n  })\n  .css`\n    :host {\n      --mdw-ink: var(--mdw-color__outline-variant);\n      position: relative;\n\n      display: block;\n      overflow: visible;\n\n      box-sizing: border-box;\n      block-size: 0;\n      inline-size: 100%;\n\n      color: rgb(var(--mdw-ink));\n    }\n\n    :host::before {\n      content: '';\n\n      display: block;\n\n      box-sizing: border-box;\n      block-size: 1px;\n      inline-size: auto;\n\n      background-color: currentcolor;\n    }\n\n    :host([vertical]) {\n      display: inline-flex;\n      vertical-align: top;\n\n      block-size: auto;\n      min-block-size: 100%;\n      inline-size: 0;\n    }\n\n    :host([vertical])::before {\n      block-size: auto;\n      min-inline-size: 1px;\n    }\n\n  `\n  .autoRegister('mdw-divider');\n", "/** @typedef {import('./CustomElement').default} CustomElement */\n\nimport { attrNameFromPropName } from './dom.js';\n\n/**\n * @see https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-attributes\n * @type {import('./observe.js').ObserverOptions<'function',EventListener, CustomElement>}\n */\nexport const EVENT_HANDLER_TYPE = {\n  type: 'function',\n  reflect: 'read',\n  value: null,\n  parser(v) { return v; },\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue == null && newValue == null) return;\n    // Must continue even if oldValue === newValue;\n    if (newValue == null) {\n      // @ts-expect-error Can't verify key\n      this[name] = null;\n      return;\n    }\n    let fn;\n    try {\n      // Use eval to include scope\n      // https://blog.ltgt.net/html-event-handlers/\n      const scopedCode = 'with(this.ownerDocument ?? document){'\n      + 'with(this.form ?? {}){'\n      + `with(this){${newValue}}`\n      + '}'\n      + '}';\n      // eslint-disable-next-line no-new-func\n      fn = new Function(`return function ${name}(event){${scopedCode}}`)();\n    } catch {\n      // Assign to temp element, allow it to parse and then copy result.\n      // Let browser parse instead of using eval()\n      // CSP Violations will be thrown by browser on failure and result in `null`\n      const button = (this.ownerDocument ?? document).createElement('button');\n      button.setAttribute('onclick', newValue);\n      fn = button.onclick;\n    }\n\n    // @ts-expect-error Can't verify key\n    this[name] = fn;\n  },\n  propChangedCallback(name, oldValue, newValue) {\n    const eventName = name.slice(2);\n    if (oldValue) {\n      this.removeEventListener(eventName, oldValue);\n    }\n    if (newValue) {\n      this.addEventListener(eventName, newValue);\n    }\n  },\n};\n\n// const weakRefValues = new WeakMap();\n\n// /**\n//  * @type {import('./observe.js').ObserverOptions<'object',HTMLElement>}\n//  */\n// export const WEAKREF_TYPE = {\n//   type: 'object',\n//   reflect: false,\n//   value: null,\n//   parser(v) { return new WeakRef(v); },\n//   get() {\n//     if (weakRefValues.has(this)) {\n//       return weakRefValues.get(this).deref();\n//     }\n//     return undefined;\n//   },\n// };\n\n/**\n * @typedef {Object} ElementStylerOptions\n * @prop {string|HTMLElement|null} target tag, element or null (host)\n * @prop {Keyframe} styles\n * @prop {EffectTiming} [timing]\n */\n\n/**\n * @typedef {Object} QueuedPropsMetadata\n * @prop {boolean} initial\n */\n\n/** @type {WeakMap<CustomElement, Map<string, QueuedPropsMetadata>>} */\nconst queuedPropsByElement = new WeakMap();\n\n/** @type {WeakMap<CustomElement, Map<string, Animation>>} */\nconst previousAnimationsByElement = new WeakMap();\n\n/**\n * @template {CustomElement} T\n * @template {keyof T & string} K\n * @param {K} name\n * @this {T & Record<K, ElementStylerOptions|null>}\n */\nfunction elementStylerMicrotaskCallback(name) {\n  const previousAnimations = previousAnimationsByElement.get(this);\n  /** @type {Animation} */\n  let previousAnimation;\n  if (previousAnimations?.has(name)) {\n    previousAnimation = previousAnimations.get(name);\n  }\n  const queuedProps = queuedPropsByElement.get(this);\n  const { initial } = queuedProps.get(name);\n  queuedProps.delete(name);\n  const value = this[name];\n  if (!value) {\n    previousAnimation?.cancel();\n    return;\n  }\n  const { target, styles, timing } = value;\n  /** @type {HTMLElement} */\n  const el = target\n    ? (typeof target === 'string' ? this.refs[target] : target)\n    : this;\n  const currentAnimation = el.animate(styles, {\n    ...timing,\n    ...(initial ? { duration: 0 } : null),\n    fill: 'forwards',\n  });\n  currentAnimation.onremove = () => {\n    previousAnimation?.effect.updateTiming({\n      fill: 'none',\n    });\n    // Destroy previous manually to avoid leak\n    previousAnimation?.finish();\n    previousAnimation?.cancel();\n    previousAnimation = null;\n  };\n  if (previousAnimations) {\n    previousAnimations.set(name, currentAnimation);\n  } else {\n    previousAnimationsByElement.set(this, new Map([[name, currentAnimation]]));\n  }\n}\n\n/** @type {WeakMap<Element, Function[]>} */\nconst pendingResizeCallbacks = new WeakMap();\nconst pendingConnections = new ResizeObserver((entries) => {\n  for (const { target } of entries) {\n    if (pendingResizeCallbacks.has(target)) {\n      const callbacks = pendingResizeCallbacks.get(target);\n      pendingResizeCallbacks.delete(target);\n      pendingConnections.unobserve(target);\n      for (const callback of callbacks) {\n        callback();\n      }\n    }\n  }\n});\n\n/** @type {import('./observe.js').ObserverOptions<'object',ElementStylerOptions, CustomElement>} */\nexport const ELEMENT_ANIMATION_TYPE = {\n  type: 'object',\n  reflect: false,\n  diff: null, // Skip computing entire change\n  propChangedCallback(name, oldValue, newValue) {\n    if (!newValue) {\n      const previousAnimations = previousAnimationsByElement.get(this);\n      if (!previousAnimations?.has(name)) {\n        // Fast abort\n        return;\n      }\n    }\n    const queuedProps = queuedPropsByElement.get(this);\n\n    const initial = !this.isConnected;\n    if (queuedProps) {\n      if (queuedProps.has(name)) return;\n      queuedProps.set(name, { initial });\n    } else {\n      queuedPropsByElement.set(this, new Map([[name, { initial }]]));\n    }\n    // TODO: Reuse callback instead constructing each tick\n    // Animation styles may trickle in steps, so queue a microtask before doing any work.\n    // Using requestAnimationFrame would fire one frame too late for CSS animations already scheduled\n    const callback = elementStylerMicrotaskCallback.bind(this, name);\n    if (this.isConnected) {\n      queueMicrotask(callback);\n    } else if (pendingResizeCallbacks.has(this)) {\n      pendingResizeCallbacks.get(this).push(callback);\n    } else {\n      pendingResizeCallbacks.set(this, [callback]);\n      pendingConnections.observe(this);\n    }\n  },\n};\n\n/**\n * @type {WeakMap<CustomElement, Map<string, HTMLStyleElement|CSSStyleSheet>>}\n */\nconst styleReferences = new WeakMap();\n\n/** @type {boolean} */\nlet useAdoptedStyleSheets = null;\n\n/** @type {import('./observe.js').ObserverOptions<'string',string, CustomElement>} */\nexport const ELEMENT_STYLE_TYPE = {\n  type: 'string',\n  reflect: false,\n  /**\n   * @param {string|Record<keyof CSSStyleDeclaration & string, string|number>} value\n   * @return {string}\n   */\n  parser(value) {\n    if (!value || typeof value === 'string') {\n      return /** @type {string} */ (value);\n    }\n    return `:host{${\n      Object.entries(value).map(([key, rule]) => `${attrNameFromPropName(key)}:${rule}`)\n        .join(';')\n    }}`;\n  },\n  propChangedCallback(name, oldValue, newValue) {\n    let mapOfStyles;\n\n    /** @type {HTMLStyleElement|CSSStyleSheet} */\n    let styles;\n    if (styleReferences.has(this)) {\n      mapOfStyles = styleReferences.get(this);\n      if (mapOfStyles.has(name)) {\n        styles = mapOfStyles.get(name);\n      }\n    } else {\n      // Skip build if blank\n      if (!newValue) return;\n      mapOfStyles = new Map();\n      styleReferences.set(this, mapOfStyles);\n    }\n\n    useAdoptedStyleSheets ??= 'adoptedStyleSheets' in ShadowRoot.prototype;\n    if (!styles) {\n      if (useAdoptedStyleSheets) {\n        styles = new CSSStyleSheet();\n        this.shadowRoot.adoptedStyleSheets = [\n          ...this.shadowRoot.adoptedStyleSheets,\n          styles,\n        ];\n      } else {\n        const styleElement = this.ownerDocument.createElement('style');\n        this.shadowRoot.prepend(styleElement);\n        styles = styleElement;\n      }\n      mapOfStyles.set(name, styles);\n    }\n    if (newValue) {\n      if (useAdoptedStyleSheets) {\n        /** @type {CSSStyleSheet} */(styles).replaceSync(newValue);\n      } else if (newValue) {\n        /** @type {HTMLStyleElement} */(styles).textContent = newValue;\n      }\n      styles.disabled = false;\n    } else {\n      styles.disabled = true;\n    }\n  },\n};\n", "/**\n * @template K\n * @typedef {K extends keyof ARIAMixin ? ARIAMixin[K] extends string ? K : never : never} StringKeyOfARIAMixin\n */\n\n/**\n * Reflects ARIA-like properties to attributes/ElementInternals and vice versa.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function AriaReflectorMixin(Base) {\n  return Base\n    .observe({\n      /** Role string mirrored to ARIA `role` property/attribute. */\n      _ariaRole: 'string',\n    })\n    .set({\n      /**\n       * Browsers that do not support ARIAMixin in ElementInternals need to have\n       * their attributes set after construction.\n       * @type {Map<StringKeyOfARIAMixin<keyof ARIAMixin>, ARIAMixin[StringKeyOfARIAMixin<keyof ARIAMixin>]>}\n       */\n      _onConnectAriaValues: null,\n    })\n    .methods({\n      /**\n       * @param {keyof HTMLElement & keyof ElementInternals} name\n       */\n      readAriaProperty(name) {\n        if (this.elementInternals && name in this.elementInternals) {\n          return this.elementInternals[name];\n        } if (name in this) {\n          return this[name];\n        }\n        // console.warn('Unknown ARIA property', name, this);\n        /** @type {string} */\n        let attrName = name;\n        if (attrName.startsWith('aria')) {\n          attrName = `aria-${attrName.slice(4).toLowerCase()}`;\n        }\n        return this.getAttribute(name);\n      },\n      /**\n       * @template {StringKeyOfARIAMixin<keyof ARIAMixin>} K\n       * @param {K} name\n       * @param {ARIAMixin[K]} value\n       */\n      updateAriaProperty(name, value) {\n        if (this.elementInternals && name in this.elementInternals) {\n          this.elementInternals[name] = value;\n        } else if (this.isConnected) {\n          if (name in this) {\n            this[name] = value;\n          } else {\n            // console.warn('Unknown ARIA property', name, this);\n            /** @type {string} */\n            let attrName = name;\n            if (attrName.startsWith('aria')) {\n              attrName = `aria-${attrName.slice(4).toLowerCase()}`;\n            }\n            if (value == null) {\n              this.removeAttribute(name);\n            } else {\n              this.setAttribute(attrName, value);\n            }\n          }\n        } else {\n          this._onConnectAriaValues ??= new Map();\n          this._onConnectAriaValues.set(name, value);\n          // Elements should not add attributes during construction\n        }\n      },\n    })\n    .on({\n      _ariaRoleChanged(oldValue, newValue) {\n        this.updateAriaProperty('role', newValue);\n      },\n      constructed() {\n        this.updateAriaProperty('role', this._ariaRole);\n      },\n      connected() {\n        if (!this._onConnectAriaValues) return;\n        for (const [key, value] of this._onConnectAriaValues) {\n          this.updateAriaProperty(key, value);\n        }\n        this._onConnectAriaValues = null;\n      },\n    });\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport AriaReflectorMixin from '../mixins/AriaReflectorMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Tooltip displays brief helper text when hovering or focusing an element.\n * @see https://m3.material.io/components/tooltips/specs\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(ShapeMixin)\n  .mixin(AriaReflectorMixin)\n  .set({\n    /** ARIA role applied by the AriaReflectorMixin (defaults to `tooltip`). */\n    _ariaRole: 'tooltip',\n  })\n  .observe({\n    /**\n     * When true the tooltip is visible/open. This also updates ARIA\n     * `aria-hidden` for accessibility.\n     */\n    open: {\n      type: 'boolean',\n      changedCallback(oldValue, newValue) {\n        this.updateAriaProperty('ariaHidden', newValue ? 'true' : 'false');\n      },\n    },\n  })\n  .html`\n    <div id=hover-target></div>\n    <slot id=slot></slot>\n    `\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__extra-small);\n      --mdw-ink: var(--mdw-color__inverse-on-surface);\n      --mdw-bg: var(--mdw-color__inverse-surface);\n      display: block;\n\n      box-sizing: border-box;\n\n      /* Ensure 24px min-height while keeping display:block */\n      padding-block: calc(12px - var(--mdw-typescale__body-small__line-height) / 2);\n      padding-inline: 8px;\n\n      pointer-events: none;\n\n      opacity: 0;\n      transform: scale(0);\n      z-index: 28;\n\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n\n      font: var(--mdw-typescale__body-small__font);\n      letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n\n      transition: transform 200ms, opacity 200ms;\n    }\n\n    @supports(width: 1lh) {\n      :host {\n        padding-block: calc(12px - 0.5lh);\n      }\n    }\n\n    :host([open]) {\n      pointer-events: auto;\n\n      opacity: 1;\n      transform: scale(1);\n    }\n\n    #hover-target {\n      position: absolute;\n      inset-block-start: 50%;\n      inset-inline-start: 50%;\n\n      box-sizing: content-box;\n      block-size: 100%;\n      inline-size: 100%;\n      padding: 8px;\n\n      transform: translateX(-50%) translateY(-50%);\n      z-index: -1;\n      \n    }\n  `\n  .autoRegister('mdw-tooltip');\n", "import '../components/Tooltip.js';\nimport { FIREFOX_VERSION } from '../core/dom.js';\nimport { canAnchorPopup } from '../utils/popup.js';\n\n/** @typedef {import('../components/Tooltip.js').default} Tooltip */\n\n/**\n * Adds tooltip scheduling, positioning, and show/hide behavior for host elements.\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function TooltipTriggerMixin(Base) {\n  return Base\n    .set({\n      /** Idle delay before showing tooltip for mouse (ms) */\n      TOOLTIP_MOUSE_IDLE_MS: 500,\n      /** Idle delay before showing tooltip for touch (ms) */\n      TOOLTIP_TOUCH_IDLE_MS: 1500,\n      /** Timer id used for tooltip show/hide debouncing */\n      /** @type {any} */\n      _idleDebounce: null,\n      /** Parents being observed for layout changes */\n      /** @type {HTMLElement[]} */\n      _watchedParents: null,\n      /** ResizeObserver used to track tooltip/anchor size changes */\n      /** @type {ResizeObserver} */\n      _resizeObserver: null,\n      /** IntersectionObserver used to detect occlusion */\n      /** @type {IntersectionObserver} */\n      _intersectObserver: null,\n      /** Bound scroll listener attached to parent elements */\n      _parentScrollListener: null,\n      /** Slot id to use when cloning tooltip content */\n      tooltipSlotId: 'slot',\n    })\n    .observe({\n      /** Text or content id used as tooltip content */\n      tooltip: 'string',\n      /** When true, show tooltip automatically on hover/focus */\n      autoTooltip: 'boolean',\n    })\n    .html`<mdw-tooltip id=tooltip></mdw-tooltip>`\n    .css`\n      #tooltip {\n        display:none;\n      }\n    `\n    .methods({\n      cancelShowTooltip() {\n        // console.log('cancel tooltiptimer');\n        clearTimeout(this._idleDebounce);\n      },\n      /** @param {'mouse'|'touch'|'keyboard'} type */\n      scheduleHideTooltip(type) {\n        this.cancelShowTooltip();\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        if (!tooltip.open) {\n        // console.log('abort schedule (shown)');\n          return;\n        }\n        let timeout = 0;\n        switch (type) {\n          case 'mouse':\n            timeout = 0;\n            break;\n          case 'touch':\n            timeout = 1500;\n            break;\n          default:\n        }\n        // console.log('schedule tooltiptimer');\n        this._idleDebounce = setTimeout(() => {\n        // console.log('hide timeout');\n          this.hideTooltip();\n        }, timeout);\n      },\n\n      /** @param {'mouse'|'touch'|'keyboard'} type */\n      scheduleShowTooltip(type) {\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        if (tooltip.open) return;\n        let timeout = 0;\n        switch (type) {\n          case 'mouse':\n            timeout = this.TOOLTIP_MOUSE_IDLE_MS;\n            break;\n          case 'touch':\n            timeout = this.TOOLTIP_TOUCH_IDLE_MS;\n            break;\n          default:\n        }\n\n        clearTimeout(this._idleDebounce);\n        if (timeout) {\n          this._idleDebounce = setTimeout(this.showTooltip.bind(this), timeout);\n        } else {\n          this.showTooltip();\n        }\n      },\n\n      showTooltip() {\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        if (tooltip.open) return;\n        document.body.append(this.refs.tooltip);\n        this.recloneTooltip();\n        this.updateTooltipPosition();\n        this._resizeObserver.observe(this, { box: 'border-box' });\n        this._resizeObserver.observe(tooltip, { box: 'border-box' });\n        this._intersectObserver.observe(this);\n        this._intersectObserver.observe(tooltip);\n        /** @type {HTMLElement} */\n        // eslint-disable-next-line unicorn/no-this-assignment, @typescript-eslint/no-this-alias\n        let offsetParent = this;\n        while ((offsetParent = /** @type {?HTMLElement} */ (offsetParent.offsetParent))) {\n          this._resizeObserver.observe(offsetParent, { box: 'border-box' });\n          // console.log('observing', offsetParent);\n          this._watchedParents.push(offsetParent);\n          this._intersectObserver.observe(offsetParent);\n          offsetParent.addEventListener('scroll', this._parentScrollListener);\n        }\n        window.addEventListener('scroll', this._parentScrollListener);\n\n        // console.log('offsetparent', this.offsetParent);\n\n        tooltip.open = true;\n      },\n\n      hideTooltip(cancelSchedule = false) {\n        if (cancelSchedule) {\n          this.cancelShowTooltip();\n        }\n        this._resizeObserver.disconnect();\n        this._intersectObserver.disconnect();\n        let parent;\n        while ((parent = this._watchedParents.pop())) {\n          parent.removeEventListener('scroll', this._parentScrollListener);\n        }\n        window.removeEventListener('scroll', this._parentScrollListener);\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        tooltip.open = false;\n        // TODO: Self-remove on close (hide animation)\n        tooltip.remove();\n      },\n      /**\n       * TODO: Throttle multiple calls\n       * @param {DOMRect} [domRect]\n       * @return {void}\n       */\n      updateTooltipPosition(domRect) {\n        const offset = 8;\n        const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n        // const margin = 8;\n        /** @type {import('../utils/popup.js').CanAnchorPopUpOptions} */\n\n        Object.assign(tooltip.style, {\n          top: '0',\n          left: '0',\n          right: 'auto',\n          bottom: 'auto',\n          position: 'fixed',\n          maxWidth: null,\n          maxHeight: null,\n        });\n\n        const anchorOptions = {\n          anchor: domRect ?? this.getBoundingClientRect(),\n          width: tooltip.clientWidth,\n          height: tooltip.clientHeight,\n          // margin,\n        };\n\n        const isPageRTL = (getComputedStyle(this).direction === 'rtl');\n        const xStart = isPageRTL ? 'right' : 'left';\n        const xEnd = isPageRTL ? 'left' : 'right';\n        /** @type {import('../utils/popup.js').CanAnchorPopUpOptions[]} */\n        const preferences = [\n          { clientY: 'bottom', clientX: 'center', offsetY: offset },\n          { clientY: 'bottom', clientX: xStart, offsetY: offset },\n          { clientY: 'bottom', clientX: xEnd, offsetY: offset },\n          { clientY: 'top', clientX: 'center', offsetY: -offset },\n          { clientY: 'top', clientX: xStart, offsetY: -offset },\n          { clientY: 'top', clientX: xEnd, offsetY: -offset },\n        ];\n\n        let anchorResult;\n        for (const preference of preferences) {\n          const result = canAnchorPopup({\n            ...anchorOptions,\n            ...preference,\n          });\n          if (!anchorResult || anchorResult.visibility < result.visibility) {\n            anchorResult = result;\n          }\n          if (result.visibility === 1) break;\n        }\n\n        Object.assign(tooltip.style, {\n          position: 'fixed',\n          ...anchorResult.styles,\n        });\n      },\n      recloneTooltip() {\n        let args;\n        const tooltip = this.tooltip;\n        if (tooltip) {\n          args = [tooltip];\n        } else {\n          args = /** @type {HTMLSlotElement} */ (this.refs[this.tooltipSlotId])\n            .assignedNodes()\n            .map((child) => child.cloneNode(true));\n        }\n\n        this.refs.tooltip.replaceChildren(...args);\n      },\n      closeIfNotHovered() {\n        // eslint-disable-next-line unicorn/consistent-function-scoping\n        const check = () => {\n          if (this.hoveredState) return;\n          if (this.refs.tooltip.matches(':hover')) return;\n          this.hideTooltip(true);\n        };\n        if (FIREFOX_VERSION) {\n          // Firefox stalls one tick\n          requestAnimationFrame(check);\n        } else {\n          check();\n        }\n      },\n    })\n    .childEvents({\n      slot: {\n        slotchange: 'recloneTooltip',\n      },\n      tooltip: {\n        pointerleave: 'closeIfNotHovered',\n      },\n    })\n    .events({\n      '~pointermove'(event) {\n        if (event.pointerType === 'touch') return;\n        if (this.autoTooltip && !this.disabledState) {\n          this.scheduleShowTooltip('mouse');\n        }\n      },\n      '~keydown'({ ctrlKey }) {\n        if (ctrlKey) {\n          this.hideTooltip(true);\n        }\n      },\n      '~click'() {\n        this.hideTooltip(true);\n      },\n\n    })\n    .on({\n      constructed() {\n        this._watchedParents = [];\n        this._parentScrollListener = this.updateTooltipPosition.bind(this, null);\n        this._resizeObserver = new ResizeObserver(() => {\n          const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n          if (tooltip.open) {\n            this.updateTooltipPosition();\n          }\n        });\n        const threshold = [0, 0.49, 0.5, 0.51, 1];\n        this._intersectObserver = new IntersectionObserver((entries) => {\n          const tooltip = /** @type {InstanceType<Tooltip>} */ (this.refs.tooltip);\n          // console.log('IO', entries);\n          if (!tooltip.open) return;\n          for (const entry of entries) {\n            if (entry.intersectionRatio <= 0) {\n              // console.debug('Hide tooltip due to tooltip occlusion');\n              this.hideTooltip();\n              return;\n            }\n            if (entry.target === tooltip) {\n              // console.debug('Reposition tooltip due to possible tooltip occlusion');\n              this.updateTooltipPosition();\n              return;\n            }\n            if (entry.target === this) {\n              if (entry.intersectionRatio <= 0.5) {\n                // console.debug('Hiding tooltip because target is occluded');\n                this.hideTooltip();\n              } else {\n                // console.debug('Using InsectionObserver rect to update tooltip');\n                this.updateTooltipPosition(entry.boundingClientRect);\n              }\n              return;\n            }\n          }\n          // console.debug('Updating tooltip position because offsetParent change.');\n          this.updateTooltipPosition();\n        }, { threshold });\n        // this.#tooltip.remove();\n      },\n      _focusedChanged(previous, current) {\n        if (current) {\n          if (!this._pointerPressed && !this._focusedSynthetic && this.autoTooltip) {\n            this.showTooltip();\n          }\n        } else {\n          this.closeIfNotHovered();\n        }\n      },\n      _hoveredChanged(previous, current) {\n        if (current) {\n          if (this.autoTooltip && !this.disabledState) {\n            this.scheduleShowTooltip('mouse');\n          }\n        } else {\n          this.closeIfNotHovered();\n        }\n      },\n      _pointerPressedChanged(previous, current) {\n        if (this._lastInteraction !== 'touch') return;\n        if (current) {\n          if (this.autoTooltip && !this.disabledState) {\n            this.scheduleShowTooltip('touch');\n          }\n        } else {\n          this.scheduleHideTooltip('touch');\n        }\n      },\n      disconnected() {\n        this.hideTooltip(true);\n      },\n      tooltipChanged() {\n        this.recloneTooltip();\n      },\n    });\n}\n", "/**\n * Listens for HTMLAnchorElement click events that will trigger navigation\n * and throws a cancelable `mdw:hyperlink` event before firing.\n * Will be supported until Navigation API is widely available\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function NavigationListenerMixin(Base) {\n  return Base\n    .rootEvents({\n      click(event) {\n        const { target } = event;\n        if (!(target instanceof HTMLAnchorElement)) return;\n        if (!target.href) return;\n        const actionAllowed = target.dispatchEvent(new CustomEvent('mdw:hyperlink', {\n          bubbles: true,\n          composed: true,\n          cancelable: true,\n          detail: {\n            download: target.download,\n            href: target.href,\n            hreflang: target.hreflang,\n            target: target.target,\n          },\n        }));\n        if (!actionAllowed) {\n          // Allow the click event to propagate\n          // event.stopPropagation();\n          // Don't perform native hyperlink action\n          event.preventDefault();\n        }\n      },\n    });\n}\n", "import NavigationListenerMixin from './NavigationListenerMixin.js';\n\n// https://html.spec.whatwg.org/multipage/links.html#dom-hyperlink-protocol-dev\n\n/**\n * @template {keyof URL} T\n * @param {T} name\n * @return {ThisType<URL> & TypedPropertyDescriptor<URL[T]>}\n */\nfunction buildHyperlinkDefinition(name) {\n  return {\n    get() {\n      return new URL(this.href, window.location.href)[name];\n    },\n    set(value) {\n      const { href } = this;\n      if (!href) return;\n      const url = new URL(href, window.location.href);\n      url[name] = value;\n      this.href = url.href;\n    },\n  };\n}\n\n/**\n * Adds hyperlink-related properties and URL helpers (href, target, rel, etc.).\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function HyperlinkMixin(Base) {\n  return Base\n    .mixin(NavigationListenerMixin)\n    .observe({\n      /** The URL that the hyperlink points to. */\n      href: 'string',\n      /** The browsing context in which to open the linked resource (e.g. '_blank'). */\n      target: 'string',\n      /** Suggested filename for download. */\n      download: 'string',\n      /** URLs to be pinged when the link is followed. */\n      ping: 'string',\n      /** Link relationship tokens (e.g. 'noopener', 'noreferrer'). */\n      rel: 'string',\n      /** Language of the linked resource. */\n      hreflang: 'string',\n      /** Referrer policy for the link (serialized to 'referrerpolicy' attribute). */\n      referrerPolicy: { type: 'string', attr: 'referrerpolicy' },\n    })\n    .define({\n      origin() { return new URL(this.href).origin; },\n      protocol: buildHyperlinkDefinition('protocol'),\n      username: buildHyperlinkDefinition('username'),\n      password: buildHyperlinkDefinition('password'),\n      host: buildHyperlinkDefinition('host'),\n      hostname: buildHyperlinkDefinition('hostname'),\n      port: buildHyperlinkDefinition('port'),\n      pathname: buildHyperlinkDefinition('pathname'),\n      search: buildHyperlinkDefinition('search'),\n      hash: buildHyperlinkDefinition('hash'),\n    })\n    .html`\n      <a id=anchor\n      href={href}\n      target={target}\n      download={download}\n      ping={ping}\n      rel={rel}\n      hreflang={hreflang}\n      referrerpolicy={referrerPolicy}\n      ></a>\n    `\n    .methods({\n      toString() {\n        return this.href;\n      },\n    });\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport { ELEMENT_ANIMATION_TYPE } from '../core/customTypes.js';\n\n/**\n * Ripple is a visual touch feedback effect used by controls to indicate\n * pointer/touch interaction. It renders and animates a circular ink ripple\n * and exposes properties to control its position, size, and lifecycle.\n * @see https://m3.material.io/foundations/interaction/states/applying-states\n */\nexport default CustomElement\n  .extend()\n  .set({\n    hadRippleHeld: false,\n    hadRippleReleased: false,\n    rippleStarted: false,\n  })\n  .observe({\n    /** Current lifecycle state for the ripple (e.g. 'filled', 'complete'). */\n    rippleState: 'string',\n    /** When true, keep the ripple in the DOM after animation ends. */\n    keepAlive: 'boolean',\n    /** X offset (px) from center used to position the ripple. */\n    _positionX: 'float',\n    /** Y offset (px) from center used to position the ripple. */\n    _positionY: 'float',\n    /** Computed ripple radius (px) used for sizing/animation. */\n    _radius: 'float',\n    /** Hold the ripple (e.g. for long-press); triggers hold/release tracking. */\n    holdRipple: {\n      type: 'boolean',\n      changedCallback(oldValue, newValue) {\n        if (newValue) {\n          this.hadRippleHeld = true;\n        } else {\n          this.hadRippleReleased = true;\n        }\n      },\n    },\n  })\n  .observe({\n    /** Computed animation/style object used to position and size the ripple. */\n    _positionStyle: {\n      ...ELEMENT_ANIMATION_TYPE,\n      get({ _positionX, _positionY, _radius }) {\n        // Skip if not measured\n        if (_radius == null) return null;\n        return {\n          styles: {\n            minHeight: `${_radius}px`,\n            minWidth: `${_radius}px`,\n            boxShadow: `0 0 calc(0.10 * ${_radius}px) calc(0.10 * ${_radius}px) currentColor`,\n            top: `calc(50% + ${_positionY}px)`,\n            left: `calc(50% + ${_positionX}px)`,\n          },\n        };\n      },\n    },\n  })\n  .methods({\n    /**\n     * @param {number} [x] offsetX\n     * @param {number} [y] offsetY\n     * @param {number} [size]\n     * @return {void}\n     */\n    updatePosition(x, y, size) {\n      // Element is already centered.\n      // Use offset to calculate parent size;\n\n      let hypotenuse = size;\n      const { offsetParent } = this;\n      if (!offsetParent) return;\n      const { clientWidth: parentWidth, clientHeight: parentHeight } = offsetParent;\n\n      x ??= parentWidth / 2;\n      y ??= parentHeight / 2;\n      if (!hypotenuse) {\n        const width = (x >= parentWidth / 2) ? x : (parentWidth - x);\n        const height = (y >= parentHeight / 2) ? y : (parentHeight - y);\n        hypotenuse = 2 * Math.hypot(width, height);\n      }\n\n      // const expandDuration = Math.min(\n      //   500, // Never longer than long-press duration\n      //   (1000 * Math.sqrt(size / 2 / 1024) + 0.5), // From Android\n      // );\n\n      // this.style.minBlockSize = `${hypotenuse}px`;\n      // this.style.minInlineSize = `${hypotenuse}px`;\n      // this.style.boxShadow = `0 0 calc(0.10 * ${0}px) calc(0.10 * ${0}px) currentColor`;\n      // this.style.marginLeft = `${x - (parentWidth / 2)}px`;\n      // this.style.marginTop = `${y - (parentHeight / 2)}px`;\n\n      this._positionX = x - (parentWidth / 2);\n      this._positionY = y - (parentHeight / 2);\n      this._radius = hypotenuse;\n    },\n    /** Complete the ripple lifecycle: either mark complete or remove. */\n    handleRippleComplete() {\n      if (this.keepAlive) {\n        this.setAttribute('ripple-state', 'complete');\n      } else {\n        this.remove();\n      }\n    },\n  })\n  .events({\n    animationstart({ animationName }) {\n      if (animationName !== 'ripple-fade-in') return;\n      if (this.rippleStarted && !this.keepAlive) {\n        // Animation restarted. Likely from visibility change\n        this.remove();\n        return;\n      }\n      this.rippleStarted = true;\n    },\n    animationend({ animationName }) {\n      switch (animationName) {\n        case 'ripple-fade-in':\n          this.rippleState = 'filled';\n          break;\n        case 'ripple-fade-out':\n          this.handleRippleComplete();\n          break;\n        default:\n      }\n    },\n  })\n  .css`\n    /* stylelint-disable liberty/use-logical-spec */\n    :host {\n      --enter-delay: 80ms;\n      --touch-down-acceleration: 1024;\n      --touch-up-acceleration: 3400;\n      --mdw-ripple-expand-duration: 300ms;\n      --mdw-ripple-simple-duration: 200ms;\n      --mdw-ripple-fade-out-duration: 333ms;\n      --mdw-ripple-standard-easing: var(--mdw-motion-standard-easing, cubic-bezier(0.4, 0.0, 0.2, 1));\n      --mdw-ripple-deceleration-easing: var(--mdw-motion-deceleration-easing, cubic-bezier(0.0, 0.0, 0.2, 1));\n    \n      --size: 0;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n    \n      display: block;\n    \n      min-block-size: 141.42%; /* \u221A2 * 100% */\n      min-inline-size: 141.42%;\n    \n      pointer-events: none;\n    \n      -webkit-tap-highlight-color: transparent;\n    \n      opacity: 0.12;\n      transform: translateX(-50%) translateY(-50%) scale(1);\n    \n      background-color: currentColor;\n      border-radius: 50%;\n    \n      /* Adds feathered appearance to ripple */\n      box-shadow: 0 0 calc(0.10 * var(--size)) calc(0.10 * var(--size)) currentColor;\n    \n      transition-delay: 0s;\n      transition-duration: var(--mdw-ripple-simple-duration);\n      transition-property: background-color, color;\n      transition-timing-function: var(--mdw-ripple-standard-easing);\n    \n      animation-name: ripple-fade-in, none;\n      animation-duration: var(--mdw-ripple-expand-duration), var(--mdw-ripple-fade-out-duration);\n      animation-timing-function: linear, var(--mdw-ripple-deceleration-easing);\n      animation-direction: normal;\n      animation-fill-mode: forwards;\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      will-change: transform, opacity, top, left, box-shadow;\n    \n      aspect-ratio: 1/1;\n    }\n    \n    :host([ripple-state=\"filled\"]) {\n      animation-name: none, ripple-fade-out;\n    }\n    \n    :host([ripple-state=\"filled\"][hold-ripple]) {\n      animation-name: ripple-fade-in, none;\n    }\n    \n    :host([ripple-state=\"complete\"]) {\n      animation-name: none, ripple-fade-out;\n      animation-duration: 0s;\n    }\n    \n    @keyframes ripple-fade-in {\n      from {\n        transform: translateX(-50%) translateY(-50%) scale(0);\n      }\n    }\n    \n    @keyframes ripple-fade-out {\n    \n      to { opacity: 0; }\n    }\n  `\n  .autoRegister('mdw-ripple');\n", "import Ripple from '../components/Ripple.js';\n\n/** @typedef {import('../components/Ripple.js').default} Ripple */\n\n/**\n * Provides visual ripple effects (pointer/press ripples) and helpers to add/remove them.\n * @param {ReturnType<import('./StateMixin.js').default>} Base\n */\nexport default function RippleMixin(Base) {\n  return Base\n    .set({\n      /** WeakRef to the last appended Ripple instance (used to release/hold) */\n      /** @type {WeakRef<InstanceType<Ripple>>} */\n      _lastRippleWeakRef: null,\n      /** Flag set if ripple was added this event loop to avoid duplicate ripples */\n      _rippleAdded: false,\n    })\n    .define({\n      _lastRipple: {\n        get() {\n          const element = this._lastRippleWeakRef?.deref();\n          if (element?.isConnected) return element;\n          return null;\n        },\n        set(ripple) {\n          this._lastRippleWeakRef = ripple ? new WeakRef(ripple) : null;\n        },\n      },\n    })\n    .methods({\n      /**\n       * @param {number} [x]\n       * @param {number} [y]\n       * @param {boolean} [hold]\n       * @return {InstanceType<Ripple>}\n       */\n      addRipple(x, y, hold) {\n        const { rippleContainer } = this.refs;\n        if (!rippleContainer.isConnected) return null; // Detached?\n        const ripple = new Ripple();\n        this._rippleAdded = true;\n        queueMicrotask(() => {\n          // Reset before next event loop;\n          this._rippleAdded = false;\n        });\n        rippleContainer.append(ripple);\n        if (hold) {\n          ripple.holdRipple = true;\n        }\n        ripple.updatePosition(x, y);\n        this._lastRipple = ripple;\n        return ripple;\n      },\n    })\n    .html`\n      <div id=ripple-container mdw-if={!disabledState} aria-hidden=true></div>\n    `\n    .events({\n      '~pointerdown'(event) {\n        if (event.button) return;\n        if (this.disabledState) return;\n\n        const { rippleContainer } = this.refs;\n        if (!rippleContainer.isConnected) return; // Detached?\n        const rect = rippleContainer.getBoundingClientRect();\n        const x = event.pageX - rect.left - window.pageXOffset;\n        const y = event.pageY - rect.top - window.pageYOffset;\n        const lastRipple = this._lastRipple;\n        if (lastRipple) {\n          lastRipple.holdRipple = false;\n        }\n        // Ripple from pointerdown\n        this.addRipple(x, y, true);\n      },\n      '~click'(e) {\n        if (this._rippleAdded) {\n          // Avoid double event\n          return;\n        }\n        if (e.pointerType || e.detail) return;\n        if (this.disabledState) return;\n        if (this.pressedState || this._keyReleased) return;\n        const lastRipple = this._lastRipple;\n        if (lastRipple) {\n          lastRipple.holdRipple = false;\n        }\n        // Ripple from programmatic click\n        this.addRipple();\n      },\n    })\n    .on({\n      pressedStateChanged(oldValue, pressed) {\n        const ripple = this._lastRipple;\n        if (!pressed) {\n          if (ripple) {\n            ripple.holdRipple = false;\n          }\n          return;\n        }\n        if (!ripple || ripple.hadRippleReleased) {\n          if (this._lastInteraction !== 'key') {\n            // Sometimes pointer events may be out of order\n            return;\n          }\n          // Ripple from pressed state\n          this.addRipple(null, null, true);\n          return;\n        }\n        if (ripple.hadRippleHeld) return;\n        ripple.holdRipple = true;\n      },\n    })\n    .css`\n      :host {\n        --mdw-state__pressed-opacity: 0;\n      }\n      \n      #ripple-container {\n        position: absolute;\n        inset: 0;\n      \n        overflow: hidden;\n      \n        pointer-events: none;\n\n        border-radius: inherit;\n      }\n    `;\n}\n", "import './Icon.js';\nimport CustomElement from '../core/CustomElement.js';\nimport DensityMixin from '../mixins/DensityMixin.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport HyperlinkMixin from '../mixins/HyperlinkMixin.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport RippleMixin from '../mixins/RippleMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/* https://m3.material.io/components/buttons/specs */\n\n/**\n * Buttons prompt most actions in a UI.\n * @see https://m3.material.io/components/buttons/specs\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(DensityMixin)\n  .mixin(StateMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .mixin(RippleMixin)\n  .mixin(InputMixin)\n  .mixin(HyperlinkMixin)\n  .define({\n    /**\n     * Returns the element used as the state target for visual states\n     * (e.g., pressed/hover). Typically the internal control element.\n     * @return {HTMLElement}\n     */\n    stateTargetElement() { return this.refs.control; },\n  })\n  .set({\n    stateLayer: true,\n    _allowedTypes: ['button', 'submit', 'reset', 'file'],\n  })\n  .observe({\n    /** The underlying control `type` (button, submit, reset, file). */\n    type: {\n      empty: 'button',\n      /**\n       * @param {string} value\n       * @param {*} internalSet\n       */\n      set(value, internalSet) {\n        const enumeratedValue = value?.toLowerCase() ?? 'button';\n        internalSet(\n          this._allowedTypes.includes(enumeratedValue)\n            ? enumeratedValue\n            : 'button',\n        );\n      },\n    },\n    /** Bound to [elevated] specifying whether the element should be elevated. */\n    elevated: 'boolean',\n    /** Visual filled variant; may be \"tonal\" or boolean-filled token. */\n    filled: 'string',\n    /** Whether the button should render an outline. */\n    outlined: 'boolean',\n    /** Icon name (uses internal `mdw-icon` when set). */\n    icon: 'string',\n    /** Ink color override for the icon. */\n    iconInk: 'string',\n    // Overrides to string instead of DOMString\n    /** Image source URL for an icon. */\n    src: 'string',\n    /** Inline SVG markup to render as icon. */\n    svg: 'string',\n    /** SVG `viewBox` attribute for inline SVG icons. */\n    viewBox: 'string',\n    /** Path data for an inline SVG icon. */\n    svgPath: 'string',\n  })\n  .expressions({\n    hasIcon({ icon, svg, src, svgPath } = this) {\n      return icon ?? svg ?? src ?? svgPath;\n    },\n    iconVariation({ outlined } = this) {\n      return outlined ? null : 'filled';\n    },\n  })\n  .methods({\n    /** @type {HTMLElement['focus']} */\n    focus(...options) {\n      if (this.href) {\n        this.refs.anchor.focus(...options);\n      } else {\n        this.refs.control.focus(...options);\n      }\n    },\n  })\n  .html`\n    <mdw-icon mdw-if={hasIcon} id=icon ink={iconInk} disabled={disabledState}\n      outlined={outlined} variation={iconVariation} aria-hidden=true svg={svg} src={src}\n      svg-path={svgPath} view-box={viewBox} icon={icon}></mdw-icon>\n    <slot id=slot disabled={disabledState} aria-hidden=true>{_defaultValue}</slot>\n  `\n  .recompose(({ refs: { anchor, control } }) => {\n    control.setAttribute('mdw-if', '{!href}');\n    control.setAttribute('role', 'button');\n    anchor.setAttribute('mdw-if', '{href}');\n    anchor.setAttribute('aria-label', '{_computedAriaLabel}');\n    anchor.setAttribute('aria-labelledby', '{_computedAriaLabelledby}');\n  })\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__full);\n      --mdw-ink: var(--mdw-color__primary);\n\n      --mdw-type__font: var(--mdw-typescale__label-large__font);\n      --mdw-type__letter-spacing: var(--mdw-typescale__label-large__letter-spacing);\n\n      display: inline-flex;\n\n      align-items: center;\n      gap: 0;\n      justify-content: center;\n      vertical-align: middle;\n\n      /* box-sizing: border-box; */\n      min-block-size: 24px;\n      min-inline-size: 24px;\n\n      padding-block: calc(8px + (var(--mdw-density) * 2px));\n      padding-inline: calc(12px + (var(--mdw-density) * 2px));\n\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      user-select: none;\n\n      color: rgb(var(--mdw-ink));\n\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n    }\n\n    :host(:where([elevated],[filled])) {\n      transition: box-shadow 200ms;\n      will-change: box-shadow;\n    }\n\n    /** Elevated Color Defaults */\n    :host(:where([elevated])) {\n      --mdw-bg: var(--mdw-color__surface-container-low);\n      --mdw-ink: var(--mdw-color__primary);\n      box-shadow: var(--mdw-elevation__box-shadow__1);\n    }\n    /** Filled Color Defaults */\n    :host(:where([filled])) {\n      --mdw-bg: var(--mdw-color__primary);\n      --mdw-ink: var(--mdw-color__on-primary);\n      box-shadow: var(--mdw-elevation__box-shadow__0);\n    }\n\n    :host(:where([elevated]:hover:not(:active))) {\n      box-shadow: var(--mdw-elevation__box-shadow__2);\n    }\n\n    :host(:where([filled]:hover:not(:active))) {\n      box-shadow: var(--mdw-elevation__box-shadow__1);\n    }\n\n    :host(:where([elevated]:disabled)) {\n      box-shadow: var(--mdw-elevation__box-shadow__0);\n    }\n\n    :host(:where([filled]:disabled)) {\n      box-shadow: var(--mdw-elevation__box-shadow__0);\n    }\n\n    /** Filled Tonal Color Defaults */\n    :host(:where([filled=\"tonal\"])) {\n      --mdw-bg: var(--mdw-color__secondary-container);\n      --mdw-ink: var(--mdw-color__on-secondary-container);\n    }\n    /** Outlined Color Defaults */\n    :host(:where([outlined])) {\n      --mdw-ink: var(--mdw-color__primary);\n    }\n\n    :host(:where([icon])) {\n      gap: 8px;\n\n      padding-inline: calc(12px + (var(--mdw-density) * 2px)) calc(16px + (var(--mdw-density) * 2px));\n    }\n\n    :host(:where([outlined], [elevated], [filled])) {\n      padding-inline: calc(24px + (var(--mdw-density) * 2px));\n    }\n\n    :host(:where([icon]):where([outlined], [elevated], [filled])) {\n      gap: 8px;\n\n      padding-inline: calc(16px + (var(--mdw-density) * 2px)) calc(24px + (var(--mdw-density) * 2px));\n    }\n\n    :host(:where([elevated],[filled],[color])) {\n      background-color: rgb(var(--mdw-bg));\n    }\n\n    #slot {\n      text-align: center;\n      text-decoration: none;\n      white-space: nowrap;\n    }\n\n    #control {\n      cursor: pointer;\n    }\n\n    #anchor {\n      position: absolute;\n      inset: 0;\n\n      cursor: pointer;\n      outline: none;\n    }\n\n    :host([disabled]) {\n      /* cursor: not-allowed; */\n\n      color: rgba(var(--mdw-color__on-surface), 0.38);\n    }\n\n    :host([disabled]:is([elevated], [filled])) {\n      background-color: rgba(var(--mdw-color__on-surface), 0.12);\n      color: rgba(var(--mdw-color__on-surface), 0.38);\n    }\n\n    #slot[disabled] {\n      color: rgba(var(--mdw-color__on-surface), 0.38);\n    }\n\n    #icon {\n      font-size: calc(18/14 * 1em);\n    }\n\n    #icon[disabled] {\n      opacity: 0.38;\n\n      color: rgba(var(--mdw-color__on-surface));\n    }\n\n    #control[form-disabled] {\n      cursor: not-allowed;\n    }\n\n    @media (any-pointer: coarse) {\n      #touch-target {\n        visibility: inherit;\n      }\n    }\n  `\n  .autoRegister('mdw-button');\n", "import { ELEMENT_STYLE_TYPE } from '../core/customTypes.js';\nimport TooltipTriggerMixin from '../mixins/TooltipTriggerMixin.js';\n\nimport Button from './Button.js';\n\n/**\n * Icon buttons are compact buttons that use an icon to represent an action.\n * @see https://m3.material.io/components/icon-buttons/specs\n */\nexport default Button\n  .extend()\n  .mixin(TooltipTriggerMixin)\n  .set({\n    _allowedTypes: ['button', 'submit', 'reset', 'checkbox', 'file'],\n  })\n  .observe({\n    /** ARIA pressed state for toggle buttons (checkbox type). */\n    _ariaPressed: {\n      get({ type, checked, indeterminate }) {\n        if (type !== 'checkbox') return null;\n        return indeterminate ? 'mixed' : (checked ? 'true' : 'false');\n      },\n    },\n    /** True when the underlying control behaves as a toggle (checkbox). */\n    _isToggle({ type }) {\n      return type === 'checkbox';\n    },\n\n    /** When present, enables automatic tooltip behavior from the mixin. */\n    autoTooltip: { empty: true },\n  })\n  .expressions({\n    iconVariation({ checked, outlined, _isToggle }) {\n      if (!checked && (_isToggle || outlined)) return null;\n      return 'filled';\n    },\n  })\n  .childEvents({\n    control: {\n      keydown(event) {\n        if (event.key !== 'Enter' && event.key !== ' ') return;\n        const input = /** @type {HTMLInputElement} */ (event.currentTarget);\n        if (input.type !== 'checkbox') return;\n        event.stopImmediatePropagation();\n        event.stopPropagation();\n        event.preventDefault();\n        if (input.disabled) return;\n\n        input.click();\n      },\n    },\n  })\n  .recompose(({ refs: { icon, control, outline } }) => {\n    icon.removeAttribute('mdw-if');\n\n    control.setAttribute('aria-pressed', '{_ariaPressed}');\n\n    outline.setAttribute('toggle', '{_isToggle}');\n    outline.setAttribute('selected', '{checked}');\n  })\n  .observe({\n    _styles: {\n      ...ELEMENT_STYLE_TYPE,\n      get({ checked, disabled, filled, outlined, _isToggle }) {\n        if (!_isToggle) return null;\n        if (disabled) return null;\n        if (outlined) {\n          if (checked) {\n            return {\n              backgroundColor: 'rgb(var(--mdw-bg))',\n            };\n          }\n          return {\n            color: 'rgb(var(--mdw-color__on-surface-variant))',\n          };\n        }\n        if (checked) return null; // All else uses checked state\n        if (filled == null) return null;\n        return {\n          backgroundColor: 'rgb(var(--mdw-color__surface-container-highest))',\n          color: filled === 'tonal'\n            ? 'rgb(var(--mdw-color__on-surface-variant))'\n            : 'rgb(var(--mdw-bg))',\n        };\n      },\n    },\n  })\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__full);\n      --mdw-ink: rgb(var(--mdw-color__on-surface-variant));\n\n      align-items: center;\n      justify-content: center;\n\n      min-block-size: 1em;\n      min-inline-size: 1em;\n\n      padding: max(8px, calc(8px + (var(--mdw-density) * 2px)));\n\n      font-size: 24px;\n\n      transition-property: background-color, box-shadow;\n    }\n\n    :host(:where([type=\"checkbox\"])) {\n      --mdw-ink: var(--mdw-color__primary);\n    }\n\n    /** Filled | Filled Checked */\n    :host(:where([filled])) {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n    }\n\n    /** Tonal | Tonal Checked */\n    :host(:where([filled=\"tonal\"])) {\n      --mdw-ink: var(--mdw-color__on-secondary-container);\n      --mdw-bg: var(--mdw-color__secondary-container);\n    }\n\n    /** Outlined | Outlined Unchecked */\n    :host(:where([outlined])) {\n      --mdw-ink: var(--mdw-color__on-surface-variant);\n      background-color: transparent;\n    }\n\n    /** Outlined | Outlined Unchecked */\n    :host(:where([outlined][type=\"checkbox\"])) {\n      --mdw-bg: var(--mdw-color__inverse-surface);\n      --mdw-ink: var(--mdw-color__inverse-on-surface);\n    }\n\n    #slot { display: none; }\n\n    #icon {\n      pointer-events: none;\n\n      font-size: inherit;\n\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      transition-property: color, inline-size, width;\n    }\n\n    #state {\n      z-index:1;\n    }\n\n    #ripple-container {\n      z-index:2;\n    }\n\n    #outline[focused] {\n      opacity: 1;\n\n      color: inherit;\n    }\n    \n    #outline[focused][toggle] {\n      color: rgb(var(--mdw-color__outline));\n    }\n\n    #outline[selected]:not([disabled]) {\n      opacity: 0;\n    }\n\n  `\n  .autoRegister('mdw-icon-button');\n", "import CustomElement from '../core/CustomElement.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Progress indicators display the progress of an operation as a determinate\n * bar or an indeterminate animation.\n * @see https://m3.material.io/components/progress-indicators/specs\n * @see https://html.spec.whatwg.org/multipage/form-elements.html#the-progress-element\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .observe({\n    /** Render the circular variant when true; otherwise render a linear bar. */\n    circle: 'boolean',\n    /** Current progress value. When present the indicator is determinate. */\n    value: 'float',\n    /** Maximum progress value (defaults to 100 when not set). */\n    max: 'float',\n    /** When true, the progress will auto-hide when complete. */\n    autoHide: 'boolean',\n    /** Internal inline style string used to animate the determinate bar. */\n    _determinateStyle: 'string',\n  })\n  .observe({\n    /**\n     * Computed fractional progress (0.0\u20131.0) derived from `value` and `max`.\n     * Used to drive the determinate animation and CSS variables.\n     */\n    _valueAsFraction: {\n      type: 'float',\n      get({ value, max }) {\n        return (value / (max || 100));\n      },\n      /** Update `_determinateStyle` CSS variables when the fraction changes. */\n      changedCallback(oldValue, newValue) {\n        this._determinateStyle = `\n        --previous:${oldValue ?? newValue ?? 0};\n        --value:${newValue ?? 0};\n      `;\n      },\n    },\n  })\n  .expressions({\n    /** True when `value` is provided, indicating a determinate progress state. */\n    isDeterminate({ value }) {\n      return value != null;\n    },\n  })\n  .define({\n    /** Proxy to the internal `<progress>` element's `position` property. */\n    position() {\n      return /** @type {HTMLProgressElement} */ (this.refs.progress).position;\n    },\n    /** Proxy to the internal `<progress>` element's `labels` collection. */\n    labels() {\n      return /** @type {HTMLProgressElement} */ (this.refs.progress).labels;\n    },\n  })\n  .html`\n    <div id=determinate style=\"{_determinateStyle}\">\n      <progress id=progress value={value} max={max} circle={circle}></progress>\n      <div mdw-if={circle} id=circle>\n        <div id=semi1 class=semi></div>\n        <div id=semi2 class=semi></div>\n      </div>\n    </div>\n    <div mdw-if={!isDeterminate} id=indeterminate>\n      <div mdw-if={!circle} id=indeterminate-line>\n        <div id=line1 class=line value={value}></div>\n        <div id=line2 class=line value={value}></div>\n      </div>\n      <div mdw-if={circle} id=indeterminate-circle>\n        <div id=arc2 class=arc></div>\n        <div id=arc3 class=arc></div>\n        <div id=arc4 class=arc></div>\n      </div>\n    </div>\n  `\n  .css`\n    /* Base Styles */\n\n    :host {\n      --mdw-bg: var(--mdw-color__surface-container-highest);\n      --mdw-ink: var(--mdw-color__primary);\n      --mdw-progress__opacity__duration: 500ms;\n      position: relative;\n\n      display: inline-block;\n      overflow: hidden;\n      vertical-align: middle;\n\n      min-block-size: 4px;\n      inline-size: 100%;\n\n      opacity: 1;\n\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n\n      transition: opacity 500ms 275ms;\n    }\n\n    :host([auto-hide]) {\n      will-change: opacity;\n    }\n\n    :host([auto-hide][value=\"100\"]) {\n      opacity:0;\n\n      transition: opacity 1s 1s;\n    }\n\n    #determinate {\n      --previous: 0;\n      --value: 0;\n    }\n\n    #progress {\n      position: absolute;\n      inset: 0;\n\n      box-sizing: border-box;\n      block-size: 100%;\n      inline-size: 100%;\n      border: none; /* FireFox */\n\n      -moz-appearance: none;\n      appearance: none;\n\n      opacity:0;\n      transform: scaleX(var(--value, 0));\n      transform-origin: 0 0;\n\n      background-color: currentColor;\n      color: inherit;\n\n      transition: transform 275ms, opacity var(--mdw-progress__opacity__duration);\n      will-change: transform, opacity;\n    }\n\n    #progress::-webkit-progress-bar {\n      display: none;\n    }\n\n    #progress::-moz-progress-bar  {\n      display: none; /* Doesn't always work */\n\n      block-size: 0;\n    }\n\n    #progress[value] {\n      opacity:1;\n      transform: scaleX(var(--value, 0));\n    }\n  `\n  .css`\n    /* Line Styles */\n\n    /* https://github.com/material-components/material-components-android/blob/ed77ab36ccac98df24e55060d58406c5981a9062/lib/java/com/google/android/material/progressindicator/ */\n\n    :host {\n      --mdw-progress__line1-head__timing: cubic-bezier(0.2, 0.8, 0, 1.0);\n      --mdw-progress__line1-tail__timing: cubic-bezier(0.4, 0.0, 1.0, 1.0);\n      --mdw-progress__line2-head__timing: cubic-bezier(0.0, 0.65, 0, 1.0);\n      --mdw-progress__line2-tail__timing: cubic-bezier(0.1, 0.45, 0, 1.0);\n      --mdw-progress__line__duration: 1800ms;\n    }\n\n    @media (prefers-reduced-motion) {\n      :host {\n        --mdw-progress__line__duration: 18000ms\n      }\n    }\n\n    .line {\n      opacity: 1;\n\n      transition: opacity var(--mdw-progress__opacity__duration);\n      will-change: opacity;\n    }\n\n    .line,\n    .line::after {\n      position: absolute;\n      inset: 0;\n\n      overflow: hidden;\n\n      animation-duration: var(--mdw-progress__line__duration);\n      animation-timing-function: linear;\n      animation-iteration-count: infinite;\n      animation-fill-mode: forwards;\n    }\n\n    .line::after {\n      content: '';\n\n      background-color: currentColor;\n\n      animation: inherit;\n      will-change: transform;\n    }\n\n    #line1 {\n      animation-name: l1h;\n    }\n\n    #line2 {\n      animation-name: l2h;\n    }\n\n    #line1::after {\n      animation-name: l1t;\n    }\n\n    #line2::after {\n      animation-name: l2t;\n    }\n\n    .line[value] {\n      opacity: 0;\n      visibility: hidden;\n\n      transition: opacity var(--mdw-progress__opacity__duration), visibility 1ms var(--mdw-progress__opacity__duration);\n    }\n\n    /**\n      * L1H = 1267 / +533 = 70.39% - 100%\n      * L1T = 1000 / +567 = 55.56% - 87.05%\n      * L2H = 0333 / +850 = 18.50% - 65.72%\n      * L2T = 0000 / +750 = 0% - 41.67%\n      * Total = 1800ms\n      *\n      *    t      l1h    l1t      l2h     l2t\n      * --------------------------------------\n      * 0.0000  0.0000  0.0000  0.0000  0.0000\n      * 0.1850  0.0000  0.0000  0.0000  0.5899\n      * 0.4167  0.0000  0.0000  0.7374  1.0000\n      * 0.5556  0.0000  0.0000  0.9072  1.0000\n      * 0.6572  0.0000  0.1544  1.0000  1.0000\n      * 0.7039  0.0000  0.2939  1.0000  1.0000\n      * 0.8706  0.7918  1.0000  1.0000  1.0000\n      * 1.0000  1.0000  1.0000  1.0000  1.0000\n    */\n\n    @keyframes l1h {\n      0% {\n        transform: translateX(0%);\n      }\n\n      70.4% {\n        transform: translateX(0%);\n\n        animation-timing-function: var(--mdw-progress__line1-head__timing);\n      }\n\n      100% {\n        transform: translateX(100%);\n      }\n    }\n    @keyframes l1t {\n      0% {\n        transform: translateX(-100%);\n      }\n\n      55.6% {\n        transform: translateX(-100%);\n\n        animation-timing-function: var(--mdw-progress__line1-tail__timing);\n      }\n\n      87.1% {\n        transform: translateX(0%);\n      }\n\n      100% {\n        transform: translateX(0%);\n      }\n    }\n    @keyframes l2h {\n      0% {\n        transform: translateX(0%);\n      }\n\n      18.5% {\n        transform: translateX(0%);\n\n        animation-timing-function: var(--mdw-progress__line2-head__timing);\n      }\n\n      65.72% {\n        transform: translateX(100%);\n      }\n\n      to {\n        transform: translateX(100%);\n      }\n    }\n    @keyframes l2t {\n      0% {\n        transform: translateX(-100%);\n\n        animation-timing-function: var(--mdw-progress__line2-tail__timing);\n      }\n\n      41.67% {\n        transform: translateX(0%);\n      }\n\n      to {\n        transform: translateX(0%);\n      }\n    }\n\n  `\n  .css`\n    /* Circle Styles */\n    /* stylelint-disable liberty/use-logical-spec */\n    /** https://github.com/material-components/material-components-android/blob/ed77ab36ccac98df24e55060d58406c5981a9062/lib/java/com/google/android/material/progressindicator/CircularIndeterminateAnimatorDelegate.java */\n\n    :host {\n      --mdw-progress__circle__timing: cubic-bezier(0.4, 0.0, 0.2, 1);\n      --mdw-progress__circle__margin: 4px;\n      --mdw-progress__circle__duration: 5400ms;\n      --mdw-progress__circle__duration__expand: 667ms;\n      --mdw-progress__circle__duration__collapse: 667ms;\n      --mdw-progress__circle__duration__fade-in: 333ms;\n      --mdw-progress__circle__duration__complete-end: 333ms;\n    }\n\n    @media (prefers-reduced-motion) {\n      :host {\n        --mdw-progress__circle__duration: 54000ms;\n      }\n    }\n\n    #circle {\n      --startA: min(0.5, var(--previous));\n      --endA: min(0.5, var(--value));\n      --travelA: max(\n          calc(var(--startA) - var(--endA)),\n          calc(var(--endA) - var(--startA))\n        );\n      --delayA: max(0, calc(var(--previous) - 0.5));\n      --startB: max(0, calc(var(--previous) - 0.5));\n      --endB: max(0, calc(var(--value) - 0.5));\n      --travelB: max(\n          calc(var(--startB) - var(--endB)),\n          calc(var(--endB) - var(--startB))\n        );\n      --delayB: max(0, 0.5 - calc(var(--previous)));\n\n      position: absolute;\n      inset: 0;\n    }\n\n    :host([circle]) {\n      block-size: 48px;\n      inline-size: 48px;\n    }\n\n    :host([circle]:not([color])) {\n      background-color: transparent;\n    }\n\n    #progress[circle] {\n      visibility: hidden;\n    }\n\n    .semi {\n      position: absolute;\n      inset: var(--mdw-progress__circle__margin);\n\n      overflow: hidden;\n\n      box-sizing: border-box;\n    }\n\n    #semi1 {\n      left: 50%;\n    }\n\n    #semi2 {\n      right: 50%;\n    }\n\n    .semi::after {\n      content: \"\";\n\n      position: absolute;\n      inset: 0;\n\n      box-sizing: border-box;\n      border: solid currentcolor 4px;\n\n      transform: rotate(var(--rotation));\n\n      background-color: transparent;\n      border-radius: 50%;\n\n      transition: transform 400ms;\n      transition-timing-function: linear;\n    }\n\n    #semi1::after {\n      --rotation: min(180deg, calc(var(--value) * 360deg));\n      left: -100%;\n\n      clip-path: inset(0 50% 0 0);\n\n      transition-delay: calc(var(--delayA) * var(--mdw-progress__circle__duration__expand));\n      transition-duration: calc(var(--travelA) * var(--mdw-progress__circle__duration__expand));\n    }\n\n    #semi2::after {\n      --rotation: max(0deg, calc(var(--value) * 360deg - 180deg));\n      right: -100%;\n\n      clip-path: inset(0 0 0 50%);\n\n      transition-delay: calc(var(--delayB) * var(--mdw-progress__circle__duration__expand));\n      transition-duration: calc(var(--travelB) * var(--mdw-progress__circle__duration__expand));\n    }\n\n    #indeterminate-circle {\n      position: absolute;\n      inset: 0;\n\n      display: block;\n\n      animation: rotate-cw calc(var(--mdw-progress__circle__duration) / 4) linear infinite;\n    }\n\n    .arc {\n      position: absolute;\n      inset: var(--mdw-progress__circle__margin);\n\n      overflow: hidden;\n\n      box-sizing: border-box;\n\n      animation: rotate-jump var(--mdw-progress__circle__duration) steps(1,end) infinite;\n    }\n\n    .arc::after {\n      content: \"\";\n\n      position: absolute;\n      inset: 0;\n\n      box-sizing: border-box;\n      border: solid currentcolor 4px;\n\n      background-color: transparent;\n      border-radius: 50%;\n\n      animation: grow-shrink calc(var(--mdw-progress__circle__duration) / 4) var(--mdw-progress__circle__timing) infinite;\n    }\n\n    #arc2 {\n      bottom: 50%;\n      left: 50%;\n\n      transform-origin: 0 100%;\n    }\n\n    #arc3 {\n      top: 50%;\n      right: 50%;\n\n      transform-origin: 100% 0;\n    }\n\n    #arc4 {\n      top: 50%;\n      left: 50%;\n\n      transform-origin: 0 0;\n    }\n\n    #arc2:after {\n      bottom: -100%;\n      left: -100%;\n\n      clip-path: polygon(0% 0%, 50% 0%, 50% 50%, 100% 50%, 100% 100%, 0% 100%);\n    }\n\n    #arc3:after {\n      top: -100%;\n      right: -100%;\n\n      clip-path: inset(0 50% 50% 0);\n    }\n\n    #arc4:after {\n      top: -100%;\n      left: -100%;\n\n      clip-path: inset(0 50% 0 0);\n    }\n\n    @keyframes rotate-cw {\n      from {\n        transform: rotate(0deg);\n      }\n\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    @keyframes rotate-jump {\n      0% { transform: scaleX(1) rotate(0deg); }\n\n      12.5% { transform: scaleX(-1) rotate(-270deg); }\n\n      25% { transform: scaleX(1) rotate(270deg); }\n\n      37.5% {transform: scaleX(-1) rotate(-180deg);}\n\n      50% { transform: scaleX(1) rotate(180deg); }\n\n      62.5% { transform: scaleX(-1) rotate(-90deg); }\n\n      75% { transform: scaleX(1) rotate(90deg); }\n\n      87.5% { transform: scaleX(-1) rotate(0deg); }\n\n      to { transform: scaleX(1) rotate(0deg); }\n    }\n\n    @keyframes grow-shrink {\n      from {\n        transform: rotate(calc(0.01 * 360deg));\n      }\n\n      50% {\n        transform: rotate(calc(0.73 * 360deg));\n      }\n\n      to {\n        transform: rotate(calc(0.01 * 360deg));\n      }\n    }\n  `\n  .autoRegister('mdw-progress');\n", "/**\n * Provides shape masking utilities and logical shape attributes (shape-top/start/end/bottom).\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function ShapeMaskedMixin(Base) {\n  return Base\n    .observe({\n      /** Show top cut/shape on the element */\n      shapeTop: 'boolean',\n      /** Show bottom cut/shape on the element */\n      shapeBottom: 'boolean',\n      /** Show start-side cut/shape (logical start) */\n      shapeStart: 'boolean',\n      /** Show end-side cut/shape (logical end) */\n      shapeEnd: 'boolean',\n      /** Predefined shape size/style name (none|extra-small|small|medium|large|extra-large|full|inherit) */\n      shapeStyle: 'string',\n    })\n    .css`\n    :host {\n      --mdw-shape__size: 0px;\n      --mdw-shape__ltr: calc(0.5 * var(--mdw-dir, 1) + 0.5); /* 1 if LTR, 0 if RTL */\n      --mdw-shape__rtl: calc(-0.5 * var(--mdw-dir, 1) + 0.5); /* 0 if LTR, 1 if RTL */\n      --mdw-shape__mask: none;\n\n      /** By default, fallback to border-radius */\n      --mdw-shape__rounded: 1;\n      --mdw-shape__inline-start-deg: calc(var(--mdw-dir, 1) * -90deg);\n\n      --mdw-shape__size__top-start-size: var(--mdw-shape__size);\n      --mdw-shape__size__top-end-size: var(--mdw-shape__size);\n      --mdw-shape__size__bottom-start-size: var(--mdw-shape__size);\n      --mdw-shape__size__bottom-end-size: var(--mdw-shape__size);\n      /* (1/2n + 1/2)L + (-1/2n + 1/2)R  */\n      \n      --mdw-shape__size__top-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__top-end-size)));\n      --mdw-shape__size__top-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__top-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__top-end-size)));\n      --mdw-shape__size__bottom-left-size: calc((var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-end-size)));\n      --mdw-shape__size__bottom-right-size: calc((var(--mdw-shape__rtl) * var(--mdw-shape__size__bottom-start-size)) + (var(--mdw-shape__ltr) * var(--mdw-shape__size__bottom-end-size)));\n\n      border-start-start-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__top-start-size));\n      border-start-end-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__top-end-size));\n      border-end-start-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__bottom-start-size));\n      border-end-end-radius: calc(var(--mdw-shape__rounded) * var(--mdw-shape__size__bottom-end-size));\n    }\n\n    :host([shape-style=\"none\"]) {\n      --mdw-shape__size: 0px;\n    }\n    \n    :host([shape-style=\"extra-small\"]) {\n      --mdw-shape__size: var(--mdw-shape__extra-small);\n    }\n    \n    :host([shape-style=\"small\"]) {\n      --mdw-shape__size: var(--mdw-shape__small);\n    }\n    \n    :host([shape-style=\"medium\"]) {\n      --mdw-shape__size: var(--mdw-shape__medium);\n    }\n    \n    :host([shape-style=\"large\"]) {\n      --mdw-shape__size: var(--mdw-shape__large);\n    }\n    \n    :host([shape-style=\"extra-large\"]) {\n      --mdw-shape__size: var(--mdw-shape__extra-large);\n    }\n    \n    :host([shape-style=\"full\"]) {\n      --mdw-shape__size: var(--mdw-shape__full);\n    }\n    \n    :host([shape-style=\"inherit\"]) {\n      --mdw-shape__size: inherit;\n    }\n    \n    :host([shape-top]) {\n      --mdw-shape__size__bottom-start-size: 0px;\n      --mdw-shape__size__bottom-end-size: 0px;\n      --mdw-shape__mask: linear-gradient(transparent 50%, black 50%);\n    }\n    \n    :host([shape-bottom]) {\n      --mdw-shape__size__top-start-size: 0px;\n      --mdw-shape__size__top-end-size: 0px;\n      --mdw-shape__mask: linear-gradient(black 50%, transparent 50%);\n    }\n    \n    :host([shape-start]) {\n      --mdw-shape__size__top-end-size: 0px;\n      --mdw-shape__size__bottom-end-size: 0px;\n      --mdw-shape__mask: linear-gradient(var(--mdw-shape__inline-start-deg), black 50%, transparent 50%);\n    }\n    \n    :host([shape-end]) {\n      --mdw-shape__size__top-start-size: 0px;\n      --mdw-shape__size__bottom-start-size: 0px;\n      --mdw-shape__mask: linear-gradient(var(--mdw-shape__inline-start-deg), transparent 50%, black 50%);\n    }\n\n    @supports(-webkit-mask-box-image: none) {\n      :host {\n        /* Inherit all the way up to :root */\n        --mdw-shape__rounded: inherit;\n      }\n    }\n\n    @supports(-webkit-mask-box-image: none) {\n      :host {\n        -webkit-mask-box-image: var(--mdw-shape__mask-border-source)\n          8 fill /\n          var(--mdw-shape__size)\n          stretch;\n\n        -webkit-mask: var(--mdw-shape__mask);\n\n        transition-duration: 200ms;\n        transition-property: -webkit-mask-box-image-width;\n        will-change: -webkit-mask-box-image;\n      }\n    }\n  `;\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ShapeMaskedMixin from '../mixins/ShapeMaskedMixin.js';\n\n/**\n * Shape applies shape tokens (corner radius) to elements and surfaces.\n * @see https://m3.material.io/styles/shape/overview-principles\n */\nexport default CustomElement\n  .extend()\n  .mixin(ShapeMaskedMixin)\n  .html`<slot id=slot></slot>`\n  .autoRegister('mdw-shape');\n", "/**\n * Layout helper mixin providing flexible box utilities (gap, padding, axis).\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function FlexableMixin(Base) {\n  return Base\n    .observe({\n      /** Set `display: block` on the host (boolean) */\n      block: 'boolean',\n      /** Use inline flex layout: `display: inline-flex` (boolean) */\n      inline: 'boolean',\n      /** Switch main axis to horizontal: `flex-direction: row` (boolean) */\n      row: 'boolean',\n      /**\n       * Main-axis alignment / justification.\n       * Allowed: 'start'|'center'|'end'|'between'|'around'|'stretch'|'baseline'.\n       * Default: 'start'.\n       */\n      x: {\n        type: 'string',\n        empty: 'start',\n        /** @type {'start'|'center'|'end'|'between'|'around'|'stretch'|'baseline'} */\n        value: 'start',\n      },\n      /**\n       * Cross-axis alignment / alignment of items.\n       * Same allowed values as `x`. Default: 'start'.\n       */\n      y: {\n        type: 'string',\n        empty: 'start',\n        /** @type {'start'|'center'|'end'|'between'|'around'|'stretch'|'baseline'} */\n        value: 'start',\n      },\n      /** Gap between children. Accepts preset numeric strings (e.g. '8') mapped to px, or floats. */\n      gap: 'float',\n      /** Padding preset or numeric value (e.g. 'pane', '8', '16'). */\n      padding: 'string',\n    })\n    .css`\n      /* https://css-tricks.com/snippets/css/a-guide-to-flexbox/ */\n\n      :host{\n        display: flex;\n        flex-direction: column;\n\n        box-sizing: border-box;\n\n      }\n\n      :host(:is([inline])) {\n        display: inline-flex;\n      }\n\n      :host(:is([block])) {\n        display: block;\n      }\n      \n      \n      :host(:is([inline][block])) {\n        display: inline-block;\n      }\n\n      :host(:is([row])) {\n        flex-direction: row;\n      }\n\n      :host(:is([row][y=\"start\"], [x=\"start\"]:not([row]))) {\n        align-items: flex-start;\n      }\n\n      :host(:is([row][y=\"end\"], [x=\"end\"]:not([row]))) {\n        align-items: flex-end;\n      }\n\n      :host(:is([row][y=\"center\"], [x=\"center\"]:not([row]))) {\n        align-items: center;\n      }\n\n      :host(:is([row][y=\"between\"], [x=\"between\"]:not([row]))) {\n        align-items: space-between;\n      }\n\n      :host(:is([row][y=\"around\"], [x=\"around\"]:not([row]))) {\n        align-items: space-around;\n      }\n\n      :host(:is([row][y=\"baseline\"], [x=\"baseline\"]:not([row]))) {\n        align-items: baseline;\n      }\n\n      :host(:is([row][y=\"stretch\"], [x=\"stretch\"]:not([row]))) {\n        align-items: stretch;\n      }\n\n      :host(:is([row][x=\"start\"], [y=\"start\"]:not([row]))) {\n        justify-content: flex-start;\n      }\n\n      :host(:is([row][x=\"end\"], [y=\"end\"]:not([row]))) {\n        justify-content: flex-end;\n      }\n\n      :host(:is([row][x=\"center\"], [y=\"center\"]:not([row]))) {\n        justify-content: center;\n      }\n\n      :host(:is([row][x=\"between\"], [y=\"between\"]:not([row]))) {\n        justify-content: space-between;\n      }\n\n      :host(:is([row][x=\"stretch\"], [y=\"stretch\"]:not([row]))) {\n        justify-content: stretch;\n      }\n\n      :host(:is([wrap])) {\n        flex-wrap: wrap;\n      }\n\n      :host(:is([wrap=\"reverse\"])) {\n        flex-wrap: wrap-reverse;\n      }\n\n      :host(:is([gap])) {gap: 0;}\n      :host(:is([gap=\"4\"])) {gap: 4px;}\n      :host(:is([gap=\"8\"])) {gap: 8px;}\n      :host(:is([gap=\"12\"])) {gap: 12px;}\n      :host(:is([gap=\"16\"])) {gap: 16px;}\n      :host(:is([gap=\"20\"])) {gap: 20px;}\n      :host(:is([gap=\"24\"])) {gap: 24px;}\n\n      :host(:is([padding])) {padding: 0;}\n      :host(:is([padding=\"pane\"])) { padding-inline: var(--mdw-pane__padding-inline, 0) }\n      :host(:is([padding=\"4\"])) {padding: 4px;}\n      :host(:is([padding=\"8\"])) {padding: 8px;}\n      :host(:is([padding=\"12\"])) {padding: 12px;}\n      :host(:is([padding=\"16\"])) {padding: 16px;}\n      :host(:is([padding=\"20\"])) {padding: 20px;}\n      :host(:is([padding=\"24\"])) {padding: 24px;}\n      :host(:is([padding-x])) {padding-inline: 0;}\n      :host(:is([padding-x=\"4\"])) {padding-inline: 4px;}\n      :host(:is([padding-x=\"8\"])) {padding-inline: 8px;}\n      :host(:is([padding-x=\"12\"])) {padding-inline: 12px;}\n      :host(:is([padding-x=\"16\"])) {padding-inline: 16px;}\n      :host(:is([padding-x=\"20\"])) {padding-inline: 20px;}\n      :host(:is([padding-x=\"24\"])) {padding-inline: 24px;}\n      :host(:is([padding-y])) {padding-block: 0;}\n      :host(:is([padding-y=\"4\"])) {padding-block: 4px;}\n      :host(:is([padding-y=\"8\"])) {padding-block: 8px;}\n      :host(:is([padding-y=\"12\"])) {padding-block: 12px;}\n      :host(:is([padding-y=\"16\"])) {padding-block: 16px;}\n      :host(:is([padding-y=\"20\"])) {padding-block: 20px;}\n      :host(:is([padding-y=\"24\"])) {padding-block: 24px;}\n\n      \n    `;\n}\n", "import CustomElement from '../core/CustomElement.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport FlexableMixin from '../mixins/FlexableMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Surface represents a themed elevated surface used to display content with\n * elevation, shape, and color tokens applied.\n * @see https://m3.material.io/styles/elevation/overview\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(FlexableMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .html`<slot id=slot></slot>`\n  .css`\n    :host {\n      --mdw-bg: var(--mdw-color__surface);\n      --mdw-ink: var(--mdw-color__on-surface);\n      position: relative;\n\n      filter: var(--mdw-elevation__drop-shadow__0);\n    \n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n    \n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n\n      transition: filter 200ms;\n    }\n\n    :host(:where([elevation=\"1\"])) { filter: var(--mdw-elevation__drop-shadow__1); }\n    :host(:where([elevation=\"2\"])) { filter: var(--mdw-elevation__drop-shadow__2); }\n    :host(:where([elevation=\"3\"])) { filter: var(--mdw-elevation__drop-shadow__3); }\n    :host(:where([elevation=\"4\"])) { filter: var(--mdw-elevation__drop-shadow__4); }\n    :host(:where([elevation=\"5\"])) { filter: var(--mdw-elevation__drop-shadow__5); }\n  `\n  .autoRegister('mdw-surface');\n", "import CustomElement from '../core/CustomElement.js';\nimport FlexableMixin from '../mixins/FlexableMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * Boxes are stateless elements that may have a color and ink.\n * They should have simple geometry for rendering and layout.\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(FlexableMixin)\n  .html`<slot id=slot></slot>`\n  .css`\n    :host(:where([color])) {\n      background-color: rgb(var(--mdw-bg));\n      color: rgb(var(--mdw-ink));\n    }\n\n    :host(:is([color=\"none\"],[color=\"transparent\"])) {\n      background-color: transparent;\n      color: inherit;\n    }\n    \n    :host([ink]) {\n      color: rgb(var(--mdw-ink));\n    }\n    \n    :host([type-style]) {\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n    }\n\n    #slot::slotted([flex-0]) {\n      flex: 0;\n    }\n\n    #slot::slotted([flex-1]) {\n      flex: 1;\n    }\n\n    #slot::slotted([flex-none]) {\n      flex: none;\n    }\n  `\n  .autoRegister('mdw-box');\n", "import './Icon.js';\nimport CustomElement from '../core/CustomElement.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\n\n/**\n * CheckboxIcon is a visual helper for checkboxes, rendering the box and checkmark.\n * @see https://m3.material.io/components/checkbox/specs\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(ShapeMixin)\n  .observe({\n    /** Whether the icon is selected (checked). */\n    selected: 'boolean',\n    /** Icon name to render inside the checkbox icon. */\n    icon: 'string',\n    /** Whether the associated control is in an error state. */\n    errored: 'boolean',\n    /** Whether the associated control is disabled. */\n    disabled: 'boolean',\n  })\n  .define({\n    /** Alias for `selected` (quality-of-life property). */\n    checked: {\n      get() { return this.selected; },\n      set(value) { this.selected = value; },\n    },\n  })\n  .css`\n    :host {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n      --mdw-shape__size: 2px;\n      --disabled-opacity: 0.38;\n      position: relative;\n\n      display: inline-block;\n      align-items: center;\n      justify-content: center;\n\n      box-sizing: border-box;\n      block-size: 18px;\n      inline-size: 18px;\n\n      font-size: 18px;\n      line-height: 18px;\n    }\n\n    #icon {\n      position: absolute;\n      inset: 0;\n\n      opacity: 0;\n\n      background-color: rgb(var(--mdw-bg));\n      border-radius: inherit;\n      color: rgb(var(--mdw-ink));\n\n      transition-duration: 200ms;\n      transition-property: opacity, background-color, color;\n      will-change: opacity;\n    }\n\n    #outline {\n      border-width: 2px;\n\n      color: rgb(var(--mdw-color__on-surface));\n\n      transition-duration: 200ms;\n      transition-property: opacity, background-color, color;\n      will-change: opacity;\n    }\n\n    /* Selected */\n\n    #icon[selected] {\n      opacity: 1;\n    }\n\n    #outline[selected] {\n      opacity: 0;\n    }\n\n    /* Errored */\n\n    #icon[errored] {\n      background-color: rgb(var(--mdw-color__error));\n      color: rgb(var(--mdw-color__on-error));\n    }\n\n    #outline[errored] {\n      color: rgb(var(--mdw-color__error));\n    }\n\n    /* Disabled */\n\n    #icon[disabled] {\n      background-color: rgba(var(--mdw-color__on-surface), var(--disabled-opacity));\n      color: rgb(var(--mdw-color__surface), var(--disabled-opacity));\n    }\n\n    #outline[disabled] {\n      color: rgb(var(--mdw-color__on-surface), var(--disabled-opacity));\n    }\n  `\n  .html`\n    <mdw-icon id=icon selected={selected} errored={errored} disabled={disabled} icon={icon}></mdw-icon>\n  `\n  .recompose(({ refs: { outline } }) => {\n    outline.removeAttribute('mdw-if');\n    outline.setAttribute('selected', '{selected}');\n    outline.setAttribute('errored', '{errored}');\n    outline.setAttribute('disabled', '{disabled}');\n  })\n  .autoRegister('mdw-checkbox-icon');\n", "/**\n * Provides a visually hidden touch target area to meet touch size recommendations.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function TouchTargetMixin(Base) {\n  return Base\n    .html`<div id=touch-target class=touch-target></div>`\n    .css`\n        /* stylelint-disable liberty/use-logical-spec */\n      .touch-target {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        /* --mdw-device-pixel-ratio: 1; */\n      \n        block-size: 100%;\n        min-block-size: 48px;\n        /* min-block-size: 10mm; */\n        /* min-block-size: calc(0.393701in / var(--mdw-device-pixel-ratio, 1)); */\n        inline-size:100%;\n        min-inline-size: 48px;\n        /* min-inline-size: 10mm; */\n        /* min-inline-size: calc(0.393701in / var(--mdw-device-pixel-ratio, 1)); */\n      \n        cursor: inherit;\n      \n        /* box-sizing: border-box; */\n        /* border: solid 1px magenta; */\n        pointer-events: auto;\n      \n        transform: translateX(-50%) translateY(-50%);\n        visibility: inherit;\n        z-index: 1;\n      \n        border-radius: inherit;\n      }\n    `;\n}\n", "import './CheckboxIcon.js';\n\nimport CustomElement from '../core/CustomElement.js';\nimport InputMixin from '../mixins/InputMixin.js';\nimport RippleMixin from '../mixins/RippleMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\nimport ThemableMixin from '../mixins/ThemableMixin.js';\nimport TouchTargetMixin from '../mixins/TouchTargetMixin.js';\n\n/**\n * Checkboxes let users select one or more items from a list, or turn an item on or off.\n * @see https://m3.material.io/components/checkbox/specs\n */\nexport default CustomElement\n  .extend()\n  .mixin(ThemableMixin)\n  .mixin(StateMixin)\n  .mixin(RippleMixin)\n  .mixin(InputMixin)\n  .mixin(TouchTargetMixin)\n  .set({\n    /** Whether the element renders a state layer for interaction feedback. */\n    stateLayer: true,\n    /** The underlying control input `type` value. */\n    type: 'checkbox',\n  })\n  .observe({\n    /** Icon name to show for the checked state. */\n    icon: { value: 'check' },\n    /** Icon name to show when the control is indeterminate. */\n    indeterminateIcon: { value: 'check_indeterminate_small' },\n  })\n  .expressions({\n    _determinateIcon({ indeterminate, indeterminateIcon, icon }) {\n      return (indeterminate ? indeterminateIcon : icon);\n    },\n    _iconSelectedState({ checked, indeterminate }) {\n      return checked || indeterminate;\n    },\n  })\n  .html`\n    <div id=checkbox errored={erroredState} selected={checked}>\n      <mdw-checkbox-icon id=icon errored={erroredState} disabled={disabledState}\n        icon={_determinateIcon} selected={_iconSelectedState}>\n      </mdw-checkbox-icon>\n    </div>\n    <slot id=slot></slot>\n  `\n  .recompose(({ refs: { checkbox, state, rippleContainer } }) => {\n    checkbox.append(state, rippleContainer);\n  })\n  .css`\n    /* https://m3.material.io/components/checkbox/specs */\n\n    :host {\n      --mdw-ink: var(--mdw-color__on-primary);\n      --mdw-bg: var(--mdw-color__primary);\n\n      display: inline-grid;\n      align-items: baseline;\n      gap: 12px;\n      grid-auto-flow: column;\n      justify-content: flex-start;\n\n      cursor: pointer;\n\n      transition: none 100ms cubic-bezier(0.4, 0.0, 1, 1);\n    }\n\n    :host(:disabled) {\n      cursor: not-allowed;\n\n      opacity: 0.38;\n    }\n\n    :host([internals-disabled]) {\n      cursor: not-allowed;\n\n      opacity: 0.38;\n    }\n\n    :host(:empty) {\n      vertical-align: -11.5%;\n\n      line-height: 18px;\n    }\n\n    #control {\n      grid-column: 1/1;\n\n      cursor: inherit;\n    }\n\n    #state,\n    #ripple-container {\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      top: 50%;\n      /* stylelint-disable-next-line liberty/use-logical-spec */\n      left: 50%;\n\n      block-size: 40px;\n      inline-size: 40px;\n\n      transform: translateX(-50%) translateY(-50%);\n\n      border-radius: 50%;\n    }\n\n    #checkbox {\n      position: relative;\n\n      display: inline-flex;\n\n      grid-column: 1 / 1;\n\n      pointer-events: none;\n\n      transform: translateY(11.5%);\n\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #checkbox[selected] {\n      color: rgb(var(--mdw-bg));\n    }\n\n    #checkbox[disabled] {\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #checkbox[errored] {\n      color: rgb(var(--mdw-color__error));\n    }\n\n    :host(:empty) #checkbox {\n      transform: none;\n    }\n\n    #icon {\n      --mdw-ink: inherit;\n      --mdw-bg: inherit;\n      --disabled-opacity: 1;\n    }\n  `\n  .autoRegister('mdw-checkbox');\n", "import { EVENT_HANDLER_TYPE } from '../core/customTypes.js';\nimport AriaReflectorMixin from '../mixins/AriaReflectorMixin.js';\nimport DelegatesFocusMixin from '../mixins/DelegatesFocusMixin.js';\nimport ElevationMixin from '../mixins/ElevationMixin.js';\nimport FormAssociatedMixin from '../mixins/FormAssociatedMixin.js';\nimport HyperlinkMixin from '../mixins/HyperlinkMixin.js';\nimport ShapeMixin from '../mixins/ShapeMixin.js';\nimport StateMixin from '../mixins/StateMixin.js';\n\nimport Box from './Box.js';\n\nconst SUPPORTS_INERT = 'inert' in HTMLElement.prototype;\n\n/**\n * Cards display content and actions about a single subject.\n * @see https://m3.material.io/components/cards/specs\n */\nexport default Box\n  .extend()\n  .mixin(StateMixin)\n  .mixin(ElevationMixin)\n  .mixin(ShapeMixin)\n  .mixin(FormAssociatedMixin) // Tap into FormAssociated for disabledState\n  .mixin(AriaReflectorMixin)\n  .mixin(DelegatesFocusMixin)\n  .mixin(HyperlinkMixin)\n  .set({\n    _ariaRole: 'figure',\n  })\n  .observe({\n    /** Whether the card displays an elevated surface. */\n    elevated: 'boolean',\n    /** Whether the card uses a filled surface style. */\n    filled: 'boolean',\n    /** When true, card renders an actionable control (clickable). */\n    actionable: 'boolean',\n    /** Label for the action control used for accessibility. */\n    actionLabel: 'string',\n    /** Event handler called when the card action is triggered. */\n    onaction: EVENT_HANDLER_TYPE,\n  })\n  .define({\n    /**\n     * Element used as the target for state styling (pressed/focus).\n     * Returns the internal action control when actionable, otherwise the host.\n     * @return {HTMLElement}\n     */\n    stateTargetElement() { return this.actionable ? this.refs.action : this; },\n  })\n  .expressions({\n    showBlocker: ({ disabledState, disabled }) => disabledState && (!disabled || !SUPPORTS_INERT),\n    showButton: ({ actionable, href }) => Boolean(actionable || href),\n  })\n  .methods({\n    /**\n     * Focuses the internal action control if the card is actionable and not disabled.\n     * @return {void}\n     */\n    focus() {\n      if (this.disabledState) return;\n      if (!this.actionable) return;\n      this.refs.action.focus();\n    },\n  })\n  .html`\n    <mdw-button mdw-if={showButton} aria-label={actionLabel} href={href}\n      target={target}\n      download={download}\n      ping={ping}\n      rel={rel}\n      hreflang={hreflang}\n      referrerpolicy={referrerPolicy} id=action disabled={disabledState}></mdw-button>\n    <div mdw-if={showBlocker} id=inert-blocker></div>\n  `\n  .recompose(({ refs: { anchor, inertBlocker, slot } }) => {\n    anchor.remove();\n    slot.setAttribute('disabled', '{disabledState}');\n    inertBlocker.before(slot);\n  })\n  .css`\n    :host {\n      --mdw-shape__size: var(--mdw-shape__medium);\n\n      /* padding-inline: 12px; */\n\n      --mdw-bg: var(--mdw-color__surface);\n      --mdw-ink: var(--mdw-color__on-surface);\n      position: relative;\n\n      font: var(--mdw-type__font);\n      letter-spacing: var(--mdw-type__letter-spacing);\n\n      transition: filter 200ms;\n      will-change: filter;\n    }\n\n    :host(:where([elevated],[filled],[outlined])) {\n      background-color: rgb(var(--mdw-bg));\n    }\n\n    :host(:where([elevated])) {\n      --mdw-bg: var(--mdw-color__surface-container-low);\n      --mdw-ink: var(--mdw-color__on-surface);\n      filter: var(--mdw-elevation__drop-shadow__1);\n    }\n\n    :host(:where([filled])) {\n      --mdw-bg: var(--mdw-color__surface-container-highest);\n      --mdw-ink: var(--mdw-color__on-surface-variant);\n    }\n\n    :host(:where([filled][actionable])) {\n      filter: var(--mdw-elevation__drop-shadow__0);\n    }\n\n    :host(:where([elevated][actionable]:hover:not(:active))) {\n      filter: var(--mdw-elevation__drop-shadow__2);\n    }\n\n    :host(:where([filled][actionable]:hover:not(:active))) {\n      filter: var(--mdw-elevation__drop-shadow__1);\n    }\n\n    :host([disabled]) {\n      cursor: not-allowed;\n\n      filter: grayscale();\n      opacity: 0.38;\n\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #slot[disabled] {\n      color: rgb(var(--mdw-color__on-surface));\n    }\n\n    #outline[disabled] {\n      color: rgba(var(--mdw-color__on-surface), calc(0.12/0.38));\n    }\n\n    /** Firefox and Safari do not support [inert] */\n\n    #inert-blocker {\n      position: absolute;\n      inset: 0;\n\n      cursor: not-allowed;\n      pointer-events: auto;\n\n      z-index: 99;\n    }\n\n    :host([disabled][elevated]) {\n      background-color: rgba(var(--mdw-color__surface-container-highest));\n    }\n\n    :host([disabled][filled]) {\n      background-color: rgba(var(--mdw-color__surface));\n    }\n\n    #action {\n      --mdw-ink: inherit;\n      --mdw-shape__size: inherit;\n\n      position: absolute;\n      inset: 0;\n\n      padding: 0;\n\n      z-index: 0;\n\n      color: inherit\n    }\n  `\n  .recompose(({ refs: { slot, outline } }) => {\n    outline.removeAttribute('pressed');\n    outline.removeAttribute('focused');\n\n    slot.setAttribute('inert', '{disabledState}');\n    slot.setAttribute('disabled', '{disabledState}');\n  })\n  .childEvents({\n    action: {\n      click() {\n        if (this.disabledState) return;\n        this.dispatchEvent(new Event('action'));\n      },\n    },\n    slot: SUPPORTS_INERT ? {} : {\n      focusin() {\n        if (this.disabledState) {\n          console.warn('Inert not supported. Element should be able to receive focus');\n        }\n      },\n    },\n  })\n  .autoRegister('mdw-card');\n", "import DelegatesFocusMixin from './DelegatesFocusMixin.js';\n\n/**\n * @param {string} input\n * @return {string}\n */\nfunction parseSize(input) {\n  if (!input) return '';\n  if (input.includes('px')) return input;\n  if (input.includes('em')) return input;\n  if (input.includes('ex')) return input;\n  return `calc(${input.replace('sp', '')} * 0.0625rem)`;\n}\n\n/**\n * Provides typographic padding and leading helpers for text content.\n * @param {typeof import('../core/CustomElement.js').default} Base\n */\nexport default function TypographyMixin(Base) {\n  return Base\n    .mixin(DelegatesFocusMixin)\n    .observe({\n      /** General vertical padding for text content (css length) */\n      textPadding: 'string',\n      /** Padding-top override for text content (css length) */\n      textPaddingTop: 'string',\n      /** Line-leading (extra top spacing) for text (css length or 'sp' units) */\n      textLeading: 'string',\n      /** Padding-bottom override for text content (css length) */\n      textPaddingBottom: 'string',\n    })\n    .observe({\n      _computedTextPaddingTop({ textPaddingTop, textPadding }) {\n        return parseSize(textPaddingTop ?? textPadding);\n      },\n      _computedTextPaddingBottom({ textPaddingBottom, textPadding }) {\n        return parseSize(textPaddingBottom ?? textPadding);\n      },\n      _computedTextLeading({ textLeading }) {\n        return parseSize(textLeading);\n      },\n    })\n    .observe({\n      _beforeStyle({ _computedTextPaddingTop, _computedTextLeading }) {\n        if (_computedTextLeading) {\n          return `margin-top:${_computedTextLeading}`;\n        }\n        if (_computedTextPaddingTop) {\n          return `margin-top:${_computedTextPaddingTop}`;\n        }\n        return '';\n      },\n      _afterStyle({ _computedTextPaddingBottom }) {\n        if (_computedTextPaddingBottom) {\n          return `vertical-align:calc(-1em + (-1 * ${_computedTextPaddingBottom}));`;\n        }\n        return '';\n      },\n    })\n    .html`\n      <div id=wrapper style={_wrapperStyle} before={!!_beforeStyle} after={!!_afterStyle}\n        ><span id=before mdw-if={!!_beforeStyle} style={_beforeStyle} text-leading={textLeading}></span\n        ><span id=content before={!!_beforeStyle} after={!!_afterStyle}><span id=after mdw-if={!!_afterStyle} style={_afterStyle}></span></span\n      ></div>\n      `\n    .recompose(({ refs: { content, slot } }) => {\n      content.prepend(slot);\n    })\n    .css`\n      :host {\n        display: block;\n      }\n\n      :host(:where([text-padding],[text-padding-top],[text-padding-bottom])) {\n        display: flex;\n      }\n\n      #wrapper {\n        display: contents;\n\n      }\n      \n      #wrapper:where([before], [after]) {\n        display: flex;\n        align-items: baseline; /* Allows growing element upwards without affecting text selection */\n\n      }\n\n      #wrapper[before] {\n        margin-block-start: -1em;\n      }\n\n      #wrapper[after] {\n        margin-block-end: -1em;\n      }\n\n      #before {\n        display: inline-block;\n\n        block-size: 1.4ex; /* Estimate */\n        padding-block-start: 1em; /* Padding to be cropped by wrapper */\n      }\n      @supports(height:1cap) {\n        #before {\n          block-size: 1cap;\n        }\n      }\n\n      #before[text-leading] {\n        block-size: 0;\n      }\n\n      #content {\n        display: contents;\n      }\n      \n      #content:where([before], [after]) {\n        display: block;\n      }\n\n      #after {\n        display: inline-block;\n\n        padding-block-end: 1em; /* Padding to be cropped by wrapper */\n      }\n\n    `;\n}\n", "import TypographyMixin from '../mixins/TypographyMixin.js';\n\nimport Box from './Box.js';\n\n/**\n * Material Design Type scale: Label.\n * @see https://m3.material.io/styles/typography/type-scale-tokens\n */\nexport default Box\n  .extend()\n  .mixin(TypographyMixin)\n  .css`\n    :host {\n      font: var(--mdw-typescale__label-large__font);\n      letter-spacing: var(--mdw-typescale__body-large__letter-spacing);\n    }\n    \n    :host([size=\"medium\"]) {\n      font: var(--mdw-typescale__label-medium__font);\n      letter-spacing: var(--mdw-typescale__body-medium__letter-spacing);\n    }\n    \n    :host([size=\"small\"]) {\n      font: var(--mdw-typescale__label-small__font);\n      letter-spacing: var(--mdw-typescale__body-small__letter-spacing);\n    }\n  `\n  .autoRegister('mdw-label');\n", "import '../../components/Input.js';\nimport '../../components/Slider.js';\nimport '../../components/Divider.js';\nimport '../../components/IconButton.js';\nimport '../../components/Progress.js';\nimport '../../components/Shape.js';\nimport '../../components/Surface.js';\nimport '../../components/Box.js';\nimport '../../components/Checkbox.js';\n\nimport Card from '../../components/Card.js';\nimport '../../components/Label.js';\nimport { addSVGAlias } from '../../services/svgAlias.js';\n\nconst SAMPLE_DATA = {\n  id: 1,\n  title: 'iPhone 9',\n  description: 'An apple mobile which is nothing like apple',\n  price: 549,\n  discountPercentage: 12.96,\n  rating: 4.69,\n  stock: 94,\n  brand: 'Apple',\n  category: 'smartphones',\n  thumbnail: 'https://i.dummyjson.com/data/products/1/thumbnail.jpg',\n  images: ['https://i.dummyjson.com/data/products/1/1.jpg',\n    'https://i.dummyjson.com/data/products/1/2.jpg',\n    'https://i.dummyjson.com/data/products/1/3.jpg',\n    'https://i.dummyjson.com/data/products/1/4.jpg',\n    'https://i.dummyjson.com/data/products/1/thumbnail.jpg'],\n};\n\n/**\n * @param {number} min\n * @param {number} max\n * @return {Promise<void>}\n */\nfunction asyncStall(min = 0, max = 4000) {\n  return new Promise((resolve) => setTimeout(resolve, (Math.random() * (max - min)) + min));\n}\n\nexport default Card\n  .extend()\n  // .setSchema(/** @type {SAMPLE_DATA} */ (null))\n  .observe({\n    title: 'string',\n    productId: {\n      type: 'integer',\n      empty: 1,\n    },\n    busy: {\n      type: 'boolean',\n      reflect: false,\n      empty: true,\n    },\n    data: {\n      type: 'object',\n      reflect: false,\n      /** @type {SAMPLE_DATA} */\n      value: null,\n    },\n    lastObject: 'object',\n  })\n  .observe({\n    // Nested array need own observable\n    _images({ data }) {\n      return data?.images || [];\n    },\n  })\n  .set({\n    /** @type {number} */\n    lastFetchedId: null,\n    /** @type {AbortController} */\n    fetchAbortController: null,\n    // Override Card defaults\n    outlined: true,\n  })\n  .expressions({\n    // Automatically tracks data change\n    hasStock({ data }) {\n      return data?.stock > 0;\n    },\n  })\n  .css`\n    :host {\n      /* Time until busy styles show */\n      --busy-delay: 500ms;\n    }\n\n    #overlay {\n      position: absolute;\n      inset: 0;\n\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      opacity: 0;\n      visibility: hidden;\n      z-index:5;\n\n      transition-duration: 200ms;\n      transition-property: visibility, opacity;\n    }\n\n    #overlay[busy] {\n      pointer-events: auto;\n      \n      opacity: 1;\n      visibility: inherit;\n\n      transition-delay: var(--busy-delay);\n    }\n\n    #content {\n      transition: filter 200ms;\n    }\n\n    #content[busy] {\n      filter: blur(2px) grayscale(1);\n\n      transition-delay: var(--busy-delay);\n    }\n\n    #form {\n      position: relative;\n\n      overflow: hidden;\n    }\n\n    #thumbnail-shape {\n      overflow: hidden;\n\n      block-size: 128px;\n      min-block-size: 128px;\n      inline-size: 128px;\n      min-inline-size: 128px;\n    }\n\n    #thumbnail {\n      block-size: 100%;\n      inline-size: 100%;\n\n      object-fit: cover;\n    }\n    fieldset{ display: contents;}\n\n    #images {\n      display: grid;\n      align-items: center;\n      column-gap: 24px;\n      grid-auto-flow: column;\n      grid-template-rows: minmax(auto, 200px);\n      justify-items: center;\n      overflow-x: auto;\n      scroll-behavior: smooth;\n      scroll-snap-type: x mandatory;\n      scrollbar-width: none;\n\n      flex-grow: 1;\n      padding-inline: 24px;\n      -webkit-scroll-snap-type-x: mandatory;\n      scroll-snap-type-x: mandatory;\n      -webkit-scroll-snap-points-x: repeat(100%);\n      scroll-snap-points-x: repeat(100%);\n      overscroll-behavior-x: none;\n    }\n\n    .image {\n      scroll-snap-align: center;\n\n      max-block-size: 100%;\n\n      object-fit: contain;\n    }\n  `.html`\n    <form id=form>\n      <!-- Binding to enumerable observable (busy) -->\n      <div id=overlay busy={busy}>\n        <mdw-progress circle></mdw-progress>\n      </div>\n      <div id=content busy={busy}>\n        <fieldset disabled={busy}>\n          <mdw-box row y=center gap=16 padding=16>\n            <mdw-surface id=thumbnail-shape outlined shape-style=full>\n              <img id=thumbnail src={data.thumbnail} />\n            </mdw-surface>\n            <div>\n              <!-- Binding to nested variable (data.*) -->\n              <mdw-title>{data.title}</mdw-title>\n              <mdw-label ink=primary size=small>{data.brand}</mdw-label>\n              <mdw-title size=small>{data.description}</mdw-title>\n            </div>\n          </mdw-box>\n          <mdw-divider></mdw-divider>\n          <mdw-box gap=16 padding=16>\n            <mdw-input outlined type=number name=price value={data.price} label=Price input-prefix=$ step=0.01></mdw-input>\n            <mdw-input outlined type=number name=discountPercentage value={data.discountPercentage} input-suffix=% label=Discount step=0.01></mdw-input>\n            <mdw-slider name=rating value={data.rating} min=0 max=5 step=0.1 ticks=4></mdw-slider>\n            <mdw-box row y=center gap=8>\n                <mdw-checkbox-icon icon=check selected={hasStock}></mdw-checkbox-icon> Stock: {data.stock} </div>\n            <mdw-box>\n          </mdw-box>\n          <mdw-divider></mdw-divider>\n          <div id=images>\n            <!-- mdw-if may remove element from DOM -->\n            <mdw-label mdw-if={!_images.length}>(No images available)</mdw-label>\n            <!-- mdw-for creates a sub-observable -->\n            <img mdw-for=\"{image of _images}\" class=\"image\" src={image} />\n          </div>\n        </fieldset>\n      </div>\n    </form>\n    <mdw-divider></mdw-divider>\n    <mdw-box row x=between y=center padding=8 gap=8>\n      <mdw-title ink=secondary>Product ID: {productId}</mdw-title>\n      <mdw-box row gap=8>\n        <!-- Inline attribute expression and event listener -->\n        <mdw-icon-button\n          disabled=\"${({ productId }) => productId === 1}\"\n          id=\"previous\"\n          icon=\"chevron_left\"\n          on-click=\"${function onClick() { this.productId--; }}\">Previous</mdw-icon-button>\n        <!-- Inline event listener -->\n        <mdw-icon-button\n          on-click=${function onClick() { this.productId++; }}\n          id=next\n          icon=chevron_right>Next</mdw-icon-button>\n        </mdw-box>\n    </mdw-box>\n\n  `\n  .methods({\n    async refresh() {\n      const productId = this.productId;\n      this.fetchAbortController?.abort();\n      const controller = new AbortController();\n      this.fetchAbortController = controller;\n      try {\n        this.busy = true;\n        const response = await fetch(`https://dummyjson.com/products/${productId}`, { signal: this.fetchAbortController.signal });\n        // await asyncStall();\n        const json = await response.json();\n        // Automatically performs JSON Merge Patch comparison and updates DOM\n        this.data = json;\n        this.refs.form.reset();\n        this.busy = false;\n      } catch (e) {\n        if (controller.signal.aborted) {\n          console.log('Aborted');\n        } else {\n          console.error(e);\n        }\n      }\n    },\n  })\n  .on({\n    connected() {\n      this.refresh();\n    },\n    // Automatically listen for changes to productId and refresh data\n    productIdChanged() {\n      this.refresh();\n    },\n  })\n  .autoRegister('dummy-product-page');\n\naddSVGAlias('check', 'M382 816 154 588l57-57 171 171 367-367 57 57-424 424Z', '0 96 960 960');\naddSVGAlias('chevron_left', 'M560 816 320 576l240-240 56 56-184 184 184 184-56 56Z', '0 96 960 960');\naddSVGAlias('chevron_right', 'm376 816-56-56 184-184-184-184 56-56 240 240-240 240Z', '0 96 960 960');\n", "import ProductPage from './ProductPage.js';\n\nProductPage.autoRegister();\n"],
  "mappings": "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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAunBL;;;AC7vBe,WAAR,eAAgC,MAAM;AAC3C,WAAO,KACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAsDL;;;AC/BO,WAAS,eAAe,SAAS;AACtC,QAAI,EAAE,OAAO,OAAO,YAAY,WAAW,IAAI;AAC/C,UAAM,YAAY,SAAS,gBAAgB;AAC3C,UAAM,aAAa,SAAS,gBAAgB;AAC5C,QAAI,SAAS,QAAQ,SAAS,MAAM;AAClC,YAAM,EAAE,SAAS,SAAS,OAAO,IAAI;AACrC,UAAI;AACJ,UAAI,QAAQ;AACV,eAAO,kBAAkB,UAAU,OAAO,sBAAsB,IAAI;AAAA,MACtE,OAAO;AACL,eAAO;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,UACP,OAAO;AAAA,UACP,KAAK;AAAA,UACL,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV;AAAA,MACF;AAEA,UAAI,SAAS,MAAM;AACjB,gBAAQ,SAAS;AAAA,UACf,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,oBAAQ,KAAK;AACb,2BAAe;AACf;AAAA,UACF,KAAK;AACH,oBAAQ,KAAK,OAAO,KAAK,QAAQ;AACjC,2BAAe;AACf;AAAA,UACF,KAAK;AACH,oBAAQ,KAAK;AACb,2BAAe;AACf;AAAA,UACF;AACE,oBAAQ,KAAK,OAAO;AAAA,QACxB;AAAA,MACF;AACA,UAAI,SAAS,MAAM;AACjB,gBAAQ,SAAS;AAAA,UACf,KAAK;AACH,oBAAQ,KAAK;AACb,2BAAe;AACf;AAAA,UACF,KAAK;AACH,oBAAQ,KAAK,MAAM,KAAK,SAAS;AACjC,2BAAe;AACf;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,oBAAQ,KAAK;AACb,2BAAe;AACf;AAAA,UACF;AACE,oBAAQ,KAAK,MAAM;AAAA,QACvB;AAAA,MACF;AAAA,IACF;AAEA,QAAI,EAAE,OAAO,OAAO,IAAI;AACxB,QAAI,SAAS,QAAQ,UAAU,MAAM;AACnC,YAAM,EAAE,MAAM,IAAI;AAClB,UAAI,iBAAiB,SAAS;AAC5B,gBAAQ,MAAM;AACd,iBAAS,MAAM;AAAA,MACjB,OAAO;AACL,gBAAQ,MAAM;AACd,iBAAS,MAAM;AAAA,MACjB;AAAA,IACF;AAEA,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,QAAI;AACJ,UAAM,SAAS,QAAQ,UAAU;AAEjC,QAAI,UAAU;AACd,QAAI,aAAa,CAAC;AAClB,QAAI,WAAW;AACf,QAAI,YAAY,CAAC;AAEjB,QAAI,OAAO,gBAAgB;AACzB,iBAAW,OAAO,eAAe;AACjC,oBAAc,OAAO,eAAe,YAAY,OAAO,eAAe;AACtE,kBAAY,OAAO,eAAe;AAClC,mBAAa,OAAO,eAAe,aAAa,OAAO,eAAe;AAAA,IACxE,OAAO;AACL,oBAAc;AACd,mBAAa;AAAA,IACf;AAEA,UAAM,UAAU,QAAQ,WAAW;AACnC,UAAM,UAAU,QAAQ,WAAW;AACnC,aAAS;AACT,aAAS;AAET,QAAI,SAAS;AACb,QAAI,WAAW;AACf,QAAI,YAAY;AAChB,QAAI,UAAU;AACd,QAAI,YAAY;AAChB,QAAI,WAAW;AAEf,YAAQ,YAAY;AAAA,MAClB,KAAK;AACH,iBAAS,KAAK,IAAI,OAAO,UAAU;AACnC,cAAM,KAAK,IAAI,SAAS,QAAQ,OAAO;AACvC,oBAAY,GAAG,aAAa,MAAM;AAClC,YAAI,QAAQ,SAAS;AACnB,sBAAY,GAAG,SAAS,OAAO;AAAA,QACjC;AACA;AAAA,MACF,KAAK;AACH,cAAM,KAAK,IAAI,QAAQ,SAAS,GAAG,OAAO;AAC1C,iBAAS,KAAK,IAAI,QAAQ,SAAS,GAAG,UAAU;AAChD,iBAAS,GAAG,GAAG;AACf,YAAI,WAAW,YAAY;AACzB,sBAAY,GAAG,aAAa,OAAO;AAAA,QACrC;AACA;AAAA,MACF;AACE,cAAM,KAAK,IAAI,OAAO,OAAO;AAC7B,iBAAS,KAAK,IAAI,MAAM,QAAQ,UAAU;AAC1C,iBAAS,GAAG,GAAG;AACf,YAAI,WAAW,YAAY;AACzB,sBAAY,GAAG,aAAa,GAAG;AAAA,QACjC;AAAA,IACJ;AAEA,YAAQ,YAAY;AAAA,MAClB,KAAK;AACH,gBAAQ,KAAK,IAAI,OAAO,SAAS;AACjC,eAAO,KAAK,IAAI,QAAQ,OAAO,QAAQ;AACvC,mBAAW,GAAG,YAAY,KAAK;AAC/B,YAAI,SAAS,UAAU;AACrB,qBAAW,GAAG,QAAQ,QAAQ;AAAA,QAChC;AACA;AAAA,MACF,KAAK;AACH,eAAO,KAAK,IAAI,QAAQ,QAAQ,GAAG,QAAQ;AAC3C,gBAAQ,KAAK,IAAI,QAAQ,QAAQ,GAAG,SAAS;AAC7C,kBAAU,GAAG,IAAI;AACjB,YAAI,UAAU,WAAW;AACvB,qBAAW,GAAG,YAAY,QAAQ;AAAA,QACpC;AACA;AAAA,MACF;AACE,eAAO,KAAK,IAAI,OAAO,QAAQ;AAC/B,gBAAQ,KAAK,IAAI,OAAO,OAAO,SAAS;AACxC,kBAAU,GAAG,IAAI;AACjB,YAAI,UAAU,WAAW;AACvB,qBAAW,GAAG,YAAY,IAAI;AAAA,QAChC;AAAA,IACJ;AAGA,UAAM,WAAW,QAAQ;AACzB,UAAM,YAAY,SAAS,QAAQ,QAAQ;AAE3C,UAAM,aAAa,WAAW;AAE9B,UAAM,mBAAmB,eAAe,WAAW,WAAY,eAAe,SAAS,UAAU;AACjG,UAAM,mBAAmB,eAAe,WAAW,WAAY,eAAe,OAAO,WAAW;AAChG,WAAO;AAAA,MACL,GAAG;AAAA,MACH;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAQ;AAAA,QACN,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA,iBAAiB,GAAG,gBAAgB,IAAI,gBAAgB;AAAA,MAC1D;AAAA,IACF;AAAA,EACF;;;AC9MA,MAAO,gBAAQ,cACZ,OAAO,EACP,QAAQ;AAAA;AAAA,IAEP,QAAQ;AAAA,EACV,CAAC,EACA,oCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAyEA,OAAO;AAAA,IACN,eAAe;AACb,UAAI,KAAK,QAAQ;AACf,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF,CAAC,EACA,aAAa,WAAW;;;ACvF3B,MAAM,4BAA4B,OAAO,sBAAsB;AAgB/D,MAAM,cAAc,CAAC;AAKrB,WAAS,iBAAiB;AAExB,eAAW,EAAE,QAAQ,KAAK,aAAa;AACrC,cAAQ,oBAAoB;AAAA,IAC9B;AAAA,EACF;AAMA,WAAS,eAAe,OAAO;AAC7B,QAAI,MAAM,WAAW,GAAG;AACtB,YAAM,eAAe;AAAA,IACvB;AAAA,EACF;AAKA,WAAS,WAAW,OAAO;AACzB,QAAI,CAAC,MAAM,MAAO;AAClB,UAAM,gBAAgB,YAAY,GAAG,EAAE;AACvC,QAAI,CAAC,iBAAiB,CAAC,cAAc,eAAe;AAClD;AAAA,IACF;AACA,QAAK,cAAc,kBAAkB,MAAM,SAAU,OAAO,KAAK,MAAM,KAAK,EACzE,MAAM,CAAC,QAAQ,MAAM,MAAM,GAAG,MAAM,cAAc,cAAc,GAAG,CAAC,GAAG;AAExE,YAAM,cAAc,IAAI,MAAM,UAAU,EAAE,YAAY,KAAK,CAAC;AAC5D,UAAI,cAAc,QAAQ,cAAc,WAAW,GAAG;AACpD,sBAAc,QAAQ,MAAM;AAAA,MAC9B,OAAO;AAEL,eAAO,QAAQ,UAAU,cAAc,OAAO,cAAc,MAAM,KAAK;AAAA,MACzE;AAAA,IACF;AAAA,EACF;AAGA,WAAS,eAAe,OAAO;AAC7B,QAAI,CAAC,YAAY,OAAQ;AACzB,YAAQ,KAAK,+CAA+C;AAAA,EAC9D;AAMe,WAAR,WAA4B,MAAM;AACvC,WAAO,KACJ,MAAM,mBAAmB,EACzB,MAAM,mBAAmB,EACzB,QAAQ;AAAA;AAAA,MAEP,MAAM;AAAA;AAAA,MAEN,OAAO;AAAA;AAAA,MAEP,QAAQ;AAAA;AAAA,MAER,YAAY;AAAA;AAAA,MAEZ,kBAAkB;AAAA;AAAA,MAElB,cAAc;AAAA,MACd,MAAM;AAAA,QACJ,MAAM;AAAA;AAAA,QAEN,OAAO;AAAA,MACT;AAAA;AAAA,MAEA,aAAa;AAAA,IACf,CAAC,EACA,IAAI;AAAA;AAAA,MAEH,YAAY;AAAA;AAAA,MAEZ,aAAa;AAAA;AAAA,MAEb,UAAU;AAAA;AAAA,MAEV,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,MAKX,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAKT,SAAS;AAAA,IACX,CAAC,EACA,OAAO;AAAA,MACN,UAAU;AACR;AAAA;AAAA,UAAyC,KAAK,KAAK;AAAA;AAAA,MACrD;AAAA,IACF,CAAC,EACA,YAAY;AAAA,MACX,YAAY,EAAE,KAAK,GAAG;AACpB,eAAQ,OAAO,UAAU;AAAA,MAC3B;AAAA,IACF,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAKP,oBAAoB,SAAS,KAAK,SAAS;AACzC,cAAM,OAAO,KAAK,gBAAgB,KAAK;AACvC,eAAO,OAAO,KAAK,OAAO;AAAA,UACxB,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,UAAU;AAAA,UACV,WAAW;AAAA,QACb,CAAC;AAED,cAAM,gBAAgB,KAAK,SAAS,KAAK,UAAU;AACnD,eAAO,OAAO,cAAc,OAAO,EAAE,OAAO,QAAQ,QAAQ,OAAO,CAAC;AAEpE,cAAM,QAAS,UAAU,KAAK;AAAA;AAAA,UACF,OAAQ;AAAA,YAChC,KAAK,KAAK,KAAK,cAAc,cAAc,EAAE;AAEjD,sBAAc,MAAM,YAAY,SAAS,GAAG,KAAK,IAAI;AAErD,cAAM,SAAS,cAAc;AAC7B,eAAO,OAAO,cAAc,OAAO,EAAE,QAAQ,KAAK,CAAC;AAGnD,cAAM,gBAAgB;AAAA,UACpB;AAAA,UACA;AAAA,UACA;AAAA,UACA,QAAQ,KAAK,gBAAgB,OAAO,aAAa,MAAM,KAAK;AAAA,QAC9D;AAEA,cAAM,YAAY,MAAM,IAAI;AAC5B,cAAM,SAAS,YAAY,UAAU;AACrC,cAAM,OAAO,YAAY,SAAS;AA0DlC,cAAM;AAAA;AAAA,UAAkF;AAAA,aACpF,QAAQ,cAAc,WAAY;AAAA,cAClC,EAAE,SAAS,UAAU,SAAS,OAAO;AAAA,cACrC,EAAE,SAAS,UAAU,SAAS,KAAK;AAAA,cACnC,EAAE,SAAS,OAAO,SAAS,OAAO;AAAA,cAClC,EAAE,SAAS,OAAO,SAAS,KAAK;AAAA,YAClC,IAAI,CAAC;AAAA,aACH,QAAQ,gBAAgB,aAAc;AAAA,cACtC,EAAE,SAAS,OAAO,SAAS,MAAM,YAAY,MAAM,YAAY,OAAO;AAAA,cACtE,EAAE,SAAS,OAAO,SAAS,QAAQ,YAAY,QAAQ,YAAY,OAAO;AAAA,cAC1E,EAAE,SAAS,UAAU,SAAS,MAAM,YAAY,MAAM,YAAY,KAAK;AAAA,cACvE,EAAE,SAAS,UAAU,SAAS,QAAQ,YAAY,QAAQ,YAAY,KAAK;AAAA,YAC7E,IAAI,CAAC;AAAA,aACH,QAAQ,eAAe,YAAa;AAAA,cACpC,EAAE,SAAS,OAAO,SAAS,QAAQ,YAAY,MAAM,YAAY,OAAO;AAAA,cACxE,EAAE,SAAS,OAAO,SAAS,MAAM,YAAY,QAAQ,YAAY,OAAO;AAAA,cACxE,EAAE,SAAS,UAAU,SAAS,QAAQ,YAAY,MAAM,YAAY,KAAK;AAAA,cACzE,EAAE,SAAS,UAAU,SAAS,MAAM,YAAY,QAAQ,YAAY,KAAK;AAAA,YAC3E,IAAI,CAAC;AAAA,aACH,QAAQ,eAAe,YAAa;AAAA,cACpC,EAAE,SAAS,UAAU,SAAS,MAAM,YAAY,MAAM,YAAY,SAAS;AAAA,cAC3E,EAAE,SAAS,UAAU,SAAS,QAAQ,YAAY,QAAQ,YAAY,SAAS;AAAA,YACjF,IAAI,CAAC;AAAA,aACH,QAAQ,eAAe,YAAa;AAAA,cACpC,EAAE,SAAS,UAAU,SAAS,UAAU,YAAY,UAAU,YAAY,OAAO;AAAA,cACjF,EAAE,SAAS,OAAO,SAAS,UAAU,YAAY,UAAU,YAAY,KAAK;AAAA,YAC9E,IAAI,CAAC;AAAA,aACH,QAAQ,cAAc,WAAY;AAAA,cAClC,EAAE,SAAS,UAAU,SAAS,UAAU,YAAY,UAAU,YAAY,SAAS;AAAA,YACrF,IAAI,CAAC;AAAA,UACP,EAAE,KAAK;AAAA;AAEP,YAAI;AACJ,mBAAW,cAAc,aAAa;AACpC,gBAAM,SAAS,eAAe;AAAA,YAC5B,GAAG;AAAA,YACH,GAAG;AAAA,UACL,CAAC;AACD,cAAI,CAAC,gBAAgB,aAAa,aAAa,OAAO,YAAY;AAChE,2BAAe;AAAA,UACjB;AACA,cAAI,OAAO,eAAe,EAAG;AAAA,QAC/B;AAEA,YAAI,EAAE,UAAU,UAAU,IAAI,aAAa;AAC3C,YAAI,YAAY,WAAW;AACzB,gBAAM,SAAS,OAAO,iBAAiB,IAAI;AAC3C,cAAI,OAAO,UAAU;AACnB,uBAAW,OAAO,QAAQ,KAAK,OAAO,QAAQ;AAAA,UAChD;AACA,cAAI,OAAO,WAAW;AACpB,wBAAY,OAAO,SAAS,KAAK,OAAO,SAAS;AAAA,UACnD;AAAA,QACF;AACA,eAAO,OAAO,KAAK,OAAO,EAAE,GAAG,aAAa,QAAQ,UAAU,UAAU,CAAC;AAAA,MAE3E;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA,aAAa,EAAE,cAAc,GAAG;AAC9B,cAAM,QAAQ,cAAc,cAAc;AAC1C,cAAM,aAAa,MAAM,KAAK,CAAC,SAAU,KAAK,aAAa,KAAK,gBAC9D,KAAK,aAAa,KAAK,aAAa,KAAK,UAAU,KAAK,EAAE,MAAO;AACnE,sBAAc,gBAAgB,WAAW,UAAU;AAAA,MACrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQA,UAAU,QAAQ,QAAQ,MAAM,OAAO,MAAM;AAC3C,YAAI,KAAK,KAAM,QAAO;AACtB,aAAK,OAAO;AACZ,aAAK,UAAU;AACf,aAAK,UAAU;AAEf,cAAM,EAAE,MAAM,IAAI,KAAK;AACvB,YAAI,KAAK,WAAW;AAClB,cAAI,KAAK,QAAQ;AACf,qBAAS,KAAK,OAAO,KAAK;AAAA,UAC5B,OAAO;AACL,iBAAK,OAAO,KAAK;AAAA,UACnB;AACA,gBAAM,SAAS;AAAA,QACjB,OAAO;AACL,gBAAM,OAAO;AAAA,QACf;AAEA,cAAM,gBAAgB,kBAAkB,cACpC;AAAA;AAAA,UAC2B,SAAS;AAAA;AAExC,YAAI,6BAA6B,SAC5B,CAAC,KAAK,QAAQ,MAAM;AACvB,eAAK,QAAQ,KAAK;AAAA,QACpB;AAEA,aAAK,eAAe;AAKpB,aAAK,oBAAoB,MAAM;AAE/B,YAAI;AACJ,YAAI;AACJ,YAAI;AACJ,YAAI,KAAK,YAAY;AACnB,qBAAW,EAAE,MAAM,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,GAAG,EAAE,EAAE;AAE3D,cAAI,CAAC,OAAO,QAAQ,OAAO;AAEzB,mBAAO,QAAQ,aAAa;AAAA,cAC1B,MAAM,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,GAAG,EAAE;AAAA,YAC9C,GAAG,SAAS,KAAK;AAAA,UACnB;AACA,0BAAgB,OAAO,QAAQ;AAE/B,8BAAoB,OAAO,QAAQ;AAEnC,iBAAO,QAAQ,oBAAoB;AACnC,iBAAO,QAAQ,UAAU,UAAU,SAAS,KAAK;AACjD,iBAAO,iBAAiB,YAAY,UAAU;AAC9C,iBAAO,iBAAiB,gBAAgB,cAAc;AAAA,QACxD;AAEA,eAAO,iBAAiB,aAAa,gBAAgB,EAAE,SAAS,KAAK,CAAC;AAEtE,eAAO,iBAAiB,UAAU,cAAc;AAChD,eAAO,iBAAiB,UAAU,cAAc;AAChD,YAAI,OAAO,gBAAgB;AACzB,iBAAO,eAAe,iBAAiB,UAAU,cAAc;AAC/D,iBAAO,eAAe,iBAAiB,UAAU,cAAc;AAAA,QACjE;AAEA,oBAAY,KAAK;AAAA,UACf,SAAS;AAAA,UACT;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA;AAAA,QACF,CAAC;AAGD,YAAI,OAAO;AACT,eAAK,MAAM;AAAA,QACb;AAEA,eAAO;AAAA,MACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOA,UAAU,QAAQ,OAAO,MAAM;AAC7B,YAAI,KAAK,KAAM,QAAO;AACtB,aAAK,QAAQ;AACb,YAAI,2BAA2B;AAC7B,eAAK,QAAQ,UAAU;AACvB,eAAK,SAAS;AAAA,QAChB;AACA,eAAO,KAAK,UAAU,QAAQ,OAAO,IAAI;AAAA,MAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOA,KAAK,QAAQ,OAAO,MAAM;AAGxB,YAAI,UAAU,UAAU,SAAS,UAAU,GAAG;AAC5C,iBAAO,KAAK,UAAU,QAAQ,OAAO,IAAI;AAAA,QAC3C;AACA,eAAO,KAAK,UAAU,QAAQ,OAAO,IAAI;AAAA,MAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA,MAAM,cAAc,QAAW,cAAc,MAAM;AAhazD,YAAAC,KAAA;AAiaQ,YAAI,CAAC,KAAK,KAAM,QAAO;AACvB,YAAI,KAAK,SAAU,QAAO;AAC1B,aAAK,UAAU;AACf,aAAK,WAAW;AAChB,aAAK,QAAQ;AAGb,aAAK,KAAK,MAAM,SAAS;AAEzB,YAAI,KAAK,QAAQ;AACf,eAAK,SAAS;AAAA,QAChB,OAAO;AACL,gBAAM,OAAO,SAAS,cAAc,MAAM;AAC1C,cAAI,MAAM;AACR,iBAAK,gBAAgB,aAAa;AAAA,UACpC;AAAA,QACF;AAEA,YAAI,6BAA6B,KAAK,QAAQ,MAAM;AAClD,gBAAM,gBAAgB,SAAS;AAE/B,eAAK,QAAQ,MAAM;AACnB,cAAI,CAAC,aAAa,eAAe,EAAE,eAAe,KAAK,CAAC,GAAG;AACzD,kBAAM;AAAA;AAAA,cAA0D,SAAS;AAAA;AACzE,aAAAA,MAAA,qDAAkB,SAAlB,gBAAAA,IAAA;AAAA,UACF;AAAA,QACF,OAAO;AACL,eAAK,QAAQ,cAAc;AAAA,QAC7B;AAGA,aAAK,OAAO;AACZ,aAAK,eAAe;AAEpB,aAAK,cAAc,IAAI,MAAM,OAAO,CAAC;AAErC,cAAM,MAAM,YAAY;AACxB,iBAAS,IAAI,MAAM,GAAG,KAAK,GAAG,KAAK;AACjC,gBAAM,QAAQ,YAAY,CAAC;AAC3B,cAAI,MAAM,YAAY,MAAM;AAC1B,gBAAI,KAAK,YAAY;AACnB,kBAAI,MAAM,SAAS,OAAO,WACrB,OAAO,QAAQ,SAAS,MAAM,MAAM,SAAS,OAAO,QAAQ,MAAM,MAAM;AAC3E,uBAAO,oBAAoB,YAAY,UAAU;AACjD,uBAAO,QAAQ,KAAK;AAIpB,uBAAO,QAAQ,aAAa,MAAM,eAAe,SAAS,KAAK;AAC/D,uBAAO,QAAQ,oBAAoB,MAAM,qBAAqB;AAC9D,uBAAO,iBAAiB,YAAY,UAAU;AAAA,cAChD,OAAO;AACL,wBAAQ,KAAK,wBAAwB,OAAO,OAAO,QAAQ,KAAK;AAAA,cAClE;AAAA,YACF;AACA,gBAAI,aAAa;AAEf,gCAAM,kBAAN,mBAAqB,UAArB,4BAA6B,EAAE,eAAe,KAAK;AAAA,YACrD;AACA,wBAAY,OAAO,GAAG,CAAC;AACvB;AAAA,UACF,WAAW,KAAK,SAAS,MAAM,OAAO,GAAG;AAEvC,kBAAM,QAAQ,MAAM,KAAK;AAAA,UAE3B;AAAA,QACF;AACA,YAAI,CAAC,YAAY,QAAQ;AACvB,iBAAO,oBAAoB,YAAY,UAAU;AACjD,iBAAO,oBAAoB,gBAAgB,cAAc;AACzD,iBAAO,oBAAoB,UAAU,cAAc;AACnD,iBAAO,oBAAoB,aAAa,gBAAgB,EAAE,SAAS,KAAK,CAAC;AAAA,QAE3E;AACA,aAAK,WAAW;AAChB,eAAO;AAAA,MACT;AAAA,IACF,CAAC,EAEA,UAAU;AAAA,MACT,iBAAiB,OAAO;AACtB,YAAI,CAAC,KAAK,QAAQ,KAAK,SAAU;AACjC,aAAK,oBAAoB;AAAA,MAC3B;AAAA,IACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAoNA,YAAY;AAAA,MACX,QAAQ;AAAA,QACN,OAAO,OAAO;AACZ,gBAAM,gBAAgB;AACtB,gBAAM,cAAc,IAAI,MAAM,UAAU,EAAE,YAAY,KAAK,CAAC;AAC5D,cAAI,CAAC,KAAK,cAAc,WAAW,GAAG;AACpC,kBAAM,eAAe;AAAA,UACvB;AAAA,QACF;AAAA,QACA,MAAM,OAAO;AACX,gBAAM,gBAAgB;AACtB,eAAK,MAAM,KAAK,WAAW;AAAA,QAC7B;AAAA,QACA,SAAS,OAAO;AAEd,cAAI,MAAM,WAAW,MAAM,cAAe;AAC1C,cAAI,CAAC,KAAK,OAAQ;AAClB,cAAI,MAAM,WAAW,KAAK,MAAM,UAAU,MAAM,cAAc,eAC7D,MAAM,WAAW,KAAK,MAAM,UAAU,MAAM,cAAc,aAAc;AACzE,gBAAM,cAAc,IAAI,MAAM,UAAU,EAAE,YAAY,KAAK,CAAC;AAC5D,cAAI,CAAC,KAAK,cAAc,WAAW,EAAG;AACtC,eAAK,MAAM;AAAA,QACb;AAAA,MACF;AAAA,MACA,OAAO;AAAA,QACL,WAAW;AACT,gBAAM,cAAc,IAAI,MAAM,UAAU,EAAE,YAAY,KAAK,CAAC;AAC5D,cAAI,CAAC,KAAK,cAAc,WAAW,EAAG;AACtC,eAAK,MAAM;AAAA,QACb;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACL;;;ACtuBA,MAAO,gBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,MAAM,cAAc,EACpB,MAAM,UAAU,EAChB,MAAM,UAAU,EAChB,QAAQ;AAAA;AAAA,IAEP,WAAW;AAAA,EACb,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaA,aAAa,WAAW;;;AClB3B,MAAI;AAGJ,WAAS,iBAAiB;AACxB,QAAI,CAAC,aAAa;AAChB,oBAAc,IAAI,cAAM;AACxB,kBAAY,aAAa;AACzB,kBAAY,aAAa;AACzB,kBAAY,QAAQ;AACpB,kBAAY,mBAAmB;AAC/B,kBAAY,OAAO;AACnB,kBAAY,YAAY;AAAA,IAC1B;AACA,WAAO;AAAA,EACT;AAQA,MAAO,gBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,MAAM,UAAU,EAChB,MAAM,UAAU,EAChB,MAAM,cAAc,EACpB,MAAM,mBAAmB,EACzB,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASP,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQpB,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASlB,mBAAmB;AAAA;AAAA,IAGnB,YAAY;AAAA;AAAA,IAGZ,WAAW;AAAA;AAAA,IAGX,gBAAgB;AAAA,IAEhB,UAAU;AAAA,MACR,MAAM;AAAA;AAAA,MAEN,OAAO;AAAA,IACT;AAAA;AAAA,IAGA,eAAe;AAAA;AAAA,IAGf,kBAAkB,EAAE,OAAO,GAAG;AAAA;AAAA,IAG9B,cAAc,EAAE,OAAO,GAAG;AAAA;AAAA,IAG1B,aAAa,EAAE,MAAM,UAAU,UAAU,MAAM;AAAA;AAAA,IAG/C,gBAAgB;AAAA;AAAA,IAGhB,eAAe;AAAA;AAAA,IAGf,2BAA2B,EAAE,MAAM,UAAU,UAAU,MAAM;AAAA,IAE7D,SAAS;AAAA,MACP,MAAM;AAAA;AAAA,MAEN,OAAO,CAAC;AAAA,IACV;AAAA;AAAA,IAGA,eAAe;AAAA,EACjB,CAAC,EACA,QAAQ;AAAA,IACP,YAAY,EAAE,SAAS,GAAG;AACxB,aAAO,CAAC,CAAC;AAAA,IACX;AAAA,IACA,UAAU,EAAE,KAAK,GAAG;AAClB,aAAO,KAAK,YAAY,MAAM,gBAAgB,KAAK,kBAAkB,MAAM;AAAA,IAC7E;AAAA,EACF,CAAC,EACA,OAAO;AAAA,IACN,UAAU;AACR,aAAO,KAAK;AAAA,IACd;AAAA,EACF,CAAC,EACA,IAAI;AAAA;AAAA,IAEH,0BAA0B;AAAA;AAAA,IAE1B,yBAAyB;AAAA;AAAA,IAEzB,0BAA0B;AAAA,IAC1B,iBAAiB;AAAA,IACjB,kBAAkB;AAAA;AAAA,IAElB,mBAAmB;AAAA,EACrB,CAAC,EACA,OAAO;AAAA,IACN,qBAAqB;AAAE,aAAO,KAAK,KAAK;AAAA,IAAS;AAAA,EACnD,CAAC,EACA,QAAQ;AAAA,IACP,mBAAmB;AACjB,UAAI,CAAC,KAAK,UAAW;AACrB,qBAAe,EAAE,oBAAoB,KAAK,KAAK,KAAK;AAAA,IACtD;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA,eAAe,OAAO;AACpB,WAAK,aAAa;AAElB,WAAK,KAAK,QAAQ,MAAM;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA,IAIA,gBAAgB,OAAO;AACrB,UAAI,KAAK,UAAU;AACjB,cAAM,SAAS,CAAC,GAAG,KAAK,SAAS,eAAe,EAAE,IAAI,CAACC,YAAWA,QAAO,KAAK;AAC9E,aAAK,UAAU;AACf,YAAI,KAAK,OAAO,OAAO;AACrB,eAAK,aAAa;AAAA,QACpB;AACA;AAAA,MACF;AACA,YAAM,SAAS,KAAK,SAAS,gBAAgB,KAAK,CAAC;AACnD,WAAK,OAAO;AAAA,QACV,gBAAgB;AAAA,MAClB,CAAC;AAED,YAAM,EAAE,OAAO,gBAAgB,OAAO,gBAAgB,IAAI;AAC1D,WAAK,kBAAkB;AACvB,WAAK,mBAAmB;AACxB,WAAK,oBAAoB;AACzB,WAAK,iBAAiB;AACtB,WAAK,iBAAiB,IAAI;AAC1B,WAAK,aAAa;AAClB,WAAK,KAAK,QAAQ,MAAM;AAAA,IAC1B;AAAA;AAAA,IAEA,gBAAgB,EAAE,cAAc,GAAG;AACjC,UAAI,CAAC,KAAK,UAAW;AAErB,UAAI,eAAe;AACjB,YAAI,SAAS,cAAe;AAC5B,YAAI,KAAK;AAAA;AAAA,UAA6B;AAAA,QAAc,EAAG;AACvD,YAAI,eAAe,EAAE;AAAA;AAAA,UAA6B;AAAA,QAAc,EAAG;AAAA,MACrE;AACA,WAAK,aAAa;AAAA,IACpB;AAAA,IACA,wBAAwB;AACtB,YAAM,EAAE,UAAU,YAAY,IAAI;AAClC,UAAI,CAAC,SAAU;AAEf,YAAM,YAAY,YAAY,YAAY;AAC1C,iBAAW,UAAU,UAAU;AAC7B,eAAO,SAAS,CAAC,OAAO,MAAM,YAAY,EAAE,WAAW,SAAS;AAAA,MAClE;AAAA,IACF;AAAA,IACA,cAAc;AAIZ,YAAM,WAAW,KAAK;AACtB,UAAI,CAAC,SAAU;AACf,WAAK,YAAY;AACjB,YAAM,EAAE,aAAa,MAAM,IAAI,KAAK;AACpC,kBAAY,aAAa,eAAe,OAAO;AAC/C,YAAM,QAAQ,eAAe;AAC7B,UAAI,aAAa,OAAO;AACtB,aAAK,sBAAsB,YAAY,KAAK;AAC5C,cAAM,UAAU;AAChB,cAAM,YAAY;AAAA,MACpB,OAAO;AACL,iBAAS,KAAK,OAAO,KAAK;AAAA,MAC5B;AACA,YAAM,gBAAgB,QAAQ;AAC9B,YAAM,UAAU,OAAO,KAAK;AAC5B,YAAM,iBAAiB,YAAY,KAAK,wBAAwB;AAChE,UAAI,CAAC,KAAK,aAAa,CAAC,KAAK,UAAU;AACrC,iBAAS,QAAQ,KAAK;AAAA,MACxB;AACA,YAAM,CAAC,MAAM,IAAI,SAAS;AAC1B,UAAI,QAAQ;AACV,eAAO,eAAe;AAAA,UACpB,UAAU;AAAA,UACV,OAAO;AAAA,QACT,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IAEA,eAAe;AACb,WAAK,YAAY;AACjB,YAAM,EAAE,SAAS,IAAI;AACrB,UAAI,CAAC,SAAU;AACf,YAAM,QAAQ,eAAe;AAC7B,WAAK,KAAK,YAAY,aAAa,eAAe,MAAM;AACxD,WAAK,gBAAgB,QAAQ;AAC7B,YAAM,MAAM,QAAW,KAAK;AAE5B,YAAM,OAAO;AAAA,IACf;AAAA,IACA,gBAAgB;AACd,UAAI,KAAK,WAAW;AAClB,aAAK,aAAa;AAAA,MACpB,OAAO;AACL,aAAK,YAAY;AAAA,MACnB;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA,cAAc,QAAQ;AACpB,WAAK,OAAO;AAAA,QACV,gBAAgB;AAAA,MAClB,CAAC;AAED,YAAM;AAAA,QACJ,aAAa;AAAA,QACb,QAAQ;AAAA,QACR;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,IAAI;AACJ,YAAM,EAAE,OAAO,gBAAgB,OAAO,gBAAgB,IAAI;AAE1D,WAAK,kBAAkB;AACvB,WAAK,mBAAmB;AACxB,WAAK,oBAAoB;AACzB,WAAK,iBAAiB;AACtB,UAAI,YAAY;AACd,aAAK,iBAAiB,IAAI;AAC1B;AAAA,MACF;AAGA,UAAK,aAAa,CAAC,KAAK,YAAa,oBAAoB;AACvD,YAAI,YAAY;AAChB,YAAI,iBAAiB;AACrB,YAAI,WAAW;AACb,cAAI,CAAC,aAAa,eAAe,YAAY,EAAE,WAAW,aAAa,YAAY,CAAC,GAAG;AACrF,wBAAY,eAAe,eAAe,MAAM,aAAa,MAAM;AACnE,6BAAiB,aAAa;AAAA,UAChC,OAAO;AACL,6BAAiB,eAAe;AAAA,UAClC;AAAA,QACF,OAAO;AACL,2BAAiB;AAAA,QACnB;AACA,qBAAa,QAAQ;AACrB,YAAI,oBAAoB;AACtB,uBAAa,kBAAkB,gBAAgB,eAAe,MAAM;AAAA,QACtE;AACA,YAAI,CAAC,WAAW;AACd,eAAK,iBAAiB,IAAI;AAAA,QAC5B;AAAA,MACF;AAAA,IACF;AAAA,IACA,iBAAiB,aAAa,OAAO;AACnC,UAAI,CAAC,KAAK,eAAgB;AAC1B,UAAI,KAAK,SAAU;AACnB,YAAM,EAAE,iBAAiB,kBAAkB,QAAQ,UAAU,UAAU,QAAQ,IAAI;AACnF,UAAI,UAAU;AACZ,cAAM,WAAW,CAAC,GAAG,QAAQ,OAAO,OAAO,GAAG,oBAAoB,eAAe;AACjF,aAAK,UAAU,CAAC,GAAG,IAAI,IAAI,QAAQ,CAAC;AAAA,MACtC,OAAO;AACL,aAAK,QAAQ;AACb,eAAO,QAAQ;AACf,aAAK,cAAc;AACnB,iBAAS,QAAQ;AAAA,MACnB;AACA,UAAI,YAAY;AACd,aAAK,cAAc,IAAI,MAAM,UAAU,EAAE,SAAS,KAAK,CAAC,CAAC;AAAA,MAC3D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWA,iBAAiB,EAAE,OAAO,MAAM,MAAM,UAAU,YAAY,OAAO,MAAM,GAAG;AAC1E,YAAM,WAAW,KAAK;AACtB,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI,cAAc;AAClB,UAAI,cAAc;AAClB,iBAAW,UAAU,SAAS,SAAS;AACrC;AACA,YAAI,CAAC,WAAW,OAAO,SAAS;AAC9B,oBAAU;AACV,yBAAe;AACf,cAAI,eAAe,CAAC,QAAQ,CAAC,OAAO;AAClC;AAAA,UACF;AAAA,QACF;AACA,YAAI,OAAO,OAAQ;AACnB,YAAI,MAAM;AACR,uBAAa;AACb,4BAAkB;AAClB;AAAA,QACF;AACA,YAAI,OAAO;AACT,cAAI,CAAC,YAAY;AACf,yBAAa;AACb,8BAAkB;AAAA,UACpB;AACA;AAAA,QACF;AACA,YAAI,cAAc,MAAM;AACtB,cAAI,CAAC,cAAc,OAAO,MAAM,YAAY,EAAE,WAAW,UAAU,GAAG;AACpE,yBAAa;AACb,8BAAkB;AAAA,UACpB;AACA;AAAA,QACF;AACA,YAAI,SAAS,MAAM;AACjB,cAAI,CAAC,cAAc,OAAO,UAAU,OAAO;AACzC,yBAAa;AACb,8BAAkB;AAAA,UACpB;AACA;AAAA,QACF;AACA,YAAI,SAAS,MAAM;AACjB,cAAI,CAAC,cAAc,OAAO,UAAU,OAAO;AACzC,yBAAa;AACb,8BAAkB;AAAA,UACpB;AACA;AAAA,QACF;AACA,YAAI,iBAAiB,YAAa;AAClC,YAAI,UAAU;AACZ,uBAAa;AACb,4BAAkB;AAAA,QACpB,WAAW,MAAM;AACf,cAAI,SAAS;AACX,yBAAa;AACb,8BAAkB;AAClB;AAAA,UACF,WAAW,CAAC,QAAQ;AAClB,qBAAS;AACT,0BAAc;AAAA,UAChB;AAAA,QACF;AAAA,MACF;AACA,UAAI,WAAW,YAAY,YAAY;AACrC,gBAAQ,UAAU;AAAA,MACpB;AACA,UAAI,CAAC,YAAY;AACf,0BAAkB;AAClB,qBAAa;AACb,aAAK,OAAO,QAAQ,KAAK;AAAA,MAC3B;AACA,UAAI,oBAAoB,IAAI;AAC1B,aAAK,mBAAmB;AACxB,aAAK,iBAAiB;AACtB;AAAA,MACF;AACA,WAAK,mBAAmB,kBAAkB;AAC1C,iBAAW,UAAU;AACrB,iBAAW,eAAe;AAAA,QACxB,UAAU;AAAA,QACV,OAAO;AAAA,MACT,CAAC;AACD,WAAK,cAAc,UAAU;AAAA,IAC/B;AAAA,IACA,kBAAkB;AAChB,UAAI,KAAK,WAAW;AAClB,aAAK,iBAAiB,EAAE,OAAO,KAAK,YAAY,CAAC;AAAA,MACnD,OAAO;AACL,aAAK,iBAAiB,EAAE,OAAO,KAAK,cAAc,CAAC;AAAA,MACrD;AAAA,IACF;AAAA,IACA,kBAAkB;AAChB,YAAM,EAAE,SAAS,SAAS,IAAI;AAC9B,UAAI,CAAC,UAAU;AACb,aAAK,KAAK,MAAM,gBAAgB;AAChC;AAAA,MACF;AACA,UAAI;AAAA;AAAA,QAAyE,KAAK,KAAK,MAAM;AAAA;AAE7F,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,cAAM,eAAe,QAAQ,CAAC;AAC9B,YAAI;AACJ,YAAI,KAAK,SAAS;AAChB,qBAAW,UAAU,KAAK,QAAQ,SAAS;AACzC,gBAAI,OAAO,UAAU,cAAc;AACjC,4BAAc;AACd;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAEA;AAAA,QAA2E,KAAK,KAAK,MAAM,YAAY,SAAS,cAAc,gBAAgB,CAAC;AAC/I,gBAAQ,cAAc;AACtB,gBAAQ,eAAc,2CAAa,UAAS;AAC5C,gBAAQ,eAAc,2CAAa,UAAS;AAC5C,gBAAQ,WAAW,KAAK;AACxB,gBAAQ,WAAW,KAAK;AAExB,gBAAQ,YAAY,KAAK,YAAY,KAAK,IAAI;AAC9C;AAAA,QAAyE,QAAQ;AAAA,MACnF;AACA,aAAO,SAAS;AACd,cAAM,OAAO;AACb;AAAA,QAAyE,QAAQ;AACjF,aAAK,OAAO;AAAA,MACd;AACA,WAAK,gBAAgB;AACrB,WAAK,OAAO,QAAQ;AACpB,WAAK,cAAc;AACnB,WAAK,gBAAgB;AACrB,UAAI,KAAK,SAAS;AAChB,mBAAW,UAAU,KAAK,QAAQ,SAAS;AACzC,iBAAO,WAAW,QAAQ,SAAS,OAAO,KAAK;AAAA,QACjD;AAAA,MACF;AAAA,IACF;AAAA,IACA,2BAA2B;AACzB,UAAI,KAAK,UAAU;AACjB,aAAK,gBAAgB;AACrB;AAAA,MACF;AACA,UAAI,CAAC,KAAK,UAAW;AACrB,UAAI,CAAC,KAAK,SAAU;AAEpB,WAAK,SAAS,QAAQ,KAAK;AAC3B,YAAM,CAAC,MAAM,IAAI,KAAK,SAAS;AAC/B,UAAI,QAAQ;AACV,aAAK,OAAO,QAAQ,OAAO;AAC3B,aAAK,cAAc,OAAO;AAAA,MAC5B;AAAA,IACF;AAAA;AAAA,IAEA,YAAY,EAAE,cAAc,GAAG;AAE7B,UAAI,OAAO;AACX,UAAI,eAAe;AACnB,aAAQ,OAAO,KAAK,iBAAkB;AACpC;AAAA,MACF;AACA,oBAAc,OAAO;AACrB,WAAK,QAAQ,OAAO,cAAc,CAAC;AACnC,WAAK,UAAU,CAAC,GAAG,KAAK,OAAO;AAAA,IACjC;AAAA,EACF,CAAC,EACA,YAAY;AAAA,IACX,SAAS;AAAA,MACP,QAAQ;AACN,YAAI,CAAC,KAAK,UAAW;AACrB,YAAI,KAAK,SAAU;AACnB,aAAK,cAAc;AAAA,MACrB;AAAA,MACA,MAAM,OAAO;AACX,YAAI,CAAC,KAAK,YAAa;AAGvB,cAAM,gBAAgB;AACtB,cAAM,iBAAiB,KAAK,cAAc,IAAI,WAAW,SAAS;AAAA,UAChE,UAAU;AAAA,UACV,MAAM,MAAM;AAAA,UACZ,SAAS;AAAA,UACT,cAAc,MAAM;AAAA,UACpB,QAAQ,MAAM;AAAA,UACd,WAAW,MAAM;AAAA,UACjB,MAAM,MAAM;AAAA,UACZ,cAAc,MAAM,gBAAgB;AAAA,UACpC,aAAa,MAAM;AAAA,QACrB,CAAC,CAAC;AACF,YAAI,CAAC,gBAAgB;AACnB,gBAAM,eAAe;AACrB;AAAA,QACF;AACA,cAAM;AAAA;AAAA,UAAyC,MAAM,cAAe;AAAA;AACpE,aAAK,cAAc;AACnB,YAAI,KAAK,oBAAoB,QAAQ,KAAK,qBAAqB,UAAU;AACvE,eAAK,sBAAsB;AAAA,QAC7B;AACA,aAAK,gBAAgB;AACrB,YAAI,SAAS,CAAC,KAAK,aAAa,KAAK,SAAS,QAAQ;AACpD,eAAK,YAAY;AAAA,QACnB;AAEA,YAAI,MAAM,QAAQ,QAAQ,KAAK,mBAAmB;AAChD,eAAK,iBAAiB,EAAE,YAAY,KAAK,YAAY,kBAAkB,EAAE,CAAC;AAAA,QAC5E;AAAA,MACF;AAAA,MACA,QAAQ,OAAO;AACb,YAAI,CAAC,KAAK,SAAU;AAEpB,gBAAQ,MAAM,KAAK;AAAA,UACjB,KAAK;AACH,gBAAI,CAAC,KAAK,UAAW;AACrB,gBAAI,KAAK,SAAU;AACnB,iBAAK,iBAAiB,EAAE,OAAO,KAAK,CAAC;AACrC;AAAA,UACF,KAAK;AACH,iBAAK,gBAAgB;AACrB,gBAAI,CAAC,KAAK,UAAW;AACrB,gBAAI,KAAK,SAAU;AACnB,iBAAK,iBAAiB,EAAE,MAAM,KAAK,CAAC;AACpC;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AACH,gBAAI,KAAK,SAAU;AACnB,gBAAI,KAAK,SAAU;AACnB,iBAAK,gBAAgB;AACrB,gBAAI,KAAK,SAAU;AACnB,gBAAI,MAAM,QAAQ;AAChB,mBAAK,cAAc;AACnB;AAAA,YACF;AACA,gBAAI,CAAC,KAAK,aAAa,CAAC,KAAK,sBAAsB,CAAC,KAAK,UAAW;AACpE,iBAAK,iBAAiB,EAAE,MAAM,KAAK,CAAC;AACpC;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AACH,gBAAI,KAAK,SAAU;AACnB,gBAAI,KAAK,SAAU;AACnB,gBAAI,MAAM,QAAQ;AAChB,mBAAK,cAAc;AACnB;AAAA,YACF;AACA,iBAAK,gBAAgB;AACrB,gBAAI,CAAC,KAAK,aAAa,CAAC,KAAK,sBAAsB,CAAC,KAAK,UAAW;AACpE,iBAAK,iBAAiB,EAAE,UAAU,KAAK,CAAC;AACxC;AAAA,UACF,KAAK;AACH,gBAAI,CAAC,KAAK,UAAW;AACrB,kBAAM,yBAAyB;AAC/B,kBAAM,eAAe;AACrB,gBAAI,KAAK,gBAAgB;AACvB,mBAAK,iBAAiB,IAAI;AAAA,YAC5B,OAAO;AACL,mBAAK,gBAAgB;AAAA,YACvB;AACA,iBAAK,aAAa;AAClB;AAAA,UACF,KAAK;AACH,gBAAI,KAAK,SAAU;AACnB,gBAAI,KAAK,SAAU;AACnB,gBAAI,CAAC,KAAK,UAAW;AACrB,gBAAI,CAAC,KAAK,SAAU;AACpB,gBAAI,KAAK,WAAW;AAClB,kBAAI,KAAK,YAAY,KAAK,mBAAmB;AAC3C,qBAAK,kBAAkB,WAAW,CAAC,KAAK,kBAAkB;AAC1D,qBAAK,aAAa;AAAA,cACpB;AAAA,YACF,OAAO;AACL,mBAAK,YAAY;AAAA,YACnB;AACA;AAAA,UACF,KAAK;AACH,gBAAI,KAAK,SAAU;AACnB,gBAAI,KAAK,SAAU;AACnB,gBAAI,CAAC,KAAK,SAAU;AACpB,gBAAI,KAAK,UAAW;AACpB,gBAAI,CAAC,KAAK,OAAO,OAAO;AACtB,kBAAI,KAAK,eAAe;AACtB,qBAAK,QAAQ,IAAI;AACjB,qBAAK,UAAU,CAAC,GAAG,KAAK,OAAO;AAAA,cACjC,WAAW,KAAK,QAAQ,QAAQ;AAC9B,qBAAK,gBAAgB;AAAA,cACvB;AAAA,YACF;AACA;AAAA,UACF,KAAK;AACH,gBAAI,CAAC,KAAK,aAAa,KAAK,SAAU;AACtC,iBAAK,aAAa;AAClB,iBAAK,iBAAiB,IAAI;AAC1B,kBAAM,gBAAgB;AACtB;AAAA,UACF,KAAK;AACH,iBAAK,gBAAgB;AACrB,gBAAI,CAAC,KAAK,UAAW;AACrB,kBAAM,yBAAyB;AAC/B,kBAAM,eAAe;AACrB,iBAAK,iBAAiB,IAAI;AAC1B,iBAAK,aAAa;AAClB;AAAA,UACF,KAAK;AACH;AAAA,UACF;AACE,gBAAI,KAAK,aAAa,MAAM,IAAI,WAAW,GAAG;AAC5C,mBAAK,iBAAiB,EAAE,YAAY,MAAM,IAAI,kBAAkB,EAAE,CAAC;AACnE;AAAA,YACF;AACA;AAAA,QACJ;AACA,cAAM,gBAAgB;AACtB,cAAM,eAAe;AAAA,MACvB;AAAA,IACF;AAAA,IACA,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,MAKJ,WAAW,EAAE,cAAc,GAAG;AAC5B,YAAI,KAAK,UAAW;AACpB,cAAM,CAAC,OAAO;AAAA;AAAA,UAA4C,cAAc,iBAAiB;AAAA;AACzF,cAAM,WAAW,KAAK;AACtB,YAAI,aAAa,SAAS;AAExB;AAAA,QACF;AACA,YAAI,UAAU;AAEZ,mBAAS,oBAAoB,UAAU,KAAK,wBAAwB;AACpE,mBAAS,oBAAoB,SAAS,KAAK,uBAAuB;AAClE,mBAAS,mBAAmB;AAAA,QAC9B;AACA,aAAK,WAAW;AAChB,YAAI,SAAS;AAEX,cAAI,CAAC,KAAK,UAAU;AAClB,oBAAQ,WAAW;AAAA,UACrB;AAEA,kBAAQ,mBAAmB;AAC3B,kBAAQ,iBAAiB,UAAU,KAAK,wBAAwB;AAChE,kBAAQ,iBAAiB,SAAS,KAAK,wBAAwB;AAC/D,eAAK,yBAAyB;AAAA,QAChC;AAAA,MACF;AAAA,IACF;AAAA,IACA,cAAc;AAAA,MACZ,WAAW;AACT,YAAI,CAAC,KAAK,SAAU;AACpB,aAAK,cAAc;AACnB,aAAK,KAAK,QAAQ,MAAM;AAAA,MAC1B;AAAA,IACF;AAAA,EACF,CAAC,EACA,OAAO;AAAA,IACN,KAAK,EAAE,cAAc,GAAG;AACtB,WAAK,gBAAgB;AACrB,UAAI,CAAC,KAAK,UAAW;AAErB,YAAM,QAAQ,eAAe;AAC7B,UAAI,UAAU,cAAe;AAC7B,UAAI,iBAAiB,MAAM;AAAA;AAAA,QAA8B;AAAA,MAAc,EAAG;AAC1E,UAAI,MAAM,QAAQ,sBAAsB,EAAG;AAC3C,WAAK,aAAa;AAAA,IACpB;AAAA,EACF,CAAC,EACA,YAAY;AAAA,IACX,iBAAiB,EAAE,cAAc,UAAU,WAAW,SAAS,GAAG;AAChE,UAAI,gBAAgB,MAAM;AACxB,eAAO;AAAA,MACT;AACA,UAAI,YAAY,CAAC,UAAU;AACzB,eAAO,YAAY,kBAAkB;AAAA,MACvC;AACA,aAAO;AAAA,IACT;AAAA,IACA,qBAAqB,EAAE,cAAc,UAAU,UAAU,GAAG;AAC1D,UAAI,gBAAgB,MAAM;AACxB,eAAO;AAAA,MACT;AACA,UAAI,UAAU;AACZ,eAAO,YAAY,kBAAkB;AAAA,MACvC;AACA,aAAO;AAAA,IACT;AAAA,IACA,qBAAqB,EAAE,WAAW,KAAK,GAAG;AACxC,UAAI,UAAW,QAAO;AACtB,aAAO;AAAA,IACT;AAAA,IACA,yBAAyB,EAAE,WAAW,MAAM,SAAS,GAAG;AACtD,UAAI,UAAW,QAAO;AACtB,aAAO;AAAA,IACT;AAAA,IACA,gBAAgB,EAAE,WAAW,KAAK,GAAG;AACnC,aAAO;AAAA,IACT;AAAA,IACA,sBAAsB,EAAE,aAAa,UAAU,GAAG;AAChD,UAAI,CAAC,YAAa,QAAO;AACzB,aAAO,GAAG,SAAS;AAAA,IACrB;AAAA,IACA,sBAAsB,EAAE,YAAY,GAAG;AACrC,UAAI,CAAC,YAAa,QAAO;AACzB,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAoBA,0BAA0B,EAAE,aAAa,kBAAkB,WAAW,mBAAmB,GAAG;AAC1F,UAAI,CAAC,YAAa,QAAO;AACzB,UAAI,UAAW,QAAO;AACtB,UAAI,oBAAoB,MAAM;AAC5B,eAAO;AAAA,MACT;AACA,aAAO;AAAA,IACT;AAAA,IACA,8BAA8B,EAAE,aAAa,WAAW,cAAc,GAAG;AACvE,UAAI,CAAC,YAAa,QAAO;AACzB,UAAI,aAAa,cAAe,QAAO;AACvC,aAAO;AAAA,IACT;AAAA,IACA,qBAAqB,EAAE,YAAY,GAAG;AACpC,UAAI,YAAa,QAAO;AACxB,aAAO;AAAA,IACT;AAAA,IACA,eAAe,EAAE,OAAO,WAAW,aAAa,KAAK,GAAG;AACtD,aAAO,CAAC,CAAC,SAAS,aAAa,CAAC,CAAC,eAAe,SAAS;AAAA,IAC3D;AAAA,EACF,CAAC,EACA,UAAU,CAAC,EAAE,MAAM,EAAE,SAAS,cAAc,OAAO,UAAU,EAAE,MAAM;AAEpE,YAAQ,aAAa,yBAAyB,iCAAiC;AAC/E,YAAQ,aAAa,qBAAqB,6BAA6B;AACvE,YAAQ,aAAa,iBAAiB,yBAAyB;AAC/D,YAAQ,aAAa,iBAAiB,yBAAyB;AAC/D,YAAQ,aAAa,QAAQ,wBAAwB;AACrD,YAAQ,aAAa,QAAQ,wBAAwB;AACrD,YAAQ,aAAa,YAAY,4BAA4B;AAC7D,YAAQ,aAAa,gBAAgB,KAAK;AAC1C,YAAQ,aAAa,aAAa,mBAAmB;AACrD,iBAAa,aAAa,UAAU,oBAAoB;AACxD,iBAAa,aAAa,QAAQ,wBAAwB;AAC1D,UAAM,aAAa,iBAAiB,wBAAwB;AAC5D,cAAU,aAAa,iBAAiB,wBAAwB;AAAA,EAClE,CAAC,EACA,UAAU;AAAA,IACT,YAAY,OAAO;AACjB,UAAI,KAAK,UAAU;AACjB,aAAK,UAAU,MAAM,MAAM,GAAG,EAAE,OAAO,OAAO;AAAA,MAChD,WAAW,KAAK,WAAW;AACzB,aAAK,SAAS;AAAA,MAChB,OAAO;AAEL,aAAK,OAAO,QAAQ;AACpB,aAAK,SAAS,KAAK,OAAO;AAAA,MAC5B;AAAA,IACF;AAAA,IACA,gBAAgB,OAAO;AAErB,UAAI,KAAK,UAAU;AACjB,YAAI,OAAO;AACT,eAAK,gBAAgB;AAAA,QACvB;AACA;AAAA,MACF;AACA,WAAK,SAAS;AAAA,IAChB;AAAA,EACF,CAAC,EACA,GAAG;AAAA,IACF,cAAc,UAAU,SAAS;AAC/B,UAAI,KAAK,SAAU;AACnB,UAAI,KAAK,WAAW;AAClB,aAAK,yBAAyB;AAAA,MAChC,OAAO;AACL,aAAK,gBAAgB;AAAA,MACvB;AAAA,IACF;AAAA,IACA,eAAe,UAAU,SAAS;AAChC,UAAI,KAAK,YAAY,SAAS;AAC5B,aAAK,SAAS,QAAQ,KAAK,GAAG;AAC9B,aAAK,gBAAgB;AAAA,MACvB;AAAA,IACF;AAAA,IACA,qBAAqB,UAAU,SAAS;AACtC,UAAI,CAAC,KAAK,SAAU;AACpB,YAAM;AAAA;AAAA,QAA4C,KAAK,KAAK,MAAM;AAAA;AAClE,UAAI,SAAS;AACX,gBAAQ,WAAW;AAAA,MACrB;AAAA,IACF;AAAA,IACA,qBAAqB,UAAU,SAAS;AACtC,UAAI,CAAC,KAAK,YAAa;AACvB,WAAK,SAAS,QAAQ;AACtB,WAAK,cAAc;AACnB,WAAK,iBAAiB,EAAE,OAAO,QAAQ,CAAC;AAAA,IAC1C;AAAA,IACA,iBAAiB,UAAU,SAAS;AAClC,WAAK,6BAA6B,CAAC;AAAA,IACrC;AAAA,IACA,cAAc;AACZ,WAAK,2BAA2B,KAAK,gBAAgB,KAAK,IAAI;AAC9D,WAAK,0BAA0B,KAAK,eAAe,KAAK,IAAI;AAC5D,WAAK,2BAA2B,KAAK,gBAAgB,KAAK,IAAI;AAC9D,eAAS,iBAAiB,oBAAoB,MAAM,KAAK,yBAAyB,GAAG,EAAE,MAAM,KAAK,CAAC;AAAA,IACrG;AAAA,IACA,gBAAgB,UAAU,SAAS;AACjC,UAAI,KAAK,SAAS;AAChB,aAAK,QAAQ,WAAW;AAAA,MAC1B;AACA,UAAI,SAAS;AACX,aAAK,YAAY,KAAK,OAAO,KAAK;AAAA,MACpC;AAAA,IACF;AAAA,IACA,uBAAuB;AACrB,WAAK,gBAAgB;AACrB,WAAK,gBAAgB;AACrB,WAAK,aAAa;AAAA,IACpB;AAAA,IACA,kBAAkB;AAChB,WAAK,gBAAgB;AACrB,WAAK,gBAAgB;AACrB,WAAK,aAAa;AAAA,IACpB;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAkDA,UAAU,CAAC,EAAE,MAAM,EAAE,QAAQ,MAAM,EAAE,MAAM;AAC1C,WAAO,QAAQ,KAAK;AACpB,WAAO,aAAa,YAAY,YAAY;AAAA,EAC9C,CAAC,EACA,OAAO,CAAC,SAAS,MAAM,cAAc,KAAK;AAAA;AAAA,IAEzC,aAAa,MAAM;AAEjB,UAAI,CAAC,KAAK,OAAQ,QAAO;AAEzB,aAAO,MAAM,UAAU,GAAG,IAAI;AAAA,IAChC;AAAA,EACF,CAAC,EACA,aAAa,WAAW;;;ACh7B3B,MAAI,qBAAqB;AAGlB,WAAS,mBAAmB;AACjC,QAAI,mBAAoB;AACxB,iBAAa,iCAAiC;AAC9C,yBAAqB;AAAA,EACvB;;;ACFA,mBAAiB;AAOjB,WAAS,WAAW,OAAO,QAAQ,GAAG;AACpC,UAAM,SAAS,OAAO,WAAW,KAAK;AACtC,QAAI,OAAO,MAAM,MAAM,EAAG,QAAO;AACjC,WAAO;AAAA,EACT;AAQA,WAAS,gBAAgB,OAAO,KAAK,KAAK;AACxC,UAAM,SAAS,WAAW,KAAK;AAC/B,UAAM,OAAO,WAAW,GAAG;AAC3B,UAAM,OAAO,WAAW,KAAK,GAAG;AAEhC,YAAQ,SAAS,SAAS,OAAO;AAAA,EACnC;AAMA,MAAO,iBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,MAAM,UAAU,EAChB,MAAM,UAAU,EAChB,IAAI;AAAA,IACH,YAAY;AAAA,IACZ,MAAM;AAAA,EACR,CAAC,EACA,QAAQ;AAAA;AAAA,IAEP,OAAO;AAAA;AAAA,IAEP,cAAc,EAAE,UAAU,MAAM;AAAA;AAAA,IAEhC,YAAY;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA;AAAA,IAEA,eAAe;AAAA;AAAA,IAEf,kBAAkB;AAAA;AAAA,IAElB,4BAA4B;AAAA,EAC9B,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOP,sBAAsB,OAAO;AAC3B,YAAM,QAAQ,MAAM;AACpB,UAAI,MAAM,SAAU;AAEpB,UAAI,KAAK,cAAe;AAExB,UAAI,MAAM,SAAS,YAAY;AAC7B,aAAK,mBAAmB;AACxB;AAAA,MACF;AAEA,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,YAAM,UAAU,aAAa;AAC7B,UAAI,SAAS;AACX,YAAI,MAAM,QAAQ,QAAQ;AACxB,gBAAM,CAAC,KAAK,IAAI,MAAM;AACtB,qBAAW;AAEX,WAAC,EAAE,SAAS,SAAS,MAAM,IAAI;AAAA,QACjC;AAAA,MACF,OAAO;AAIL,oBAAY,MAAM,UAAU,OAAO,MAChC,MAAM,SAAS,eAAe,MAAM,QAAQ,SAAS;AACxD,SAAC,EAAE,SAAS,SAAS,MAAM,IAAI;AAAA,MACjC;AAEA,UAAI,WAAW,MAAM;AACnB,oBAAY,QAAQ,OAAO;AAC3B,kBAAU,UAAU,MAAM,sBAAsB,EAAE;AAAA,MACpD;AAEA,YAAM,EAAE,YAAY,IAAI;AACxB,UAAI,WAAY,UAAU;AAC1B,UAAI,WAAW,GAAG;AAChB,mBAAW;AAAA,MACb,WAAW,WAAW,GAAG;AACvB,mBAAW;AAAA,MACb;AAEA,UAAI,UAAU;AACZ,aAAK,mBAAmB;AACxB,cAAM,EAAE,KAAK,KAAK,KAAK,IAAI;AAE3B,cAAM,OAAO,WAAW,GAAG;AAC3B,cAAM,OAAO,WAAW,KAAK,GAAG;AAChC,cAAM,QAAQ,WAAW,MAAM,CAAC;AAEhC,YAAI,MAAM,IAAI,GAAG;AACf,qBAAW,IAAI;AAAA,QACjB;AACA,cAAM,eAAe,YAAY,OAAO,QAAQ;AAChD,YAAI,eAAe,KAAK,MAAM,eAAe,KAAK,IAAI;AAEtD,YAAI,QAAQ,GAAG;AAGb,gBAAM,QAAQ,KAAK,MAAM,KAAK,MAAM,KAAK,CAAC;AAC1C,gBAAM,QAAQ,OAAO,KAAK;AAC1B,yBAAe,KAAK,MAAM,eAAe,KAAK,IAAI;AAAA,QACpD;AAEA,aAAK,gBAAgB;AACrB,aAAK,eAAe,aAAa,SAAS,EAAE;AAC5C,YAAI,WAAW,gBAAgB;AAE7B,cAAI,MAAM,SAAS,cAAc;AAE/B,kBAAM,eAAe;AAAA,UACvB;AACA,gBAAM,EAAE,OAAO,IAAI;AACnB,cAAI,OAAO,kBAAkB,cAAc;AACzC,mBAAO,gBAAgB;AACvB,iBAAK,cAAc,IAAI,MAAM,SAAS,EAAE,SAAS,MAAM,UAAU,KAAK,CAAC,CAAC;AAAA,UAC1E;AAAA,QACF;AAEA;AAAA,MACF;AAEA,UAAI,QAAS;AAEb,UAAI,kBAAkB,gBAAgB,KAAK,OAAO,KAAK,KAAK,KAAK,GAAG;AACpE,UAAI,MAAM,IAAI,GAAG;AACf,0BAAkB,IAAI;AAAA,MACxB;AACA,YAAM,cAAc,kBAAkB;AACtC,YAAM,WAAW,cAAc;AAC/B,YAAM,WAAW,cAAc;AAC/B,WAAK,mBAAmB,WAAW,YAAY,WAAW;AAAA,IAC5D;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,aAAa,EAAE,cAAc,GAAG;AAC9B,UAAI;AAAA;AAAA,QAAkC;AAAA,MAAc,EAAG;AACvD,WAAK,mBAAmB;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,gBAAgB,OAAO;AACrB,YAAM,QAAQ,MAAM;AACpB,UAAI,MAAM,SAAU;AACpB,UAAI,MAAM,SAAS,SAAS;AAC1B,cAAM,eAAe;AAAA,MACvB;AACA,YAAM,gBAAgB,KAAK;AAC3B,WAAK,SAAS,MAAM;AACpB,UAAI,KAAK,+BAA+B,KAAK,QAAQ;AACnD,aAAK,6BAA6B,KAAK;AACvC,aAAK,cAAc,IAAI,MAAM,UAAU,EAAE,SAAS,KAAK,CAAC,CAAC;AAAA,MAC3D;AAAA,IACF;AAAA,EACF,CAAC,EACA,OAAO;AAAA,IACN,MAAM;AAAA,IACN,UAAU;AAAA,EACZ,CAAC,EACA,YAAY;AAAA,IACX,SAAS;AAAA,MACP,cAAc;AAAA,MACd,cAAc;AAAA,MACd,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,eAAe;AAAA,MACf,gBAAgB;AAAA,MAChB,aAAa;AAAA,MACb,UAAU;AAAA,MACV,OAAO;AAAA,MACP,UAAU,OAAO;AAGf,YAAI,KAAK,+BAA+B,KAAK,QAAQ;AACnD,gBAAM,gBAAgB;AAAA,QACxB;AACA,aAAK,6BAA6B,KAAK;AAAA,MACzC;AAAA,IACF;AAAA,EACF,CAAC,EACA,YAAY;AAAA;AAAA,IAEX,kBAAkB,EAAE,OAAO,cAAc,KAAK,IAAI,GAAG;AACnD,aAAO;AAAA,QACL,QAAQ,WAAW,KAAK,KAAK;AAAA,QAC7B,WAAW,gBAAgB,cAAc,KAAK,GAAG,CAAC;AAAA,MACpD,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,KAAK;AAAA,IACjC;AAAA;AAAA,IAEA,kBAAkB,EAAE,kBAAkB,aAAa,GAAG;AACpD,aAAQ,CAAC,oBAAoB,CAAC;AAAA,IAChC;AAAA;AAAA,IAEA,oBAAoB,EAAE,YAAY,aAAa,GAAG;AAChD,aAAO,cAAc;AAAA,IACvB;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYA,UAAU,CAAC,EAAE,MAAM,EAAE,OAAO,OAAO,QAAQ,EAAE,MAAM;AAClD,UAAM,OAAO,KAAK;AAClB,YAAQ,gBAAgB,iBAAiB;AAAA,EAC3C,CAAC,EACA,GAAG;AAAA,IACF,aAAa,UAAU,UAAU;AAC/B,WAAK,eAAe;AAAA,IACtB;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA0SA,aAAa,YAAY;;;ACviB5B,MAAO,kBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,QAAQ;AAAA;AAAA,IAEP,UAAU;AAAA,EACZ,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA0CA,aAAa,aAAa;;;AClDtB,MAAM,qBAAqB;AAAA,IAChC,MAAM;AAAA,IACN,SAAS;AAAA,IACT,OAAO;AAAA,IACP,OAAO,GAAG;AAAE,aAAO;AAAA,IAAG;AAAA,IACtB,yBAAyB,MAAM,UAAU,UAAU;AACjD,UAAI,YAAY,QAAQ,YAAY,KAAM;AAE1C,UAAI,YAAY,MAAM;AAEpB,aAAK,IAAI,IAAI;AACb;AAAA,MACF;AACA,UAAI;AACJ,UAAI;AAGF,cAAM,aAAa,yEAEH,QAAQ;AAIxB,aAAK,IAAI,SAAS,mBAAmB,IAAI,WAAW,UAAU,GAAG,EAAE;AAAA,MACrE,QAAQ;AAIN,cAAM,UAAU,KAAK,iBAAiB,UAAU,cAAc,QAAQ;AACtE,eAAO,aAAa,WAAW,QAAQ;AACvC,aAAK,OAAO;AAAA,MACd;AAGA,WAAK,IAAI,IAAI;AAAA,IACf;AAAA,IACA,oBAAoB,MAAM,UAAU,UAAU;AAC5C,YAAM,YAAY,KAAK,MAAM,CAAC;AAC9B,UAAI,UAAU;AACZ,aAAK,oBAAoB,WAAW,QAAQ;AAAA,MAC9C;AACA,UAAI,UAAU;AACZ,aAAK,iBAAiB,WAAW,QAAQ;AAAA,MAC3C;AAAA,IACF;AAAA,EACF;AAiCA,MAAM,uBAAuB,oBAAI,QAAQ;AAGzC,MAAM,8BAA8B,oBAAI,QAAQ;AAQhD,WAAS,+BAA+B,MAAM;AAC5C,UAAM,qBAAqB,4BAA4B,IAAI,IAAI;AAE/D,QAAI;AACJ,QAAI,yDAAoB,IAAI,OAAO;AACjC,0BAAoB,mBAAmB,IAAI,IAAI;AAAA,IACjD;AACA,UAAM,cAAc,qBAAqB,IAAI,IAAI;AACjD,UAAM,EAAE,QAAQ,IAAI,YAAY,IAAI,IAAI;AACxC,gBAAY,OAAO,IAAI;AACvB,UAAM,QAAQ,KAAK,IAAI;AACvB,QAAI,CAAC,OAAO;AACV,6DAAmB;AACnB;AAAA,IACF;AACA,UAAM,EAAE,QAAQ,QAAQ,OAAO,IAAI;AAEnC,UAAM,KAAK,SACN,OAAO,WAAW,WAAW,KAAK,KAAK,MAAM,IAAI,SAClD;AACJ,UAAM,mBAAmB,GAAG,QAAQ,QAAQ;AAAA,MAC1C,GAAG;AAAA,MACH,GAAI,UAAU,EAAE,UAAU,EAAE,IAAI;AAAA,MAChC,MAAM;AAAA,IACR,CAAC;AACD,qBAAiB,WAAW,MAAM;AAChC,6DAAmB,OAAO,aAAa;AAAA,QACrC,MAAM;AAAA,MACR;AAEA,6DAAmB;AACnB,6DAAmB;AACnB,0BAAoB;AAAA,IACtB;AACA,QAAI,oBAAoB;AACtB,yBAAmB,IAAI,MAAM,gBAAgB;AAAA,IAC/C,OAAO;AACL,kCAA4B,IAAI,MAAM,oBAAI,IAAI,CAAC,CAAC,MAAM,gBAAgB,CAAC,CAAC,CAAC;AAAA,IAC3E;AAAA,EACF;AAGA,MAAM,yBAAyB,oBAAI,QAAQ;AAC3C,MAAM,qBAAqB,IAAI,eAAe,CAAC,YAAY;AACzD,eAAW,EAAE,OAAO,KAAK,SAAS;AAChC,UAAI,uBAAuB,IAAI,MAAM,GAAG;AACtC,cAAM,YAAY,uBAAuB,IAAI,MAAM;AACnD,+BAAuB,OAAO,MAAM;AACpC,2BAAmB,UAAU,MAAM;AACnC,mBAAW,YAAY,WAAW;AAChC,mBAAS;AAAA,QACX;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC;AAGM,MAAM,yBAAyB;AAAA,IACpC,MAAM;AAAA,IACN,SAAS;AAAA,IACT,MAAM;AAAA;AAAA,IACN,oBAAoB,MAAM,UAAU,UAAU;AAC5C,UAAI,CAAC,UAAU;AACb,cAAM,qBAAqB,4BAA4B,IAAI,IAAI;AAC/D,YAAI,EAAC,yDAAoB,IAAI,QAAO;AAElC;AAAA,QACF;AAAA,MACF;AACA,YAAM,cAAc,qBAAqB,IAAI,IAAI;AAEjD,YAAM,UAAU,CAAC,KAAK;AACtB,UAAI,aAAa;AACf,YAAI,YAAY,IAAI,IAAI,EAAG;AAC3B,oBAAY,IAAI,MAAM,EAAE,QAAQ,CAAC;AAAA,MACnC,OAAO;AACL,6BAAqB,IAAI,MAAM,oBAAI,IAAI,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AAAA,MAC/D;AAIA,YAAM,WAAW,+BAA+B,KAAK,MAAM,IAAI;AAC/D,UAAI,KAAK,aAAa;AACpB,uBAAe,QAAQ;AAAA,MACzB,WAAW,uBAAuB,IAAI,IAAI,GAAG;AAC3C,+BAAuB,IAAI,IAAI,EAAE,KAAK,QAAQ;AAAA,MAChD,OAAO;AACL,+BAAuB,IAAI,MAAM,CAAC,QAAQ,CAAC;AAC3C,2BAAmB,QAAQ,IAAI;AAAA,MACjC;AAAA,IACF;AAAA,EACF;AAKA,MAAM,kBAAkB,oBAAI,QAAQ;AAGpC,MAAI,wBAAwB;AAGrB,MAAM,qBAAqB;AAAA,IAChC,MAAM;AAAA,IACN,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAKT,OAAO,OAAO;AACZ,UAAI,CAAC,SAAS,OAAO,UAAU,UAAU;AACvC;AAAA;AAAA,UAA8B;AAAA;AAAA,MAChC;AACA,aAAO,SACL,OAAO,QAAQ,KAAK,EAAE,IAAI,CAAC,CAAC,KAAK,IAAI,MAAM,GAAG,qBAAqB,GAAG,CAAC,IAAI,IAAI,EAAE,EAC9E,KAAK,GAAG,CACb;AAAA,IACF;AAAA,IACA,oBAAoB,MAAM,UAAU,UAAU;AAC5C,UAAI;AAGJ,UAAI;AACJ,UAAI,gBAAgB,IAAI,IAAI,GAAG;AAC7B,sBAAc,gBAAgB,IAAI,IAAI;AACtC,YAAI,YAAY,IAAI,IAAI,GAAG;AACzB,mBAAS,YAAY,IAAI,IAAI;AAAA,QAC/B;AAAA,MACF,OAAO;AAEL,YAAI,CAAC,SAAU;AACf,sBAAc,oBAAI,IAAI;AACtB,wBAAgB,IAAI,MAAM,WAAW;AAAA,MACvC;AAEA,gCAA0B,wBAAwB,WAAW;AAC7D,UAAI,CAAC,QAAQ;AACX,YAAI,uBAAuB;AACzB,mBAAS,IAAI,cAAc;AAC3B,eAAK,WAAW,qBAAqB;AAAA,YACnC,GAAG,KAAK,WAAW;AAAA,YACnB;AAAA,UACF;AAAA,QACF,OAAO;AACL,gBAAM,eAAe,KAAK,cAAc,cAAc,OAAO;AAC7D,eAAK,WAAW,QAAQ,YAAY;AACpC,mBAAS;AAAA,QACX;AACA,oBAAY,IAAI,MAAM,MAAM;AAAA,MAC9B;AACA,UAAI,UAAU;AACZ,YAAI,uBAAuB;AACG,UAAC,OAAQ,YAAY,QAAQ;AAAA,QAC3D,WAAW,UAAU;AACY,UAAC,OAAQ,cAAc;AAAA,QACxD;AACA,eAAO,WAAW;AAAA,MACpB,OAAO;AACL,eAAO,WAAW;AAAA,MACpB;AAAA,IACF;AAAA,EACF;;;ACzPe,WAAR,mBAAoC,MAAM;AAC/C,WAAO,KACJ,QAAQ;AAAA;AAAA,MAEP,WAAW;AAAA,IACb,CAAC,EACA,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMH,sBAAsB;AAAA,IACxB,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA,MAIP,iBAAiB,MAAM;AACrB,YAAI,KAAK,oBAAoB,QAAQ,KAAK,kBAAkB;AAC1D,iBAAO,KAAK,iBAAiB,IAAI;AAAA,QACnC;AAAE,YAAI,QAAQ,MAAM;AAClB,iBAAO,KAAK,IAAI;AAAA,QAClB;AAGA,YAAI,WAAW;AACf,YAAI,SAAS,WAAW,MAAM,GAAG;AAC/B,qBAAW,QAAQ,SAAS,MAAM,CAAC,EAAE,YAAY,CAAC;AAAA,QACpD;AACA,eAAO,KAAK,aAAa,IAAI;AAAA,MAC/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA,mBAAmB,MAAM,OAAO;AAC9B,YAAI,KAAK,oBAAoB,QAAQ,KAAK,kBAAkB;AAC1D,eAAK,iBAAiB,IAAI,IAAI;AAAA,QAChC,WAAW,KAAK,aAAa;AAC3B,cAAI,QAAQ,MAAM;AAChB,iBAAK,IAAI,IAAI;AAAA,UACf,OAAO;AAGL,gBAAI,WAAW;AACf,gBAAI,SAAS,WAAW,MAAM,GAAG;AAC/B,yBAAW,QAAQ,SAAS,MAAM,CAAC,EAAE,YAAY,CAAC;AAAA,YACpD;AACA,gBAAI,SAAS,MAAM;AACjB,mBAAK,gBAAgB,IAAI;AAAA,YAC3B,OAAO;AACL,mBAAK,aAAa,UAAU,KAAK;AAAA,YACnC;AAAA,UACF;AAAA,QACF,OAAO;AACL,eAAK,yBAAyB,oBAAI,IAAI;AACtC,eAAK,qBAAqB,IAAI,MAAM,KAAK;AAAA,QAE3C;AAAA,MACF;AAAA,IACF,CAAC,EACA,GAAG;AAAA,MACF,iBAAiB,UAAU,UAAU;AACnC,aAAK,mBAAmB,QAAQ,QAAQ;AAAA,MAC1C;AAAA,MACA,cAAc;AACZ,aAAK,mBAAmB,QAAQ,KAAK,SAAS;AAAA,MAChD;AAAA,MACA,YAAY;AACV,YAAI,CAAC,KAAK,qBAAsB;AAChC,mBAAW,CAAC,KAAK,KAAK,KAAK,KAAK,sBAAsB;AACpD,eAAK,mBAAmB,KAAK,KAAK;AAAA,QACpC;AACA,aAAK,uBAAuB;AAAA,MAC9B;AAAA,IACF,CAAC;AAAA,EACL;;;AC9EA,MAAO,kBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,MAAM,UAAU,EAChB,MAAM,kBAAkB,EACxB,IAAI;AAAA;AAAA,IAEH,WAAW;AAAA,EACb,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,IAKP,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,gBAAgB,UAAU,UAAU;AAClC,aAAK,mBAAmB,cAAc,WAAW,SAAS,OAAO;AAAA,MACnE;AAAA,IACF;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA,MAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAwDA,aAAa,aAAa;;;AChFd,WAAR,oBAAqC,MAAM;AAChD,WAAO,KACJ,IAAI;AAAA;AAAA,MAEH,uBAAuB;AAAA;AAAA,MAEvB,uBAAuB;AAAA;AAAA;AAAA,MAGvB,eAAe;AAAA;AAAA;AAAA,MAGf,iBAAiB;AAAA;AAAA;AAAA,MAGjB,iBAAiB;AAAA;AAAA;AAAA,MAGjB,oBAAoB;AAAA;AAAA,MAEpB,uBAAuB;AAAA;AAAA,MAEvB,eAAe;AAAA,IACjB,CAAC,EACA,QAAQ;AAAA;AAAA,MAEP,SAAS;AAAA;AAAA,MAET,aAAa;AAAA,IACf,CAAC,EACA,6CACA;AAAA;AAAA;AAAA;AAAA,MAKA,QAAQ;AAAA,MACP,oBAAoB;AAElB,qBAAa,KAAK,aAAa;AAAA,MACjC;AAAA;AAAA,MAEA,oBAAoB,MAAM;AACxB,aAAK,kBAAkB;AACvB,cAAM;AAAA;AAAA,UAAgD,KAAK,KAAK;AAAA;AAChE,YAAI,CAAC,QAAQ,MAAM;AAEjB;AAAA,QACF;AACA,YAAI,UAAU;AACd,gBAAQ,MAAM;AAAA,UACZ,KAAK;AACH,sBAAU;AACV;AAAA,UACF,KAAK;AACH,sBAAU;AACV;AAAA,UACF;AAAA,QACF;AAEA,aAAK,gBAAgB,WAAW,MAAM;AAEpC,eAAK,YAAY;AAAA,QACnB,GAAG,OAAO;AAAA,MACZ;AAAA;AAAA,MAGA,oBAAoB,MAAM;AACxB,cAAM;AAAA;AAAA,UAAgD,KAAK,KAAK;AAAA;AAChE,YAAI,QAAQ,KAAM;AAClB,YAAI,UAAU;AACd,gBAAQ,MAAM;AAAA,UACZ,KAAK;AACH,sBAAU,KAAK;AACf;AAAA,UACF,KAAK;AACH,sBAAU,KAAK;AACf;AAAA,UACF;AAAA,QACF;AAEA,qBAAa,KAAK,aAAa;AAC/B,YAAI,SAAS;AACX,eAAK,gBAAgB,WAAW,KAAK,YAAY,KAAK,IAAI,GAAG,OAAO;AAAA,QACtE,OAAO;AACL,eAAK,YAAY;AAAA,QACnB;AAAA,MACF;AAAA,MAEA,cAAc;AACZ,cAAM;AAAA;AAAA,UAAgD,KAAK,KAAK;AAAA;AAChE,YAAI,QAAQ,KAAM;AAClB,iBAAS,KAAK,OAAO,KAAK,KAAK,OAAO;AACtC,aAAK,eAAe;AACpB,aAAK,sBAAsB;AAC3B,aAAK,gBAAgB,QAAQ,MAAM,EAAE,KAAK,aAAa,CAAC;AACxD,aAAK,gBAAgB,QAAQ,SAAS,EAAE,KAAK,aAAa,CAAC;AAC3D,aAAK,mBAAmB,QAAQ,IAAI;AACpC,aAAK,mBAAmB,QAAQ,OAAO;AAGvC,YAAI,eAAe;AACnB,eAAQ;AAAA,QAA4C,aAAa,cAAgB;AAC/E,eAAK,gBAAgB,QAAQ,cAAc,EAAE,KAAK,aAAa,CAAC;AAEhE,eAAK,gBAAgB,KAAK,YAAY;AACtC,eAAK,mBAAmB,QAAQ,YAAY;AAC5C,uBAAa,iBAAiB,UAAU,KAAK,qBAAqB;AAAA,QACpE;AACA,eAAO,iBAAiB,UAAU,KAAK,qBAAqB;AAI5D,gBAAQ,OAAO;AAAA,MACjB;AAAA,MAEA,YAAY,iBAAiB,OAAO;AAClC,YAAI,gBAAgB;AAClB,eAAK,kBAAkB;AAAA,QACzB;AACA,aAAK,gBAAgB,WAAW;AAChC,aAAK,mBAAmB,WAAW;AACnC,YAAI;AACJ,eAAQ,SAAS,KAAK,gBAAgB,IAAI,GAAI;AAC5C,iBAAO,oBAAoB,UAAU,KAAK,qBAAqB;AAAA,QACjE;AACA,eAAO,oBAAoB,UAAU,KAAK,qBAAqB;AAC/D,cAAM;AAAA;AAAA,UAAgD,KAAK,KAAK;AAAA;AAChE,gBAAQ,OAAO;AAEf,gBAAQ,OAAO;AAAA,MACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA,sBAAsB,SAAS;AAC7B,cAAM,SAAS;AACf,cAAM;AAAA;AAAA,UAAgD,KAAK,KAAK;AAAA;AAIhE,eAAO,OAAO,QAAQ,OAAO;AAAA,UAC3B,KAAK;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,UAAU;AAAA,UACV,UAAU;AAAA,UACV,WAAW;AAAA,QACb,CAAC;AAED,cAAM,gBAAgB;AAAA,UACpB,QAAQ,WAAW,KAAK,sBAAsB;AAAA,UAC9C,OAAO,QAAQ;AAAA,UACf,QAAQ,QAAQ;AAAA;AAAA,QAElB;AAEA,cAAM,YAAa,iBAAiB,IAAI,EAAE,cAAc;AACxD,cAAM,SAAS,YAAY,UAAU;AACrC,cAAM,OAAO,YAAY,SAAS;AAElC,cAAM,cAAc;AAAA,UAClB,EAAE,SAAS,UAAU,SAAS,UAAU,SAAS,OAAO;AAAA,UACxD,EAAE,SAAS,UAAU,SAAS,QAAQ,SAAS,OAAO;AAAA,UACtD,EAAE,SAAS,UAAU,SAAS,MAAM,SAAS,OAAO;AAAA,UACpD,EAAE,SAAS,OAAO,SAAS,UAAU,SAAS,CAAC,OAAO;AAAA,UACtD,EAAE,SAAS,OAAO,SAAS,QAAQ,SAAS,CAAC,OAAO;AAAA,UACpD,EAAE,SAAS,OAAO,SAAS,MAAM,SAAS,CAAC,OAAO;AAAA,QACpD;AAEA,YAAI;AACJ,mBAAW,cAAc,aAAa;AACpC,gBAAM,SAAS,eAAe;AAAA,YAC5B,GAAG;AAAA,YACH,GAAG;AAAA,UACL,CAAC;AACD,cAAI,CAAC,gBAAgB,aAAa,aAAa,OAAO,YAAY;AAChE,2BAAe;AAAA,UACjB;AACA,cAAI,OAAO,eAAe,EAAG;AAAA,QAC/B;AAEA,eAAO,OAAO,QAAQ,OAAO;AAAA,UAC3B,UAAU;AAAA,UACV,GAAG,aAAa;AAAA,QAClB,CAAC;AAAA,MACH;AAAA,MACA,iBAAiB;AACf,YAAI;AACJ,cAAM,UAAU,KAAK;AACrB,YAAI,SAAS;AACX,iBAAO,CAAC,OAAO;AAAA,QACjB,OAAO;AACL;AAAA,UAAuC,KAAK,KAAK,KAAK,aAAa,EAChE,cAAc,EACd,IAAI,CAAC,UAAU,MAAM,UAAU,IAAI,CAAC;AAAA,QACzC;AAEA,aAAK,KAAK,QAAQ,gBAAgB,GAAG,IAAI;AAAA,MAC3C;AAAA,MACA,oBAAoB;AAElB,cAAM,QAAQ,MAAM;AAClB,cAAI,KAAK,aAAc;AACvB,cAAI,KAAK,KAAK,QAAQ,QAAQ,QAAQ,EAAG;AACzC,eAAK,YAAY,IAAI;AAAA,QACvB;AACA,YAAI,iBAAiB;AAEnB,gCAAsB,KAAK;AAAA,QAC7B,OAAO;AACL,gBAAM;AAAA,QACR;AAAA,MACF;AAAA,IACF,CAAC,EACA,YAAY;AAAA,MACX,MAAM;AAAA,QACJ,YAAY;AAAA,MACd;AAAA,MACA,SAAS;AAAA,QACP,cAAc;AAAA,MAChB;AAAA,IACF,CAAC,EACA,OAAO;AAAA,MACN,eAAe,OAAO;AACpB,YAAI,MAAM,gBAAgB,QAAS;AACnC,YAAI,KAAK,eAAe,CAAC,KAAK,eAAe;AAC3C,eAAK,oBAAoB,OAAO;AAAA,QAClC;AAAA,MACF;AAAA,MACA,WAAW,EAAE,QAAQ,GAAG;AACtB,YAAI,SAAS;AACX,eAAK,YAAY,IAAI;AAAA,QACvB;AAAA,MACF;AAAA,MACA,WAAW;AACT,aAAK,YAAY,IAAI;AAAA,MACvB;AAAA,IAEF,CAAC,EACA,GAAG;AAAA,MACF,cAAc;AACZ,aAAK,kBAAkB,CAAC;AACxB,aAAK,wBAAwB,KAAK,sBAAsB,KAAK,MAAM,IAAI;AACvE,aAAK,kBAAkB,IAAI,eAAe,MAAM;AAC9C,gBAAM;AAAA;AAAA,YAAgD,KAAK,KAAK;AAAA;AAChE,cAAI,QAAQ,MAAM;AAChB,iBAAK,sBAAsB;AAAA,UAC7B;AAAA,QACF,CAAC;AACD,cAAM,YAAY,CAAC,GAAG,MAAM,KAAK,MAAM,CAAC;AACxC,aAAK,qBAAqB,IAAI,qBAAqB,CAAC,YAAY;AAC9D,gBAAM;AAAA;AAAA,YAAgD,KAAK,KAAK;AAAA;AAEhE,cAAI,CAAC,QAAQ,KAAM;AACnB,qBAAW,SAAS,SAAS;AAC3B,gBAAI,MAAM,qBAAqB,GAAG;AAEhC,mBAAK,YAAY;AACjB;AAAA,YACF;AACA,gBAAI,MAAM,WAAW,SAAS;AAE5B,mBAAK,sBAAsB;AAC3B;AAAA,YACF;AACA,gBAAI,MAAM,WAAW,MAAM;AACzB,kBAAI,MAAM,qBAAqB,KAAK;AAElC,qBAAK,YAAY;AAAA,cACnB,OAAO;AAEL,qBAAK,sBAAsB,MAAM,kBAAkB;AAAA,cACrD;AACA;AAAA,YACF;AAAA,UACF;AAEA,eAAK,sBAAsB;AAAA,QAC7B,GAAG,EAAE,UAAU,CAAC;AAAA,MAElB;AAAA,MACA,gBAAgB,UAAU,SAAS;AACjC,YAAI,SAAS;AACX,cAAI,CAAC,KAAK,mBAAmB,CAAC,KAAK,qBAAqB,KAAK,aAAa;AACxE,iBAAK,YAAY;AAAA,UACnB;AAAA,QACF,OAAO;AACL,eAAK,kBAAkB;AAAA,QACzB;AAAA,MACF;AAAA,MACA,gBAAgB,UAAU,SAAS;AACjC,YAAI,SAAS;AACX,cAAI,KAAK,eAAe,CAAC,KAAK,eAAe;AAC3C,iBAAK,oBAAoB,OAAO;AAAA,UAClC;AAAA,QACF,OAAO;AACL,eAAK,kBAAkB;AAAA,QACzB;AAAA,MACF;AAAA,MACA,uBAAuB,UAAU,SAAS;AACxC,YAAI,KAAK,qBAAqB,QAAS;AACvC,YAAI,SAAS;AACX,cAAI,KAAK,eAAe,CAAC,KAAK,eAAe;AAC3C,iBAAK,oBAAoB,OAAO;AAAA,UAClC;AAAA,QACF,OAAO;AACL,eAAK,oBAAoB,OAAO;AAAA,QAClC;AAAA,MACF;AAAA,MACA,eAAe;AACb,aAAK,YAAY,IAAI;AAAA,MACvB;AAAA,MACA,iBAAiB;AACf,aAAK,eAAe;AAAA,MACtB;AAAA,IACF,CAAC;AAAA,EACL;;;ACpUe,WAAR,wBAAyC,MAAM;AACpD,WAAO,KACJ,WAAW;AAAA,MACV,MAAM,OAAO;AACX,cAAM,EAAE,OAAO,IAAI;AACnB,YAAI,EAAE,kBAAkB,mBAAoB;AAC5C,YAAI,CAAC,OAAO,KAAM;AAClB,cAAM,gBAAgB,OAAO,cAAc,IAAI,YAAY,iBAAiB;AAAA,UAC1E,SAAS;AAAA,UACT,UAAU;AAAA,UACV,YAAY;AAAA,UACZ,QAAQ;AAAA,YACN,UAAU,OAAO;AAAA,YACjB,MAAM,OAAO;AAAA,YACb,UAAU,OAAO;AAAA,YACjB,QAAQ,OAAO;AAAA,UACjB;AAAA,QACF,CAAC,CAAC;AACF,YAAI,CAAC,eAAe;AAIlB,gBAAM,eAAe;AAAA,QACvB;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACL;;;ACvBA,WAAS,yBAAyB,MAAM;AACtC,WAAO;AAAA,MACL,MAAM;AACJ,eAAO,IAAI,IAAI,KAAK,MAAM,OAAO,SAAS,IAAI,EAAE,IAAI;AAAA,MACtD;AAAA,MACA,IAAI,OAAO;AACT,cAAM,EAAE,KAAK,IAAI;AACjB,YAAI,CAAC,KAAM;AACX,cAAM,MAAM,IAAI,IAAI,MAAM,OAAO,SAAS,IAAI;AAC9C,YAAI,IAAI,IAAI;AACZ,aAAK,OAAO,IAAI;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AAMe,WAAR,eAAgC,MAAM;AAC3C,WAAO,KACJ,MAAM,uBAAuB,EAC7B,QAAQ;AAAA;AAAA,MAEP,MAAM;AAAA;AAAA,MAEN,QAAQ;AAAA;AAAA,MAER,UAAU;AAAA;AAAA,MAEV,MAAM;AAAA;AAAA,MAEN,KAAK;AAAA;AAAA,MAEL,UAAU;AAAA;AAAA,MAEV,gBAAgB,EAAE,MAAM,UAAU,MAAM,iBAAiB;AAAA,IAC3D,CAAC,EACA,OAAO;AAAA,MACN,SAAS;AAAE,eAAO,IAAI,IAAI,KAAK,IAAI,EAAE;AAAA,MAAQ;AAAA,MAC7C,UAAU,yBAAyB,UAAU;AAAA,MAC7C,UAAU,yBAAyB,UAAU;AAAA,MAC7C,UAAU,yBAAyB,UAAU;AAAA,MAC7C,MAAM,yBAAyB,MAAM;AAAA,MACrC,UAAU,yBAAyB,UAAU;AAAA,MAC7C,MAAM,yBAAyB,MAAM;AAAA,MACrC,UAAU,yBAAyB,UAAU;AAAA,MAC7C,QAAQ,yBAAyB,QAAQ;AAAA,MACzC,MAAM,yBAAyB,MAAM;AAAA,IACvC,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAWA,QAAQ;AAAA,MACP,WAAW;AACT,eAAO,KAAK;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACL;;;AClEA,MAAO,iBAAQ,cACZ,OAAO,EACP,IAAI;AAAA,IACH,eAAe;AAAA,IACf,mBAAmB;AAAA,IACnB,eAAe;AAAA,EACjB,CAAC,EACA,QAAQ;AAAA;AAAA,IAEP,aAAa;AAAA;AAAA,IAEb,WAAW;AAAA;AAAA,IAEX,YAAY;AAAA;AAAA,IAEZ,YAAY;AAAA;AAAA,IAEZ,SAAS;AAAA;AAAA,IAET,YAAY;AAAA,MACV,MAAM;AAAA,MACN,gBAAgB,UAAU,UAAU;AAClC,YAAI,UAAU;AACZ,eAAK,gBAAgB;AAAA,QACvB,OAAO;AACL,eAAK,oBAAoB;AAAA,QAC3B;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC,EACA,QAAQ;AAAA;AAAA,IAEP,gBAAgB;AAAA,MACd,GAAG;AAAA,MACH,IAAI,EAAE,YAAY,YAAY,QAAQ,GAAG;AAEvC,YAAI,WAAW,KAAM,QAAO;AAC5B,eAAO;AAAA,UACL,QAAQ;AAAA,YACN,WAAW,GAAG,OAAO;AAAA,YACrB,UAAU,GAAG,OAAO;AAAA,YACpB,WAAW,mBAAmB,OAAO,mBAAmB,OAAO;AAAA,YAC/D,KAAK,cAAc,UAAU;AAAA,YAC7B,MAAM,cAAc,UAAU;AAAA,UAChC;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOP,eAAe,GAAG,GAAG,MAAM;AAIzB,UAAI,aAAa;AACjB,YAAM,EAAE,aAAa,IAAI;AACzB,UAAI,CAAC,aAAc;AACnB,YAAM,EAAE,aAAa,aAAa,cAAc,aAAa,IAAI;AAEjE,YAAM,cAAc;AACpB,YAAM,eAAe;AACrB,UAAI,CAAC,YAAY;AACf,cAAM,QAAS,KAAK,cAAc,IAAK,IAAK,cAAc;AAC1D,cAAM,SAAU,KAAK,eAAe,IAAK,IAAK,eAAe;AAC7D,qBAAa,IAAI,KAAK,MAAM,OAAO,MAAM;AAAA,MAC3C;AAaA,WAAK,aAAa,IAAK,cAAc;AACrC,WAAK,aAAa,IAAK,eAAe;AACtC,WAAK,UAAU;AAAA,IACjB;AAAA;AAAA,IAEA,uBAAuB;AACrB,UAAI,KAAK,WAAW;AAClB,aAAK,aAAa,gBAAgB,UAAU;AAAA,MAC9C,OAAO;AACL,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAAA,EACF,CAAC,EACA,OAAO;AAAA,IACN,eAAe,EAAE,cAAc,GAAG;AAChC,UAAI,kBAAkB,iBAAkB;AACxC,UAAI,KAAK,iBAAiB,CAAC,KAAK,WAAW;AAEzC,aAAK,OAAO;AACZ;AAAA,MACF;AACA,WAAK,gBAAgB;AAAA,IACvB;AAAA,IACA,aAAa,EAAE,cAAc,GAAG;AAC9B,cAAQ,eAAe;AAAA,QACrB,KAAK;AACH,eAAK,cAAc;AACnB;AAAA,QACF,KAAK;AACH,eAAK,qBAAqB;AAC1B;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA2EA,aAAa,YAAY;;;ACnMb,WAAR,YAA6B,MAAM;AACxC,WAAO,KACJ,IAAI;AAAA;AAAA;AAAA,MAGH,oBAAoB;AAAA;AAAA,MAEpB,cAAc;AAAA,IAChB,CAAC,EACA,OAAO;AAAA,MACN,aAAa;AAAA,QACX,MAAM;AAnBd,cAAAC;AAoBU,gBAAM,WAAUA,MAAA,KAAK,uBAAL,gBAAAA,IAAyB;AACzC,cAAI,mCAAS,YAAa,QAAO;AACjC,iBAAO;AAAA,QACT;AAAA,QACA,IAAI,QAAQ;AACV,eAAK,qBAAqB,SAAS,IAAI,QAAQ,MAAM,IAAI;AAAA,QAC3D;AAAA,MACF;AAAA,IACF,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOP,UAAU,GAAG,GAAG,MAAM;AACpB,cAAM,EAAE,gBAAgB,IAAI,KAAK;AACjC,YAAI,CAAC,gBAAgB,YAAa,QAAO;AACzC,cAAM,SAAS,IAAI,eAAO;AAC1B,aAAK,eAAe;AACpB,uBAAe,MAAM;AAEnB,eAAK,eAAe;AAAA,QACtB,CAAC;AACD,wBAAgB,OAAO,MAAM;AAC7B,YAAI,MAAM;AACR,iBAAO,aAAa;AAAA,QACtB;AACA,eAAO,eAAe,GAAG,CAAC;AAC1B,aAAK,cAAc;AACnB,eAAO;AAAA,MACT;AAAA,IACF,CAAC,EACA;AAAA;AAAA,MAGA,OAAO;AAAA,MACN,eAAe,OAAO;AACpB,YAAI,MAAM,OAAQ;AAClB,YAAI,KAAK,cAAe;AAExB,cAAM,EAAE,gBAAgB,IAAI,KAAK;AACjC,YAAI,CAAC,gBAAgB,YAAa;AAClC,cAAM,OAAO,gBAAgB,sBAAsB;AACnD,cAAM,IAAI,MAAM,QAAQ,KAAK,OAAO,OAAO;AAC3C,cAAM,IAAI,MAAM,QAAQ,KAAK,MAAM,OAAO;AAC1C,cAAM,aAAa,KAAK;AACxB,YAAI,YAAY;AACd,qBAAW,aAAa;AAAA,QAC1B;AAEA,aAAK,UAAU,GAAG,GAAG,IAAI;AAAA,MAC3B;AAAA,MACA,SAAS,GAAG;AACV,YAAI,KAAK,cAAc;AAErB;AAAA,QACF;AACA,YAAI,EAAE,eAAe,EAAE,OAAQ;AAC/B,YAAI,KAAK,cAAe;AACxB,YAAI,KAAK,gBAAgB,KAAK,aAAc;AAC5C,cAAM,aAAa,KAAK;AACxB,YAAI,YAAY;AACd,qBAAW,aAAa;AAAA,QAC1B;AAEA,aAAK,UAAU;AAAA,MACjB;AAAA,IACF,CAAC,EACA,GAAG;AAAA,MACF,oBAAoB,UAAU,SAAS;AACrC,cAAM,SAAS,KAAK;AACpB,YAAI,CAAC,SAAS;AACZ,cAAI,QAAQ;AACV,mBAAO,aAAa;AAAA,UACtB;AACA;AAAA,QACF;AACA,YAAI,CAAC,UAAU,OAAO,mBAAmB;AACvC,cAAI,KAAK,qBAAqB,OAAO;AAEnC;AAAA,UACF;AAEA,eAAK,UAAU,MAAM,MAAM,IAAI;AAC/B;AAAA,QACF;AACA,YAAI,OAAO,cAAe;AAC1B,eAAO,aAAa;AAAA,MACtB;AAAA,IACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBL;;;AC/GA,MAAO,iBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,MAAM,YAAY,EAClB,MAAM,UAAU,EAChB,MAAM,cAAc,EACpB,MAAM,UAAU,EAChB,MAAM,WAAW,EACjB,MAAM,UAAU,EAChB,MAAM,cAAc,EACpB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMN,qBAAqB;AAAE,aAAO,KAAK,KAAK;AAAA,IAAS;AAAA,EACnD,CAAC,EACA,IAAI;AAAA,IACH,YAAY;AAAA,IACZ,eAAe,CAAC,UAAU,UAAU,SAAS,MAAM;AAAA,EACrD,CAAC,EACA,QAAQ;AAAA;AAAA,IAEP,MAAM;AAAA,MACJ,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,MAKP,IAAI,OAAO,aAAa;AACtB,cAAM,mBAAkB,+BAAO,kBAAiB;AAChD;AAAA,UACE,KAAK,cAAc,SAAS,eAAe,IACvC,kBACA;AAAA,QACN;AAAA,MACF;AAAA,IACF;AAAA;AAAA,IAEA,UAAU;AAAA;AAAA,IAEV,QAAQ;AAAA;AAAA,IAER,UAAU;AAAA;AAAA,IAEV,MAAM;AAAA;AAAA,IAEN,SAAS;AAAA;AAAA;AAAA,IAGT,KAAK;AAAA;AAAA,IAEL,KAAK;AAAA;AAAA,IAEL,SAAS;AAAA;AAAA,IAET,SAAS;AAAA,EACX,CAAC,EACA,YAAY;AAAA,IACX,QAAQ,EAAE,MAAM,KAAK,KAAK,QAAQ,IAAI,MAAM;AAC1C,aAAO,QAAQ,OAAO,OAAO;AAAA,IAC/B;AAAA,IACA,cAAc,EAAE,SAAS,IAAI,MAAM;AACjC,aAAO,WAAW,OAAO;AAAA,IAC3B;AAAA,EACF,CAAC,EACA,QAAQ;AAAA;AAAA,IAEP,SAAS,SAAS;AAChB,UAAI,KAAK,MAAM;AACb,aAAK,KAAK,OAAO,MAAM,GAAG,OAAO;AAAA,MACnC,OAAO;AACL,aAAK,KAAK,QAAQ,MAAM,GAAG,OAAO;AAAA,MACpC;AAAA,IACF;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU,CAAC,EAAE,MAAM,EAAE,QAAQ,QAAQ,EAAE,MAAM;AAC5C,YAAQ,aAAa,UAAU,SAAS;AACxC,YAAQ,aAAa,QAAQ,QAAQ;AACrC,WAAO,aAAa,UAAU,QAAQ;AACtC,WAAO,aAAa,cAAc,sBAAsB;AACxD,WAAO,aAAa,mBAAmB,2BAA2B;AAAA,EACpE,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAqJA,aAAa,YAAY;;;ACvP5B,MAAO,qBAAQ,eACZ,OAAO,EACP,MAAM,mBAAmB,EACzB,IAAI;AAAA,IACH,eAAe,CAAC,UAAU,UAAU,SAAS,YAAY,MAAM;AAAA,EACjE,CAAC,EACA,QAAQ;AAAA;AAAA,IAEP,cAAc;AAAA,MACZ,IAAI,EAAE,MAAM,SAAS,cAAc,GAAG;AACpC,YAAI,SAAS,WAAY,QAAO;AAChC,eAAO,gBAAgB,UAAW,UAAU,SAAS;AAAA,MACvD;AAAA,IACF;AAAA;AAAA,IAEA,UAAU,EAAE,KAAK,GAAG;AAClB,aAAO,SAAS;AAAA,IAClB;AAAA;AAAA,IAGA,aAAa,EAAE,OAAO,KAAK;AAAA,EAC7B,CAAC,EACA,YAAY;AAAA,IACX,cAAc,EAAE,SAAS,UAAU,UAAU,GAAG;AAC9C,UAAI,CAAC,YAAY,aAAa,UAAW,QAAO;AAChD,aAAO;AAAA,IACT;AAAA,EACF,CAAC,EACA,YAAY;AAAA,IACX,SAAS;AAAA,MACP,QAAQ,OAAO;AACb,YAAI,MAAM,QAAQ,WAAW,MAAM,QAAQ,IAAK;AAChD,cAAM;AAAA;AAAA,UAAyC,MAAM;AAAA;AACrD,YAAI,MAAM,SAAS,WAAY;AAC/B,cAAM,yBAAyB;AAC/B,cAAM,gBAAgB;AACtB,cAAM,eAAe;AACrB,YAAI,MAAM,SAAU;AAEpB,cAAM,MAAM;AAAA,MACd;AAAA,IACF;AAAA,EACF,CAAC,EACA,UAAU,CAAC,EAAE,MAAM,EAAE,MAAM,SAAS,QAAQ,EAAE,MAAM;AACnD,SAAK,gBAAgB,QAAQ;AAE7B,YAAQ,aAAa,gBAAgB,gBAAgB;AAErD,YAAQ,aAAa,UAAU,aAAa;AAC5C,YAAQ,aAAa,YAAY,WAAW;AAAA,EAC9C,CAAC,EACA,QAAQ;AAAA,IACP,SAAS;AAAA,MACP,GAAG;AAAA,MACH,IAAI,EAAE,SAAS,UAAU,QAAQ,UAAU,UAAU,GAAG;AACtD,YAAI,CAAC,UAAW,QAAO;AACvB,YAAI,SAAU,QAAO;AACrB,YAAI,UAAU;AACZ,cAAI,SAAS;AACX,mBAAO;AAAA,cACL,iBAAiB;AAAA,YACnB;AAAA,UACF;AACA,iBAAO;AAAA,YACL,OAAO;AAAA,UACT;AAAA,QACF;AACA,YAAI,QAAS,QAAO;AACpB,YAAI,UAAU,KAAM,QAAO;AAC3B,eAAO;AAAA,UACL,iBAAiB;AAAA,UACjB,OAAO,WAAW,UACd,8CACA;AAAA,QACN;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAgFA,aAAa,iBAAiB;;;AC9JjC,MAAO,mBAAQ,cACZ,OAAO,EACP,MAAM,aAAa,EACnB,QAAQ;AAAA;AAAA,IAEP,QAAQ;AAAA;AAAA,IAER,OAAO;AAAA;AAAA,IAEP,KAAK;AAAA;AAAA,IAEL,UAAU;AAAA;AAAA,IAEV,mBAAmB;AAAA,EACrB,CAAC,EACA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,IAKP,kBAAkB;AAAA,MAChB,MAAM;AAAA,MACN,IAAI,EAAE,OAAO,IAAI,GAAG;AAClB,eAAQ,SAAS,OAAO;AAAA,MAC1B;AAAA;AAAA,MAEA,gBAAgB,UAAU,UAAU;AAClC,aAAK,oBAAoB;AAAA,qBACZ,YAAY,YAAY,CAAC;AAAA,kBAC5B,YAAY,CAAC;AAAA;AAAA,MAEzB;AAAA,IACF;AAAA,EACF,CAAC,EACA,YAAY;AAAA;AAAA,IAEX,cAAc,EAAE,MAAM,GAAG;AACvB,aAAO,SAAS;AAAA,IAClB;AAAA,EACF,CAAC,EACA,OAAO;AAAA;AAAA,IAEN,WAAW;AACT;AAAA;AAAA,QAA2C,KAAK,KAAK,SAAU;AAAA;AAAA,IACjE;AAAA;AAAA,IAEA,SAAS;AACP;AAAA;AAAA,QAA2C,KAAK,KAAK,SAAU;AAAA;AAAA,IACjE;AAAA,EACF,CAAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA6EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAgKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA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",
  "names": ["_a", "_a", "_a", "_inactiveDocument", "fragment", "_a", "changes", "data", "tag", "defaultValue", "_a", "formattedTag", "_a", "html", "DOMString", "_a", "_a", "html", "_a", "option", "_a", "onClick", "_a"]
}
