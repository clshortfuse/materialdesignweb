{"version":3,"file":"entire-framework.min.js","mappings":"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","sources":["webpack:///../adapters/datatable/column.js","webpack:///../adapters/datatable/index.js","webpack:///../adapters/dom/index.js","webpack:///../adapters/list/index.js","webpack:///../adapters/search/index.js","webpack:///../components/bottomnav/index.js","webpack:///../components/bottomnav/item.js","webpack:///../components/button/index.js","webpack:///../components/chip/index.js","webpack:///../components/chip/item.js","webpack:///../components/datatable/cell.js","webpack:///../components/datatable/columnheader.js","webpack:///../components/datatable/index.js","webpack:///../components/datatable/row.js","webpack:///../components/datatable/rowheader.js","webpack:///../components/dialog/index.js","webpack:///../components/fab/index.js","webpack:///../components/layout/index.js","webpack:///../components/list/content.js","webpack:///../components/list/index.js","webpack:///../components/list/item.js","webpack:///../components/list/secondary.js","webpack:///../components/menu/index.js","webpack:///../components/menu/item.js","webpack:///../components/progress/index.js","webpack:///../components/selection/index.js","webpack:///../components/selection/input.js","webpack:///../components/selection/radiogroup.js","webpack:///../components/snackbar/index.js","webpack:///../components/tab/content.js","webpack:///../components/tab/index.js","webpack:///../components/tab/item.js","webpack:///../components/tab/list.js","webpack:///../components/tab/panel.js","webpack:///../components/textfield/index.js","webpack:///../core/aria/attributes.js","webpack:///../core/aria/button.js","webpack:///../core/aria/keyboard.js","webpack:///../core/aria/rovingtabindex.js","webpack:///../core/aria/tab.js","webpack:///../core/dom.js","webpack:///../core/overlay/index.js","webpack:///../core/ripple/index.js","webpack:///../core/throttler.js","webpack:///../core/transition/index.js"],"sourcesContent":["import * as DataTableColumnHeader from '../../components/datatable/columnheader.js';\nimport * as Selection from '../../components/selection/index.js';\nimport * as Attributes from '../../core/aria/attributes.js';\nimport { setTextNode } from '../../core/dom.js';\n\n/**\n * @template {Record<string, any>} T\n * @template {(keyof T & string)|string} K\n * @template {any} [R=any]\n * @callback DataTableAdapterColumnFormatter<T,K,R>\n * @param {K extends keyof T ? T[K] : undefined} value\n * @param {T} [object]\n * @return {R}\n */\n\n/**\n * @template {Record<string, any>} T\n * @callback DataTableAdapterColumnSorter<T>\n * @param {T} a\n * @param {T} b\n * @return {number}\n */\n\n/**\n * @template {Record<string, any>} T\n * @template {any} V\n * @callback DataTableAdapterColumnRenderer<T,V>\n * @param {HTMLTableCellElement} cell\n * @param {V} value\n * @param {T} data\n * @return {void}\n */\n\n/**\n * Constructor options for DataTableAdapterColumn\n * @template {Record<string, any>} T\n * @template {(keyof T & string)|string} K\n * @template {any} [R=any]\n * @typedef DataTableAdapterColumnOptions<T,K>\n * @prop {K} key\n * @prop {(string|DocumentFragment)} [name='']\n * @prop {'number'|'text'|'checkbox'} [type]\n * @prop {boolean} [rowSelector]\n * @prop {string} [tooltip]\n * @prop {boolean} [sortable]\n * @prop {boolean} [primaryColumn]\n * @prop {HTMLElement} [customSortIcon]\n * @prop {string} [innerHTML]\n * @prop {DocumentFragment} [fragment]\n * @prop {(value:K extends keyof T ? T[K] : undefined, object:T) => R} [formatter]\n * @prop {(cell: HTMLTableCellElement, value: R, data: T) => any} [renderer]\n * @prop {DataTableAdapterColumnSorter<T>} [sorter]\n */\n\n/** @return {HTMLElement} */\nfunction constructTableCheckbox() {\n  const element = document.createElement('div');\n  element.className = 'mdw-selection';\n  element.setAttribute('aria-checked', 'false');\n  const input = element.appendChild(document.createElement('div'));\n  input.className = 'mdw-selection__input mdw-datatable__widget';\n  const icon = element.appendChild(document.createElement('div'));\n  icon.className = 'mdw-selection__icon';\n  icon.setAttribute('mdw-checkbox', '');\n  Selection.attach(element);\n  return element;\n}\n\n/**\n * @template {Record<string, any>} T\n * @template {(keyof T & string)|string} K\n */\nexport default class DataTableAdapterColumn {\n  /** @param {DataTableAdapterColumnOptions<T,K>} options */\n  constructor(options) {\n    this.element = document.createElement('th');\n    if (options.innerHTML != null) {\n      this.element.innerHTML = options.innerHTML;\n    } else if (options.fragment) {\n      this.element.appendChild(options.fragment);\n    }\n    this.key = options.key;\n    this.element.dataset.key = options.key;\n\n    if (options.sortable) {\n      this.element.setAttribute('aria-sort', 'none');\n      let sortIcon = options.customSortIcon;\n      if (!sortIcon) {\n        sortIcon = document.createElement('span');\n        sortIcon.className = 'mdw-datatable__sort-icon material-icons';\n        sortIcon.textContent = 'arrow_downward';\n      }\n      this.element.prepend(sortIcon);\n    }\n    if (options.tooltip) {\n      const wrapper = document.createElement('span');\n      wrapper.className = 'mdw-tooltip__wrapper';\n      const target = wrapper.appendChild(document.createElement('span'));\n      target.className = 'mdw-tooltip__target';\n      target.append(options.name || '');\n      const tooltip = wrapper.appendChild(document.createElement('span'));\n      tooltip.className = 'mdw-tooltip mdw-theme';\n      tooltip.setAttribute('mdw-surface', 'background 700');\n      tooltip.setAttribute('mdw-dark', '');\n      tooltip.textContent = options.tooltip;\n      this.element.appendChild(wrapper);\n    } else if (options.name) {\n      this.element.append(options.name);\n    }\n\n    this.primaryColumn = options.primaryColumn;\n    if (options.primaryColumn) {\n      this.element.setAttribute('mdw-primary-column', '');\n    }\n\n    this.rowSelector = options.rowSelector;\n\n    if (this.rowSelector) {\n      this.element.setAttribute('mdw-selector', '');\n    }\n\n    this.type = options.type;\n    switch (options.type) {\n      case 'number':\n        this.element.setAttribute('mdw-number', '');\n        break;\n      case 'text':\n        this.element.setAttribute('mdw-text', '');\n        break;\n      // case 'checkbox':\n      default:\n    }\n\n    if (this.rowSelector && this.type === 'checkbox') {\n      const checkboxLabel = constructTableCheckbox();\n      this.element.appendChild(checkboxLabel);\n      this.element.classList.add('mdw-autofocus-widget');\n    }\n\n    if (options.renderer) {\n      this.renderer = options.renderer;\n    } else if (options.type === 'checkbox') {\n      this.renderer = DataTableAdapterColumn.defaultCheckboxRenderer;\n    } else {\n      this.renderer = DataTableAdapterColumn.defaultCellRenderer;\n    }\n    this.formatter = options.formatter || ((/** @type {any} */ value) => value);\n    this.sorter = options.sorter;\n    DataTableColumnHeader.attach(this.element);\n  }\n\n  /**\n   * @param {HTMLTableCellElement} cell\n   * @param {any} value\n   * @return {void}\n   */\n  static defaultCheckboxRenderer(cell, value) {\n    if (!cell.classList.contains('mdw-autofocus-widget')) {\n      cell.classList.add('mdw-autofocus-widget');\n    }\n    const checked = !!value;\n    const selectionElement = cell.getElementsByClassName('mdw-selection')[0]\n      || cell.appendChild(constructTableCheckbox());\n    Attributes.setChecked(selectionElement, checked);\n  }\n\n  /**\n   * @param {HTMLTableCellElement} cell\n   * @param {any} value\n   * @return {void}\n   */\n  static defaultCellRenderer(cell, value) {\n    const stringValue = (value == null) ? '' : value.toString();\n    setTextNode(cell, stringValue);\n  }\n}\n","import * as Button from '../../components/button/index.js';\nimport * as DataTableCell from '../../components/datatable/cell.js';\nimport * as DataTableColumnHeader from '../../components/datatable/columnheader.js';\nimport * as DataTable from '../../components/datatable/index.js';\nimport * as DataTableRow from '../../components/datatable/row.js';\nimport * as DataTableRowHeader from '../../components/datatable/rowheader.js';\nimport * as Selection from '../../components/selection/index.js';\nimport * as RovingTabIndex from '../../core/aria/rovingtabindex.js';\n\nimport DataTableAdapterColumn from './column.js';\n\n/**\n * @template {Record<string, any>} T\n * @template {(keyof T & string)|string} K\n * @typedef {import('./column').DataTableAdapterColumnOptions<T,K>} DataTableAdapterColumnOptions<T,K>\n */\n\n/**\n * Callback fired when value change is requested\n * Return truthy value to cancel updating object\n * @template {Record<string, any>} T\n * @template {keyof T & string} K\n * @callback DataTableAdapterOnValueChangeRequestedCallback<T>\n * @param {T} object\n * @param {K} key\n * @param {T[K]} value\n * @return {boolean} cancel\n */\n\n/**\n * Callback fired when value is changed\n * @template {Record<string, any>} T\n * @template {keyof T & string} K\n * @callback DataTableAdapterOnValueChangedCallback<T>\n * @param {T} object\n * @param {K} key\n * @param {T[K]} value\n * @return {void}\n */\n\n/**\n * @template {Record<string, any>} T\n * @callback DataTableAdapterFilter<T>\n * @param {T} element\n * @param {number} [index]\n * @param {T[]} array\n * @return {any}\n */\n\n/**\n * @template {Record<string, any>} T\n * @callback DataTableAdapterSorter<T>\n * @param {T} a\n * @param {T} b\n * @return {number}\n */\n\n/**\n * Constructor options for DataTableAdapter\n * @template T\n * @typedef DataTableAdapterOptions<T>\n * @prop {HTMLElement} datatable\n * @prop {T[]} datasource Object array\n * @prop {DataTableAdapterFilter<T>} [filter]\n * @prop {DataTableAdapterOnValueChangeRequestedCallback<T,keyof T & string>} [onValueChangeRequested]\n * @prop {DataTableAdapterOnValueChangedCallback<T,keyof T & string>} [onValueChanged]\n * @prop {DataTableAdapterSorter<T>} [sorter]\n */\n\n/** @template {Record<string, any>} T */\nexport default class DataTableAdapter {\n  /** @param {DataTableAdapterOptions<T>} options */\n  constructor(options) {\n    this.element = options.datatable;\n    this.datasource = options.datasource;\n    this.filter = options.filter;\n    this.sorter = options.sorter;\n    this.onValueChangeRequested = options.onValueChangeRequested;\n    this.onValueChanged = options.onValueChanged;\n    DataTable.attach(this.element);\n\n    this.onElementScrollListener = () => this.onElementScroll();\n\n    /**\n     * @param {CustomEvent} event\n     * @return {void}\n     */\n    this.onDataTableColumnHeaderSortListener = (event) => this.onDataTableColumnHeaderSort(event);\n    /**\n     * @param {CustomEvent} event\n     * @return {void}\n     */\n    this.onCheckedChangeEventListener = (event) => this.onCheckedChangeEvent(event);\n\n    this.element.addEventListener(\n      DataTableColumnHeader.SORT_EVENT,\n      this.onDataTableColumnHeaderSortListener,\n    );\n    this.element.addEventListener(\n      Selection.CHECKED_CHANGE_EVENT,\n      this.onCheckedChangeEventListener,\n    );\n    this.element.addEventListener(\n      DataTableRow.SELECTED_CHANGE_EVENT,\n      DataTableAdapter.onRowSelectedChangeEvent,\n    );\n\n    /** @type {HTMLTableSectionElement} */\n    this.tbody = null;\n    this.scroller = DataTable.getScroller(this.element);\n    this.element.setAttribute('mdw-datatable-adapter', '');\n    /** @type {DataTableAdapterColumn<T,any>[]} */\n    this.columns = [];\n    this.page = 0;\n    this.pageLimit = 0;\n    this.debounceTimeMs = 0;\n    this.throttleTimeMs = 0;\n    this.useLazyRendering = false;\n  }\n\n  /**\n   * @param {CustomEvent} event\n   * @return {void}\n   */\n  onDataTableColumnHeaderSort(event) {\n    const cell = /** @type {HTMLTableHeaderCellElement} */ (event.target);\n    const ascending = event.detail.sort === 'ascending';\n    this.updateSortIcons(cell, ascending);\n    if (this.updateSortColumn) {\n      this.updateSortColumn(cell, ascending);\n    }\n  }\n\n  detach() {\n    this.element.removeAttribute('mdw-datatable-adapter');\n    this.element = null;\n    this.datasource = null;\n    this.filteredDatasource = null;\n  }\n\n  /**\n   * @param {boolean} [forceRefresh=false]\n   * @return {void}\n   */\n  performThrottledRender(forceRefresh = false) {\n    this.performLazyRender(forceRefresh);\n    if (this.throttledRenderPending) {\n      this.throttledRenderPending = false;\n      this.scheduleThrottledRender();\n    }\n  }\n\n  /**\n   * @param {boolean} [forceRefresh=false]\n   * @return {void}\n   */\n  scheduleThrottledRender(forceRefresh = false) {\n    if (this.throttleTimeMs < 17) {\n      window.requestAnimationFrame(() => this.performThrottledRender(forceRefresh));\n    } else {\n      setTimeout(() => this.performThrottledRender(forceRefresh), this.throttleTimeMs);\n    }\n  }\n\n  /**\n   * @param {CustomEvent} event\n   * @return {void}\n   */\n  static onRowSelectedChangeEvent(event) {\n    const row = /** @type {HTMLTableRowElement} */ (event.target);\n    const selectionElement = row.querySelector('[mdw-selector] .mdw-selection[aria-checked]');\n    if (!selectionElement) {\n      return;\n    }\n    Selection.setChecked(selectionElement, event.detail.value, true);\n  }\n\n  onElementScroll() {\n    if (this.debounceTimeout) {\n      clearTimeout(this.debounceTimeout);\n      this.debounceTimeout = null;\n    }\n    if (this.throttledRenderPending) {\n      // Will perform in the future\n      return;\n    }\n    if (this.debounceTimeMs) {\n      this.debounceTimeout = setTimeout(() => {\n        this.scheduleThrottledRender();\n        this.throttledRenderPending = true;\n      }, this.debounceTimeMs);\n    } else {\n      this.scheduleThrottledRender();\n      this.throttledRenderPending = true;\n    }\n  }\n\n  buildScrollListener() {\n    this.scroller.addEventListener('scroll', this.onElementScrollListener, { passive: true });\n  }\n\n  destroyScrollListener() {\n    this.scroller.removeEventListener('scroll', this.onElementScrollListener);\n  }\n\n  /**\n   * @param {CustomEvent} event\n   * @return {void}\n   */\n  onCheckedChangeEvent(event) {\n    const selectionElement = /** @type {HTMLElement} */ (event.target);\n    const checked = event.detail.value === 'true';\n    const currentCell = this.getTableCell(selectionElement);\n    if (currentCell.getAttribute('role') === 'columnheader') {\n      this.setCheckOnAllRows(checked, currentCell.cellIndex);\n      this.setHasSelection(checked);\n      return;\n    }\n    const currentRow = this.getTableRow(selectionElement);\n    const object = this.getDataForTableRow(currentRow);\n    // eslint-disable-next-line prefer-destructuring\n    const key = /** @type {keyof T & string} */ (currentCell.dataset.key);\n    if (this.onValueChangeRequested?.(object, key, checked)) {\n      event.preventDefault();\n      return;\n    }\n    object[key] = checked;\n    this.onValueChanged?.(object, key, checked);\n    if (currentCell.hasAttribute('mdw-selector')) {\n      DataTableRow.setSelected(currentRow, event.detail.value, true);\n    }\n  }\n\n  /**\n   * Overridable sorting method\n   * @param {HTMLTableHeaderCellElement} [tableHeaderCell] null if none\n   * @param {boolean} [ascending=false]\n   * @return {void}\n   */\n  updateSortColumn(tableHeaderCell, ascending) {\n    if (!tableHeaderCell) {\n      this.sorter = null;\n      this.refresh();\n      return;\n    }\n    if (tableHeaderCell.cellIndex === -1) {\n      // Header not attached to row!\n      return;\n    }\n    const index = tableHeaderCell.cellIndex;\n    const tableColumn = this.columns[index];\n    const direction = ascending ? 1 : -1;\n    this.sorter = ((/** @type {T} */ a, /** @type {T} */ b) => {\n      const valueA = a[tableColumn.key];\n      const valueB = b[tableColumn.key];\n      if (tableColumn.sorter) {\n        return tableColumn.sorter(a, b) * direction;\n      }\n      if (valueA == null) {\n        if (valueB == null) {\n          return 0;\n        }\n        return -1 * direction;\n      }\n      if (valueB == null) {\n        return direction;\n      }\n      if (tableColumn.type === 'number') {\n        return (Number.parseFloat(valueA) - Number.parseFloat(valueB)) * direction;\n      }\n      if (tableColumn.type === 'checkbox') {\n        return ((valueA ? 1 : 0) - (valueB ? 1 : 0)) * direction;\n      }\n      if ('localeCompare' in valueA) {\n        return valueA.localeCompare(valueB) * direction;\n      }\n      // eslint-disable-next-line eqeqeq\n      if (valueA == valueB) {\n        return 0;\n      }\n      return (valueA - valueB) * direction;\n    });\n    this.refresh();\n  }\n\n  /**\n   * @param {HTMLTableHeaderCellElement} [sortedTableHeaderCell] null if none\n   * @param {boolean} [ascending=false]\n   * @return {void}\n   */\n  updateSortIcons(sortedTableHeaderCell, ascending) {\n    if (sortedTableHeaderCell) {\n      if (ascending) {\n        sortedTableHeaderCell.setAttribute('aria-sort', 'ascending');\n      } else {\n        sortedTableHeaderCell.setAttribute('aria-sort', 'descending');\n      }\n    }\n    for (const otherTableHeader of this.getHeaderRow().getElementsByTagName('th')) {\n      if (otherTableHeader !== sortedTableHeaderCell && otherTableHeader.hasAttribute('aria-sort')) {\n        otherTableHeader.setAttribute('aria-sort', 'none');\n      }\n    }\n  }\n\n  /**\n   * @param {boolean} value\n   * @param {number} columnIndex\n   * @return {void}\n   */\n  setCheckOnAllRows(value, columnIndex) {\n    const column = this.columns[columnIndex];\n    for (const object of this.datasource) {\n      object[column.key] = value;\n    }\n    this.refresh();\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableRowElement}\n   */\n  getTableRow(element) {\n    if (element === this.element) {\n      return null;\n    }\n    if (element instanceof HTMLTableRowElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return this.getTableRow(element.parentElement);\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @return {HTMLTableCellElement}\n   */\n  getTableCell(element) {\n    if (element === this.element) {\n      return null;\n    }\n    if (element instanceof HTMLTableCellElement) {\n      return element;\n    }\n    if (!element.parentElement) {\n      return null;\n    }\n    return this.getTableCell(element.parentElement);\n  }\n\n  /** @return {T[]} */\n  getSelectedRows() {\n    const selectorColumn = this.columns.find((column) => column.rowSelector);\n    if (!selectorColumn) {\n      return [];\n    }\n    return this.getDatasource().filter((row) => row[selectorColumn.key]);\n  }\n\n  /**\n   * @param {boolean} value\n   * @return {void}\n   */\n  setHasSelection(value) {\n    if (value) {\n      this.element.setAttribute('mdw-has-selection', '');\n      return;\n    }\n    this.element.removeAttribute('mdw-has-selection');\n  }\n\n  /**\n   * @param {T[]} datasource Object array\n   * @return {void}\n   */\n  setDatasource(datasource) {\n    this.datasource = datasource;\n  }\n\n  /**\n   * Toggle lazy rending for datasources\n   * @param {boolean} value\n   * @return {void}\n   */\n  setUseLazyRendering(value) {\n    this.useLazyRendering = value;\n    if (value) {\n      this.buildScrollListener();\n    } else {\n      this.destroyScrollListener();\n    }\n  }\n\n  /**\n   * @template {(keyof T & string)|string} K\n   * @param {DataTableAdapterColumnOptions<T,K>} options\n   * @return {DataTableAdapterColumn<T,K>}\n   */\n  addColumn(options) {\n    const tableColumn = new DataTableAdapterColumn(options);\n    const headerRow = this.getHeaderRow();\n    headerRow.appendChild(tableColumn.element);\n    this.columns.push(tableColumn);\n    return tableColumn;\n  }\n\n  updatePaginator() {\n    if (!this.pageLimit) {\n      return;\n    }\n    const min = this.page * this.pageLimit;\n    const total = this.getDatasource().length;\n    let max = this.pageLimit + min;\n    if (max > total) {\n      max = total;\n    }\n    this.paginationDetailsElement.textContent = `${min + 1}-${max} of ${total}`;\n    this.previousPageButton.setAttribute('aria-disabled', (min === 0 ? 'true' : 'false'));\n    this.nextPageButton.setAttribute('aria-disabled', (max === total ? 'true' : 'false'));\n  }\n\n  /**\n   * @param {Object} options\n   * @param {boolean} [options.disabled=false]\n   * @param {number} [options.limit=10]\n   * @param {number[]} [options.limits=[10,25,50,100]]\n   * @return {void}\n   */\n  setPagination(options = {}) {\n    const footer = this.getFooter(!options.disabled);\n    if (options.disabled) {\n      this.pageLimit = 0;\n      this.page = 0;\n      if (footer) {\n        footer.style.setProperty('display', 'none');\n      }\n      this.needsDraw = true;\n      return;\n    }\n    footer.style.removeProperty('display');\n    let optionsElement = footer.getElementsByClassName('mdw-datatable__footer-options')[0];\n    if (!optionsElement) {\n      optionsElement = document.createElement('div');\n      optionsElement.classList.add('mdw-datatable__footer-options');\n      const rowsPerPageText = document.createElement('span');\n      rowsPerPageText.textContent = 'Rows per page';\n      const limits = options.limits || [10, 25, 50, 100];\n      const limitsElement = document.createElement('label');\n      limitsElement.classList.add('mdw-textfield');\n      limitsElement.setAttribute('mdw-solo', '');\n      const select = document.createElement('select');\n      select.classList.add('mdw-textfield__input');\n      for (const limit of limits) {\n        const option = document.createElement('option');\n        option.value = limit.toString();\n        option.textContent = limit.toString();\n        option.className = 'mdw-theme';\n        option.setAttribute('mdw-surface', 'card');\n        select.appendChild(option);\n      }\n      select.value = (options.limit && options.limit.toString()) || '10';\n      const dropdownIcon = document.createElement('div');\n      dropdownIcon.classList.add('mdw-textfield__icon');\n      dropdownIcon.setAttribute('mdw-dropdown', '');\n      limitsElement.appendChild(select);\n      limitsElement.appendChild(dropdownIcon);\n      optionsElement.appendChild(rowsPerPageText);\n      optionsElement.appendChild(limitsElement);\n      footer.appendChild(optionsElement);\n      select.addEventListener('input', () => {\n        this.pageLimit = Number.parseInt(select.value, 10);\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n    }\n\n    this.paginationDetailsElement ||= /** @type {HTMLDivElement} */ (footer.getElementsByClassName('mdw-datatable__footer-details')[0]);\n\n    if (!this.paginationDetailsElement) {\n      this.paginationDetailsElement = document.createElement('div');\n      this.paginationDetailsElement.classList.add('mdw-datatable__footer-details');\n      footer.appendChild(this.paginationDetailsElement);\n    }\n\n    this.paginationControls ||= /** @type {HTMLDivElement} */ (footer.getElementsByClassName('mdw-datatable__footer-controls')[0]);\n\n    if (!this.paginationControls) {\n      this.paginationControls = document.createElement('div');\n      this.paginationControls.classList.add('mdw-datatable__footer-controls');\n      footer.appendChild(this.paginationControls);\n    }\n    if (!this.previousPageButton || !this.nextPageButton) {\n      const buttons = this.paginationControls.getElementsByClassName('mdw-button');\n      if (buttons.length !== 2) {\n        this.previousPageButton = document.createElement('a');\n        this.previousPageButton.classList.add('mdw-button');\n        this.previousPageButton.classList.add('material-icons');\n        this.previousPageButton.setAttribute('mdw-icon', '');\n        this.previousPageButton.textContent = 'chevron_left';\n        this.paginationControls.appendChild(this.previousPageButton);\n        Button.attach(this.previousPageButton);\n\n        this.nextPageButton = document.createElement('a');\n        this.nextPageButton.classList.add('mdw-button');\n        this.nextPageButton.classList.add('material-icons');\n        this.nextPageButton.setAttribute('mdw-icon', '');\n        this.nextPageButton.textContent = 'chevron_right';\n        this.paginationControls.appendChild(this.nextPageButton);\n        Button.attach(this.nextPageButton);\n      } else {\n        this.previousPageButton = buttons[0];\n        this.nextPageButton = buttons[1];\n      }\n      this.previousPageButton.addEventListener('click', () => {\n        if (this.previousPageButton.getAttribute('aria-disabled') === 'true') {\n          return;\n        }\n        this.page -= 1;\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n      this.nextPageButton.addEventListener('click', () => {\n        if (this.nextPageButton.getAttribute('aria-disabled') === 'true') {\n          return;\n        }\n        this.page += 1;\n        this.updateRowCount(false);\n        this.updatePaginator();\n        this.refreshRows();\n      });\n    }\n    this.pageLimit = options.limit || 10;\n    this.updateRowCount(false);\n    this.updatePaginator();\n    this.refreshRows();\n  }\n\n  /**\n   * @param {boolean} create\n   * @return {HTMLElement}\n   */\n  getFooter(create) {\n    let footer = /** @type {HTMLElement} */ (this.element.getElementsByClassName('mdw-datatable__footer')[0]);\n    if (!footer && create) {\n      footer = document.createElement('div');\n      footer.classList.add('mdw-datatable__footer');\n      this.element.appendChild(footer);\n    }\n    return footer;\n  }\n\n  /**\n   * @param {HTMLTableRowElement} el\n   * @param {?number} viewportTop\n   * @param {?number} viewportBottom\n   * @return {boolean}\n   */\n  isRowVisible(\n    el,\n    viewportTop = this.scroller.scrollTop,\n    viewportBottom = this.scroller.scrollTop + this.scroller.offsetHeight,\n  ) {\n    const rowTop = el.offsetTop;\n    const rowBottom = rowTop + el.offsetHeight;\n    if (rowTop > viewportTop && rowTop < viewportBottom) {\n      // Top of row is visible\n      return true;\n    }\n    if (rowBottom > viewportTop && rowBottom < viewportBottom) {\n      // Bottom of row is visible\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {(HTMLTableRowElement[])} visibleRows\n   * @return {void}\n   */\n  clearNonvisibleRows(visibleRows) {\n    const tbody = this.getTableBody();\n    if (visibleRows.length === tbody.rows.length) {\n      return;\n    }\n    let firstRowIndex = Number.POSITIVE_INFINITY;\n    let lastRowIndex = Number.NEGATIVE_INFINITY;\n    if (visibleRows.length) {\n      firstRowIndex = visibleRows[0].sectionRowIndex;\n      lastRowIndex = visibleRows[visibleRows.length - 1].sectionRowIndex;\n    }\n    for (let index = 0; index < tbody.rows.length; index++) {\n      const row = tbody.rows[index];\n      if (index >= firstRowIndex && index <= lastRowIndex) {\n        continue;\n      }\n      if (row.lastChild) {\n        // Store row height to prevent layout shifting\n        row.style.setProperty('height', `${row.offsetHeight || 0}px`);\n      }\n      while (row.lastChild) {\n        row.removeChild(row.lastChild);\n      }\n    }\n  }\n\n  /**\n   * @return {HTMLTableRowElement[]}\n   */\n  getLazyRenderRows() {\n    const tbody = this.getTableBody();\n    const len = tbody.rows.length;\n    /** @type {HTMLTableRowElement[]} */\n    const rows = [];\n    const minRowCount = window.screen.height / 48;\n    if (len <= minRowCount) {\n      for (const row of tbody.rows) {\n        rows.push(row);\n      }\n      return rows;\n    }\n    let foundFirstVisibleRow = false;\n    let startIndex = 0;\n    let endIndex = 0;\n    const viewportTop = this.scroller.scrollTop;\n    const viewportBottom = viewportTop + this.scroller.offsetHeight;\n\n    for (let i = 0; i < tbody.rows.length; i++) {\n      const row = tbody.rows.item(i);\n      if (this.isRowVisible(row, viewportTop, viewportBottom)) {\n        if (!foundFirstVisibleRow) {\n          foundFirstVisibleRow = true;\n          startIndex = i;\n        }\n        endIndex = i;\n      } else if (foundFirstVisibleRow) {\n        break;\n      }\n    }\n\n    while ((endIndex - startIndex) + 1 < minRowCount) {\n      if (startIndex === 0) {\n        endIndex += 1;\n      } else if (endIndex === len - 1) {\n        startIndex -= 1;\n      } else {\n        startIndex -= 1;\n        endIndex += 1;\n      }\n    }\n    for (let i = startIndex; i <= endIndex; i += 1) {\n      rows.push(tbody.rows.item(i));\n    }\n\n    return rows;\n  }\n\n  /**\n   * @param {boolean} forceRefresh\n   * @return {void}\n   */\n  performLazyRender(forceRefresh = false) {\n    const visibleRows = this.getLazyRenderRows();\n    for (const row of visibleRows) {\n      if (forceRefresh || !row.cells.length) {\n        this.refreshRow(row.sectionRowIndex);\n      }\n    }\n    this.clearNonvisibleRows(visibleRows);\n  }\n\n  /**\n   * @param {DataTableAdapterFilter<T>} filter\n   * @return {void}\n   */\n  setFilter(filter) {\n    this.filter = filter;\n    this.refreshFilter();\n  }\n\n  /**\n   * @param {DataTableAdapterSorter<T>} sorter\n   * @return {void}\n   */\n  setSorter(sorter) {\n    this.sorter = sorter;\n    this.refreshFilter();\n  }\n\n  refreshFilter() {\n    if (this.filter && this.sorter) {\n      this.filteredDatasource = this.datasource.filter(this.filter).sort(this.sorter);\n    } else if (this.filter) {\n      this.filteredDatasource = this.datasource.filter(this.filter);\n    } else if (this.sorter) {\n      this.filteredDatasource = this.datasource.slice(0).sort(this.sorter);\n    } else {\n      this.filteredDatasource = null;\n    }\n  }\n\n  /**\n   * Get filtered datasource\n   * @return {T[]}\n   */\n  getDatasource() {\n    if (this.filter || this.sorter) {\n      if (this.filteredDatasource == null) {\n        this.refreshFilter();\n      }\n      return this.filteredDatasource;\n    }\n    return this.datasource;\n  }\n\n  /**\n   * Update number of rows in table\n   * @param {boolean} [refresh=false] Refresh new rows\n   * @return {void}\n   */\n  updateRowCount(refresh) {\n    const tbody = this.getTableBody();\n    const rowLength = tbody.rows.length;\n\n    const datasource = this.getDatasource();\n    let rowsToDisplay = datasource.length;\n    if (this.pageLimit) {\n      let offset = this.page * this.pageLimit;\n      if (offset > rowsToDisplay) {\n        // Datasource or filter likely changed\n        // Reset to page 0\n        this.page = 0;\n        offset = 0;\n      }\n      rowsToDisplay -= offset;\n      if (rowsToDisplay > this.pageLimit) {\n        rowsToDisplay = this.pageLimit;\n      }\n    }\n\n    const rowDifference = rowsToDisplay - rowLength;\n    const newRows = [];\n\n    if (rowDifference < 0) {\n      // too many rows\n      for (let i = rowLength - 1; i >= rowsToDisplay; i -= 1) {\n        const row = tbody.rows.item(i);\n        tbody.removeChild(row);\n      }\n    }\n    if (rowDifference > 0) {\n      const fragment = document.createDocumentFragment();\n      for (let i = 0; i < rowDifference; i += 1) {\n        const row = document.createElement('tr');\n        DataTableRow.attach(row);\n        newRows.push(row);\n        fragment.appendChild(row);\n      }\n      if (this.element.hasAttribute('mdw-row-focusable')) {\n        RovingTabIndex.setupTabIndexes(newRows);\n      }\n      tbody.appendChild(fragment);\n    }\n    if (refresh && rowDifference !== 0) {\n      if (this.useLazyRendering) {\n        this.scheduleThrottledRender(true);\n      } else {\n        for (const row of newRows) {\n          this.refreshRow(row.sectionRowIndex);\n        }\n      }\n    }\n  }\n\n  /** @return {void} */\n  refreshRows() {\n    if (this.useLazyRendering) {\n      this.performLazyRender(true);\n    } else {\n      const tbody = this.getTableBody();\n      for (let i = 0; i < tbody.rows.length; i++) {\n        this.refreshRow(i);\n      }\n    }\n    if (this.useLazyRendering) {\n      this.scheduleThrottledRender();\n    }\n  }\n\n  /** @return {void} */\n  refresh() {\n    this.refreshFilter();\n    this.updateRowCount(false);\n    this.updatePaginator();\n    this.refreshRows();\n  }\n\n  /**\n   * @param {HTMLTableRowElement} row\n   * @return {T}\n   */\n  getDataForTableRow(row) {\n    const index = (row.sectionRowIndex) + (this.page * this.pageLimit);\n    return this.getDatasource()[index];\n  }\n\n  /**\n   * @param {T} data\n   * @return {HTMLTableRowElement} row\n   */\n  getTableRowForData(data) {\n    const datasourceIndex = this.getDatasource().indexOf(data);\n    if (datasourceIndex === -1) {\n      return null;\n    }\n    const minIndex = this.page * this.pageLimit;\n    return this.getTableBody().rows.item(datasourceIndex - minIndex);\n  }\n\n  /**\n   * @param {number} rowIndex\n   * @return {void}\n   */\n  refreshRow(rowIndex) {\n    const row = this.getTableBody().rows.item(rowIndex);\n    row.style.removeProperty('height');\n    for (let i = 0; i < this.columns.length; i++) {\n      this.refreshCell(i, rowIndex);\n    }\n  }\n\n  /**\n   * @param {number} columnIndex\n   * @param {number} rowIndex\n   * @return {void}\n   */\n  refreshCell(columnIndex, rowIndex) {\n    const tableColumn = this.columns[columnIndex];\n    const row = this.getTableBody().rows.item(rowIndex);\n    if (!row) return;\n    let len = row.cells.length;\n    let createdCells = false;\n    while (len <= columnIndex) {\n      createdCells = true;\n      // Generate cells\n      const missingColumn = this.columns[len];\n      let missingCell;\n      if (missingColumn.rowSelector) {\n        missingCell = document.createElement('th');\n        row.appendChild(missingCell);\n        DataTableRowHeader.attach(missingCell);\n      } else {\n        missingCell = row.insertCell();\n        DataTableCell.attach(missingCell);\n      }\n      switch (missingColumn.type) {\n        case 'checkbox':\n          missingCell.setAttribute('mdw-checkbox', '');\n          break;\n        case 'number':\n          missingCell.setAttribute('mdw-number', '');\n          break;\n        case 'text':\n          missingCell.setAttribute('mdw-text', '');\n          break;\n        default:\n      }\n      missingCell.dataset.key = missingColumn.key;\n      if (missingColumn.rowSelector) {\n        missingCell.setAttribute('mdw-selector', '');\n      }\n      if (missingColumn.primaryColumn) {\n        missingCell.setAttribute('mdw-primary-column', '');\n      }\n      len += 1;\n    }\n    if (createdCells && this.element.hasAttribute('mdw-cell-focusable')) {\n      RovingTabIndex.setupTabIndexes(row.querySelectorAll(DataTable.CELL_TABINDEX_QUERIES.join(',')));\n    }\n    const cell = row.cells.item(columnIndex);\n    const data = this.getDataForTableRow(row);\n    const value = data[tableColumn.key];\n    if (tableColumn.rowSelector && row.getAttribute('aria-selected') !== (value ? 'true' : 'false')) {\n      row.setAttribute('aria-selected', (value ? 'true' : 'false'));\n    }\n    const formattedValue = tableColumn.formatter(value, data);\n    tableColumn.renderer(cell, formattedValue, data);\n  }\n\n  /**\n   * @template {keyof T & string} K\n   * @param {HTMLTableCellElement|DataTableAdapterColumn<T,K>|number|string} search\n   * @return {DataTableAdapterColumn<T,K>}\n   */\n  getColumn(search) {\n    if (search instanceof DataTableAdapterColumn) {\n      return search;\n    }\n    if (search instanceof HTMLTableCellElement) {\n      return this.columns.find((column) => column.element === search);\n    }\n    if (typeof search === 'string') {\n      return this.columns.find((column) => column.element.dataset.key === search);\n    }\n    return this.columns[search];\n  }\n\n  /** @return {HTMLTableElement} */\n  getTable() {\n    let table = this.element.getElementsByTagName('table')[0];\n    if (!table) {\n      table = document.createElement('table');\n      const footer = this.element.getElementsByClassName('mdw-datatable__footer')[0];\n      if (footer) {\n        this.element.insertBefore(table, footer);\n      } else {\n        this.element.appendChild(table);\n      }\n    }\n    return table;\n  }\n\n  /** @return {HTMLTableRowElement} */\n  getHeaderRow() {\n    let thead = this.element.getElementsByTagName('thead')[0];\n    if (!thead) {\n      const table = this.getTable();\n      thead = document.createElement('thead');\n      table.appendChild(thead);\n    }\n    let headerRow = thead.getElementsByTagName('tr')[0];\n    if (!headerRow) {\n      headerRow = document.createElement('tr');\n      thead.appendChild(headerRow);\n    }\n    return headerRow;\n  }\n\n  /** @return {HTMLTableSectionElement} */\n  getTableBody() {\n    // eslint-disable-next-line no-return-assign\n    return this.tbody\n      ||= this.element.getElementsByTagName('tbody')[0]\n      || this.getTable().appendChild(document.createElement('tbody'));\n  }\n\n  /**\n   * @param {number} columnIndex\n   * @return {void}\n   */\n  refreshColumn(columnIndex) {\n    const tbody = this.getTableBody();\n    for (let i = 0; i < tbody.rows.length; i++) {\n      this.refreshCell(columnIndex, i);\n    }\n  }\n}\n","/** @return {HTMLElement} */\nfunction AnyDomAdapterCreator() {\n  return document.createElement('div');\n}\n\n/**\n * @param {HTMLElement} element\n * @param {any} data\n * @return {void}\n */\nfunction AnyDomAdapterRenderer(element, data) {\n  let s = '';\n  if (data != null) {\n    s = data.toString ? data.toString() : String(data).toString();\n  }\n  if (element.textContent !== s) {\n    element.textContent = s;\n  }\n}\n\n/**\n * @typedef {Object} DomAdapterRecycleOptions\n * @prop {HTMLElement} scroller Scrolling container element\n * @prop {boolean} [equalSize=false] All elements are equally sized\n * @prop {boolean} [block=false] All elements are block-like\n * @prop {boolean} [fastMeasure=false] Use integer precision for layout\n * @prop {boolean} [deferRender=false] Render on scroll idle\n */\n\n/**\n * @template T1\n * @template {HTMLElement} T2\n * @typedef {Object} DomAdapterCreateOptions\n * @prop {HTMLElement} element\n * @prop {Array<T1>} datasource\n * @prop {DomAdapterRecycleOptions} [recycle]\n * @prop {function(T1):T2} [create={function(T1):HTMLElement}]\n * @prop {function(T2, T1, number):void} [render={function(HTMLElement,T1):void}]\n */\n\n/**\n * @typedef {Object} DomAdapterBounds\n * @prop {number} top\n * @prop {number=} right\n * @prop {number=} bottom\n * @prop {number=} left\n * @prop {number=} height\n * @prop {number=} width\n */\n\n/**\n * @template T1\n * @template {HTMLElement} T2\n */\nexport default class DomAdapter {\n  /** @param {DomAdapterCreateOptions<T1, T2>} options */\n  constructor(options) {\n    this.element = options.element;\n    this.datasource = options.datasource;\n    /** @type {Map<T1, T2>} */\n    this.dataElementMap = new Map();\n    /** @type {WeakMap<T2, T1>} */\n    this.elementDataMap = new WeakMap();\n    /** @type {WeakMap<any, DomAdapterBounds>} */\n    this.dataBoundsMap = new WeakMap();\n    this.create = options.create || AnyDomAdapterCreator;\n    this.render = options.render || AnyDomAdapterRenderer;\n    this.onScrollerScrollListener = () => this.onScrollerScroll();\n    this.setupRecycleOptions(options.recycle);\n  }\n\n  /**\n   * @param {DomAdapterRecycleOptions} recycleOptions\n   * @return {void}\n   */\n  setupRecycleOptions(recycleOptions) {\n    this.recycle = recycleOptions;\n    if (!this.recycle) {\n      return;\n    }\n    this.recycle.scroller.addEventListener('scroll', this.onScrollerScrollListener, { passive: true });\n    const scrollerStyle = window.getComputedStyle(this.recycle.scroller);\n    if (scrollerStyle.position === 'static') {\n      this.recycle.scroller.style.setProperty('position', 'relative');\n    }\n  }\n\n  onScrollerScroll() {\n    this.drawViewport(false);\n    if (this.deferRenderDebounce) {\n      clearTimeout(this.deferRenderDebounce);\n      this.deferRenderDebounce = null;\n    }\n    if (this.recycle && this.recycle.deferRender) {\n      this.deferRenderDebounce = setTimeout(() => {\n        this.drawViewport(true);\n      }, 50);\n    }\n  }\n\n  /**\n   * @param {boolean} [checkForRemovedItems=true]\n   * @return {void}\n   */\n  refresh(checkForRemovedItems = true) {\n    if (checkForRemovedItems) {\n      /** @type {T1[]} */\n      const unlinkedDataItems = [];\n      /** @type {T2[]} */\n      const orphanedElements = [];\n      for (const data of this.dataElementMap.keys()) {\n        if (!this.datasource.includes(data)) {\n          unlinkedDataItems.push(data);\n        }\n      }\n      let i = this.element.children.length;\n      while (i--) {\n        const child = /** @type {T2} */ (this.element.children.item(i));\n        const data = this.elementDataMap.get(child);\n        if (data && !this.datasource.includes(data)) {\n          orphanedElements.push(child);\n        }\n      }\n      for (const data of unlinkedDataItems) {\n        this.removeItem(data);\n      }\n      for (const el of orphanedElements) {\n        this.removeElement(el);\n      }\n    }\n    if (this.recycle) {\n      this.element.style.removeProperty('box-sizing');\n      this.element.style.removeProperty('padding-top');\n      this.element.style.removeProperty('padding-bottom');\n      this.element.style.removeProperty('height');\n      this.clear();\n      this.drawViewport(true);\n    } else {\n      for (const data of this.datasource) {\n        this.refreshItem(data);\n      }\n    }\n  }\n\n  /** @return {void} */\n  clear() {\n    this.maxBottomBounds = 0;\n    this.dataElementMap.clear();\n    this.dataBoundsMap = new WeakMap();\n    this.elementDataMap = new WeakMap();\n    while (this.element.lastChild) {\n      this.element.removeChild(this.element.lastChild);\n    }\n  }\n\n  /**\n   * @param {boolean} [idle=true]\n   * @return {void}\n   */\n  drawViewport(idle = true) {\n    if (!this.recycle || !this.recycle.scroller) {\n      return;\n    }\n    const itemsToDraw = [];\n    let foundVisibleItem = false;\n    let expectedTop = null;\n    let paddingTopSet = false;\n    let lastBottom = 0;\n    const additionalPrerenderSize = (window.screen.height - this.recycle.scroller.clientHeight) / 2;\n    const viewportTop = this.recycle.scroller.scrollTop;\n    const viewportBottom = (this.recycle.scroller.scrollTop + this.recycle.scroller.offsetHeight);\n    const preRenderTop = viewportTop - additionalPrerenderSize;\n    const preRenderBottom = viewportBottom + additionalPrerenderSize;\n    for (let i = 0; i < this.datasource.length; i += 1) {\n      const data = this.datasource[i];\n      let dataBounds = this.getBounds(data, i);\n      let newBounds = false;\n      let element = null;\n      if (!dataBounds || dataBounds.top == null || dataBounds.bottom == null) {\n        if (!this.recycle.block && !paddingTopSet) {\n          if (expectedTop != null) {\n            this.element.style.setProperty('padding-top', `${expectedTop}px`);\n          } else {\n            this.element.style.setProperty('padding-top', `${lastBottom}px`);\n          }\n          paddingTopSet = true;\n        }\n        element = this.refreshItem(data, {\n          create: true,\n          render: !this.recycle.deferRender,\n          invalidate: false,\n        });\n        dataBounds = this.storeBoundsCache(data, element);\n        newBounds = true;\n      }\n      lastBottom = dataBounds.bottom;\n      const isBottomInPrerender = (dataBounds.bottom >= preRenderTop\n        && dataBounds.bottom <= preRenderBottom);\n      const isTopInPrerender = (dataBounds.top >= preRenderTop\n          && dataBounds.top <= preRenderBottom);\n      if (isBottomInPrerender || isTopInPrerender) {\n        if (expectedTop == null) {\n          expectedTop = dataBounds.top;\n        }\n        itemsToDraw.push({\n          data,\n          index: i,\n        });\n        if (!foundVisibleItem) {\n          const isBottomVisible = (dataBounds.bottom >= viewportTop\n            && dataBounds.bottom <= viewportBottom);\n          const isTopVisible = (dataBounds.top >= viewportTop\n            && dataBounds.top <= viewportBottom);\n          foundVisibleItem = (isBottomVisible || isTopVisible);\n        }\n      } else {\n        if (!element && !paddingTopSet) {\n          element = this.dataElementMap.get(data);\n          if (element && element.parentElement) {\n            this.removeElement(element);\n          }\n        }\n        if (foundVisibleItem) {\n          if (newBounds) {\n            this.dataBoundsMap.delete(data);\n          }\n          break;\n        }\n      }\n    }\n    const renderedElements = [];\n    let newPaddingTop = 0;\n    let lastRenderedBounds;\n    for (let i = 0; i < itemsToDraw.length; i += 1) {\n      const item = itemsToDraw[i];\n      let element = this.dataElementMap.get(item.data);\n\n      if (!element) {\n        element = this.refreshItem(item.data, {\n          create: true,\n          render: (this.recycle.deferRender ? idle : true),\n          invalidate: false,\n        });\n      } else if (this.recycle.deferRender && idle) {\n        this.render(element, item.data, item.index);\n      }\n      const cachedBounds = this.getBounds(item.data);\n      if (i === 0 && !this.recycle.block) {\n        newPaddingTop = cachedBounds.top;\n      }\n      if (i === itemsToDraw.length - 1) {\n        lastRenderedBounds = cachedBounds;\n      }\n      renderedElements.push(element);\n    }\n    let i = this.element.children.length;\n    while (i--) {\n      const child = /** @type {T2} */ (this.element.children.item(i));\n      if (!renderedElements.includes(child)) {\n        this.removeElement(child);\n      }\n    }\n    this.element.style.setProperty('padding-top', `${newPaddingTop}px`);\n    const lastItem = this.datasource[this.datasource.length - 1];\n    const lastItemBounds = this.dataBoundsMap.get(lastItem);\n\n    if (lastItemBounds) {\n      this.element.style.setProperty('box-sizing', 'border-box');\n      this.element.style.setProperty('height', `${lastItemBounds.bottom}px`);\n      this.element.style.removeProperty('padding-bottom');\n    } else if (this.recycle.equalSize) {\n      this.element.style.setProperty('box-sizing', 'border-box');\n      this.element.style.setProperty('height', `${lastRenderedBounds.height * this.datasource.length}px`);\n      this.element.style.removeProperty('padding-bottom');\n    } else {\n      if (this.maxBottomBounds && lastRenderedBounds\n          && lastRenderedBounds.bottom <= this.maxBottomBounds) {\n        this.maxBottomBounds = lastRenderedBounds.bottom;\n      }\n      const height = this.maxBottomBounds - newPaddingTop;\n      this.element.style.setProperty('box-sizing', 'content-box');\n      this.element.style.setProperty('height', `${height}px`);\n      this.element.style.setProperty('padding-bottom', `${64}px`);\n    }\n  }\n\n  /**\n   * @param {T1} data\n   * @param {number} [indexHint]\n   * @return {?DomAdapterBounds}\n   */\n  getBounds(data, indexHint) {\n    const cached = this.dataBoundsMap.get(data);\n    if (cached) {\n      return cached;\n    }\n    let index = -1;\n    index = indexHint === -1 || indexHint == null ? this.datasource.indexOf(data) : indexHint;\n    if (index === -1) {\n      return null;\n    }\n    let top = null;\n    if (index === 0) {\n      const cache = {\n        top: 0,\n      };\n      this.dataBoundsMap.set(data, cache);\n      return cache;\n    }\n    if (!this.recycle.block) {\n      return null;\n    }\n    let height = null;\n    const previousBounds = this.dataBoundsMap.get(this.datasource[index - 1]);\n    if (previousBounds && previousBounds.bottom) {\n      top = previousBounds.bottom;\n    } else if (this.recycle.equalSize) {\n      const firstBounds = this.dataBoundsMap.get(this.datasource[0]);\n      if (firstBounds && firstBounds.height) {\n        top = firstBounds.height * index;\n        height = firstBounds.height;\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n    if (height == null) {\n      const cache = {\n        top,\n      };\n      this.dataBoundsMap.set(data, cache);\n      return cache;\n    }\n    const cache = {\n      top,\n      height,\n      bottom: top + height,\n    };\n    this.dataBoundsMap.set(data, cache);\n    return cache;\n  }\n\n  /**\n   * @param {T2} element\n   * @return {DomAdapterBounds} bounds\n   */\n  measureElementBounds(element) {\n    if (this.recycle.fastMeasure) {\n      return {\n        top: element.offsetTop,\n        right: element.offsetWidth + element.offsetLeft,\n        bottom: element.offsetHeight + element.offsetTop,\n        left: element.offsetLeft,\n        height: element.clientHeight,\n        width: element.clientWidth,\n      };\n    }\n    const offsetParentRect = element.offsetParent.getBoundingClientRect();\n    const elementRect = element.getBoundingClientRect();\n    const top = elementRect.top - offsetParentRect.top + element.offsetParent.scrollTop;\n    const left = elementRect.left - offsetParentRect.left + element.offsetParent.scrollLeft;\n    return {\n      top,\n      right: elementRect.width + left,\n      bottom: elementRect.height + top,\n      left,\n      height: elementRect.height,\n      width: elementRect.width,\n    };\n  }\n\n  /**\n   * @param {T1} data\n   * @param {T2} element\n   * @return {DomAdapterBounds} bounds\n   */\n  storeBoundsCache(data, element) {\n    if (!this.recycle) {\n      return null;\n    }\n    const cache = this.measureElementBounds(element);\n    this.dataBoundsMap.set(data, cache);\n    return cache;\n  }\n\n  invalidateAll() {\n    /** @type {WeakMap<any, DomAdapterBounds>} */\n    this.dataBoundsMap = new WeakMap();\n  }\n\n  /**\n   * @param {T1} data\n   * @param {Object} [options]\n   * @param {boolean} [options.checkPosition=true]\n   * @param {boolean} [options.create] Automatic\n   * @param {boolean} [options.render] Automatic based on deferRender\n   * @param {boolean} [options.invalidate] Automatic\n   * @return {T2} element\n   */\n  refreshItem(data, options = {}) {\n    const dataIndex = this.datasource.indexOf(data);\n    if (dataIndex === -1) {\n      // Item has been removed\n      this.removeItem(data);\n      return null;\n    }\n    let elementIndex = -1;\n    let element = this.dataElementMap.get(data);\n    let invalidate = false;\n    if (element && this.recycle && this.recycle.deferRender && options.invalidate === true) {\n      // Deferred Render has a forced invalidation\n      // Item should be recreated\n      this.removeElement(element);\n      element = null;\n    }\n    if (!element) {\n      // Element does not exist, assume size changed\n      invalidate = true;\n      element = /** @type {T2} */ (this.create(data));\n      this.dataElementMap.set(data, element);\n      this.elementDataMap.set(element, data);\n    }\n    if (element && this.recycle && this.recycle.block) {\n      const bounds = this.getBounds(data, dataIndex);\n      element.style.setProperty('position', 'absolute');\n      element.style.setProperty('left', '0');\n      element.style.setProperty('right', '0');\n      if (bounds) {\n        element.style.setProperty('top', `${bounds.top}px`);\n      } else {\n        this.removeElement(element);\n        element = null;\n        invalidate = true;\n      }\n    }\n    if (element && options.checkPosition === false) {\n      if (!element.parentElement) {\n        this.element.appendChild(element);\n      }\n    } else if (element) {\n      if (element.parentElement === this.element) {\n        // Element is in DOM\n        let sibling = this.element.firstElementChild;\n        let siblingIndex = -1;\n        while (sibling) {\n          siblingIndex += 1;\n          if (sibling === element) {\n            elementIndex = siblingIndex;\n            break;\n          }\n          sibling = sibling.nextElementSibling;\n        }\n      }\n      if (elementIndex !== dataIndex) {\n        if (!this.element.hasChildNodes()) {\n          if (element.parentElement) {\n            element.remove();\n          }\n          this.element.appendChild(element);\n        } else {\n          // Iterate through datasource to previous sibling element\n          let siblingIndex = dataIndex - 1;\n          let inserted = false;\n          let previousDataObject;\n          do {\n            previousDataObject = this.datasource[siblingIndex];\n            const previousElement = this.dataElementMap.get(previousDataObject);\n            if (previousElement) {\n              if (element.previousElementSibling !== previousElement) {\n                if (element.parentElement) {\n                  element.remove();\n                }\n                previousElement.after(element);\n              }\n              inserted = true;\n            } else {\n              siblingIndex -= 1;\n            }\n          } while (previousDataObject && !inserted);\n          if (!inserted) {\n            if (element.parentElement) {\n              element.remove();\n            }\n            this.element.insertBefore(element, this.element.firstElementChild);\n          }\n        }\n      }\n    }\n    if ((options.render === false)\n        || (options.render !== true && this.recycle && this.recycle.deferRender)) {\n      invalidate = true;\n    } else if (element\n      && (options.render === true || (!this.recycle || !this.recycle.deferRender))) {\n      let prevClientWidth;\n      let prevClientHeight;\n      if (!invalidate && options.invalidate !== false) {\n        // Store width and height for later comparison\n        prevClientWidth = element.clientWidth;\n        prevClientHeight = element.clientHeight;\n      }\n      this.render(element, data, dataIndex);\n      if (!invalidate && options.invalidate !== false\n        && (element.clientWidth !== prevClientWidth || element.clientHeight !== prevClientHeight)) {\n        // Element width or height has changed\n        invalidate = true;\n      }\n    }\n    if (options.invalidate === true || (invalidate && options.invalidate !== false)) {\n      this.invalidateItem(data, dataIndex);\n    }\n    return element;\n  }\n\n  /**\n   * @param {T2} element\n   * @return {void}\n   */\n  removeElement(element) {\n    if (element.parentElement) {\n      element.remove();\n    }\n    const data = this.elementDataMap.get(element);\n    if (data) {\n      this.dataElementMap.delete(data);\n    }\n    this.elementDataMap.delete(element);\n  }\n\n  /**\n   * @param {T1} data\n   * @param {number} [indexHint]\n   * @return {boolean} change\n   */\n  invalidateItem(data, indexHint) {\n    if (!this.recycle || this.recycle.equalSize) {\n      return false;\n    }\n    // Don't auto-create on non-block layouts\n    // Invalidate in case of size change\n    const currentBounds = this.dataBoundsMap.get(data);\n    if (!currentBounds) {\n      return false;\n    }\n    this.dataBoundsMap.delete(data);\n    const dataIndex = (indexHint != null ? indexHint : this.datasource.indexOf(data));\n    if (dataIndex === -1) {\n      // Item was removed\n      return true;\n    }\n    // Invalidate previous items at same Y position\n    for (let j = dataIndex - 1; j >= 0; j -= 1) {\n      const previousBounds = this.dataBoundsMap.get(this.datasource[j]);\n      if (!previousBounds || previousBounds.top < currentBounds.top) {\n        break;\n      }\n      this.dataBoundsMap.delete(this.datasource[j]);\n    }\n    // Invalidate next items\n    for (let j = dataIndex + 1; j < this.datasource.length; j += 1) {\n      if (!this.dataBoundsMap.delete(this.datasource[j])) {\n        break;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * @param {T1} data\n   * @param {number} [previousIndex]\n   * @return {void}\n   */\n  removeItem(data, previousIndex) {\n    this.invalidateItem(data, previousIndex);\n    this.dataElementMap.delete(data);\n    const element = this.dataElementMap.get(data);\n    if (element) {\n      this.removeElement(element);\n    }\n  }\n\n  detach() {\n    this.element = null;\n    this.datasource = null;\n  }\n}\n","import * as ListItem from '../../components/list/item.js';\nimport DomAdapter from '../dom/index.js';\n\n/**\n * @template T1\n * @template T2\n * @typedef {import('../dom/index').DomAdapterCreateOptions<T1,T2>} DomAdapterCreateOptions<T1,T2>\n */\n\n/**\n * @param {HTMLLIElement} element\n * @param {any} data\n * @return {void}\n */\nfunction AnyListAdapterRenderer(element, data) {\n  let primaryText = element.getElementsByClassName('mdw-list__text')[0];\n  if (!primaryText) {\n    let contentElement = element.getElementsByClassName('mdw-list__content')[0];\n    if (!contentElement) {\n      contentElement = document.createElement('div');\n      contentElement.className = 'mdw-list__content';\n      element.appendChild(contentElement);\n    }\n    primaryText = document.createElement('div');\n    primaryText.className = 'mdw-list__text';\n    contentElement.appendChild(primaryText);\n    ListItem.attach(element);\n  }\n  let s = '';\n  if (data != null) {\n    if (data.toString) {\n      s = data.toString();\n    } else {\n      s = new String(data).toString(); // eslint-disable-line no-new-wrappers\n    }\n  }\n  if (primaryText.textContent !== s) {\n    primaryText.textContent = s;\n  }\n}\n\n/**\n * @template T\n * @typedef {Object} ListAdapterCreateOptions\n * @prop {HTMLElement} element\n * @prop {Array<T>} datasource\n * @prop {function(HTMLLIElement, T):void} [render={function(HTMLIElement,T):void}]\n */\n\n/**\n * @template T\n * @extends {DomAdapter<T, HTMLLIElement>}\n */\nexport default class ListAdapter extends DomAdapter {\n  /** @param {ListAdapterCreateOptions<T>} options */\n  constructor(options) {\n    super(options);\n    if (!options.render) {\n      this.render = AnyListAdapterRenderer;\n    }\n    this.create = ListAdapter.create;\n  }\n\n  static create() {\n    const element = document.createElement('li');\n    element.classList.add('mdw-list__item');\n    return element;\n  }\n}\n","// https://www.w3.org/TR/wai-aria-practices/#combobox\n\nimport * as ListContent from '../../components/list/content.js';\nimport * as List from '../../components/list/index.js';\nimport * as TextField from '../../components/textfield/index.js';\nimport { getTextNode } from '../../core/dom.js';\n\n/**\n * @param {string} input\n * @param {string} content\n * @return {boolean}\n */\nfunction containsTextFilter(input, content) {\n  return content.trim().toLocaleLowerCase()\n    .includes(input.trim().toLocaleLowerCase());\n}\n\n/**\n * @param {string} input\n * @param {string} content\n * @return {boolean}\n */\nfunction startsWithTextFilter(input, content) {\n  return content.trim().toLocaleLowerCase()\n    .indexOf(input.trim().toLocaleLowerCase()) === 0;\n}\n\n/**\n * @param {Element} item\n * @return {string}\n */\nfunction defaultItemTextParser(item) {\n  if (item.hasAttribute('data-mdw-search-text')) {\n    return item.getAttribute('data-mdw-search-text');\n  }\n  let textElement;\n  [\n    'mdw-list__text-line',\n    'mdw-list__text',\n    'mdw-list__content',\n  ].some((className) => {\n    textElement = item.getElementsByClassName(className)[0];\n    return textElement != null;\n  });\n\n  const textNode = textElement ? getTextNode(textElement) : getTextNode(item);\n  if (textNode) {\n    return textNode.textContent || '';\n  }\n  return '';\n}\n\n/**\n * @param {Element} list\n * @param {boolean} [backwards=false]\n * @return {Element} sibling\n */\nfunction selectSibling(list, backwards) {\n  const current = list.querySelector('[role=\"option\"][aria-selected=\"true\"]');\n  const items = list.querySelectorAll('[role=\"option\"]:not([aria-hidden=\"true\"]):not([disabled])');\n  let sibling;\n  if (current && current.getAttribute('aria-hidden') !== 'true') {\n    for (let i = 0; i < items.length; i++) {\n      const item = items.item(i);\n      if (item === current) {\n        sibling = backwards ? items[i - 1] : items[i + 1];\n        break;\n      }\n    }\n  } else if (backwards) {\n    sibling = items[items.length - 1];\n  } else {\n    sibling = items[0];\n  }\n  if (sibling && sibling !== current) {\n    if (current) {\n      current.setAttribute('aria-selected', 'false');\n    }\n    sibling.setAttribute('aria-selected', 'true');\n    return sibling;\n  }\n  return null;\n}\n\n/**\n * @param {Element} el\n * @return {number}\n */\nfunction getElementVisibility(el) {\n  let rect = el.getBoundingClientRect();\n  const { top, height } = rect;\n  let next = el.parentElement;\n  do {\n    rect = next.getBoundingClientRect();\n    // eslint-disable-next-line unicorn/consistent-destructuring\n    if ((top + height) > rect.bottom) {\n      // bottom clipped\n      return 1;\n    }\n    // eslint-disable-next-line unicorn/consistent-destructuring\n    if (top < rect.top) {\n      // top clipped\n      return -1;\n    }\n    next = next.parentElement;\n  } while (next !== document.body);\n  if (top < 0) {\n    return -1;\n  }\n  if ((top + height) > document.documentElement.clientHeight) {\n    return 1;\n  }\n  return 0;\n}\n\n/**\n * @param {Element} listItem\n * @return {void}\n */\nfunction scrollItemIntoView(listItem) {\n  const visibility = getElementVisibility(listItem);\n  if (visibility < 0) {\n    listItem.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\n  } else if (visibility > 0) {\n    listItem.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\n  }\n}\n\n/**\n * @callback SearchAdapterTextFilter\n * @param {string} input\n * @param {string} content\n * @return {boolean} passes\n */\n\n/**\n * @template T\n * @typedef SearchAdapterOptions\n * @prop {Element} textfield\n * @prop {Element} list\n * @prop {('contains'|'startsWith'|SearchAdapterTextFilter)} [textFilter='contains']\n * @prop {function(Element):string} [itemTextParser]\n * @prop {boolean} [dropdown=false]\n * @prop {boolean} [filterItems=true]\n * @prop {('replace'|'append'|'none')} [suggestionMethod='replace']\n * @prop {function(string):(Promise<T[]>)|T[]} [performSearch]\n * @prop {function(T[]):(Promise<void>|void)} [updateList]\n * @prop {boolean} [searchOnFocus=true]\n * @prop {number} [debounce=null] Debounce time in milliseconds\n */\n\n/** @template T */\nexport default class SearchAdapter {\n  /** @param {SearchAdapterOptions<T>} options */\n  constructor(options) {\n    this.textfield = options.textfield;\n    this.list = options.list;\n    this.list.setAttribute('role', 'listbox');\n    List.attach(this.list);\n    if (typeof options.textFilter === 'function') {\n      this.filter = options.textFilter;\n    } else if (options.textFilter === 'startsWith') {\n      this.filter = startsWithTextFilter;\n    } else {\n      this.filter = containsTextFilter;\n    }\n    this.itemTextParser = defaultItemTextParser || options.itemTextParser;\n    const input = /** @type {HTMLInputElement} */ (this.textfield.getElementsByClassName('mdw-textfield__input')[0]);\n    this.input = input;\n    this.list.addEventListener(ListContent.ACTIVATE_EVENT, (event) => {\n      const item = /** @type {HTMLElement} */(event.target);\n      this.onItemSelected(item);\n      const inputValue = this.input.value || '';\n      this.suggestedInput = inputValue;\n      this.input.setSelectionRange(inputValue.length, inputValue.length);\n      this.input.focus();\n      this.hideDropDown();\n    });\n    this.input.addEventListener('keydown', (event) => {\n      this.onTextFieldKeydownEvent(event);\n    });\n    this.input.addEventListener('input', (event) => {\n      if (this.handleInputEvent) {\n        this.handleInputEvent(event);\n      }\n    });\n    this.input.addEventListener('blur', (event) => {\n      if (this.handleBlurEvent) {\n        this.handleBlurEvent(event);\n      }\n    });\n    this.input.addEventListener('focus', (event) => {\n      if (this.searchOnFocus) {\n        this.handleInputEvent(event);\n      }\n    });\n\n    this.dropdown = options.dropdown;\n    if (options.filterItems !== false) {\n      this.filterItems = true;\n    }\n    if (options.searchOnFocus !== false) {\n      this.searchOnFocus = true;\n    }\n    this.debounce = options.debounce;\n    this.suggestionMethod = options.suggestionMethod || 'replace';\n    this.currentSearchTerm = this.input.value || '';\n    /** @type {?string} */\n    this.suggestedInput = null;\n    /** @type {?string} */\n    this.previousValue = null;\n    this.performSearch = options.performSearch || this.performSearch.bind(this);\n    this.updateList = options.updateList || this.updateList.bind(this);\n  }\n\n  /**\n   * @param {string} value\n   * @return {Promise<T[]>|T[]}\n   */\n  // eslint-disable-next-line class-methods-use-this\n  performSearch(value) {\n    return [];\n  }\n\n  /**\n   * @param {T[]} results\n   * @return {Promise<void>|void}\n   */\n  // eslint-disable-next-line class-methods-use-this\n  updateList(results) {\n    return undefined;\n  }\n\n  /**\n   * Default input handler\n   * @param {Event} [event]\n   * @return {void}\n   */\n  handleInputEvent(event) { // eslint-disable-line @typescript-eslint/no-unused-vars\n    if (document.activeElement !== this.input) {\n      return;\n    }\n    const inputValue = this.input.value || '';\n    if (inputValue === this.suggestedInput) {\n      return;\n    }\n    this.showDropDown();\n    if (inputValue === this.previousValue) {\n      return;\n    }\n    this.previousValue = inputValue;\n    this.currentSearchTerm = inputValue;\n\n    void (async () => {\n      try {\n        await this.performDebounce(inputValue);\n        await this.checkExpired(inputValue);\n        const searchResults = await this.performSearch(inputValue);\n        await this.checkExpired(inputValue);\n        await this.updateList(searchResults);\n        await this.filterListItems();\n      } catch (error) {\n        if (error.message === 'debounced') {\n          return;\n        }\n        if (error.message === 'expired') {\n          return;\n        }\n        throw error;\n      }\n    })();\n  }\n\n  /**\n   * @param {string} inputValue\n   * @return {Promise<void>}\n   */\n  checkExpired(inputValue) {\n    if (inputValue === this.currentSearchTerm) {\n      return Promise.resolve();\n    }\n    return Promise.reject(new Error('expired'));\n  }\n\n  /**\n   * @param {string} searchTerm\n   * @return {Promise<void>}\n   */\n  performDebounce(searchTerm) {\n    if (!this.debounce) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (searchTerm !== this.currentSearchTerm) {\n          reject(new Error('debounced'));\n          return;\n        }\n        resolve();\n      }, this.debounce);\n    });\n  }\n\n  /** @return {boolean} handled */\n  showDropDown() {\n    if (!this.dropdown) {\n      return false;\n    }\n    const dropDownElement = this.textfield.querySelector('.mdw-textfield__dropdown');\n    let changed = false;\n    if (dropDownElement.hasAttribute('mdw-hide')) {\n      dropDownElement.removeAttribute('mdw-hide');\n      changed = true;\n    }\n    if (!dropDownElement.hasAttribute('mdw-show')) {\n      dropDownElement.setAttribute('mdw-show', '');\n      changed = true;\n    }\n    return changed;\n  }\n\n  /** @return {boolean} handled */\n  isDropDownShown() {\n    if (!this.dropdown) {\n      return true;\n    }\n    const dropDownElement = this.textfield.querySelector('.mdw-textfield__dropdown');\n    if (dropDownElement.hasAttribute('mdw-hide')) {\n      return false;\n    }\n    if (this.input === document.activeElement) {\n      return true;\n    }\n    if (dropDownElement.hasAttribute('mdw-show')) {\n      return true;\n    }\n    return false;\n  }\n\n  /** @return {boolean} handled */\n  hideDropDown() {\n    if (!this.dropdown) {\n      return true;\n    }\n    const dropDownElement = this.textfield.querySelector('.mdw-textfield__dropdown');\n    if (!dropDownElement.hasAttribute('mdw-hide')) {\n      dropDownElement.setAttribute('mdw-hide', '');\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {Event|FocusEvent} event\n   * @return {void}\n   */\n  handleBlurEvent(event) { // eslint-disable-line @typescript-eslint/no-unused-vars\n    if (this.dropdown) {\n      const dropDownElement = this.textfield.querySelector('.mdw-textfield__dropdown');\n      if (dropDownElement.hasAttribute('mdw-show')) {\n        dropDownElement.removeAttribute('mdw-show');\n      }\n    }\n  }\n\n  /**\n   * @param {Element} item\n   * @return {void}\n   */\n  onItemSelected(item) {\n    if (this.suggestionMethod === 'none') {\n      return;\n    }\n    let suggestion = this.itemTextParser(item);\n    if (suggestion) {\n      suggestion = suggestion.trim();\n    }\n    if (!suggestion) {\n      return;\n    }\n    this.suggestedInput = suggestion;\n    if (this.suggestionMethod === 'replace') {\n      TextField.setValue(this.textfield, suggestion);\n    } else if (this.suggestionMethod === 'append') {\n      const selectionStart = (this.previousValue || '').length;\n      const selectionEnd = suggestion.length;\n      TextField.setValue(this.textfield, suggestion);\n      this.input.setSelectionRange(selectionStart, selectionEnd);\n    }\n  }\n\n  /**\n   * @param {SearchAdapterTextFilter} [fnFilter]\n   * @return {void}\n   */\n  filterListItems(fnFilter) {\n    if (!this.filterItems) {\n      return;\n    }\n    const input = this.input.value;\n    const current = this.list.querySelector('[role=\"option\"][aria-selected=\"true\"]');\n    const items = this.list.querySelectorAll('[role=\"option\"]');\n    let hasItem = false;\n    for (const item of items) {\n      const content = this.itemTextParser(item);\n      const fn = fnFilter || this.filter;\n      if (fn(input, content)) {\n        hasItem = true;\n        item.setAttribute('aria-hidden', 'false');\n      } else {\n        item.setAttribute('aria-hidden', 'true');\n      }\n    }\n    if (current && current.getAttribute('aria-hidden') === 'true') {\n      const newSelection = selectSibling(this.list);\n      if (newSelection) {\n        this.onItemSelected(newSelection);\n      }\n    }\n    if (!hasItem) {\n      this.hideDropDown();\n    }\n  }\n\n  /**\n   * @param {KeyboardEvent} event\n   * @return {void}\n   */\n  onTextFieldKeydownEvent(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n    if (event.ctrlKey || event.altKey) {\n      return;\n    }\n    switch (event.key) {\n      case 'ArrowUp':\n      case 'Up': {\n        if (this.isDropDownShown()) {\n          const sibling = selectSibling(this.list, true);\n          if (sibling) {\n            scrollItemIntoView(sibling);\n            this.onItemSelected(sibling);\n          }\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        break;\n      }\n      case 'ArrowDown':\n      case 'Down': {\n        if (this.isDropDownShown()) {\n          const sibling = selectSibling(this.list, false);\n          if (sibling) {\n            scrollItemIntoView(sibling);\n            this.onItemSelected(sibling);\n          }\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        break;\n      }\n      case 'Esc':\n      case 'Escape': {\n        if (this.hideDropDown()) {\n          this.suggestedInput = this.previousValue;\n          TextField.setValue(this.textfield, this.previousValue);\n          event.stopPropagation();\n          event.preventDefault();\n        }\n        break;\n      }\n      case 'Enter': {\n        /** @type {HTMLElement} */\n        const current = this.list.querySelector('[role=\"option\"][aria-selected=\"true\"]');\n        if (current && this.hideDropDown()) {\n          current.click();\n          event.stopPropagation();\n          event.preventDefault();\n        }\n        break;\n      }\n      case 'Tab': {\n        /** @type {HTMLElement} */\n        const current = this.list.querySelector('[role=\"option\"][aria-selected=\"true\"]');\n        if (current && this.hideDropDown()) {\n          current.click();\n          event.stopPropagation();\n        }\n        break;\n      }\n      default:\n    }\n  }\n}\n","// https://www.w3.org/TR/wai-aria-practices/#tabpanel\n\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport * as RovingTabIndex from '../../core/aria/rovingtabindex.js';\n\nimport * as BottomNavItem from './item.js';\n\n/**\n * @param {Event} event\n * @return {void}\n */\nfunction onTabIndexZeroed(event) {\n  event.stopPropagation();\n  const bottomnavElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const currentItem = /** @type {HTMLElement} */ (event.target);\n  RovingTabIndex.removeTabIndex(bottomnavElement.querySelectorAll('[role=\"tab\"]'), [currentItem]);\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onForwardsRequested(event) {\n  if (event.detail.ctrlKey || event.detail.altKey\n    || event.detail.shiftKey || event.detail.metaKey) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const bottomnavElement = /** @type {HTMLElement} */ (event.currentTarget);\n  RovingTabIndex.selectNext(bottomnavElement.querySelectorAll('[role=\"tab\"]'));\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onBackwardsRequested(event) {\n  if (event.detail.ctrlKey || event.detail.altKey\n    || event.detail.shiftKey || event.detail.metaKey) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const bottomnavElement = /** @type {HTMLElement} */ (event.currentTarget);\n  RovingTabIndex.selectPrevious(bottomnavElement.querySelectorAll('[role=\"tab\"]'));\n}\n\n/**\n * @param {Element} bottomnavElement\n * @return {void}\n */\nexport function setupARIA(bottomnavElement) {\n  bottomnavElement.setAttribute('role', 'tablist');\n  bottomnavElement.setAttribute('aria-multiselectable', 'false');\n  bottomnavElement.setAttribute('aria-orientation', 'horizontal');\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onSelectedChangeEvent(event) {\n  const itemElement = /** @type {HTMLElement} */ (event.target);\n  if (event.detail.value !== 'true') {\n    return;\n  }\n  const bottomnavElement = /** @type {HTMLElement} */ (event.currentTarget);\n  for (const item of bottomnavElement.querySelectorAll('[role=\"tab\"]')) {\n    if (item !== itemElement) {\n      BottomNavItem.setSelected(item, false);\n    }\n  }\n}\n\n/**\n * @param {Element} bottomnavElement\n * @return {void}\n */\nexport function attach(bottomnavElement) {\n  setupARIA(bottomnavElement);\n  /** @type {?Element} */\n  let selectedItem = null;\n  const items = bottomnavElement.getElementsByClassName('mdw-bottomnav__item');\n\n  for (const item of items) {\n    BottomNavItem.attach(item);\n    if (!selectedItem && item.getAttribute('aria-selected') === 'true') {\n      selectedItem = item;\n    }\n  }\n  if (!selectedItem) {\n    selectedItem = items[0];\n  }\n  if (selectedItem) {\n    BottomNavItem.setSelected(selectedItem, true, true);\n  }\n  RovingTabIndex.setupTabIndexes(bottomnavElement.querySelectorAll('[role=\"tab\"]'));\n  bottomnavElement.addEventListener(BottomNavItem.SELECTED_CHANGE_EVENT, onSelectedChangeEvent);\n  bottomnavElement.addEventListener(Keyboard.FORWARD_ARROW_KEY, onForwardsRequested);\n  bottomnavElement.addEventListener(Keyboard.BACK_ARROW_KEY, onBackwardsRequested);\n  bottomnavElement.addEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n}\n\n/**\n * @param {Element} bottomnavElement\n * @return {void}\n */\nexport function detach(bottomnavElement) {\n  bottomnavElement.removeEventListener(BottomNavItem.SELECTED_CHANGE_EVENT, onSelectedChangeEvent);\n  bottomnavElement.removeEventListener(Keyboard.FORWARD_ARROW_KEY, onForwardsRequested);\n  bottomnavElement.removeEventListener(Keyboard.BACK_ARROW_KEY, onBackwardsRequested);\n  bottomnavElement.removeEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n  for (const element of bottomnavElement.getElementsByClassName('mdw-bottomnav__item')) {\n    BottomNavItem.detach(element);\n  }\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#tab\n\nimport * as AriaTab from '../../core/aria/tab.js';\nimport * as Overlay from '../../core/overlay/index.js';\nimport * as Ripple from '../../core/ripple/index.js';\n\nexport const SELECTED_CHANGE_EVENT = 'mdw:bottomnavitem-selectedchange';\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  return AriaTab.setSelected(element, value, dispatchEvent ? SELECTED_CHANGE_EVENT : null);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nfunction onClick(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (element.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  setSelected(element, true);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachAria(element) {\n  AriaTab.attach(element);\n  for (const el of element.getElementsByClassName('mdw-bottomnav__icon')) {\n    el.setAttribute('aria-hidden', 'true');\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  attachAria(element);\n  element.addEventListener('click', onClick);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  if (!element.hasAttribute('mdw-overlay-off')) {\n    element.setAttribute('mdw-overlay-off', 'selected activated');\n  }\n  if (!element.hasAttribute('mdw-overlay-default')) {\n    element.setAttribute('mdw-overlay-default', 'medium');\n  }\n  Overlay.attach(element);\n\n  element.classList.add('mdw-ripple');\n  Ripple.attach(element);\n\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  AriaTab.detach(element);\n  element.removeEventListener('click', onClick);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","/** @see https://www.w3.org/TR/wai-aria-practices/#button */\n\nimport * as AriaButton from '../../core/aria/button.js';\nimport * as Overlay from '../../core/overlay/index.js';\nimport * as Ripple from '../../core/ripple/index.js';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  AriaButton.attach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  Ripple.attach(element);\n  element.classList.add('mdw-ripple');\n  Overlay.attach(element);\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  AriaButton.detach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#Listbox\n\nimport * as ChipItem from './item.js';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  for (const el of element.getElementsByClassName('mdw-chip__item')) {\n    ChipItem.attach(el);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  for (const el of element.getElementsByClassName('mdw-chip__item')) {\n    ChipItem.detach(el);\n  }\n}\n","// https://www.w3.org/TR/wai-aria-practices/#Listbox\n\nimport * as Ripple from '../../core/ripple/index.js';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-ripple');\n  Ripple.attach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  Ripple.detach(element);\n}\n","import * as Attributes from '../../core/aria/attributes.js';\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport { dispatchDomEvent } from '../../core/dom.js';\n\nexport const FOCUS_EVENT = 'mdw:datatablecell-focus';\nexport const CHECKED_CHANGE_EVENT = 'mdw:datatablecell-checkedchange';\nexport const SELECTED_CHANGE_EVENT = 'mdw:datatablecell-selectedchange';\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nexport function onFocus(event) {\n  const gridCellElement = /** @type {HTMLElement} */ (event.currentTarget);\n  dispatchDomEvent(gridCellElement, FOCUS_EVENT);\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  return Attributes.setSelected(element, value, dispatchEvent ? SELECTED_CHANGE_EVENT : null);\n}\n\n/**\n * @param {HTMLTableCellElement} element\n * @return {void}\n */\nexport function attach(element) {\n  Keyboard.attach(element);\n  element.addEventListener('focus', onFocus);\n}\n\n/**\n * @param {HTMLTableCellElement} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('focus', onFocus);\n  Keyboard.detach(element);\n}\n","import * as Attributes from '../../core/aria/attributes.js';\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport { dispatchDomEvent } from '../../core/dom.js';\n\nimport * as Cell from './cell.js';\n\nexport const SORT_EVENT = 'mdw:datatablecolumnheader-sort';\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  const columnHeaderElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (Attributes.isDisabled(columnHeaderElement)) {\n    return;\n  }\n  const ariaSort = columnHeaderElement.getAttribute('aria-sort');\n  if (!ariaSort) {\n    return;\n  }\n  const sort = (ariaSort === 'ascending' ? 'descending' : 'ascending');\n  const detail = { sort };\n  dispatchDomEvent(columnHeaderElement, SORT_EVENT, detail);\n}\n\n/**\n * @param {HTMLTableHeaderCellElement} element\n * @return {void}\n */\nexport function attach(element) {\n  Keyboard.attach(element);\n  element.setAttribute('role', 'columnheader');\n  element.addEventListener('click', onClick);\n  Cell.attach(element);\n}\n\n/**\n * @param {HTMLTableHeaderCellElement} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('click', onClick);\n  Keyboard.detach(element);\n  Cell.detach(element);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#grid\n\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport * as RovingTabIndex from '../../core/aria/rovingtabindex.js';\n\nimport * as DataTableCell from './cell.js';\nimport * as DataTableColumnHeader from './columnheader.js';\nimport * as DataTableRow from './row.js';\nimport * as DataTableRowHeader from './rowheader.js';\n\nexport const CELL_TABINDEX_QUERIES = [\n  'td:not([mdw-autofocus-widget])',\n  'th:not([mdw-autofocus-widget])',\n  'td[mdw-autofocus-widget] .mdw-datatable__widget',\n  'th[mdw-autofocus-widget] .mdw-datatable__widget',\n];\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onSelectedChange(event) {\n  const selected = event.detail.value === 'true';\n  const dataTableElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const hasSelection = selected || dataTableElement.querySelector('td[aria-selected=\"true\"],tr[aria-selected=\"true\"]');\n  if (hasSelection) {\n    dataTableElement.setAttribute('mdw-has-selection', '');\n  } else {\n    dataTableElement.removeAttribute('mdw-has-selection');\n  }\n}\n\n/**\n * @param {Element} datatableElement\n * @return {HTMLElement}\n */\nexport function getScroller(datatableElement) {\n  let scroller = /** @type {HTMLElement} */ (datatableElement.getElementsByClassName('mdw-datatable__scroller')[0]);\n  if (!scroller) {\n    scroller = document.createElement('div');\n    scroller.classList.add('mdw-datatable__scroller');\n    const footer = datatableElement.getElementsByClassName('mdw-datatable__footer')[0];\n    if (footer) {\n      footer.before(scroller);\n    } else {\n      datatableElement.appendChild(scroller);\n    }\n    // Move table into scroller if it exists\n    const table = datatableElement.getElementsByTagName('table')[0];\n    if (table) {\n      table.remove();\n      scroller.appendChild(table);\n    }\n  }\n  return scroller;\n}\n\n/**\n * @param {Element} datatableElement\n * @return {HTMLTableElement}\n */\nexport function getTable(datatableElement) {\n  if (datatableElement instanceof HTMLTableElement) {\n    return datatableElement;\n  }\n  let table = datatableElement.getElementsByTagName('table')[0];\n  if (!table) {\n    const scroller = getScroller(datatableElement);\n    table = document.createElement('table');\n    scroller.appendChild(table);\n  }\n  return table;\n}\n\n/**\n * @param {Element} datatableElement\n * @return {HTMLTableSectionElement}\n */\nexport function getTableBody(datatableElement) {\n  let tbody = datatableElement.getElementsByTagName('tbody')[0];\n  if (!tbody) {\n    const table = getTable(datatableElement);\n    tbody = document.createElement('tbody');\n    table.appendChild(tbody);\n  }\n  return tbody;\n}\n\n/**\n * @param {Element} datatableElement\n * @param {number} columnIndex\n * @param {boolean} ascending\n * @return {void}\n */\nexport function sortColumn(datatableElement, columnIndex, ascending = true) {\n  if (datatableElement.hasAttribute('mdw-datatable-adapter')) {\n    return;\n  }\n  for (const th of datatableElement.getElementsByTagName('th')) {\n    if (th.cellIndex === columnIndex) {\n      th.setAttribute('aria-sort', ascending ? 'ascending' : 'descending');\n    } else if (th.hasAttribute('aria-sort')) {\n      th.setAttribute('aria-sort', 'none');\n    }\n  }\n\n  /** @type {HTMLTableSectionElement} */\n  const tbody = getTableBody(datatableElement);\n  const rows = [];\n  let i = tbody.rows.length;\n  while (i--) {\n    rows.push(tbody.rows.item(i));\n    tbody.deleteRow(i);\n  }\n  rows.sort((a, b) => {\n    const aCell = a.cells.item(columnIndex);\n    const bCell = b.cells.item(columnIndex);\n    const aText = aCell.textContent;\n    const bText = bCell.textContent;\n    if (aCell.dataset.type === 'number') {\n      return Number.parseFloat(bText) - Number.parseFloat(aText);\n    }\n    return bText.localeCompare(aText);\n  });\n  if (ascending) {\n    rows.reverse();\n  }\n  const fragment = document.createDocumentFragment();\n  for (const row of rows) {\n    fragment.appendChild(row);\n  }\n  tbody.appendChild(fragment);\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onItemFocus(event) {\n  const datatableElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const onFocusInteraction = datatableElement.getAttribute('mdw-on-focus');\n  if (!onFocusInteraction) {\n    return;\n  }\n  const itemElement = /** @type {HTMLElement} */ (event.target);\n  if (itemElement.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  for (const interaction of onFocusInteraction.split(' ')) {\n    switch (interaction) {\n      case 'select':\n        if (itemElement instanceof HTMLTableRowElement) {\n          DataTableRow.setSelected(itemElement, true);\n        } else {\n          DataTableCell.setSelected(itemElement, true);\n        }\n        break;\n      default:\n    }\n  }\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onSort(event) {\n  const datatableElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const cell = /** @type {HTMLTableHeaderCellElement} */ (event.target);\n  sortColumn(datatableElement, cell.cellIndex, event.detail.sort === 'ascending');\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onRowHeaderCheckedChange(event) {\n  const cell = /** @type {HTMLTableHeaderCellElement} */ (event.target);\n  const row = cell.parentElement;\n  DataTableRow.setSelected(row, event.detail.value);\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nfunction onTabIndexZeroed(event) {\n  const dataTableElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const emitter = /** @type {HTMLElement} */ (event.target);\n\n  const row = (emitter instanceof HTMLTableRowElement && emitter);\n  const cell = (!row && emitter instanceof HTMLTableCellElement && emitter);\n  if (!row && !cell) {\n    return;\n  }\n  event.stopPropagation();\n  RovingTabIndex.removeTabIndex(dataTableElement.querySelectorAll(row ? 'tr' : CELL_TABINDEX_QUERIES.join(',')), [emitter]);\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onKeyboard(event) {\n  const dataTableElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const emitter = /** @type {HTMLElement} */ (event.target);\n  let current = document.activeElement;\n\n  let row = (emitter instanceof HTMLTableRowElement && emitter);\n  const cell = (!row && emitter instanceof HTMLTableCellElement && emitter);\n  if (!row && !cell) {\n    return;\n  }\n  if (!row) {\n    row = /** @type {HTMLTableRowElement} */ (cell.parentElement);\n  }\n\n  let checkNavKeys = false;\n  switch (event.type) {\n    case Keyboard.SPACEBAR_KEY:\n      if (event.detail.ctrlKey || event.detail.altKey || event.detail.metaKey) {\n        return;\n      }\n      if (!event.detail.shiftKey) {\n        return;\n      }\n      if (!row.hasAttribute('aria-selected')) {\n        return;\n      }\n      DataTableRow.setSelected(row, row.getAttribute('aria-selected') !== 'true', true);\n      break;\n    default:\n      checkNavKeys = true;\n  }\n\n  if (checkNavKeys) {\n    // Keyboard Navigation\n    /** @type {Iterable<HTMLElement>} */\n    let searchElements;\n    let reverse = false;\n    let loop = false;\n    switch (event.type) {\n      case Keyboard.UP_ARROW_KEY:\n        reverse = true;\n        // Fallthrough\n      case Keyboard.DOWN_ARROW_KEY:\n        if (event.detail.ctrlKey || event.detail.altKey || event.detail.metaKey) {\n          return;\n        }\n        if (cell) {\n          searchElements = getTableBody(dataTableElement).querySelectorAll(\n            CELL_TABINDEX_QUERIES.map((q) => `${q}:nth-child(${cell.cellIndex + 1})`).join(','),\n          );\n        } else {\n          searchElements = getTableBody(dataTableElement).getElementsByTagName('tr');\n        }\n        break;\n      case Keyboard.BACK_ARROW_KEY:\n        reverse = true;\n        // Fallthrough\n      case Keyboard.FORWARD_ARROW_KEY:\n        if (event.detail.ctrlKey || event.detail.altKey || event.detail.metaKey) {\n          return;\n        }\n        if (!cell) {\n          return;\n        }\n        searchElements = cell.parentElement.querySelectorAll(CELL_TABINDEX_QUERIES.join(','));\n        break;\n      case Keyboard.END_KEY:\n        reverse = true;\n        // Fallthrough\n      case Keyboard.HOME_KEY:\n        if (event.detail.altKey || event.detail.metaKey) {\n          return;\n        }\n        if (!cell) {\n          return;\n        }\n        searchElements = event.detail.ctrlKey\n          ? getTableBody(dataTableElement).querySelectorAll(CELL_TABINDEX_QUERIES.join(','))\n          : cell.parentElement.querySelectorAll(CELL_TABINDEX_QUERIES.join(','));\n        cell.setAttribute('tabindex', '-1');\n        current = null;\n        loop = true;\n        break;\n      default:\n        return;\n    }\n    RovingTabIndex.selectNext(searchElements, current, loop, reverse);\n  }\n\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeAttribute('mdw-datatable-js');\n  element.removeEventListener(DataTableRow.FOCUS_EVENT, onItemFocus);\n  element.removeEventListener(DataTableCell.FOCUS_EVENT, onItemFocus);\n  element.removeEventListener(DataTableColumnHeader.SORT_EVENT, onSort);\n  element.removeEventListener(Keyboard.UP_ARROW_KEY, onKeyboard);\n  element.removeEventListener(Keyboard.DOWN_ARROW_KEY, onKeyboard);\n  element.removeEventListener(Keyboard.FORWARD_ARROW_KEY, onKeyboard);\n  element.removeEventListener(Keyboard.BACK_ARROW_KEY, onKeyboard);\n  element.removeEventListener(Keyboard.HOME_KEY, onKeyboard);\n  element.removeEventListener(Keyboard.END_KEY, onKeyboard);\n  element.removeEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n}\n\n/**\n * @param {Element} tableElement\n * @return {HTMLTableRowElement}\n */\nexport function getHeaderRow(tableElement) {\n  let thead = tableElement.getElementsByTagName('thead')[0];\n  if (!thead) {\n    const table = getTable(tableElement);\n    thead = document.createElement('thead');\n    table.appendChild(thead);\n  }\n  let headerRow = thead.getElementsByTagName('tr')[0];\n  if (!headerRow) {\n    headerRow = document.createElement('tr');\n    thead.appendChild(headerRow);\n  }\n  return headerRow;\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-datatable-js', '');\n\n  const table = getTable(element);\n  table.setAttribute('role', 'grid');\n  const headerRow = getHeaderRow(element);\n  const tbody = getTableBody(element);\n\n  for (const el of headerRow.getElementsByTagName('th')) DataTableColumnHeader.attach(el);\n  for (const el of tbody.getElementsByTagName('th')) DataTableRowHeader.attach(el);\n\n  const tableRows = tbody.getElementsByTagName('tr');\n  for (const el of tableRows) DataTableRow.attach(el);\n\n  const rowFocusable = element.hasAttribute('mdw-row-focusable');\n  if (rowFocusable) {\n    RovingTabIndex.setupTabIndexes(tableRows);\n  }\n  const cellFocusable = element.hasAttribute('mdw-cell-focusable');\n  if (cellFocusable) {\n    RovingTabIndex.setupTabIndexes(tbody.querySelectorAll(CELL_TABINDEX_QUERIES.join(',')));\n  }\n\n  element.addEventListener(DataTableRow.FOCUS_EVENT, onItemFocus);\n  element.addEventListener(DataTableRow.SELECTED_CHANGE_EVENT, onSelectedChange);\n  element.addEventListener(DataTableCell.FOCUS_EVENT, onItemFocus);\n  element.addEventListener(DataTableCell.SELECTED_CHANGE_EVENT, onSelectedChange);\n  element.addEventListener(DataTableColumnHeader.SORT_EVENT, onSort);\n  element.addEventListener(Keyboard.SPACEBAR_KEY, onKeyboard);\n  element.addEventListener(Keyboard.UP_ARROW_KEY, onKeyboard);\n  element.addEventListener(Keyboard.DOWN_ARROW_KEY, onKeyboard);\n  element.addEventListener(Keyboard.FORWARD_ARROW_KEY, onKeyboard);\n  element.addEventListener(Keyboard.BACK_ARROW_KEY, onKeyboard);\n  element.addEventListener(Keyboard.HOME_KEY, onKeyboard);\n  element.addEventListener(Keyboard.END_KEY, onKeyboard);\n  element.addEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n}\n","import * as Attributes from '../../core/aria/attributes.js';\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport { dispatchDomEvent } from '../../core/dom.js';\n\nimport * as DataTableCell from './cell.js';\n\nexport const FOCUS_EVENT = 'mdw:datatablerow-focus';\nexport const SELECTED_CHANGE_EVENT = 'mdw:datatablerow-selectedchange';\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nexport function onFocus(event) {\n  const rowElement = /** @type {HTMLTableRowElement} */ (event.currentTarget);\n  dispatchDomEvent(rowElement, FOCUS_EVENT);\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  return Attributes.setSelected(element, value, dispatchEvent ? SELECTED_CHANGE_EVENT : null);\n}\n\n/**\n * @param {HTMLTableRowElement} element\n * @return {void}\n */\nexport function attach(element) {\n  Keyboard.attach(element);\n  element.setAttribute('role', 'row');\n  element.addEventListener('focus', onFocus);\n  for (const el of element.cells) DataTableCell.attach(el);\n}\n\n/**\n * @param {HTMLTableRowElement} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('focus', onFocus);\n  Keyboard.detach(element);\n  for (const el of element.cells) DataTableCell.detach(el);\n}\n","import * as Keyboard from '../../core/aria/keyboard.js';\n\n/**\n * @param {HTMLTableHeaderCellElement} element\n * @return {void}\n */\nexport function attach(element) {\n  Keyboard.attach(element);\n  element.setAttribute('role', 'rowheader');\n}\n\n/**\n * @param {HTMLTableHeaderCellElement} element\n * @return {void}\n */\nexport function detach(element) {\n  Keyboard.detach(element);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#dialog_modal\n\nimport {\n  dispatchDomEvent,\n  getChildElementByClass,\n  setTextNode,\n} from '../../core/dom.js';\nimport * as Button from '../button/index.js';\n\nclass DialogStack {\n  /**\n   * @param {Element} element\n   * @param {?Element} [previousFocus]\n   * @param {{hash:string}} [state]\n   * @param {{hash:string}} [previousState]\n   */\n  constructor(element, previousFocus, state, previousState) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n  }\n}\n\n/** @type {DialogStack[]} */\nconst OPEN_DIALOGS = [];\n\nexport const CANCEL_EVENT = 'mdw:dialog-cancel';\nexport const CONFIRM_EVENT = 'mdw:dialog-confirm';\nexport const CUSTOM_EVENT = 'mdw:dialog-custom';\nexport const DISMISS_EVENT = 'mdw:dialog-dismiss';\n\n/**\n * @param {TransitionEvent} event\n * @return {void}\n */\nexport function onTransitionEnd(event) {\n  if (event.propertyName !== 'opacity') {\n    return;\n  }\n  const dialogElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (dialogElement.getAttribute('aria-hidden') !== 'true') {\n    return;\n  }\n  const popupElement = /** @type {HTMLElement} */ (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  if (!popupElement) {\n    return;\n  }\n  popupElement.style.removeProperty('display');\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function setupARIA(dialogElement) {\n  if (dialogElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  dialogElement.setAttribute('role', 'dialog');\n  dialogElement.setAttribute('aria-modal', 'true');\n  if (!dialogElement.hasAttribute('aria-hidden')) {\n    dialogElement.setAttribute('aria-hidden', 'true');\n  }\n  const popupElement = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n  if (!popupElement) {\n    return;\n  }\n\n  if (!popupElement.hasAttribute('aria-label') && !popupElement.hasAttribute('aria-labelledby')) {\n    const titleElement = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n    if (titleElement) {\n      // titleElement\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {boolean} handled\n */\nexport function hide(dialogElement) {\n  if (dialogElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  if (!dispatchDomEvent(dialogElement, DISMISS_EVENT)) {\n    return false;\n  }\n  dialogElement.setAttribute('aria-hidden', 'true');\n  // .mdw-dialog__popup hidden by transitionEnd event\n  let stackIndex = -1;\n  OPEN_DIALOGS.some((stack, index) => {\n    if (stack.element === dialogElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const stack = OPEN_DIALOGS[stackIndex];\n    if (stack.previousFocus && stack.previousFocus instanceof HTMLElement && document.activeElement?.closest('.mdw-dialog') === dialogElement) {\n      // Only pop focus back when hiding a dialog with focus within itself.\n      try {\n        stack.previousFocus.focus();\n      } catch {\n        // Failed to focus\n      }\n    }\n    OPEN_DIALOGS.splice(stackIndex, 1);\n    if (stack.state && window.history && window.history.state // IE11 returns a cloned state object, not the original\n      && stack.state.hash === window.history.state.hash) {\n      window.history.back();\n    }\n  }\n  if (!OPEN_DIALOGS.length) {\n    // eslint-disable-next-line no-use-before-define\n    window.removeEventListener('popstate', onPopState);\n  }\n  return true;\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function cancel(dialogElement) {\n  if (dispatchDomEvent(dialogElement, CANCEL_EVENT)) {\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function confirm(dialogElement) {\n  if (dispatchDomEvent(dialogElement, CONFIRM_EVENT)) {\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCancelClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  const cancelElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const dialogElement = cancelElement.closest('.mdw-dialog');\n  cancel(dialogElement);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onConfirmClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  const button = /** @type {HTMLElement} */ (event.currentTarget);\n  const dialogElement = button.closest('.mdw-dialog');\n  confirm(dialogElement);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCustomButtonClick(event) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  const button = /** @type {HTMLElement} */ (event.currentTarget);\n  if (dispatchDomEvent(button, CUSTOM_EVENT)) {\n    const dialogElement = button.closest('.mdw-dialog');\n    hide(dialogElement);\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function handleTabKeyPress(event) {\n  const popupElement = /** @type {Element} */ (event.currentTarget);\n  const focusableElements = popupElement.querySelectorAll([\n    'button:not(:disabled):not([tabindex=\"-1\"])',\n    '[href]:not(:disabled):not([tabindex=\"-1\"])',\n    'input:not(:disabled):not([tabindex=\"-1\"])',\n    'select:not(:disabled):not([tabindex=\"-1\"])',\n    'textarea:not(:disabled):not([tabindex=\"-1\"])',\n    '[tabindex]:not([tabindex=\"-1\"])'].join(', '));\n  let foundTarget = false;\n  let candidate = null;\n  for (const el of focusableElements) {\n    if (el === event.target) {\n      foundTarget = true;\n      if (event.shiftKey) {\n        break;\n      }\n    } else if (event.shiftKey) {\n      candidate = el;\n    } else if (foundTarget) {\n      candidate = el;\n      break;\n    }\n  }\n  if (!candidate) {\n    candidate = event.shiftKey ? focusableElements[focusableElements.length - 1] : focusableElements[0];\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  if (candidate && candidate instanceof HTMLElement) {\n    try {\n      candidate.focus();\n    } catch {\n      // Failed to focus\n    }\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onEscapeKeyDown(event) {\n  event.stopPropagation();\n  event.preventDefault();\n  const popupElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const dialogElement = popupElement.closest('.mdw-dialog');\n  cancel(dialogElement);\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  if (event.key === 'Tab') {\n    handleTabKeyPress(event);\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    onEscapeKeyDown(event);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @return {string}\n */\nexport function getTitleText(dialogElement) {\n  let title = 'Dialog';\n  const titleElement = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n  if (titleElement) {\n    title = titleElement.textContent ?? '';\n  } else {\n    const bodyElement = dialogElement.getElementsByClassName('mdw-dialog__body')[0];\n    if (bodyElement) {\n      title = bodyElement.textContent ?? '';\n    }\n  }\n  return title;\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenDialog = OPEN_DIALOGS[OPEN_DIALOGS.length - 1];\n  if (!lastOpenDialog || !lastOpenDialog.previousState) {\n    return;\n  }\n  if ((lastOpenDialog.previousState === event.state) || Object.keys(event.state)\n    .every((key) => event.state[key] === lastOpenDialog.previousState[key])) {\n    if (dispatchDomEvent(lastOpenDialog.element, CANCEL_EVENT)) {\n      hide(lastOpenDialog.element);\n    } else {\n      // Revert pop state by pushing state again\n      const title = getTitleText(lastOpenDialog.element);\n      window.history.pushState(lastOpenDialog.state, title);\n    }\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(DocumentFragment|string|null)} [content]\n * @return {void}\n */\nexport function updateTitle(dialogElement, content) {\n  let title = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n  if (!content) {\n    if (!title) {\n      // Nothing to be done\n      return;\n    }\n    title.remove();\n    return;\n  }\n  if (!title) {\n    title = document.createElement('div');\n    title.className = 'mdw-dialog__title';\n    const popup = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n    popup.prepend(title);\n  }\n  if (content instanceof DocumentFragment) {\n    while (title.lastChild) {\n      title.removeChild(title.lastChild);\n    }\n    title.appendChild(content);\n  } else {\n    title.textContent = content;\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @param {string[]} texts\n * @return {void}\n */\nexport function updateButtonText(dialogElement, texts) {\n  const buttons = dialogElement.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  for (let i = 0; i < buttons.length; i++) {\n    setTextNode(buttons.item(i), texts[i]);\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @param {(DocumentFragment|string)} [content]\n * @return {void}\n */\nexport function updateBody(dialogElement, content) {\n  let body = dialogElement.getElementsByClassName('mdw-dialog__body')[0];\n  if (!content) {\n    if (!body) {\n      // Nothing to be done\n      return;\n    }\n    body.remove();\n    return;\n  }\n  if (!body) {\n    body = document.createElement('div');\n    body.className = 'mdw-dialog__body mdw-theme';\n    body.setAttribute('mdw-ink', 'medium');\n    const title = dialogElement.getElementsByClassName('mdw-dialog__title')[0];\n    if (title) {\n      title.after(body);\n    } else {\n      const popup = dialogElement.getElementsByClassName('mdw-dialog__popup')[0];\n      popup.prepend(body);\n    }\n  }\n  if (content instanceof DocumentFragment) {\n    while (body.lastChild) {\n      body.removeChild(body.lastChild);\n    }\n    body.appendChild(content);\n  } else {\n    body.textContent = content;\n  }\n}\n\n/**\n * @param {Element} dialogElement\n * @param {Event|MouseEvent} [event]\n * @return {void}\n */\nexport function updateTransformOrigin(dialogElement, event) {\n  const popup = /** @type {HTMLElement} */ (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  popup.style.removeProperty('transform-origin');\n  if (!event) {\n    return;\n  }\n  const hadLayer = popup.style.getPropertyValue('display') != null;\n  if (!hadLayer) {\n    popup.style.setProperty('display', 'flex');\n  }\n  let pageX;\n  let pageY;\n  const dialogRect = dialogElement.getBoundingClientRect();\n  if ('pageX' in event && 'pageY' in event) {\n    pageX = event.pageX - window.pageXOffset;\n    pageY = event.pageY - window.pageYOffset;\n  } else {\n    const target = (event.target || event.currentTarget);\n    if (!(target instanceof Element)) {\n      return;\n    }\n    const rect = target.getBoundingClientRect();\n    if (!rect.width && !rect.width && !rect.left && !rect.top) {\n      return;\n    }\n    pageX = rect.left + (rect.width / 2);\n    pageY = rect.top + (rect.height / 2);\n  }\n  const transformOriginX = pageX - dialogRect.left - popup.offsetLeft;\n  const transformOriginY = pageY - dialogRect.top - popup.offsetTop;\n  popup.style.setProperty('transform-origin', `${transformOriginX}px ${transformOriginY}px`);\n  if (!hadLayer) {\n    popup.style.removeProperty('display');\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-dialog-js', '');\n  element.addEventListener('transitionend', onTransitionEnd);\n\n  let dialogCloser = getChildElementByClass(element, 'mdw-dialog__close');\n  if (!dialogCloser) {\n    dialogCloser = document.createElement('div');\n    dialogCloser.className = 'mdw-dialog__close';\n    if (element.firstChild) {\n      element.prepend(dialogCloser);\n    } else {\n      element.appendChild(dialogCloser);\n    }\n  }\n  dialogCloser.addEventListener('click', onCancelClick);\n  const popup = getChildElementByClass(element, 'mdw-dialog__popup');\n  popup.addEventListener('keydown', onKeyDown);\n  const buttons = popup.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  let foundConfirmButton = false;\n  let foundCancelButton = false;\n  for (const button of buttons) {\n    Button.attach(button);\n    if (button.hasAttribute('mdw-custom')) {\n      button.addEventListener('click', onCustomButtonClick);\n      continue;\n    }\n    if (!foundConfirmButton) {\n      button.addEventListener('click', onConfirmClick);\n      foundConfirmButton = true;\n      continue;\n    }\n    if (!foundCancelButton) {\n      button.addEventListener('click', onCancelClick);\n      foundCancelButton = true;\n      continue;\n    }\n    button.addEventListener('click', onCustomButtonClick);\n  }\n  setupARIA(element);\n}\n\n/**\n * @param {Object} options\n * @param {(DocumentFragment|string)} [options.title]\n * @param {(DocumentFragment|string)} [options.body]\n * @param {string[]} [options.buttons]\n * @param {boolean} [options.stacked=false]\n * @param {Element} [options.parent]\n * @param {boolean} [options.custom=false] Use custom button events\n * @param {(string|number)} [options.autofocus=0] Autofocus button by index or text\n * @return {Element}\n */\nexport function create(options) {\n  const element = document.createElement('div');\n  element.className = 'mdw-dialog';\n\n  const popup = document.createElement('div');\n  popup.className = 'mdw-dialog__popup mdw-theme';\n  popup.setAttribute('mdw-surface', 'card');\n  element.appendChild(popup);\n\n  updateTitle(element, options.title);\n  updateBody(element, options.body);\n\n  if (options.buttons) {\n    const buttonArea = document.createElement('div');\n    buttonArea.className = 'mdw-dialog__button-area';\n    let index = 0;\n    for (const buttonText of options.buttons) {\n      const button = document.createElement('div');\n      button.className = 'mdw-button mdw-theme';\n      button.setAttribute('tabindex', '0');\n      button.setAttribute('mdw-ink', 'secondary');\n      if (options.custom) {\n        button.setAttribute('mdw-custom', '');\n      }\n      button.textContent = buttonText;\n      buttonArea.appendChild(button);\n      if ((options.autofocus == null && index === 0)\n        || options.autofocus === index || options.autofocus === buttonText) {\n        button.setAttribute('mdw-autofocus', '');\n      }\n      index += 1;\n    }\n    if (options.stacked) {\n      buttonArea.setAttribute('mdw-stacked', '');\n    }\n    popup.appendChild(buttonArea);\n  }\n  if (options.parent) {\n    options.parent.appendChild(element);\n  }\n  attach(element);\n  return element;\n}\n\n/**\n * @param {Element} dialogElement\n * @param {Event} [event]\n * @return {boolean} handled\n */\nexport function show(dialogElement, event) {\n  if (event && event.type === 'click' && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  let changed = false;\n\n  if (dialogElement.getAttribute('aria-hidden') !== 'false') {\n    dialogElement.setAttribute('aria-hidden', 'false');\n    const popupElement = /** @type {HTMLElement} */ (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n    popupElement.style.setProperty('display', 'flex');\n    changed = true;\n  }\n\n  updateTransformOrigin(dialogElement, event);\n\n  if (!changed) {\n    return false;\n  }\n  attach(dialogElement);\n  const previousFocus = document.activeElement;\n  const newState = { hash: Math.random().toString(36).slice(2, 18) };\n  let previousState = null;\n  if (window.history && window.history.pushState) {\n    if (!window.history.state) {\n      // Create new previous state\n      window.history.replaceState({\n        hash: Math.random().toString(36).slice(2, 18),\n      }, document.title);\n    }\n    previousState = window.history.state;\n    const title = getTitleText(dialogElement);\n    window.history.pushState(newState, title);\n    window.addEventListener('popstate', onPopState);\n  }\n  const dialogStack = new DialogStack(dialogElement, previousFocus, newState, previousState);\n  OPEN_DIALOGS.push(dialogStack);\n  const focusElement = dialogElement.querySelector('[mdw-autofocus]');\n  try {\n    if (focusElement && focusElement instanceof HTMLElement) {\n      if (focusElement.scrollIntoView) {\n        focusElement.scrollIntoView();\n      }\n      focusElement.focus();\n    } else if (dialogElement instanceof HTMLElement) {\n      dialogElement.focus();\n    }\n  } catch {\n    // Failed to focus\n  }\n  return true;\n}\n\n/**\n * @param {Element} dialogElement\n * @return {void}\n */\nexport function detach(dialogElement) {\n  dialogElement.removeEventListener('transitionend', onTransitionEnd);\n  dialogElement.removeAttribute('mdw-dialog-js');\n  const dialogCloser = getChildElementByClass(dialogElement, 'mdw-dialog__close');\n  if (dialogCloser) {\n    dialogCloser.removeEventListener('click', onCancelClick);\n  }\n  const popupElement = /** @type {HTMLElement} */ (dialogElement.getElementsByClassName('mdw-dialog__popup')[0]);\n  if (popupElement) {\n    popupElement.removeEventListener('keydown', onKeyDown);\n    popupElement.style.removeProperty('transform-origin');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  const buttons = popupElement.querySelectorAll('.mdw-dialog__button-area .mdw-button');\n  for (const button of buttons) {\n    Button.detach(button);\n    button.removeEventListener('click', onConfirmClick);\n    button.removeEventListener('click', onCancelClick);\n    button.removeEventListener('click', onCustomButtonClick);\n  }\n}\n\n// Aliases\nexport const dismiss = hide;\n","/**\n * @param {Element} fabElement\n * @return {boolean} handled\n */\nexport function show(fabElement) {\n  let changed = false;\n  if (fabElement.hasAttribute('mdw-hide')) {\n    fabElement.removeAttribute('mdw-hide');\n    changed = true;\n  }\n  if (!fabElement.hasAttribute('mdw-show')) {\n    fabElement.setAttribute('mdw-show', '');\n    changed = true;\n  }\n  return changed;\n}\n\n/**\n * @param {Element} fabElement\n * @return {boolean} handled\n */\nexport function hide(fabElement) {\n  if (!fabElement.hasAttribute('mdw-hide')) {\n    fabElement.setAttribute('mdw-hide', '');\n  } else {\n    return false;\n  }\n  if (fabElement.hasAttribute('mdw-show')) {\n    fabElement.removeAttribute('mdw-show');\n    return true;\n  }\n  return false;\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onCloserClicked(event) {\n  const closer = /** @type {HTMLElement} */ (event.currentTarget);\n  const fabElement = closer.closest('.mdw-fab');\n  if (!fabElement) {\n    return;\n  }\n  hide(fabElement);\n}\n\n/**\n * @param {Element} fabElement\n * @return {void}\n */\nexport function toggle(fabElement) {\n  if (hide(fabElement)) {\n    return;\n  }\n  show(fabElement);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onFabButtonClicked(event) {\n  const button = /** @type {HTMLElement} */ (event.currentTarget);\n  const fabElement = button.closest('.mdw-fab');\n  if (!fabElement) {\n    return;\n  }\n  toggle(fabElement);\n}\n\n/**\n * @param {Element} fabElement\n * @return {void}\n */\nexport function attach(fabElement) {\n  let closer = fabElement.getElementsByClassName('mdw-fab__close')[0];\n  if (!closer) {\n    closer = document.createElement('div');\n    closer.classList.add('mdw-fab__close');\n    fabElement.appendChild(closer);\n  }\n  closer.addEventListener('click', onCloserClicked);\n  const fabButton = fabElement.getElementsByClassName('mdw-fab__button')[0];\n  fabButton.addEventListener('click', onFabButtonClicked);\n}\n\n/**\n * @param {Element} fabElement\n * @return {void}\n */\nexport function detach(fabElement) {\n  const fabButton = fabElement.getElementsByClassName('mdw-fab__button')[0];\n  fabButton.removeEventListener('click', onFabButtonClicked);\n  const closer = fabElement.getElementsByClassName('mdw-fab__close')[0];\n  if (closer) {\n    closer.removeEventListener('click', onCloserClicked);\n  }\n}\n","import Throttler from '../../core/throttler.js';\n\nconst MIN_SCROLL_DELTA = 24; // Avoid finger bounce\n\nconst MOBILE_BREAKPOINT = 600;\nconst TABLET_BREAKPOINT = 1024;\n\n// Throttler will execute at earliest convenience\n// Smoother than using requestAnimationFrame\nconst SCROLL_THROTTLE_TIME_MS = 20;\n\n/** @type {number} */\nlet lastScrollY = null;\n/** @type {number} */\nlet penultimateScrollY = null;\nlet scrolledPastAppBar = false;\n/** @type {HTMLElement} */\nlet appBarElement = null;\n/** @type {HTMLElement} */\nlet layoutContentElement = null;\n/** @type {number} */\nlet lastScrollBottomDistance = null;\n/** @type {Throttler} */\nlet scrollThrottler = null;\n\n/** @return {Throttler} */\nexport function getScrollThrottler() {\n  if (!scrollThrottler) {\n    scrollThrottler = new Throttler(SCROLL_THROTTLE_TIME_MS);\n  }\n  return scrollThrottler;\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onScrimScroll(event) {\n  // JS needed for Safari\n  event.stopPropagation();\n  if (event.type !== 'scroll') {\n    event.preventDefault();\n    return;\n  }\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (element.scrollTop !== element.scrollHeight / 4) {\n    element.scrollTop = element.scrollHeight / 4;\n  }\n  if (element.scrollLeft !== element.scrollWidth / 4) {\n    element.scrollLeft = element.scrollWidth / 4;\n  }\n}\n\n/** @return {boolean} */\nexport function isNavDrawerModalShowing() {\n  const navDrawer = document.getElementsByClassName('mdw-layout__navdrawer')[0];\n  if (!navDrawer) {\n    return false;\n  }\n  if (window.location.hash !== `#${navDrawer.id}` && navDrawer.getAttribute('aria-hidden') !== 'false') {\n    return false;\n  }\n  return (window.innerWidth < TABLET_BREAKPOINT || document.body.getAttribute('mdw-navdrawer-style') === 'modal');\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function showNavDrawer(event) {\n  if (event && event.target instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  document.getElementsByClassName('mdw-layout__navdrawer')[0].setAttribute('aria-hidden', 'false');\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function hideNavDrawer(event) {\n  if (event && event.target instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  const navDrawer = document.getElementsByClassName('mdw-layout__navdrawer')[0];\n  navDrawer.setAttribute('aria-hidden', 'true');\n  if (window.location.hash === `#${navDrawer.id}`) {\n    window.location.hash = '';\n  }\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function toggleNavDrawer(event) {\n  if (document.getElementsByClassName('mdw-layout__navdrawer')[0].getAttribute('aria-hidden') === 'false') {\n    hideNavDrawer(event);\n  } else {\n    showNavDrawer(event);\n  }\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function showSideSheet(event) {\n  if (event && event.target instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  document.getElementsByClassName('mdw-layout__sidesheet')[0].setAttribute('aria-hidden', 'false');\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function hideSideSheet(event) {\n  if (event && event.target instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  document.getElementsByClassName('mdw-layout__sidesheet')[0].setAttribute('aria-hidden', 'true');\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function onScrimClick(event) {\n  if (event && event.target instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  if (isNavDrawerModalShowing()) {\n    hideNavDrawer();\n  }\n  const sidesheet = document.getElementsByClassName('mdw-layout__sidesheet')[0];\n  if (sidesheet && sidesheet.getAttribute('aria-hidden') === 'false' && (window.innerWidth < TABLET_BREAKPOINT || document.body.getAttribute('mdw-sidesheet-style') === 'modal')) {\n    hideSideSheet();\n  }\n}\n\n/**\n * @param {MouseEvent} [event]\n * @return {void}\n */\nexport function toggleSideSheet(event) {\n  if (document.getElementsByClassName('mdw-layout__sidesheet')[0].getAttribute('aria-hidden') === 'false') {\n    hideSideSheet(event);\n  } else {\n    showSideSheet(event);\n  }\n}\n\n/** @return {boolean} */\nexport function isMobile() {\n  return window.innerWidth < MOBILE_BREAKPOINT;\n}\n\n/** @return {boolean} */\nexport function isTablet() {\n  return window.innerWidth >= MOBILE_BREAKPOINT\n    && window.innerWidth < TABLET_BREAKPOINT;\n}\n\n/** @return {HTMLElement} */\nexport function getAppBarElement() {\n  // eslint-disable-next-line no-return-assign\n  return (appBarElement ||= /** @type {HTMLElement} */ (document.getElementsByClassName('mdw-layout__appbar')[0]));\n}\n\n/** @return {boolean} */\nexport function shouldAutoHideAppBar() {\n  const appBar = getAppBarElement();\n  if (!appBar) {\n    return false;\n  }\n  const autoHide = appBar.getAttribute('mdw-autohide');\n  if (autoHide == null) {\n    return false;\n  }\n  if (autoHide === '') {\n    return true;\n  }\n  if (autoHide.includes('tablet') && isTablet()) {\n    return true;\n  }\n  if (autoHide.includes('mobile') && isMobile()) {\n    return true;\n  }\n  return false;\n}\n\n/** @return {void} */\nexport function openAppBarFabCut() {\n  const appBar = getAppBarElement();\n  if (!appBar) {\n    return;\n  }\n  const fabCutAttr = appBar.getAttribute('mdw-fab-cut');\n  if (fabCutAttr == null) {\n    return;\n  }\n  if (!fabCutAttr.includes('open')) {\n    appBar.setAttribute('mdw-fab-cut', `open ${fabCutAttr}`.trim());\n  }\n}\n\n/**\n * @param {boolean} [changeFabCut=true]\n * @return {void}\n */\nexport function showFab(changeFabCut) {\n  const fabElement = document.getElementsByClassName('mdw-layout__fab')[0];\n  if (!fabElement) {\n    return;\n  }\n  fabElement.setAttribute('aria-hidden', 'false');\n  if (changeFabCut !== false) {\n    openAppBarFabCut();\n  }\n}\n\n/** @return {void} */\nexport function closeAppBarFabCut() {\n  const appBar = getAppBarElement();\n  if (!appBar) {\n    return;\n  }\n  const fabCutAttr = appBar.getAttribute('mdw-fab-cut');\n  if (!fabCutAttr) {\n    return;\n  }\n  if (fabCutAttr.includes('open')) {\n    appBar.setAttribute('mdw-fab-cut', fabCutAttr.replace('open', '').trim());\n  }\n}\n\n/**\n * @param {boolean} [changeFabCut=true]\n * @return {void}\n */\nexport function hideFab(changeFabCut) {\n  const fabElement = document.getElementsByClassName('mdw-layout__fab')[0];\n  if (!fabElement) {\n    return;\n  }\n  fabElement.setAttribute('aria-hidden', 'true');\n  if (changeFabCut !== false) {\n    closeAppBarFabCut();\n  }\n}\n\n/** @return {boolean} */\nexport function isFabShown() {\n  const fabElement = document.getElementsByClassName('mdw-layout__fab')[0];\n  if (!fabElement) {\n    return false;\n  }\n  return fabElement.getAttribute('aria-hidden') !== 'true';\n}\n\n/** @return {HTMLElement} */\nexport function getContentElement() {\n  if (!layoutContentElement) {\n    layoutContentElement = /** @type {HTMLElement} */ (document.getElementsByClassName('mdw-layout__content')[0]);\n  }\n  return layoutContentElement;\n}\n\n/**\n * @param {boolean} isBody\n * @return {void}\n */\nexport function onScroll(isBody) {\n  const contentElement = getContentElement();\n  const scrollElement = isBody ? document.body : contentElement;\n  const currentScrollY = scrollElement.scrollTop;\n  const change = currentScrollY - lastScrollY;\n  const delta = Math.abs(change);\n  if (delta === 0) {\n    // Horizontal scroll?\n    return;\n  }\n  if (currentScrollY < 0 && lastScrollY <= 0) {\n    // Repeated overscroll event\n    return;\n  }\n\n  const scrollBottom = scrollElement.scrollHeight - scrollElement.clientHeight;\n  const scrollBottomDistance = scrollBottom - currentScrollY;\n  const scrollTopChange = currentScrollY <= 0\n    || lastScrollY <= 0;\n  const scrollBottomChange = scrollBottomDistance === 0 && lastScrollBottomDistance !== 0;\n\n  lastScrollBottomDistance = scrollBottomDistance;\n  if (delta < MIN_SCROLL_DELTA && !scrollTopChange && !scrollBottomChange) {\n    return;\n  }\n\n  const didScrollUp = (scrollBottomDistance > 0) && (change < 0);\n  const isAtScrollTop = didScrollUp && currentScrollY <= 0;\n  const newScrollUp = didScrollUp && lastScrollY >= penultimateScrollY;\n  const didScrollDown = (change > 0);\n  const isAtScrollBottom = didScrollDown && (scrollBottomDistance <= 0);\n  const newScrollDown = didScrollDown && lastScrollY <= penultimateScrollY;\n\n  penultimateScrollY = lastScrollY;\n  lastScrollY = currentScrollY;\n\n  // To avoid DOM read, abort if scrolling in same direction and has already past app bar\n  if ((change === 0) || (!isAtScrollTop && !newScrollUp && !isAtScrollBottom && !newScrollDown\n    && scrolledPastAppBar)) {\n    return;\n  }\n\n  const appBar = getAppBarElement();\n  if (!appBar) {\n    return;\n  }\n\n  const bottomAppBar = appBar.hasAttribute('mdw-bottom');\n\n  const scrolledAway = bottomAppBar ? didScrollUp : didScrollDown;\n  const newScrollAway = scrolledAway && (bottomAppBar ? newScrollUp : newScrollDown);\n\n  // For code readability\n  const scrolledBack = !scrolledAway;\n  const newScrollBack = scrolledBack && (bottomAppBar ? newScrollDown : newScrollUp);\n\n  const isAtRest = (bottomAppBar ? isAtScrollBottom : isAtScrollTop);\n\n  if (scrolledBack) {\n    // scrolledPastAppBar needs to be recalculated\n    scrolledPastAppBar = false;\n  }\n\n  // Don't perform on each scroll back, only on first\n  if ((newScrollBack || isAtRest) && appBar.hasAttribute('mdw-autohide')) {\n    appBar.removeAttribute('mdw-hide');\n    appBar.style.removeProperty('margin-top');\n  }\n\n  if (!scrolledPastAppBar) {\n    scrolledPastAppBar = bottomAppBar\n      ? currentScrollY <= scrollBottom - appBar.clientHeight\n      : currentScrollY > appBar.clientHeight;\n  }\n\n  if (isAtRest) {\n    if (appBar.hasAttribute('mdw-autoprominent')) {\n      appBar.setAttribute('mdw-prominent', '');\n    }\n    if (appBar.hasAttribute('mdw-autoraise')) {\n      appBar.removeAttribute('mdw-raise');\n    }\n    return;\n  }\n\n  // Not at rest\n  if (scrolledAway && scrolledPastAppBar) {\n    if (shouldAutoHideAppBar()) {\n      appBar.setAttribute('mdw-hide', '');\n      if (!isBody) {\n        appBar.style.setProperty('margin-top', `${-appBar.clientHeight}px`);\n      }\n    }\n    if (appBar.hasAttribute('mdw-autoprominent')) {\n      appBar.removeAttribute('mdw-prominent');\n    }\n  }\n\n  if (newScrollAway && appBar.hasAttribute('mdw-autoraise')) {\n    appBar.setAttribute('mdw-raise', '');\n  }\n}\n\n/** @return {void} */\nexport function onContentScroll() {\n  getScrollThrottler().run(() => onScroll(false));\n}\n\n/** @return {void} */\nexport function onBodyScroll() {\n  // position:sticky scrolling\n  getScrollThrottler().run(() => onScroll(true));\n}\n\n/** @return {void} */\nexport function resetScroll() {\n  const appBar = getAppBarElement();\n  if (appBar) {\n    appBar.removeAttribute('mdw-hide');\n    appBar.removeAttribute('mdw-raise');\n  }\n  scrolledPastAppBar = false;\n  lastScrollY = 0 + MIN_SCROLL_DELTA;\n  penultimateScrollY = lastScrollY;\n  onScroll(true);\n}\n\n/** @return {void} */\nexport function attach() {\n  const appBar = getAppBarElement();\n  if (appBar) {\n    // Initialize with scroll up\n    document.body.addEventListener('scroll', onBodyScroll, { passive: true });\n    const contentElement = getContentElement();\n    if (contentElement) {\n      contentElement.addEventListener('scroll', onContentScroll, { passive: true });\n    }\n    resetScroll();\n  }\n\n  for (const el of document.getElementsByClassName('mdw-layout__navdrawer-toggle')) {\n    el.addEventListener('click', toggleNavDrawer);\n  }\n  for (const el of document.getElementsByClassName('mdw-layout__navdrawer-show')) {\n    el.addEventListener('click', showNavDrawer);\n  }\n  for (const el of document.getElementsByClassName('mdw-layout__navdrawer-hide')) {\n    el.addEventListener('click', hideNavDrawer);\n  }\n  for (const el of document.getElementsByClassName('mdw-layout__sidesheet-toggle')) {\n    el.addEventListener('click', toggleSideSheet);\n  }\n  for (const el of document.getElementsByClassName('mdw-layout__sidesheet-show')) {\n    el.addEventListener('click', showSideSheet);\n  }\n  for (const el of document.getElementsByClassName('mdw-layout__sidesheet-hide')) {\n    el.addEventListener('click', hideSideSheet);\n  }\n  const scrim = document.getElementsByClassName('mdw-layout__scrim')[0];\n  if (scrim) {\n    scrim.addEventListener('click', onScrimClick);\n    scrim.addEventListener('scroll', onScrimScroll);\n    scrim.addEventListener('touchmove', onScrimScroll);\n    scrim.addEventListener('wheel', onScrimScroll);\n  }\n}\n\n/** @return {void} */\nexport function detach() {\n  document.removeEventListener('scroll', onBodyScroll);\n  const content = getContentElement();\n  content?.removeEventListener('scroll', onContentScroll);\n  const scrim = document.getElementsByClassName('mdw-layout__scrim')[0];\n  if (scrim) {\n    scrim.removeEventListener('click', onScrimClick);\n    scrim.removeEventListener('scroll', onScrimScroll);\n    scrim.removeEventListener('touchmove', onScrimScroll);\n    scrim.removeEventListener('wheel', onScrimScroll);\n  }\n}\n","import * as Attributes from '../../core/aria/attributes.js';\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport { dispatchDomEvent } from '../../core/dom.js';\nimport * as Overlay from '../../core/overlay/index.js';\nimport * as Ripple from '../../core/ripple/index.js';\n\nimport * as ListSecondary from './secondary.js';\n\nexport const ACTIVATE_EVENT = 'mdw:listcontent-activate';\nexport const SELECTED_CHANGE_EVENT = 'mdw:listcontent-selectedchange';\nexport const FOCUS_EVENT = 'mdw:listcontent-focus';\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onEnterKey(event) {\n  if (event.detail.ctrlKey || event.detail.shiftKey\n    || event.detail.altKey || event.detail.metaKey) {\n    return;\n  }\n  const listContentElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!listContentElement) {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n\n  // Slightly redundant, but performs ripple\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  listContentElement.dispatchEvent(newEvent);\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent|PointerEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  event.preventDefault();\n  const listContentElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (Attributes.isDisabled(listContentElement)) {\n    return;\n  }\n  dispatchDomEvent(listContentElement, ACTIVATE_EVENT);\n}\n\n/**\n * @param {Element} listContentElement\n * @return {void}\n */\nexport function attach(listContentElement) {\n  if (!listContentElement.hasAttribute('role') && listContentElement.parentElement.getAttribute('role') === 'none') {\n    listContentElement.setAttribute('role', 'option');\n  }\n  for (const el of listContentElement.getElementsByClassName('mdw-list__icon')) {\n    el.setAttribute('aria-hidden', 'true');\n  }\n  for (const el of listContentElement.getElementsByClassName('mdw-list__avatar')) {\n    el.setAttribute('aria-hidden', 'true');\n  }\n  listContentElement.addEventListener('click', onClick);\n\n  if (!listContentElement.hasAttribute('mdw-no-overlay')) {\n    listContentElement.classList.add('mdw-overlay');\n    Overlay.attach(listContentElement);\n  }\n  if (!listContentElement.hasAttribute('mdw-no-ripple')) {\n    listContentElement.classList.add('mdw-ripple');\n    Ripple.attach(listContentElement);\n  }\n  if (listContentElement.getAttribute('role') === 'radio'\n  && listContentElement.getAttribute('aria-checked') === 'true'\n  && listContentElement.getAttribute('tabindex') !== '0') {\n    listContentElement.setAttribute('tabindex', '0');\n  }\n  const secondaryElement = listContentElement.getElementsByClassName('mdw-list__secondary')[0];\n  if (secondaryElement) {\n    ListSecondary.attach(secondaryElement);\n  }\n  Keyboard.attach(listContentElement);\n  listContentElement.addEventListener(Keyboard.ENTER_KEY, onEnterKey);\n}\n/**\n * @param {Element} listContentElement\n * @return {void}\n */\nexport function detach(listContentElement) {\n  Keyboard.detach(listContentElement);\n  const secondaryElement = listContentElement.getElementsByClassName('mdw-list__secondary')[0];\n  if (secondaryElement) {\n    ListSecondary.detach(secondaryElement);\n  }\n  Ripple.detach(listContentElement);\n  Overlay.detach(listContentElement);\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  return Attributes.setSelected(element, value, dispatchEvent ? SELECTED_CHANGE_EVENT : null);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#Listbox\n// https://www.w3.org/TR/wai-aria-practices/#TreeView\n// https://www.w3.org/TR/wai-aria-practices/examples/landmarks/navigation.html\n\nimport * as Attributes from '../../core/aria/attributes.js';\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport * as RovingTabIndex from '../../core/aria/rovingtabindex.js';\n\nimport * as ListContent from './content.js';\nimport * as ListItem from './item.js';\n\n/**\n * @param {Event} event\n * @return {void}\n */\nfunction onContentFocusEvent(event) {\n  const listElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const onFocusInteraction = listElement.getAttribute('mdw-on-focus');\n  if (!onFocusInteraction) {\n    return;\n  }\n  const listContentElement = /** @type {HTMLElement} */ (event.target);\n  if (Attributes.isDisabled(listContentElement)) {\n    return;\n  }\n  for (const interaction of onFocusInteraction.split(' ')) {\n    switch (interaction) {\n      case 'select':\n        ListContent.setSelected(listContentElement, true);\n        break;\n      default:\n    }\n  }\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onSelectedChangeEvent(event) {\n  const listElement = /** @type {HTMLElement} */ (event.currentTarget);\n  // List is readonly\n  if (listElement.getAttribute('aria-readonly') === 'true') {\n    event.stopPropagation();\n    event.preventDefault();\n    return;\n  }\n  const listElementRole = listElement.getAttribute('role');\n  if (listElementRole !== 'listbox' && listElementRole !== 'tree') {\n    // Bubble up\n    return;\n  }\n  if (event.detail.value === 'false') {\n    // Item is radio-like and cannot be unselected\n    if (listElement.getAttribute('aria-required') === 'true'\n      && listElement.getAttribute('aria-multiselectable') !== 'true') {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    return;\n  }\n  const itemElement = /** @type {HTMLElement} */ (event.target);\n  if (listElement.getAttribute('aria-multiselectable') !== 'true') {\n    // Item is radio-like and must uncheck others\n    setTimeout(() => {\n      // Wait to see if event is cancelled\n      if (event.defaultPrevented) {\n        return;\n      }\n      const role = itemElement.getAttribute('role');\n      for (const item of listElement.querySelectorAll(`[role=\"${role}\"][aria-selected=\"true\"]`)) {\n        if (item !== itemElement) {\n          item.setAttribute('aria-selected', 'false');\n        }\n      }\n    });\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nfunction onTabIndexZeroed(event) {\n  event.stopPropagation();\n  const listElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const currentItem = /** @type {HTMLElement} */ (event.target);\n  switch (listElement.getAttribute('role')) {\n    case 'tree':\n      RovingTabIndex.removeTabIndex(listElement.querySelectorAll('[role=\"treeitem\"]'), [currentItem]);\n      break;\n    case 'listbox':\n      RovingTabIndex.removeTabIndex(listElement.querySelectorAll('[role=\"option\"]'), [currentItem]);\n      break;\n    case 'radiogroup':\n      RovingTabIndex.removeTabIndex(listElement.querySelectorAll('[role=\"radio\"]'), [currentItem]);\n      break;\n    default:\n  }\n}\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onDownArrowKey(event) {\n  if (event.detail.ctrlKey || event.detail.altKey\n    || event.detail.shiftKey || event.detail.metaKey) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const listElement = /** @type {HTMLElement} */ (event.currentTarget);\n  switch (listElement.getAttribute('role')) {\n    case 'tree':\n      RovingTabIndex.selectNext(listElement.querySelectorAll('[role=\"treeitem\"]'));\n      break;\n    case 'listbox':\n      RovingTabIndex.selectNext(listElement.querySelectorAll('[role=\"option\"]'));\n      break;\n    case 'radiogroup':\n      RovingTabIndex.selectNext(listElement.querySelectorAll('[role=\"radio\"]'));\n      break;\n    default:\n  }\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onUpArrowKey(event) {\n  if (event.detail.ctrlKey || event.detail.altKey\n    || event.detail.shiftKey || event.detail.metaKey) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const listElement = /** @type {HTMLElement} */ (event.currentTarget);\n  switch (listElement.getAttribute('role')) {\n    case 'tree':\n      RovingTabIndex.selectPrevious(listElement.querySelectorAll('[role=\"treeitem\"]'));\n      break;\n    case 'listbox':\n      RovingTabIndex.selectPrevious(listElement.querySelectorAll('[role=\"option\"]'));\n      break;\n    case 'radiogroup':\n      RovingTabIndex.selectPrevious(listElement.querySelectorAll('[role=\"radio\"]'));\n      break;\n    default:\n  }\n}\n\n/**\n * @param {Element} listElement\n * @param {string} role\n * @return {void}\n */\nexport function setupAria(listElement, role = 'tree') {\n  if (!listElement.hasAttribute('role')) {\n    listElement.setAttribute('role', role);\n  }\n  listElement.setAttribute('aria-orientation', 'vertical');\n  if (!listElement.hasAttribute('aria-multiselectable')) {\n    listElement.setAttribute('aria-multiselectable', 'false');\n  }\n}\n\n/**\n * @param {Element} listElement\n * @return {void}\n */\nexport function attach(listElement) {\n  let role = listElement.getAttribute('role');\n  if (!role) {\n    let newRole = 'listbox';\n    const parentRole = listElement.parentElement && listElement.parentElement.getAttribute('role');\n    if (parentRole === 'treeitem') {\n      newRole = 'group';\n    } else {\n      for (const child of listElement.children) {\n        if (child.hasAttribute('aria-expanded') && child.classList.contains('mdw-list__item')) {\n          newRole = 'tree';\n          break;\n        }\n      }\n    }\n    listElement.setAttribute('role', newRole);\n    role = newRole;\n  }\n\n  setupAria(listElement, role);\n  for (const child of listElement.children) {\n    if (child.classList.contains('mdw-list__item')) {\n      ListItem.attach(child);\n    }\n  }\n  for (const el of listElement.getElementsByClassName('mdw-list')) {\n    attach(el);\n  }\n  if (listElement.hasAttribute('mdw-list-js')) {\n    return;\n  }\n  if (role !== 'listbox' && role !== 'tree' && role !== 'radiogroup') {\n    return;\n  }\n\n  switch (role) {\n    case 'tree':\n      RovingTabIndex.setupTabIndexes(listElement.querySelectorAll('[role=\"treeitem\"]'));\n      break;\n    case 'listbox':\n      RovingTabIndex.setupTabIndexes(listElement.querySelectorAll('[role=\"option\"]'));\n      break;\n    case 'radiogroup':\n      RovingTabIndex.setupTabIndexes(listElement.querySelectorAll('[role=\"radio\"]'));\n      break;\n    default:\n      return;\n  }\n\n  listElement.addEventListener(Keyboard.DOWN_ARROW_KEY, onDownArrowKey);\n  listElement.addEventListener(Keyboard.UP_ARROW_KEY, onUpArrowKey);\n  listElement.addEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n  listElement.addEventListener(ListContent.SELECTED_CHANGE_EVENT, onSelectedChangeEvent);\n  listElement.addEventListener(ListContent.FOCUS_EVENT, onContentFocusEvent);\n  listElement.setAttribute('mdw-list-js', '');\n}\n\n/**\n * @param {Element|Document} [root=document]\n * @return {void}\n */\nexport function attachAll(root = document) {\n  for (const el of root.getElementsByClassName('mdw-list')) attach(el);\n}\n\n/**\n * @param {Element} listElement\n * @return {void}\n */\nexport function detach(listElement) {\n  for (const child of listElement.children) {\n    if (child.classList.contains('mdw-list__item')) {\n      ListItem.detach(child);\n    }\n  }\n  const elements = listElement.querySelectorAll(`[role=\"${listElement.getAttribute('role') === 'tree' ? 'treeitem' : 'option'}\"]`);\n  for (const element of elements) {\n    RovingTabIndex.detach(element);\n  }\n  listElement.removeEventListener(ListContent.SELECTED_CHANGE_EVENT, onSelectedChangeEvent);\n  listElement.removeEventListener(Keyboard.DOWN_ARROW_KEY, onDownArrowKey);\n  listElement.removeEventListener(Keyboard.UP_ARROW_KEY, onUpArrowKey);\n  listElement.removeEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n  listElement.removeAttribute('mdw-list-js');\n}\n","import * as Keyboard from '../../core/aria/keyboard.js';\nimport { getChildElementByClass } from '../../core/dom.js';\n\nimport * as ListContent from './content.js';\n\n/**\n * @param {Element} listItemElement\n * @return {boolean}\n */\nexport function isExpanded(listItemElement) {\n  return (listItemElement.getAttribute('aria-expanded') === 'true');\n}\n\n/**\n * @param {Element} listItemElement\n * @param {boolean} value\n * @return {void}\n */\nexport function setExpanded(listItemElement, value) {\n  listItemElement.setAttribute('aria-expanded', value ? 'true' : 'false');\n  for (const treeitem of listItemElement.querySelectorAll('[role=\"treeitem\"]')) {\n    treeitem.setAttribute('mdw-skip-tab', value ? 'false' : 'true');\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onChildContentActivate(event) {\n  const activatedElement = /** @type {HTMLElement} */ (event.target);\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!activatedElement || activatedElement.parentElement !== element) {\n    return;\n  }\n  if (element.hasAttribute('aria-expanded')) {\n    event.stopPropagation();\n    setExpanded(element, !isExpanded(element));\n  }\n}\n\n/**\n * @param {Element} listItemElement\n * @return {void}\n */\nexport function setupAria(listItemElement) {\n  let isTreeItem = null;\n  let roleIsNone = false;\n  if (!listItemElement.hasAttribute('role')) {\n    if (listItemElement.hasAttribute('aria-expanded')) {\n      listItemElement.setAttribute('role', 'treeitem');\n      isTreeItem = true;\n      roleIsNone = false;\n    } else {\n      listItemElement.setAttribute('role', 'none');\n      isTreeItem = false;\n      roleIsNone = true;\n    }\n  }\n  if (isTreeItem !== false || listItemElement.getAttribute('role') === 'treeitem') {\n    const activatorContent = getChildElementByClass(listItemElement, 'mdw-list__content');\n    if (activatorContent && !activatorContent.hasAttribute('role')) {\n      activatorContent.setAttribute('role', 'none');\n    }\n  }\n  if (!roleIsNone) {\n    return;\n  }\n  const parentRole = listItemElement.parentElement && listItemElement.parentElement.getAttribute('role');\n  if (!parentRole) {\n    return;\n  }\n  const contentChild = getChildElementByClass(listItemElement, 'mdw-list__content');\n  if (!contentChild) {\n    return;\n  }\n  if (contentChild.hasAttribute('role')) {\n    return;\n  }\n  switch (parentRole) {\n    case 'listbox':\n      contentChild.setAttribute('role', 'option');\n      break;\n    case 'radiogroup':\n      contentChild.setAttribute('role', 'radio');\n      break;\n    case 'group':\n    case 'tree':\n    case 'treeitem':\n      contentChild.setAttribute('role', 'treeitem');\n      break;\n    default:\n    case 'list':\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.ctrlKey || event.shiftKey || event.altKey || event.metaKey) {\n    return;\n  }\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  if (document.activeElement !== event.currentTarget) {\n    return;\n  }\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!element) {\n    return;\n  }\n  if (!element.hasAttribute('aria-expanded')) {\n    return;\n  }\n  const activatorContent = getChildElementByClass(element, 'mdw-list__content');\n  if (!activatorContent) {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  activatorContent.dispatchEvent(newEvent);\n}\n\n/**\n * @param {Element} listItemElement\n * @return {void}\n */\nexport function attachCore(listItemElement) {\n  setupAria(listItemElement);\n}\n/**\n * @param {Element} listItemElement\n * @return {void}\n */\nexport function attach(listItemElement) {\n  attachCore(listItemElement);\n  for (const element of listItemElement.getElementsByClassName('mdw-list__content')) { ListContent.attach(element); }\n  if (listItemElement.hasAttribute('aria-expanded')) {\n    if (!listItemElement.hasAttribute('mdw-expander-js')) {\n      listItemElement.setAttribute('mdw-pre-expander-js', '');\n      setTimeout(() => {\n        if (listItemElement.hasAttribute('mdw-pre-expander-js')) {\n          listItemElement.removeAttribute('mdw-pre-expander-js');\n          listItemElement.setAttribute('mdw-expander-js', '');\n        }\n      }, 500);\n    }\n    setExpanded(listItemElement, isExpanded(listItemElement));\n  }\n  listItemElement.addEventListener(ListContent.ACTIVATE_EVENT, onChildContentActivate);\n  listItemElement.addEventListener('keydown', onKeyDown);\n  Keyboard.attach(listItemElement);\n}\n\n/**\n * @param {Element} listItemElement\n * @return {void}\n */\nexport function detach(listItemElement) {\n  Keyboard.detach(listItemElement);\n  for (const element of listItemElement.getElementsByClassName('mdw-list__content')) { ListContent.detach(element); }\n}\n","import { dispatchDomEvent } from '../../core/dom.js';\n\nexport const SECONDARY_ACTION_EVENT = 'mdw:listsecondary-action';\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onInteraction(event) {\n  event.stopPropagation();\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent|PointerEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  event.stopPropagation();\n  const listSecondaryElement = /** @type {HTMLElement} */ (event.currentTarget);\n  dispatchDomEvent(listSecondaryElement, SECONDARY_ACTION_EVENT);\n}\n\n/**\n * @param {Element} listSecondaryElement\n * @return {void}\n */\nexport function attach(listSecondaryElement) {\n  if (!listSecondaryElement.hasAttribute('mdw-action')) {\n    return;\n  }\n  listSecondaryElement.addEventListener('click', onClick);\n  listSecondaryElement.addEventListener('mousedown', onInteraction, { passive: true });\n  listSecondaryElement.addEventListener('touchstart', onInteraction, { passive: true });\n  listSecondaryElement.addEventListener('keydown', onInteraction, { passive: true });\n}\n/**\n * @param {Element} listSecondaryElement\n * @return {void}\n */\nexport function detach(listSecondaryElement) {\n  listSecondaryElement.removeEventListener('click', onClick);\n  listSecondaryElement.removeEventListener('mousedown', onInteraction);\n  listSecondaryElement.removeEventListener('touchstart', onInteraction);\n  listSecondaryElement.removeEventListener('keydown', onInteraction);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport {\n  dispatchDomEvent,\n  isRtl,\n} from '../../core/dom.js';\n\nimport * as MenuItem from './item.js';\n\nclass MenuStack {\n  /**\n   * @param {Element} element\n   * @param {Element} previousFocus\n   * @param {Object} [state]\n   * @param {Object} [previousState]\n   * @param {MouseEvent|PointerEvent} [originalEvent]\n   */\n  constructor(element, previousFocus, state, previousState, originalEvent) {\n    this.element = element;\n    this.previousFocus = previousFocus;\n    this.state = state;\n    this.previousState = previousState;\n    this.originalEvent = originalEvent;\n    this.pendingResizeOperation = null;\n  }\n}\n\n/** @type {MenuStack[]} */\nconst OPEN_MENUS = [];\n\nexport const HIDE_EVENT = 'mdw:menu-hide';\n\n/**\n * @param {Element} menuElement\n * @return {boolean} handled\n */\nexport function hide(menuElement) {\n  if (menuElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  menuElement.setAttribute('aria-hidden', 'true');\n  let stackIndex = -1;\n  OPEN_MENUS.some((stack, index) => {\n    if (stack.element === menuElement) {\n      stackIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (stackIndex !== -1) {\n    const menuStack = OPEN_MENUS[stackIndex];\n    if (menuStack.previousFocus && menuStack.previousFocus instanceof HTMLElement) {\n      menuStack.previousFocus.focus();\n    }\n    OPEN_MENUS.splice(stackIndex, 1);\n    if (menuStack.state && window.history && window.history.state // IE11 returns a cloned state object, not the original\n      && menuStack.state.hash === window.history.state.hash) {\n      window.history.back();\n    }\n  }\n  if (!OPEN_MENUS.length) {\n    // eslint-disable-next-line no-use-before-define\n    window.removeEventListener('popstate', onPopState);\n    // eslint-disable-next-line no-use-before-define\n    window.removeEventListener('resize', onWindowResize);\n  }\n  dispatchDomEvent(menuElement, HIDE_EVENT);\n  return true;\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function setupARIA(menuElement) {\n  if (menuElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  if (!menuElement.hasAttribute('aria-hidden')) {\n    menuElement.setAttribute('aria-hidden', 'true');\n  }\n  for (const el of menuElement.getElementsByClassName('mdw-divider')) {\n    el.setAttribute('role', 'separator');\n  }\n  menuElement.setAttribute('role', 'menu');\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  if (popupElement) {\n    popupElement.setAttribute('role', 'none');\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onMenuScroll(event) {\n  // JS needed for Safari\n  if (event.target === event.currentTarget) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n  if (event.type !== 'scroll') {\n    return;\n  }\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (element.scrollTop !== 0) {\n    element.scrollTop = 0;\n  }\n  if (element.scrollLeft !== 0) {\n    element.scrollLeft = 0;\n  }\n}\n\n/**\n * @param {MouseEvent|PointerEvent} event\n * @return {void}\n */\nexport function onMenuClick(event) {\n  if (event.currentTarget === event.target && event.target instanceof HTMLElement) {\n    event.stopPropagation();\n    hide(event.target);\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @param {HTMLElement} popupElement\n * @param {MouseEvent|PointerEvent} [event]\n * @param {boolean} [alignTarget=true]\n * @return {void}\n */\nexport function updateMenuPosition(menuElement, popupElement, event, alignTarget) {\n  let top = 'auto';\n  let left = 'auto';\n  let transformOrigin = '';\n  const useAlignTarget = (alignTarget !== false);\n  const margin = useAlignTarget ? '0' : '';\n  const mdwPosition = menuElement.getAttribute('mdw-position') || '';\n  const mdwDirection = menuElement.getAttribute('mdw-direction') || '';\n  let alignTop = mdwPosition.includes('top');\n  let alignBottom = mdwPosition.includes('bottom');\n  let alignVCenter = mdwPosition.includes('vcenter');\n\n  const alignStart = mdwPosition.includes('start');\n  const alignEnd = mdwPosition.includes('end');\n  let alignLeft = mdwPosition.includes('left');\n  let alignRight = mdwPosition.includes('right');\n  let alignHCenter = mdwPosition.includes('hcenter');\n\n  let openUp = mdwDirection.includes('up');\n  let openDown = mdwDirection.includes('down');\n  const openNormal = mdwDirection.includes('normal');\n  const openReverse = mdwDirection.includes('reverse');\n  let openVCenter = mdwDirection.includes('vcenter');\n  let openHCenter = mdwDirection.includes('hcenter');\n  let openLtr = mdwDirection.includes('ltr');\n  let openRtl = mdwDirection.includes('rtl');\n\n  const target = /** @type {HTMLElement} */ (event.currentTarget || event.target);\n\n  let isPageRTL = null;\n  if (alignStart || alignEnd || openNormal || openReverse) {\n    // Using page-direction based values\n    isPageRTL = isRtl();\n    if (alignStart || alignEnd) {\n      if (alignStart) {\n        if (isPageRTL) {\n          alignRight = true;\n        } else {\n          alignLeft = true;\n        }\n      } else if (isPageRTL) {\n        alignLeft = true;\n      } else {\n        alignRight = true;\n      }\n    }\n    if (openNormal || openReverse) {\n      if (openNormal) {\n        if (isPageRTL) {\n          openRtl = true;\n        } else {\n          openLtr = true;\n        }\n      } else if (isPageRTL) {\n        openLtr = true;\n      } else {\n        openRtl = true;\n      }\n    }\n  }\n  const offsetTop = useAlignTarget ? 0 : -event.offsetY;\n  const offsetBottom = useAlignTarget ? target.clientHeight : event.offsetY;\n  const offsetLeft = useAlignTarget ? 0 : -event.offsetX;\n  const offsetRight = useAlignTarget ? target.clientWidth : event.offsetX;\n  const rect = target.getBoundingClientRect();\n  const pageX = rect.left;\n  const pageY = rect.top;\n\n  /* Automatic Positioning\n    *\n    * 9 Positions\n    *   3      7      4\n    *     \n    *              \n    *   5     9     6\n    *              \n    *     \n    *   1      8      2\n    *\n    * 1: Bottom Left\n    * 2: Bottom Right\n    * 3: Top Left\n    * 4: Top Right\n    * 5: VCenter Left\n    * 6: VCenter Right\n    * 7: HCenter Top\n    * 8: HCenter Bottom\n    * 9: VCenter HCenter\n    *\n    * 9 Directions:\n    * a - Down LTR\n    * b - Down RTL\n    * c - Up LTR\n    * d - Up RTL\n    * e - LTR\n    * f - RTL\n    * g - Down\n    * h - Up\n    * i - Center\n    *\n    *\n    * 16 total combos\n    * 1a 1b 1c 1d     \n    * 2a 2b 2c 2d     \n    * 3a 3b 3c 3d     \n    * 4a 4b 4c 4d     \n    *\n    * Avoid using opposite angle\n    *\n    * 1a XX 1c 1d     \n    * XX 2b 2c 2d     \n    * 1a 3b 3c XX     \n    * 4a 4b XX 4d     \n    *\n    *\n    * Preference Order:\n    * - Flow from corner           1a 2b 3c 4d       \n    * - Open adjacent to target    4a 3b 2c 1d       \n    * - Overlay target             3a 4b 1c 2d       \n    * - Open from horizontal side  5e 6f           \n    * - Open from center           9i             \n    */\n\n  popupElement.style.setProperty('max-height', 'none');\n  const popupElementHeight = popupElement.clientHeight;\n  const popupElementWidth = popupElement.clientWidth;\n  const canOpenDownwardsFromBottom = !alignTop && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetBottom) <= window.innerHeight;\n  const canOpenDownwardsFromTop = !alignBottom && !alignVCenter\n    && !openUp && !openVCenter\n    && popupElementHeight + (pageY + offsetTop) <= window.innerHeight;\n  const canOpenUpwardsFromTop = !alignBottom && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetTop >= popupElementHeight;\n  const canOpenUpwardsFromBottom = !alignTop && !alignVCenter && !openDown\n    && !openVCenter\n    && pageY + offsetBottom >= popupElementHeight;\n  const canOpenRightwardsFromLeft = !alignRight && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetLeft) <= window.innerWidth;\n  const canOpenRightwardsFromRight = !alignLeft && !alignHCenter\n    && !openRtl && !openHCenter\n    && popupElementWidth + (pageX + offsetRight) <= window.innerWidth;\n  const canOpenLeftwardsFromRight = !alignLeft && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetRight >= popupElementWidth;\n  const canOpenLeftwardsFromLeft = !alignRight && !alignHCenter\n    && !openLtr && !openHCenter\n    && pageX + offsetLeft >= popupElementWidth;\n  const canOpenFromCenter = !alignLeft && !alignRight && !alignTop && !alignBottom\n    && !openUp && !openDown\n    && ((pageX + offsetLeft) / 2) >= (popupElementWidth / 2)\n    && (popupElementWidth / 2) + ((pageX + offsetLeft) / 2) <= window.innerWidth;\n  popupElement.style.removeProperty('max-height');\n  const candidates = [\n    canOpenDownwardsFromBottom && canOpenRightwardsFromLeft, // 1a \n    canOpenDownwardsFromBottom && canOpenLeftwardsFromRight, // 2b \n    canOpenUpwardsFromTop && canOpenRightwardsFromLeft, // 3c \n    canOpenUpwardsFromTop && canOpenLeftwardsFromLeft, // 4d \n    canOpenDownwardsFromTop && canOpenRightwardsFromRight, // 4a \n    canOpenDownwardsFromTop && canOpenLeftwardsFromLeft, // 3b \n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2c \n    canOpenUpwardsFromBottom && canOpenLeftwardsFromLeft, // 1d \n    canOpenDownwardsFromTop && canOpenRightwardsFromLeft, // 3a \n    canOpenDownwardsFromTop && canOpenLeftwardsFromRight, // 4b \n    canOpenUpwardsFromBottom && canOpenRightwardsFromLeft, // 1c \n    canOpenUpwardsFromBottom && canOpenRightwardsFromRight, // 2d \n    canOpenRightwardsFromLeft, // 5e \n    canOpenLeftwardsFromRight, // 6f \n    canOpenFromCenter, // 9i \n  ].map((value, index) => {\n    if (value) {\n      return index + 1;\n    }\n    return 0;\n  }).filter((value) => value !== 0);\n  if (candidates.length) {\n    let candidateNumber;\n    if (isPageRTL === null) {\n      isPageRTL = isRtl();\n    }\n    if (isPageRTL) {\n      candidateNumber = [2, 1, 4, 3, 6, 5, 8, 7, 10, 9, 12, 11, 14, 13, 15]\n        .find((number) => candidates.includes(number));\n    } else {\n      candidateNumber = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n        .find((number) => candidates.includes(number));\n    }\n    if (candidateNumber == null) {\n      candidateNumber = isPageRTL ? 2 : 1;\n    }\n    switch (candidateNumber) {\n      // Position\n      default:\n      case 1:\n      case 8:\n      case 11:\n        alignBottom = true; alignLeft = true;\n        break;\n      case 2:\n      case 7:\n      case 12:\n        alignBottom = true; alignRight = true;\n        break;\n      case 3:\n      case 6:\n      case 9:\n        alignTop = true; alignLeft = true;\n        break;\n      case 4:\n      case 5:\n      case 10:\n        alignTop = true; alignRight = true;\n        break;\n      case 13:\n        alignVCenter = true; alignLeft = true;\n        break;\n      case 14:\n        alignVCenter = true; alignRight = true;\n        break;\n      case 15:\n        alignVCenter = true; alignHCenter = true;\n    }\n    switch (candidateNumber) {\n      // Direction\n      default:\n      case 1:\n      case 5:\n      case 9:\n        openDown = true; openLtr = true;\n        break;\n      case 2:\n      case 6:\n      case 10:\n        openDown = true; openRtl = true;\n        break;\n      case 3:\n      case 7:\n      case 11:\n        openUp = true; openLtr = true;\n        break;\n      case 4:\n      case 8:\n      case 12:\n        openUp = true; openRtl = true;\n        break;\n      case 13:\n        openLtr = true; openVCenter = true;\n        break;\n      case 14:\n        openRtl = true; openVCenter = true;\n        break;\n      case 15:\n        openHCenter = true; openVCenter = true;\n        break;\n    }\n  }\n\n  if (openLtr) {\n    if (alignRight) {\n      left = `${pageX + offsetRight}px`;\n    } else if (alignHCenter) {\n      left = `${pageX + ((offsetLeft + offsetRight) / 2)}px`;\n    } else {\n      left = `${pageX + offsetLeft}px`;\n    }\n    transformOrigin = 'left';\n  } else if (openHCenter) {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - (popupElementWidth / 2)}px`;\n    } else if (alignRight) {\n      left = `${(pageX + offsetRight) - (popupElementWidth / 2)}px`;\n    } else {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - (popupElementWidth / 2)}px`;\n    }\n    transformOrigin = 'center';\n  } else {\n    if (alignLeft) {\n      left = `${(pageX + offsetLeft) - popupElementWidth}px`;\n    } else if (alignHCenter) {\n      left = `${(pageX + ((offsetLeft + offsetRight) / 2)) - popupElementWidth}px`;\n    } else {\n      left = `${(pageX + offsetRight) - popupElementWidth}px`;\n    }\n    transformOrigin = 'right';\n  }\n\n  if (openUp) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - popupElement.clientHeight}px`;\n    } else if (alignVCenter) {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - popupElement.clientHeight}px`;\n    } else {\n      top = `${(pageY + offsetTop) - popupElement.clientHeight}px`;\n    }\n    transformOrigin += ' bottom';\n  } else if (openVCenter) {\n    if (alignBottom) {\n      top = `${(pageY + offsetBottom) - (popupElement.clientHeight / 2)}px`;\n    } else if (alignTop) {\n      top = `${(pageY + offsetTop) - (popupElement.clientHeight / 2)}px`;\n    } else {\n      top = `${(pageY + ((offsetTop + offsetBottom) / 2)) - (popupElement.clientHeight / 2)}px`;\n    }\n    transformOrigin += ' center';\n  } else {\n    if (alignTop) {\n      top = `${pageY + offsetTop}px`;\n    } else if (alignVCenter) {\n      top = `${pageY + ((offsetTop + offsetBottom) / 2)}px`;\n    } else {\n      top = `${pageY + offsetBottom}px`;\n    }\n    transformOrigin += ' top';\n  }\n\n  popupElement.style.setProperty('top', top);\n  popupElement.style.setProperty('left', left);\n  popupElement.style.setProperty('right', 'auto');\n  popupElement.style.setProperty('bottom', 'auto');\n  popupElement.style.setProperty('margin', margin);\n  popupElement.style.setProperty('transform-origin', transformOrigin);\n}\n\n/**\n * @return {void}\n */\nexport function onWindowResize() {\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.originalEvent) {\n    return;\n  }\n  if (lastOpenMenu.pendingResizeOperation) {\n    cancelAnimationFrame(lastOpenMenu.pendingResizeOperation);\n  }\n  lastOpenMenu.pendingResizeOperation = requestAnimationFrame(() => {\n    updateMenuPosition(\n      lastOpenMenu.element,\n      /** @type {HTMLElement} */ (lastOpenMenu.element.getElementsByClassName('mdw-menu__popup')[0]),\n      lastOpenMenu.originalEvent,\n    );\n    lastOpenMenu.pendingResizeOperation = null;\n  });\n}\n\n/**\n * @param {PopStateEvent} event\n * @return {void}\n */\nexport function onPopState(event) {\n  if (!event.state) {\n    return;\n  }\n  const lastOpenMenu = OPEN_MENUS[OPEN_MENUS.length - 1];\n  if (!lastOpenMenu || !lastOpenMenu.previousState) {\n    return;\n  }\n  if ((lastOpenMenu.previousState === event.state) || Object.keys(event.state)\n    .every((key) => event.state[key] === lastOpenMenu.previousState[key])) {\n    hide(lastOpenMenu.element);\n  }\n}\n\n/**\n * @param {Element} menu\n * @param {boolean} [backwards=false]\n * @return {void}\n */\nexport function selectNextMenuItem(menu, backwards) {\n  const menuItems = /** @type {HTMLCollectionOf<HTMLElement>} */ (menu.getElementsByClassName('mdw-menu__item'));\n  let foundTarget = false;\n  /** @type {HTMLElement} */\n  let candidate = null;\n  /** @type {HTMLElement} */\n  let firstFocusableItem = null;\n  let lastFocusableElement = null;\n  const target = document.activeElement;\n\n  // Hidden elements cannot be focused\n  // Disabled elements cannot be focused on IE11\n  // Skip elements that fail to receive focus\n  for (const el of menuItems) {\n    el.focus();\n    const focusable = (document.activeElement === el);\n    if (focusable) {\n      if (!firstFocusableItem) {\n        firstFocusableItem = el;\n      }\n      lastFocusableElement = el;\n    }\n    if (el === target) {\n      foundTarget = true;\n      if (backwards && candidate) {\n        break;\n      }\n      continue;\n    }\n    if (backwards) {\n      if (focusable) {\n        candidate = el;\n      }\n      continue;\n    }\n    if (foundTarget) {\n      if (focusable) {\n        candidate = el;\n        break;\n      }\n      continue;\n    }\n  }\n  if (!candidate) {\n    candidate = backwards ? lastFocusableElement : firstFocusableItem;\n  }\n  if (candidate && document.activeElement !== candidate) {\n    candidate.focus();\n  }\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  const menuElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!menuElement || menuElement.getAttribute('aria-hidden') === 'true') {\n    return;\n  }\n\n  if (event.key === 'ArrowDown' || (event.key === 'Down')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, false);\n    return;\n  }\n  if (event.key === 'ArrowUp' || (event.key === 'Up')) {\n    event.stopPropagation();\n    event.preventDefault();\n    selectNextMenuItem(menuElement, true);\n    return;\n  }\n  if (event.key === 'Tab') {\n    // Hide menu allowing focus to revert to calling element\n    // To then allow browser default Tab interaction\n    // Unless menu hiding is cancelled\n    if (!hide(menuElement)) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    return;\n  }\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    event.stopPropagation();\n    event.preventDefault();\n    hide(menuElement);\n  }\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function refreshMenuItems(menuElement) {\n  for (const menuItem of menuElement.getElementsByClassName('mdw-menu__item')) {\n    menuItem.setAttribute('tabindex', '-1');\n    MenuItem.attach(menuItem);\n  }\n  const popupElement = menuElement.getElementsByClassName('mdw-menu__popup')[0];\n  popupElement.setAttribute('tabindex', '-1');\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function attach(menuElement) {\n  menuElement.setAttribute('mdw-menu-js', '');\n  menuElement.addEventListener('click', onMenuClick);\n  menuElement.addEventListener('scroll', onMenuScroll);\n  menuElement.addEventListener('touchmove', onMenuScroll);\n  menuElement.addEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  setupARIA(menuElement);\n}\n\n/**\n * @param {Element} menuElement\n * @param {MouseEvent|PointerEvent} [event]\n * @param {boolean} [alignTarget=true]\n * @return {boolean} handled\n */\nexport function show(menuElement, event, alignTarget) {\n  if (event && event.currentTarget instanceof HTMLAnchorElement) {\n    // Prevent anchor link\n    event.preventDefault();\n  }\n  const popupElement = /** @type {HTMLElement} */ (menuElement.getElementsByClassName('mdw-menu__popup')[0]);\n  let changed = false;\n  if (event) {\n    updateMenuPosition(menuElement, popupElement, event, alignTarget);\n  } else {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  if (menuElement.getAttribute('aria-hidden') !== 'false') {\n    menuElement.setAttribute('aria-hidden', 'false');\n    changed = true;\n  }\n  if (changed) {\n    attach(menuElement);\n    const previousFocus = document.activeElement;\n    const newState = { hash: Math.random().toString(36).slice(2, 18) };\n    let previousState = null;\n    if (window.history && window.history.pushState) {\n      if (!window.history.state) {\n        // Create new previous state\n        window.history.replaceState({\n          hash: Math.random().toString(36).slice(2, 18),\n        }, document.title);\n      }\n      previousState = window.history.state;\n      window.history.pushState(newState, document.title);\n      window.addEventListener('popstate', onPopState);\n      window.addEventListener('resize', onWindowResize);\n    }\n    const menuStack = new MenuStack(menuElement, previousFocus, newState, previousState, event);\n    OPEN_MENUS.push(menuStack);\n    refreshMenuItems(menuElement);\n    if (event && !event.detail && ('pointerType' in event) && !event.pointerType) {\n      // Triggered with keyboard event\n      selectNextMenuItem(menuElement);\n    } else {\n      popupElement.focus();\n    }\n  }\n  return changed;\n}\n\n/**\n * @param {Element} menuElement\n * @return {void}\n */\nexport function detach(menuElement) {\n  hide(menuElement);\n  menuElement.removeEventListener('click', onMenuClick);\n  menuElement.removeEventListener('scroll', onMenuScroll);\n  menuElement.removeEventListener('touchmove', onMenuScroll);\n  menuElement.removeEventListener('wheel', onMenuScroll);\n  menuElement.addEventListener('keydown', onKeyDown);\n  menuElement.removeAttribute('mdw-menu-js');\n  const popupElement = /** @type {HTMLElement} */ (menuElement.getElementsByClassName('mdw-menu__popup')[0]);\n  if (popupElement) {\n    popupElement.style.removeProperty('top');\n    popupElement.style.removeProperty('left');\n    popupElement.style.removeProperty('right');\n    popupElement.style.removeProperty('bottom');\n    popupElement.style.removeProperty('margin');\n    popupElement.style.removeProperty('transform-origin');\n    popupElement.style.removeProperty('position');\n    if (popupElement.hasAttribute('style') && !popupElement.getAttribute('style')) {\n      popupElement.removeAttribute('style');\n    }\n  }\n  for (const element of menuElement.getElementsByClassName('mdw-menu__item')) { MenuItem.detach(element); }\n}\n","// https://www.w3.org/TR/wai-aria-practices/#menu\n\nimport * as Attributes from '../../core/aria/attributes.js';\nimport {\n  dispatchDomEvent,\n  iterateElementSiblings,\n} from '../../core/dom.js';\nimport * as Overlay from '../../core/overlay/index.js';\nimport * as Ripple from '../../core/ripple/index.js';\n\nexport const ACTIVATE_EVENT = 'mdw:menuitem-activate';\nexport const CHECK_EVENT = 'mdw:menuitem-check';\nexport const UNCHECK_EVENT = 'mdw:menuitem-uncheck';\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function setupARIA(element) {\n  if (element.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  const role = element.getAttribute('role');\n  let useAriaChecked = false;\n  if (role === 'menuitemcheckbox' || role === 'menuitemradio') {\n    useAriaChecked = true;\n  } else if (role !== 'menuitem') {\n    if (element.getElementsByClassName('mdw-menu__check').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemcheckbox');\n    } else if (element.getElementsByClassName('mdw-menu__radio').length) {\n      useAriaChecked = true;\n      element.setAttribute('role', 'menuitemradio');\n    } else {\n      element.setAttribute('role', 'menuitem');\n    }\n  }\n  if (useAriaChecked && !element.hasAttribute('aria-checked')) {\n    element.setAttribute('aria-checked', 'false');\n  }\n  for (const el of element.getElementsByClassName('mdw-menu__icon')) el.setAttribute('aria-hidden', 'true');\n  for (const el of element.getElementsByClassName('mdw-menu__text')) el.setAttribute('role', 'text');\n  for (const el of element.getElementsByClassName('mdw-menu__check')) el.setAttribute('aria-hidden', 'true');\n  for (const el of element.getElementsByClassName('mdw-menu__info')) el.setAttribute('role', 'note');\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onMouseMove(event) {\n  const el = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!el) {\n    return;\n  }\n  const previousFocus = document.activeElement;\n  if (previousFocus === el) {\n    // Already focused\n    return;\n  }\n  if (el.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  el.focus();\n  if (document.activeElement !== el\n    && document.activeElement !== previousFocus\n    && previousFocus instanceof HTMLElement) {\n    previousFocus.focus();\n  }\n}\n\n/**\n * @param {Element} element\n * @param {boolean} checked\n * @return {boolean} uiChanged\n */\nexport function setChecked(element, checked) {\n  const role = element.getAttribute('role');\n  let isCheckable = false;\n  if (role === 'menuitemcheckbox') {\n    isCheckable = true;\n    if (!dispatchDomEvent(element, checked ? CHECK_EVENT : UNCHECK_EVENT)) {\n      return false;\n    }\n  }\n  if (role === 'menuitemradio') {\n    isCheckable = true;\n    if (checked) {\n      if (!dispatchDomEvent(element, CHECK_EVENT)) {\n        return false;\n      }\n      iterateElementSiblings(element, (sibling) => {\n        if (sibling.getAttribute('role') === 'menuitemradio') {\n          sibling.setAttribute('aria-checked', 'false');\n        }\n      });\n    }\n  }\n  if (!isCheckable) {\n    return false;\n  }\n  element.setAttribute('aria-checked', checked ? 'true' : 'false');\n  return true;\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function toggleChecked(element) {\n  const checked = !Attributes.isChecked(element);\n  return setChecked(element, checked);\n}\n\n/**\n * @param {Element} element\n * @return {boolean} handled\n */\nexport function openSubMenu(element) {\n  const hasPopup = element.getAttribute('aria-haspopup');\n  if (hasPopup !== 'menu' && hasPopup !== 'true') {\n    return false;\n  }\n\n  // TODO: Open new menu\n  return false;\n}\n\n/**\n * @param {MouseEvent|KeyboardEvent|PointerEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  event.stopPropagation();\n\n  const menuItemElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (Attributes.isDisabled(menuItemElement)) {\n    return;\n  }\n  const role = menuItemElement.getAttribute('role');\n  if (role === 'menuitemcheckbox') {\n    toggleChecked(menuItemElement);\n  } else if (role === 'menuitemradio') {\n    setChecked(menuItemElement, true);\n  }\n  dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  const menuItemElement = /** @type {HTMLElement} */ (event.currentTarget);\n\n  if (event.key === 'Enter') {\n    event.stopPropagation();\n    event.preventDefault();\n    if (Attributes.isDisabled(menuItemElement)) {\n      return;\n    }\n    onClick(event);\n    return;\n  }\n\n  if (event.key === 'Spacebar' || (event.key === ' ')) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (Attributes.isDisabled(menuItemElement)) {\n      return;\n    }\n    const role = menuItemElement.getAttribute('role');\n    if (role === 'menuitemcheckbox') {\n      toggleChecked(menuItemElement);\n    } else if (role === 'menuitemradio') {\n      setChecked(menuItemElement, true);\n    } else {\n      dispatchDomEvent(menuItemElement, ACTIVATE_EVENT);\n    }\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  // If mouseover is used, an item can still lose focus via keyboard navigation.\n  // An extra event listener would need to be created to catch blur but the cursor\n  // would still remain over the element, thus needing another mousemove event.\n  // Prioritization is given to less event listeners rather than operations per second.\n  element.addEventListener('mousemove', onMouseMove);\n  element.addEventListener('click', onClick);\n  element.addEventListener('keydown', onKeyDown);\n  setupARIA(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  Overlay.attach(element);\n\n  element.classList.add('mdw-ripple');\n  Ripple.attach(element);\n\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('mousemove', onMouseMove);\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-js');\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","const radius = 8.75;\nconst circumference = 2 * Math.PI * radius;\n\n// TODO: Upgrade IE/Edge browsers to animate with rAF\n\n/**\n * @param {Element} progressCircleElement\n * @return {void}\n */\nexport function attach(progressCircleElement) {\n  /** @type {Element} */\n  let svg = (progressCircleElement.getElementsByTagName('svg')[0]);\n  if (!svg) {\n    svg = (document.createElement('svg'));\n    svg.setAttribute('viewbox', '0 0 24 24');\n    progressCircleElement.appendChild(svg);\n  }\n  const paths = svg.getElementsByTagName('path');\n  if (paths.length !== 2) {\n    svg.innerHTML = /* html */ `\n      <path d=\"M12 3.25A8.75 8.75 0 1 1 3.25 12\"/>\n      <path d=\"M12 3.25A8.75 8.75 0 1 1 3.25 12 A 8.75 8.75 0 0 1 12 3.25\"/>\n    `;\n  }\n}\n\n/**\n * @param {Element} progressCircleElement\n * @param {number} value Percentage value (0-100);\n * @return {void}\n */\nexport function setValue(progressCircleElement, value) {\n  const dashOffset = circumference * (3 - (value / 100));\n  const pathElements = progressCircleElement.getElementsByTagName('path');\n  pathElements[pathElements.length - 1].style.setProperty('stroke-dashoffset', dashOffset.toString());\n}\n","import * as Attributes from '../../core/aria/attributes.js';\nimport * as Keyboard from '../../core/aria/keyboard.js';\n\nimport * as SelectionInput from './input.js';\n\nexport const CHECKED_CHANGE_EVENT = 'mdw:selection-checkedchange';\n\n/**\n * @param {Element} selectionElement\n * @param {boolean|string} newValue\n * @param {boolean} [dispatchEvent=false]\n * @return {boolean} successful\n */\nexport function setChecked(selectionElement, newValue, dispatchEvent) {\n  return Attributes.setChecked(\n    selectionElement,\n    newValue,\n    dispatchEvent ? CHECKED_CHANGE_EVENT : null,\n  );\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onActivateEvent(event) {\n  if (event.target instanceof HTMLInputElement) {\n    return;\n  }\n  if (event.type === Keyboard.SPACEBAR_KEY) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  const selectionElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (Attributes.isDisabled(selectionElement)) {\n    return;\n  }\n  if (Attributes.isReadonly(selectionElement)) {\n    return;\n  }\n  if (!selectionElement.hasAttribute('aria-checked')) {\n    return;\n  }\n  if ((event.type === 'click' || event.type === SelectionInput.CLICK_EVENT)\n    && selectionElement.hasAttribute('mdw-no-autocheck')) return;\n\n  const role = selectionElement.getAttribute('role');\n  if ((event.type === 'focus' || event.type === SelectionInput.FOCUS_EVENT)\n    && role !== 'radio') return;\n\n  const newValue = (role === 'radio' ? true : !Attributes.isChecked(selectionElement));\n  setChecked(selectionElement, newValue, true);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  const inputElement = /** @type {HTMLElement} */ (element.getElementsByClassName('mdw-selection__input')[0]);\n  if (inputElement) {\n    SelectionInput.attach(inputElement);\n  }\n  Keyboard.attach(element);\n  element.addEventListener('focus', onActivateEvent);\n  element.addEventListener('click', onActivateEvent);\n  element.addEventListener(Keyboard.SPACEBAR_KEY, onActivateEvent);\n  element.addEventListener(SelectionInput.FOCUS_EVENT, onActivateEvent);\n  element.addEventListener(SelectionInput.CLICK_EVENT, onActivateEvent);\n}\n","import {\n  dispatchDomEvent,\n} from '../../core/dom.js';\n\nexport const CLICK_EVENT = 'mdw:selectioninput-click';\nexport const FOCUS_EVENT = 'mdw:selectioninput-focus';\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.target instanceof HTMLInputElement && (event.key === ' ' || event.key === 'Spacebar')) {\n    // Don't pass up Spacebar on native input elements\n    event.stopPropagation();\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nfunction onClick(event) {\n  event.stopPropagation();\n  dispatchDomEvent(/** @type {HTMLElement} */ (event.target), CLICK_EVENT);\n}\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nfunction onFocus(event) {\n  dispatchDomEvent(/** @type {HTMLElement} */ (event.target), FOCUS_EVENT);\n}\n\n/**\n * @param {HTMLElement} element\n * @return {void}\n */\nexport function attach(element) {\n  element.addEventListener('keydown', onKeyDown);\n  element.addEventListener('click', onClick);\n  element.addEventListener('focus', onFocus);\n}\n\n/**\n * @param {HTMLElement} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('focus', onFocus);\n}\n","import * as Selection from './index.js';\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onCheckedChange(event) {\n  if (event.detail.value === 'false') {\n    return;\n  }\n  const radiogroupElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const itemElement = /** @type {HTMLElement} */ (event.target);\n  setTimeout(() => {\n    // Wait to see if event is cancelled\n    if (event.defaultPrevented) {\n      return;\n    }\n    for (const item of radiogroupElement.querySelectorAll('[role=\"radio\"][aria-checked=\"true\"]')) {\n      if (item !== itemElement) {\n        item.setAttribute('aria-checked', 'false');\n      }\n    }\n  });\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.addEventListener(Selection.CHECKED_CHANGE_EVENT, onCheckedChange);\n}\n\n/**\n * @param {HTMLElement} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener(Selection.CHECKED_CHANGE_EVENT, onCheckedChange);\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#alert\n// https://www.w3.org/TR/wai-aria-practices/#alert\n\nimport {\n  dispatchDomEvent,\n  setTextNode,\n} from '../../core/dom.js';\nimport * as Button from '../button/index.js';\n\n/**\n * @typedef SnackbarCreateOptions\n * @prop {!string} text\n * @prop {!string} [buttonText]\n * @prop {string} [buttonInk='primary']\n * @prop {boolean} [stacked=false]\n * @prop {number|boolean} [autoHide=4] Auto hide time in seconds\n * @prop {boolean} [autoDestroy=true] Destroy element after hide\n * @prop {Element} [parent] Parent element to which to append\n * @prop {boolean} [show=true] Show element after creation\n * @prop {boolean} [skipQueue=false] Skip queue\n */\n\nclass SnackbarQueueItem {\n  /**\n   * @param {Element} element\n   * @param {SnackbarCreateOptions} [options]\n   */\n  constructor(element, options) {\n    this.element = element;\n    this.options = options;\n    this.hideTimeout = null;\n  }\n\n  /** @return {void} */\n  clearHideTimeout() {\n    if (this.hideTimeout) {\n      clearTimeout(this.hideTimeout);\n      this.hideTimeout = null;\n    }\n  }\n}\n\n/** @type {SnackbarQueueItem[]} */\nconst SNACKBAR_QUEUE = [];\n\nexport const HIDE_EVENT = 'mdw:snackbar-hide';\nexport const SHOW_EVENT = 'mdw:snackbar-show';\n\n/**\n * @param {Element} snackbarElement\n * @return {void}\n */\nexport function setupARIA(snackbarElement) {\n  if (snackbarElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  snackbarElement.setAttribute('role', 'alert');\n  snackbarElement.setAttribute('tabindex', '-1');\n}\n\n/**\n * @param {Element} element\n * @return {SnackbarQueueItem}\n */\nexport function findNextQueueItem(element) {\n  let queue = null;\n  SNACKBAR_QUEUE.some((q) => {\n    if (q.element === element) {\n      queue = q;\n      return true;\n    }\n    return false;\n  });\n  return queue;\n}\n\n/**\n * @param {Element} snackbarElement\n * @return {void}\n */\nexport function handleAnimationChange(snackbarElement) {\n  const showing = snackbarElement.getAttribute('aria-hidden') === 'false';\n  if (showing) {\n    const currentQueueItem = findNextQueueItem(snackbarElement);\n    if (currentQueueItem && currentQueueItem.hideTimeout) {\n      return;\n    }\n    const autoHideString = snackbarElement.getAttribute('mdw-autohide');\n    if (autoHideString == null) {\n      return;\n    }\n    const timeInSeconds = Number.parseFloat(autoHideString) || 4;\n    if (timeInSeconds < 0) {\n      return;\n    }\n    const timeout = setTimeout(() => {\n      // eslint-disable-next-line no-use-before-define\n      hide(snackbarElement);\n    }, timeInSeconds * 1000);\n    if (currentQueueItem) {\n      currentQueueItem.hideTimeout = timeout;\n    }\n    return;\n  }\n\n  const nextQueueItem = findNextQueueItem(snackbarElement);\n  if (nextQueueItem) {\n    // eslint-disable-next-line no-use-before-define\n    update(snackbarElement, nextQueueItem.options);\n    // eslint-disable-next-line no-use-before-define\n    show(snackbarElement);\n    return;\n  }\n  if (snackbarElement.hasAttribute('mdw-autodestroy') && snackbarElement.parentElement) {\n    snackbarElement.remove();\n  }\n}\n\n/**\n * @param {AnimationEvent} event\n * @return {void}\n */\nexport function onAnimationEnd(event) {\n  handleAnimationChange(/** @type {Element} */ (event.currentTarget));\n}\n\n/**\n * @param {Element} snackbarElement\n * @return {boolean} changed\n */\nexport function hide(snackbarElement) {\n  if (snackbarElement.getAttribute('aria-hidden') === 'true') {\n    return false;\n  }\n  if (!dispatchDomEvent(snackbarElement, HIDE_EVENT)) {\n    return false;\n  }\n  snackbarElement.setAttribute('aria-hidden', 'true');\n  const currentQueueItem = findNextQueueItem(snackbarElement);\n  if (currentQueueItem) {\n    SNACKBAR_QUEUE.splice(SNACKBAR_QUEUE.indexOf(currentQueueItem), 1);\n  }\n  if (window.getComputedStyle(snackbarElement).animationName === 'none') {\n    requestAnimationFrame(() => handleAnimationChange(snackbarElement));\n  }\n  return true;\n}\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  if (event.key === 'Escape' || event.key === 'Esc') {\n    // Allow users to close snackbar with escape, for accessibilty reasons\n    event.stopPropagation();\n    event.preventDefault();\n    const snackbarElement = /** @type {Element} */ (event.currentTarget);\n    hide(snackbarElement);\n  }\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nexport function onButtonClick(event) {\n  const buttonElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (buttonElement instanceof HTMLAnchorElement) {\n    event.preventDefault();\n  }\n  const snackbarElement = buttonElement.closest('.mdw-snackbar');\n  hide(snackbarElement);\n}\n\n/**\n * @param {Element} element\n * @param {SnackbarCreateOptions} options\n * @return {void}\n */\nexport function update(element, options) {\n  element.classList.add('mdw-snackbar');\n  if (!element.classList.contains('mdw-theme')) {\n    // Guidelines conflict stating a background should be fully opaque\n    // But says spec says to use #000000 with 87% opacity\n    // Calculated against white, opaque value is #212121 (Gray-900)\n    element.classList.add('mdw-theme');\n    element.setAttribute('mdw-surface', 'background 900');\n    element.setAttribute('mdw-dark', '');\n  }\n  let span = element.getElementsByTagName('span')[0];\n  if (span) {\n    // To trigger screen readers, we destroy and create a new span and textnode\n    span.remove();\n  }\n  span = document.createElement('span');\n  if (element.firstChild) {\n    element.prepend(span);\n  } else {\n    element.appendChild(span);\n  }\n  const textNode = document.createTextNode(options.text);\n  span.appendChild(textNode);\n  let button = element.getElementsByClassName('mdw-button')[0];\n  if (options.buttonText) {\n    if (!button) {\n      button = document.createElement('a');\n      element.appendChild(button);\n    }\n    setTextNode(button, options.buttonText);\n    button.classList.add('mdw-button');\n    if (typeof options.buttonInk === 'undefined') {\n      button.classList.add('mdw-theme');\n      button.setAttribute('mdw-ink', 'secondary');\n    } else if (typeof options.buttonInk === 'string') {\n      button.classList.add('mdw-theme');\n      button.setAttribute('mdw-ink', options.buttonInk);\n    } else {\n      // Don't set attribute if null is passed\n    }\n  } else if (button && button.parentElement) {\n    button.remove();\n  }\n  if (options.stacked) {\n    element.setAttribute('mdw-stacked', '');\n  }\n  if (options.autoHide !== false) {\n    let timeInSeconds;\n    if (options.autoHide === true) {\n      timeInSeconds = 4;\n    } else if (options.autoHide == null) {\n      timeInSeconds = 4;\n    } else {\n      timeInSeconds = options.autoHide;\n    }\n    if (timeInSeconds > 0) {\n      element.setAttribute('mdw-autohide', timeInSeconds.toString());\n    }\n  }\n  if (options.autoDestroy !== false) {\n    element.setAttribute('mdw-autodestroy', '');\n  }\n}\n\n/**\n * @param {Element} snackbarElement\n * @return {void}\n */\nexport function attach(snackbarElement) {\n  const button = snackbarElement.getElementsByClassName('mdw-button')[0];\n  if (button) {\n    Button.attach(button);\n    button.addEventListener('click', onButtonClick);\n  }\n  snackbarElement.setAttribute('mdw-js', '');\n  snackbarElement.addEventListener('animationend', onAnimationEnd);\n  snackbarElement.addEventListener('keydown', onKeyDown);\n  setupARIA(snackbarElement);\n}\n\n/**\n * @param {Element} snackbarElement\n * @return {void}\n */\nexport function detach(snackbarElement) {\n  const button = snackbarElement.getElementsByClassName('mdw-button')[0];\n  if (button) {\n    Button.detach(button);\n    button.removeEventListener('click', onButtonClick);\n  }\n  // Remove timeouts and stacks\n  for (let i = SNACKBAR_QUEUE.length - 1; i >= 0; i--) {\n    const queue = SNACKBAR_QUEUE[i];\n    if (queue.element === snackbarElement) {\n      queue.clearHideTimeout();\n      SNACKBAR_QUEUE.splice(i, 1);\n    }\n  }\n  snackbarElement.removeAttribute('mdw-js');\n}\n\n/**\n * @param {?Element} snackbarElement\n * @return {boolean} changed\n */\nexport function show(snackbarElement) {\n  if (snackbarElement.getAttribute('aria-hidden') === 'false') {\n    return false;\n  }\n  if (!dispatchDomEvent(snackbarElement, SHOW_EVENT)) {\n    return false;\n  }\n  snackbarElement.setAttribute('aria-hidden', 'false');\n  attach(snackbarElement);\n  if (window.getComputedStyle(snackbarElement).animationName === 'none') {\n    requestAnimationFrame(() => handleAnimationChange(snackbarElement));\n  }\n  return true;\n}\n\n/**\n * Creates a Snackbar element if required and adds to show queue\n * @param {SnackbarCreateOptions} options\n * @return {HTMLElement}\n */\nexport function create(options) {\n  let element;\n  let newlyCreated = false;\n  if (options.parent) {\n    /** @type {HTMLElement} */\n    element = (options.parent.getElementsByClassName('mdw-snackbar')[0]);\n  }\n  if (!element) {\n    element = document.createElement('div');\n    if (options.parent) {\n      options.parent.appendChild(element);\n    }\n    newlyCreated = true;\n  }\n  const queue = new SnackbarQueueItem(element, options);\n  if (options.skipQueue) {\n    SNACKBAR_QUEUE.splice(0, 0, queue);\n  } else {\n    SNACKBAR_QUEUE.push(queue);\n  }\n\n  if (options.show !== false) {\n    if (newlyCreated) {\n      // Update after show to trigger a text change\n      update(element, options);\n      show(element);\n      update(element, options);\n    } else {\n      show(element);\n    }\n  }\n  return element;\n}\n","import {\n  dispatchDomEvent,\n  isRtl,\n  scrollToElement,\n} from '../../core/dom.js';\n\nimport * as TabPanel from './panel.js';\n\nexport const SCROLL_EVENT = 'mdw:tabcontent-scroll';\n\n/**\n * Prevent scrolling with keyboard\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.ctrlKey || event.shiftKey || event.altKey || event.metaKey) {\n    return;\n  }\n  switch (event.key) {\n    case 'ArrowLeft':\n    case 'ArrowRight':\n    case 'Left':\n    case 'Right':\n      if (event.target instanceof HTMLInputElement\n        || event.target instanceof HTMLTextAreaElement) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      break;\n    default:\n  }\n}\n\n/**\n * @param {Event} event\n * @return {void}\n */\nexport function onTabContentScroll(event) {\n  const tabContentElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const isPageRtl = isRtl();\n  const scrollPoint = tabContentElement.scrollLeft / tabContentElement.clientWidth;\n  let visibleIndex = Math.floor(scrollPoint);\n  let visibilityPercentage = scrollPoint - visibleIndex;\n\n  // Percentage may be incorrect due to floating point rounding errors\n  // Compare integer values provided by browser to check if within 1px\n  for (let i = 0; i < tabContentElement.children.length; i++) {\n    const panel = tabContentElement.children.item(i);\n    if (!(panel instanceof HTMLElement)) continue;\n    if (Math.abs(tabContentElement.scrollLeft - panel.offsetLeft) <= 1) {\n      visibleIndex = i;\n      visibilityPercentage = 0;\n      break;\n    }\n  }\n\n  const isResting = visibilityPercentage === 0;\n  let rightPanel;\n  let leftPeekPanel;\n  let rightPeekPanel;\n  let leftSelected = false;\n  let rightSelected = false;\n  let selectedIndex;\n  let leftPanelIndex;\n  if (isPageRtl) {\n    const lastIndex = tabContentElement.children.length - 1;\n    leftPanelIndex = lastIndex - visibleIndex;\n    leftPeekPanel = tabContentElement.children.item(lastIndex - (visibleIndex - 1));\n    rightPanel = tabContentElement.children.item(lastIndex - (visibleIndex + 1));\n    rightPeekPanel = tabContentElement.children.item(lastIndex - (visibleIndex + 2));\n    if (visibilityPercentage < 0.5) {\n      leftSelected = true;\n      selectedIndex = lastIndex - visibleIndex;\n    } else {\n      rightSelected = true;\n      selectedIndex = lastIndex - (visibleIndex + 1);\n    }\n  } else {\n    leftPanelIndex = visibleIndex;\n    rightPanel = tabContentElement.children.item(visibleIndex + 1);\n    leftPeekPanel = tabContentElement.children.item(visibleIndex - 1);\n    rightPeekPanel = tabContentElement.children.item(visibleIndex + 2);\n    if (visibilityPercentage < 0.5) {\n      leftSelected = true;\n      selectedIndex = visibleIndex;\n    } else {\n      rightSelected = true;\n      selectedIndex = visibleIndex + 1;\n    }\n  }\n\n  const leftPanel = /** @type {HTMLElement} */ (tabContentElement.children.item(leftPanelIndex));\n\n  const currentTargetIndexString = tabContentElement.getAttribute('mdw-target-index');\n  const currentTargetIndex = (currentTargetIndexString == null)\n    ? null\n    : Number.parseInt(currentTargetIndexString, 10);\n\n  let updateSelected = false;\n  let forceSelection = false;\n  if (currentTargetIndex == null) {\n    TabPanel.setExpanded(leftPanel, leftSelected);\n    if (rightPanel) {\n      TabPanel.setExpanded(rightPanel, rightSelected);\n    }\n    updateSelected = visibilityPercentage === 0;\n  } else if (currentTargetIndex === selectedIndex && visibilityPercentage === 0) {\n    updateSelected = true;\n    forceSelection = true;\n    tabContentElement.removeAttribute('mdw-target-index');\n  }\n\n  TabPanel.setHidden(leftPanel, false);\n  if (leftPeekPanel) {\n    TabPanel.setHidden(leftPeekPanel, isResting || !leftSelected);\n  }\n  if (rightPanel) {\n    TabPanel.setHidden(rightPanel, isResting);\n  }\n  if (rightPeekPanel) {\n    TabPanel.setHidden(rightPeekPanel, isResting || !rightSelected);\n  }\n\n  dispatchDomEvent(tabContentElement, SCROLL_EVENT, {\n    leftPanelIndex,\n    visibilityPercentage,\n    updateSelected,\n    forceSelection,\n  });\n}\n\n/**\n * @param {HTMLElement} tabContentElement\n * @param {HTMLElement|number} panel element or index\n * @param {true|false|'smooth'} [scrollToPanel='smooth']\n * @return {void}\n */\nexport function selectPanel(tabContentElement, panel, scrollToPanel = 'smooth') {\n  /** @type {HTMLElement} */\n  let panelElement;\n  /** @type {number} */\n  let currentSelectedIndex = null;\n  /** @type {number} */\n  let panelIndex = null;\n  /** @type {Element[]} */\n  const otherPanels = [];\n  // eslint-disable-next-line github/array-foreach\n  [...tabContentElement.getElementsByClassName('mdw-tab__panel')].forEach((el, index) => {\n    if (currentSelectedIndex == null && TabPanel.isExpanded(el)) {\n      currentSelectedIndex = index;\n    }\n    if (panel === el || panel === index) {\n      TabPanel.setExpanded(el, true);\n      TabPanel.setHidden(el, false);\n      panelElement = /** @type {HTMLElement} */ (el);\n      panelIndex = index;\n    } else {\n      otherPanels.push(el);\n    }\n  });\n  if (!panelElement) {\n    // Invalid index or panel not in tabcontent\n    return;\n  }\n  for (const sibling of otherPanels) TabPanel.setExpanded(sibling, false);\n\n  const isPageRtl = isRtl();\n  const targetScrollLeft = isPageRtl\n    ? panelElement.parentElement.scrollWidth + panelElement.offsetLeft - panelElement.offsetWidth\n    : panelElement.offsetLeft;\n  if (!scrollToPanel || panelElement.parentElement.scrollLeft === targetScrollLeft) {\n    // No scrolling, hide others\n    for (const sibling of otherPanels) TabPanel.setHidden(sibling, true);\n    return;\n  }\n  if (scrollToPanel && panelElement) {\n    if (panelIndex == null) {\n      tabContentElement.removeAttribute('mdw-target-index');\n    } else {\n      tabContentElement.setAttribute('mdw-target-index', panelIndex.toString(10));\n    }\n    scrollToElement(panelElement, scrollToPanel === 'smooth', isPageRtl);\n  }\n}\n\n/**\n * @param {Element} tabContentElement\n * @return {void}\n */\nexport function attach(tabContentElement) {\n  tabContentElement.addEventListener('scroll', onTabContentScroll, { passive: true });\n  for (const element of tabContentElement.getElementsByClassName('mdw-tab__panel')) {\n    TabPanel.attach(element);\n  }\n  tabContentElement.addEventListener('keydown', onKeyDown);\n}\n\n/**\n * @param {Element} tabContentElement\n * @return {void}\n */\nexport function detach(tabContentElement) {\n  tabContentElement.removeEventListener('keydown', onKeyDown);\n  tabContentElement.removeEventListener('scroll', onTabContentScroll);\n  for (const element of tabContentElement.getElementsByClassName('mdw-tab__panel')) {\n    TabPanel.detach(element);\n  }\n}\n","import {\n  dispatchDomEvent,\n} from '../../core/dom.js';\n\nimport * as TabContent from './content.js';\nimport * as TabItem from './item.js';\nimport * as TabList from './list.js';\nimport * as TabPanel from './panel.js';\n\nconst RESIZE_WAIT_FRAMES = 5;\n\nexport const SELECTED_INDEX_CHANGE_EVENT = 'mdw:tab-selectedindexchange';\n\n/**\n * @param {Element} tabElement\n * @return {void}\n */\nexport function onResize(tabElement) {\n  let stage = 0;\n  tabElement.setAttribute('mdw-resize-stage', stage.toString());\n  /** @return {void} */\n  function performResize() {\n    if (!tabElement.hasAttribute('mdw-resize-stage')) {\n      // Skip resize\n      return;\n    }\n    const attrStage = tabElement.getAttribute('mdw-resize-stage');\n    if (attrStage !== stage.toString()) {\n      // Off-sync due to another resize event\n      return;\n    }\n    stage += 1;\n    tabElement.setAttribute('mdw-resize-stage', stage.toString());\n    if (stage === RESIZE_WAIT_FRAMES) {\n      const tabContentElement = /** @type {HTMLElement} */ (tabElement.getElementsByClassName('mdw-tab__content')[0]);\n      if (tabContentElement) {\n        /** @type {HTMLElement} */\n        const relatedPanel = (tabContentElement.querySelector('.mdw-tab__panel[aria-expanded=\"true\"]'));\n        if (relatedPanel) {\n          TabContent.selectPanel(tabContentElement, relatedPanel, true);\n        }\n      }\n    } else if (stage === RESIZE_WAIT_FRAMES * 2) {\n      const tabListElement = /** @type {HTMLElement} */ (tabElement.getElementsByClassName('mdw-tab__list')[0]);\n      if (tabListElement) {\n        /** @type {HTMLElement} */\n        const relatedItem = (tabListElement.querySelector('.mdw-tab__item[aria-selected=\"true\"]'));\n        if (relatedItem) {\n          TabList.setIndicatorPosition(tabListElement, relatedItem, 0);\n        }\n      }\n      tabElement.removeAttribute('mdw-resize-stage');\n      return;\n    }\n\n    requestAnimationFrame(performResize);\n  }\n  requestAnimationFrame(performResize);\n}\n\n/**\n * @param {HTMLElement} tabElement\n * @param {number} index\n * @return {void}\n */\nfunction updateSelectedIndex(tabElement, index) {\n  const currentIndex = tabElement.getAttribute('mdw-selected-index');\n  if (currentIndex == null || currentIndex === index.toString()) {\n    return;\n  }\n  tabElement.setAttribute('mdw-selected-index', index.toString());\n  dispatchDomEvent(tabElement, SELECTED_INDEX_CHANGE_EVENT, { value: index });\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onTabItemSelectedChange(event) {\n  if (event.detail.value !== 'true') {\n    return;\n  }\n  const tabElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const tabItemElement = /** @type {HTMLElement} */ (event.target);\n  const tabListElement = /** @type {HTMLElement} */ (tabElement.getElementsByClassName('mdw-tab__list')[0]);\n  if (!tabListElement) {\n    return;\n  }\n\n  const tabContentElement = /** @type {HTMLElement} */ (tabElement.getElementsByClassName('mdw-tab__content')[0]);\n  const tabItemIndex = TabList.getTabItemIndex(tabListElement, tabItemElement);\n  if (tabItemIndex === -1) {\n    return;\n  }\n  if (tabContentElement) {\n    const hasNoScroll = tabContentElement.hasAttribute('mdw-no-scroll');\n    if (!hasNoScroll) {\n      TabContent.selectPanel(tabContentElement, tabItemIndex, 'smooth');\n      return;\n    }\n    TabContent.selectPanel(tabContentElement, tabItemIndex, true);\n  }\n  TabList.setIndicatorPosition(tabListElement, tabItemElement, 0, true);\n  if (!tabContentElement) {\n    updateSelectedIndex(tabElement, tabItemIndex);\n  }\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onTabContentScroll(event) {\n  const tabElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const { detail } = event;\n  if (!detail.forceSelection && tabElement.hasAttribute('mdw-resize-stage')) {\n    return;\n  }\n  const tabListElement = tabElement.getElementsByClassName('mdw-tab__list')[0];\n  if (tabListElement) {\n    TabList.setIndicatorPosition(\n      tabListElement,\n      detail.leftPanelIndex,\n      detail.visibilityPercentage,\n    );\n  }\n  if (detail.updateSelected) {\n    updateSelectedIndex(tabElement, detail.leftPanelIndex);\n  }\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onTabPanelExpandedChange(event) {\n  if (event.detail.value !== 'true') {\n    return;\n  }\n  const tabElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (tabElement.hasAttribute('mdw-resize-stage')) {\n    return;\n  }\n  let index = 0;\n  const tabPanelElement = /** @type {HTMLElement} */ (event.target);\n  let sibling = tabPanelElement.previousElementSibling;\n  while (sibling) {\n    index += 1;\n    sibling = sibling.previousElementSibling;\n  }\n  const tabListElement = tabElement.getElementsByClassName('mdw-tab__list')[0];\n  if (tabListElement) {\n    TabList.selectItemAtIndex(tabListElement, index, false);\n  }\n}\n\n/**\n * @param {Element} tabElement\n * @return {void}\n */\nexport function attach(tabElement) {\n  const tabListElement = tabElement.getElementsByClassName('mdw-tab__list')[0];\n  if (tabListElement) {\n    TabList.attach(tabListElement);\n  }\n\n  const tabContentElement = tabElement.getElementsByClassName('mdw-tab__content')[0];\n  if (tabContentElement) {\n    TabContent.attach(tabContentElement);\n  }\n\n  tabElement.addEventListener(\n    TabContent.SCROLL_EVENT,\n    onTabContentScroll,\n    { passive: true },\n  );\n  tabElement.addEventListener(\n    TabItem.SELECTED_CHANGE_EVENT,\n    onTabItemSelectedChange,\n    { passive: true },\n  );\n  tabElement.addEventListener(\n    TabPanel.EXPANDED_CHANGE_EVENT,\n    onTabPanelExpandedChange,\n    { passive: true },\n  );\n\n  /** @type {HTMLCollectionOf<Element>|Element[]} */\n  const items = (tabListElement && tabListElement.getElementsByClassName('mdw-tab__item')) || [];\n  /** @type {HTMLCollectionOf<Element>|Element[]} */\n  const panels = (tabContentElement && tabContentElement.getElementsByClassName('mdw-tab__panel')) || [];\n\n  let selectedItem;\n  let selectedPanel;\n  let selectedIndex;\n  [...items].some((itemElement, index) => {\n    if (itemElement.getAttribute('aria-selected') === 'true') {\n      selectedItem = itemElement;\n      selectedPanel = panels[index];\n      selectedIndex = index;\n      return true;\n    }\n    return false;\n  });\n  if (selectedIndex == null) {\n    [...panels].some((panelElement, index) => {\n      if (panelElement.getAttribute('aria-expanded') === 'true') {\n        selectedPanel = panelElement;\n        selectedItem = items[index];\n        selectedIndex = index;\n        return true;\n      }\n      return false;\n    });\n  }\n  if (!selectedItem && items.length) {\n    selectedItem = items[0];\n    selectedIndex = 0;\n  }\n  if (!selectedPanel && panels.length) {\n    selectedPanel = panels[0];\n    selectedIndex = 0;\n  }\n  if (selectedItem) {\n    TabItem.setSelected(selectedItem, true);\n  }\n  if (selectedPanel) {\n    TabPanel.setHidden(selectedPanel, false);\n    TabPanel.setExpanded(selectedPanel, true);\n  }\n  if (selectedIndex != null) {\n    tabElement.setAttribute('mdw-selected-index', selectedIndex.toString());\n  }\n  onResize(tabElement);\n}\n\n/**\n * @param {Element} tabElement\n * @return {void}\n */\nexport function detach(tabElement) {\n  const tabListElement = tabElement.getElementsByClassName('mdw-tab__list')[0];\n  if (tabListElement) {\n    TabList.detach(tabListElement);\n  }\n\n  const tabContentElement = tabElement.getElementsByClassName('mdw-tab__content')[0];\n  if (tabContentElement) {\n    TabContent.detach(tabContentElement);\n  }\n\n  tabElement.removeEventListener(TabPanel.EXPANDED_CHANGE_EVENT, onTabPanelExpandedChange);\n  tabElement.removeEventListener(TabContent.SCROLL_EVENT, onTabContentScroll);\n  tabElement.removeEventListener(TabItem.SELECTED_CHANGE_EVENT, onTabItemSelectedChange);\n  tabElement.removeAttribute('mdw-resize-stage');\n  tabElement.removeAttribute('mdw-selected-index');\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#tab\n\nimport * as AriaTab from '../../core/aria/tab.js';\nimport * as Overlay from '../../core/overlay/index.js';\nimport * as Ripple from '../../core/ripple/index.js';\n\nexport const SELECTED_CHANGE_EVENT = 'mdw:tabitem-selectedchange';\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEvent = true) {\n  return AriaTab.setSelected(element, value, dispatchEvent ? SELECTED_CHANGE_EVENT : null);\n}\n\n/**\n * @param {MouseEvent} event\n * @return {void}\n */\nfunction onClick(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (element.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  setSelected(element, true);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachAria(element) {\n  AriaTab.attach(element);\n  for (const el of element.getElementsByClassName('mdw-tab__icon')) {\n    el.setAttribute('aria-hidden', 'true');\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attachCore(element) {\n  attachAria(element);\n  element.addEventListener('click', onClick);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.classList.add('mdw-overlay');\n  if (!element.hasAttribute('mdw-overlay-off')) {\n    element.setAttribute('mdw-overlay-off', 'selected activated');\n  }\n  if (!element.hasAttribute('mdw-overlay-default')) {\n    element.setAttribute('mdw-overlay-default', 'medium');\n  }\n  Overlay.attach(element);\n\n  element.classList.add('mdw-ripple');\n  Ripple.attach(element);\n\n  attachCore(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detachCore(element) {\n  AriaTab.detach(element);\n  element.removeEventListener('click', onClick);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  detachCore(element);\n  Ripple.detach(element);\n  Overlay.detach(element);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#tabpanel\n\nimport * as Keyboard from '../../core/aria/keyboard.js';\nimport * as RovingTabIndex from '../../core/aria/rovingtabindex.js';\nimport { scrollToElement } from '../../core/dom.js';\n\nimport * as TabItem from './item.js';\n\n/**\n * @param {Event} event\n * @return {void}\n */\nfunction onTabIndexZeroed(event) {\n  const tabListElement = /** @type {HTMLElement} */ (event.currentTarget);\n  const currentItem = /** @type {HTMLElement} */ (event.target);\n  RovingTabIndex.removeTabIndex(tabListElement.querySelectorAll('[role=\"tab\"]'), [currentItem]);\n}\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onForwardArrowKey(event) {\n  if (event.detail.ctrlKey || event.detail.altKey\n    || event.detail.shiftKey || event.detail.metaKey) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const tabListElement = /** @type {HTMLElement} */ (event.currentTarget);\n  RovingTabIndex.selectNext(tabListElement.querySelectorAll('[role=\"tab\"]'));\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nfunction onBackArrowKey(event) {\n  if (event.detail.ctrlKey || event.detail.altKey\n    || event.detail.shiftKey || event.detail.metaKey) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  const tabListElement = /** @type {HTMLElement} */ (event.currentTarget);\n  RovingTabIndex.selectPrevious(tabListElement.querySelectorAll('[role=\"tab\"]'));\n}\n\n/**\n * @param {Element} tabListElement\n * @return {void}\n */\nexport function setupARIA(tabListElement) {\n  if (tabListElement.hasAttribute('mdw-no-aria')) {\n    return;\n  }\n  tabListElement.setAttribute('role', 'tablist');\n  tabListElement.setAttribute('aria-multiselectable', 'false');\n  tabListElement.setAttribute('aria-orientation', 'horizontal');\n  const indicatorElement = tabListElement.getElementsByClassName('mdw-tab__indicator')[0];\n  if (indicatorElement) {\n    indicatorElement.setAttribute('role', 'presentation');\n  }\n}\n\n/**\n * @param {Element} tabListElement\n * @param {Element|number} item element or index\n * @param {number} [percentage=0]\n * @param {boolean} [animate=false]\n * @return {void}\n */\nexport function setIndicatorPosition(tabListElement, item, percentage, animate = false) {\n  const indicatorElement = /** @type {HTMLElement} */ (tabListElement.getElementsByClassName('mdw-tab__indicator')[0]);\n  if (!indicatorElement) {\n    return;\n  }\n  const items = (tabListElement.getElementsByClassName('mdw-tab__item'));\n  const leftItem = /** @type {HTMLElement} */ (item instanceof Element ? item : items.item(item));\n  let left = leftItem.offsetLeft;\n  let right = left + leftItem.offsetWidth;\n\n  if (percentage > 0) {\n    left += (percentage * leftItem.offsetWidth);\n    let nextItem = /** @type {HTMLElement} */ (leftItem.nextElementSibling);\n    if (!nextItem.classList.contains('mdw-tab__item')) {\n      // RTL\n      nextItem = /** @type {HTMLElement} */ (leftItem.previousElementSibling);\n    }\n    right = nextItem.offsetLeft + (percentage * nextItem.offsetWidth);\n  }\n\n  // RTL is inversed\n  const width = Math.abs(right - left);\n  indicatorElement.style.setProperty('transform', `translateX(${left}px) scaleX(${width / 1000})`);\n  if (animate) {\n    indicatorElement.setAttribute('mdw-animate', '');\n  } else {\n    indicatorElement.removeAttribute('mdw-animate');\n  }\n}\n\n/**\n * @param {HTMLElement} tabListElement\n * @param {HTMLElement} tabItemElement\n * @return {number}\n */\nexport function getTabItemIndex(tabListElement, tabItemElement) {\n  const items = /** @type {HTMLCollectionOf<HTMLElement>} */ (tabListElement.getElementsByClassName('mdw-tab__item'));\n  let tabItemIndex = -1;\n  [...items].some((el, index) => {\n    if (el === tabItemElement) {\n      tabItemIndex = index;\n      return true;\n    }\n    return false;\n  });\n  return tabItemIndex;\n}\n\n/**\n * @param {Element} tabListElement\n * @param {number} tabItemIndex\n * @param {boolean} [dispatchEvents=false]\n * @return {void}\n */\nexport function selectItemAtIndex(tabListElement, tabItemIndex, dispatchEvents = false) {\n  const items = /** @type {HTMLCollectionOf<HTMLElement>} */ (tabListElement.getElementsByClassName('mdw-tab__item'));\n  if (dispatchEvents) {\n    const item = items.item(tabItemIndex);\n    if (item) {\n      TabItem.setSelected(item, true, true);\n    }\n    return;\n  }\n  // eslint-disable-next-line github/array-foreach\n  [...items].forEach((el, index) => {\n    if (tabItemIndex === index) {\n      TabItem.setSelected(el, true, false);\n      if (tabListElement.hasAttribute('mdw-scrollable')) {\n        scrollToElement(el, true);\n      }\n    } else {\n      TabItem.setSelected(el, false, false);\n    }\n  });\n}\n\n/**\n * @param {CustomEvent} event\n * @return {void}\n */\nexport function onSelectedChangeEvent(event) {\n  if (event.detail.value !== 'true') {\n    return;\n  }\n  const itemElement = /** @type {HTMLElement} */ (event.target);\n  const tabListElement = /** @type {HTMLElement} */ (event.currentTarget);\n  for (const item of tabListElement.querySelectorAll('[role=\"tab\"]')) {\n    if (item !== itemElement) {\n      TabItem.setSelected(item, false, false);\n    }\n  }\n}\n\n/**\n * @param {Element} tabListElement\n * @return {void}\n */\nexport function attach(tabListElement) {\n  let indicatorElement = tabListElement.getElementsByClassName('mdw-tab__indicator')[0];\n  if (!indicatorElement) {\n    indicatorElement = document.createElement('div');\n    indicatorElement.classList.add('mdw-tab__indicator');\n    tabListElement.appendChild(indicatorElement);\n  }\n\n  setupARIA(tabListElement);\n  for (const element of tabListElement.getElementsByClassName('mdw-tab__item')) { TabItem.attach(element); }\n  RovingTabIndex.setupTabIndexes(tabListElement.querySelectorAll('[role=\"tab\"]'));\n  tabListElement.addEventListener(TabItem.SELECTED_CHANGE_EVENT, onSelectedChangeEvent, { passive: true });\n  tabListElement.addEventListener(Keyboard.FORWARD_ARROW_KEY, onForwardArrowKey);\n  tabListElement.addEventListener(Keyboard.BACK_ARROW_KEY, onBackArrowKey);\n  tabListElement.addEventListener(RovingTabIndex.TABINDEX_ZEROED, onTabIndexZeroed);\n}\n\n/**\n * @param {Element} tabListElement\n * @return {void}\n */\nexport function detach(tabListElement) {\n  tabListElement.removeEventListener(TabItem.SELECTED_CHANGE_EVENT, onSelectedChangeEvent);\n  tabListElement.removeEventListener(Keyboard.FORWARD_ARROW_KEY, onForwardArrowKey);\n  tabListElement.removeEventListener(Keyboard.BACK_ARROW_KEY, onBackArrowKey);\n  for (const el of tabListElement.querySelectorAll('[role=\"tab\"]')) RovingTabIndex.detach(el);\n  for (const el of tabListElement.getElementsByClassName('mdw-tab__item')) TabItem.detach(el);\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#tabpanel\n\nimport * as Attributes from '../../core/aria/attributes.js';\n\nexport const EXPANDED_CHANGE_EVENT = 'mdw:tabpanel-expandedchange';\n\nexport const { isExpanded } = Attributes;\n\n/**\n * @param {Element} tabPanelElement\n * @return {void}\n */\nexport function attach(tabPanelElement) {\n  tabPanelElement.setAttribute('role', 'tabpanel');\n  if (!tabPanelElement.hasAttribute('aria-expanded')) {\n    tabPanelElement.setAttribute('aria-expanded', 'false');\n    tabPanelElement.setAttribute('aria-hidden', 'true');\n  } else if (!tabPanelElement.hasAttribute('aria-hidden')) {\n    tabPanelElement.setAttribute('aria-hidden', isExpanded(tabPanelElement) ? 'false' : 'true');\n  }\n}\n\n/**\n * @param {Element} tabPanelElement\n * @return {void}\n */\nexport function detach(tabPanelElement) {\n  if (!tabPanelElement.hasAttribute('aria-expanded')) {\n    tabPanelElement.setAttribute('aria-expanded', 'false');\n    tabPanelElement.setAttribute('aria-hidden', 'true');\n  } else if (!tabPanelElement.hasAttribute('aria-hidden')) {\n    tabPanelElement.setAttribute('aria-hidden', isExpanded(tabPanelElement) ? 'false' : 'true');\n  }\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {boolean} [dispatchEvent=true]\n * @return {boolean} successful\n */\nexport function setExpanded(element, value, dispatchEvent = true) {\n  return Attributes.setExpanded(element, value, dispatchEvent ? EXPANDED_CHANGE_EVENT : null);\n}\n\n/**\n * Hide element to avoid tabbing into next panel\n * @param {Element} tabPanelElement\n * @param {boolean} value\n * @return {void}\n */\nexport function setHidden(tabPanelElement, value) {\n  tabPanelElement.setAttribute('aria-hidden', value ? 'true' : 'false');\n}\n","/**\n * @param {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} inputElement\n * @return {void}\n */\nexport function updateInputEmptyState(inputElement) {\n  const attrName = 'mdw-value-empty';\n  const textfieldElement = inputElement.parentElement;\n  if (inputElement.value) {\n    if (textfieldElement.hasAttribute(attrName)) {\n      textfieldElement.removeAttribute(attrName);\n    }\n  } else if (!textfieldElement.hasAttribute(attrName)) {\n    textfieldElement.setAttribute(attrName, '');\n  }\n}\n\n/**\n * @param {HTMLTextAreaElement} inputElement\n * @return {number} Single row height\n */\nexport function updateTextAreaSize(inputElement) {\n  const previousRowsAttrValue = inputElement.getAttribute('rows');\n  inputElement.rows = 1;\n  const { height, paddingTop } = window.getComputedStyle(inputElement);\n  if (!height || height === 'auto') {\n    if (previousRowsAttrValue == null) {\n      inputElement.removeAttribute('rows');\n    } else {\n      inputElement.setAttribute('rows', previousRowsAttrValue);\n    }\n    return -1;\n  }\n  const heightPx = Number.parseInt(height.replace('px', ''), 10);\n  const paddingTopPx = Number.parseInt(paddingTop.replace('px', ''), 10);\n  inputElement.rows = Math.floor((inputElement.scrollHeight - paddingTopPx) / heightPx);\n  return heightPx;\n}\n\n/**\n * @param {Event|{currentTarget:HTMLElement}} event\n * @return {void}\n */\nexport function onInput(event) {\n  const inputElement = /** @type {HTMLInputElement|HTMLTextAreaElement} */ (event.currentTarget);\n  if (inputElement.parentElement.hasAttribute('mdw-autosize')) {\n    updateTextAreaSize(/** @type {HTMLTextAreaElement} */ (inputElement));\n  }\n  updateInputEmptyState(inputElement);\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {string|Date|number}\n */\nexport function getValue(textfieldElement) {\n  const input = /** @type {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} */ (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if ((input instanceof HTMLTextAreaElement) || (input instanceof HTMLSelectElement)) {\n    return input.value;\n  }\n  switch (input.type) {\n    case 'number':\n    case 'range':\n      return Number.isNaN(input.valueAsNumber) ? null : input.valueAsNumber;\n    case 'date':\n    case 'datetime-local':\n    case 'time':\n      if (input.value == null) {\n        return null;\n      }\n      return new Date(\n        (new Date(input.valueAsNumber).getTimezoneOffset() * 60 * 1000) + input.valueAsNumber,\n      );\n    default:\n      return input.value;\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @param {string|Date|number|null} [value]\n * @return {void}\n */\nexport function setValue(textfieldElement, value) {\n  const input = /** @type {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} */ (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (value == null) {\n    input.value = null;\n  } else if (input instanceof HTMLTextAreaElement || input instanceof HTMLSelectElement) {\n    if (value instanceof Date) {\n      input.value = value.toString();\n    } else if (typeof value === 'string') {\n      input.value = value;\n    } else {\n      input.value = value.toString(10);\n    }\n  } else if (value instanceof Date) {\n    if (input.type === 'time') {\n      const hoursStr = `${value.getHours() < 10 ? '0' : ''}${value.getHours()}`;\n      const minutesStr = `${value.getMinutes() < 10 ? '0' : ''}${value.getMinutes()}`;\n      const secondsStr = `${value.getSeconds() < 10 ? '0' : ''}${value.getSeconds()}`;\n      input.value = `${hoursStr}:${minutesStr}:${secondsStr}.${value.getMilliseconds()}`;\n    } else {\n      switch (input.type) {\n        case 'date':\n          input.valueAsDate = value;\n          break;\n        case 'datetime-local':\n          input.valueAsNumber = value.getTime() - (value.getTimezoneOffset() * 60 * 1000);\n          break;\n        case 'number':\n        case 'range':\n          input.valueAsNumber = value.getTime();\n          break;\n        default:\n          input.value = value.toString();\n      }\n    }\n  } else if (typeof value === 'string') {\n    input.value = value;\n  } else {\n    switch (input.type) {\n      case 'date':\n      case 'time':\n      case 'datetime-local':\n      case 'number':\n      case 'range':\n        input.valueAsNumber = value;\n        break;\n      default:\n        input.value = value.toString();\n    }\n  }\n  updateInputEmptyState(input);\n  if (input instanceof HTMLTextAreaElement && textfieldElement.hasAttribute('mdw-autosize')) {\n    updateTextAreaSize(input);\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {void}\n */\nexport function attach(textfieldElement) {\n  const input = /** @type {HTMLInputElement|HTMLTextAreaElement|HTMLSelectElement} */ (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (input) {\n    input.addEventListener('input', onInput, { passive: true });\n    onInput({ currentTarget: input });\n  }\n}\n\n/**\n * @param {Element} textfieldElement\n * @return {void}\n */\nexport function detach(textfieldElement) {\n  textfieldElement.removeAttribute('mdw-value-empty');\n  const input = (textfieldElement.getElementsByClassName('mdw-textfield__input')[0]);\n  if (input) {\n    input.removeEventListener('input', onInput);\n  }\n}\n","import { dispatchDomEvent } from '../dom.js';\n\n/**\n * @param {string} name Attribute Name\n * @param {Element} element Element\n * @param {string|boolean} value Boolean Attribute Value\n * @param {string} [dispatchEventName] OnChangeEvent\n * @param {boolean} [explicit=true]\n * @param {string} [emptyValue=false] Default empty value\n * @return {boolean} successful\n */\nfunction setAttribute(name, element, value, dispatchEventName, explicit = true, emptyValue = 'false') {\n  const attr = element.getAttribute(name);\n  let stringValue;\n  if (typeof value === 'string') {\n    stringValue = value;\n  } else {\n    stringValue = (value ? 'true' : 'false');\n  }\n  if (attr === stringValue) {\n    // Nothing to change\n    return true;\n  }\n  if (stringValue === emptyValue) {\n    // Set default empty value\n    if (attr == null) {\n      // No attribute set\n      if (explicit) {\n        // Explicitly set attribute\n        element.setAttribute(name, stringValue);\n      }\n      return true;\n    }\n    if (!explicit) {\n      element.removeAttribute(name);\n    } else {\n      element.setAttribute(name, stringValue);\n    }\n  } else {\n    // Non default value;\n    element.setAttribute(name, stringValue);\n  }\n  if (!dispatchEventName) {\n    return true;\n  }\n  // Alert change\n  if (!dispatchDomEvent(element, dispatchEventName, { value: stringValue })) {\n    // Revert\n    if (attr == null) {\n      element.removeAttribute(name);\n    } else {\n      element.setAttribute(name, attr);\n    }\n    return false;\n  }\n  return true;\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {string} [dispatchEventName]\n * @return {boolean} successful\n */\nexport function setCurrent(element, value, dispatchEventName) {\n  // Some browsers incorrectly style [aria-current=\"false\"]\n  // Attribute will be removed when false|\"false\"\n  return setAttribute('aria-current', element, value, dispatchEventName, false);\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {string} [dispatchEventName]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEventName) {\n  return setAttribute('aria-selected', element, value, dispatchEventName);\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isChecked(element) {\n  return element.getAttribute('aria-checked') === 'true';\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {string} [dispatchEventName]\n * @return {boolean} successful\n */\nexport function setChecked(element, value, dispatchEventName) {\n  return setAttribute('aria-checked', element, value, dispatchEventName);\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isDisabled(element) {\n  return element.getAttribute('aria-disabled') === 'true';\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {string} [dispatchEventName]\n * @return {boolean} successful\n */\nexport function setDisabled(element, value, dispatchEventName) {\n  return setAttribute('aria-disabled', element, value, dispatchEventName);\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isExpanded(element) {\n  return element.getAttribute('aria-expanded') === 'true';\n}\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {string} [dispatchEventName]\n * @return {boolean} successful\n */\nexport function setExpanded(element, value, dispatchEventName) {\n  return setAttribute('aria-expanded', element, value, dispatchEventName);\n}\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isReadonly(element) {\n  return element.getAttribute('aria-readonly') === 'true';\n}\n","// https://www.w3.org/TR/wai-aria-practices/#button\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  const buttonElement = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!buttonElement) {\n    return;\n  }\n  if (buttonElement.getAttribute('aria-disabled') === 'true') {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  buttonElement.dispatchEvent(newEvent);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('role', 'button');\n  if (!(element instanceof HTMLButtonElement)\n      && !element.hasAttribute('tabindex')) {\n    element.setAttribute('tabindex', '0');\n  }\n  element.setAttribute('mdw-aria-button-js', '');\n  if (!(element instanceof HTMLButtonElement)\n    && !(element instanceof HTMLInputElement)) {\n    element.addEventListener('keydown', onKeyDown);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-aria-button-js');\n}\n","// Keyboard Navigation\n\nimport { dispatchDomEvent, isRtl } from '../dom.js';\n\nexport const FORWARD_ARROW_KEY = 'mdw:keyboard-forwardarrowkey';\nexport const BACK_ARROW_KEY = 'mdw:keyboard-backarrowkey';\nexport const UP_ARROW_KEY = 'mdw:keyboard-uparrowkey';\nexport const DOWN_ARROW_KEY = 'mdw:keyboard-downarrowkey';\nexport const HOME_KEY = 'mdw:keyboard-homekey';\nexport const END_KEY = 'mdw:keyboard-endkey';\nexport const PAGEUP_KEY = 'mdw:keyboard-pageupkey';\nexport const PAGEDOWN_KEY = 'mdw:keyboard-pagedownkey';\nexport const SPACEBAR_KEY = 'mdw:keyboard-spacebarkey';\nexport const ENTER_KEY = 'mdw:keyboard-enterkey';\n\n/**\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDownHandler(event) {\n  const element = /** @type {Element} */ (event.currentTarget);\n  const detail = {\n    ctrlKey: event.ctrlKey,\n    shiftKey: event.shiftKey,\n    altKey: event.altKey,\n    metaKey: event.metaKey,\n    repeat: event.repeat,\n  };\n\n  let type;\n  switch (event.key) {\n    case 'Enter':\n      type = ENTER_KEY;\n      break;\n    case ' ':\n    case 'Spacebar':\n      type = SPACEBAR_KEY;\n      break;\n    case 'ArrowDown':\n    case 'Down':\n      type = DOWN_ARROW_KEY;\n      break;\n    case 'ArrowUp':\n    case 'Up':\n      type = UP_ARROW_KEY;\n      break;\n    case 'ArrowLeft':\n    case 'Left':\n      type = isRtl() ? FORWARD_ARROW_KEY : BACK_ARROW_KEY;\n      break;\n    case 'ArrowRight':\n    case 'Right':\n      type = isRtl() ? BACK_ARROW_KEY : FORWARD_ARROW_KEY;\n      break;\n    case 'Home':\n      type = HOME_KEY;\n      break;\n    case 'End':\n      type = END_KEY;\n      break;\n    case 'PageUp':\n      type = PAGEUP_KEY;\n      break;\n    case 'PageDown':\n      type = PAGEDOWN_KEY;\n      break;\n    default:\n      return;\n  }\n\n  if (!dispatchDomEvent(element, type, detail)) {\n    // preventDefault called\n    event.stopPropagation();\n    event.preventDefault();\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.addEventListener('keydown', onKeyDownHandler);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('keydown', onKeyDownHandler);\n}\n","// https://www.w3.org/TR/wai-aria-practices/#kbd_roving_tabindex\n\nimport {\n  dispatchDomEvent,\n} from '../dom.js';\n\nexport const TABINDEX_ZEROED = 'mdw:rovingtabindex-tabindexzeroed';\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nfunction onChildFocus(event) {\n  const child = /** @type {Element} */ (event.currentTarget);\n  if (child.getAttribute('tabindex') === '0') {\n    return;\n  }\n  child.setAttribute('tabindex', '0');\n  dispatchDomEvent(child, TABINDEX_ZEROED);\n}\n\n/**\n * @param {Iterable<Element>} items\n * @param {Element[]} [excludeItems]\n * @return {void}\n */\nexport function removeTabIndex(items, excludeItems = []) {\n  for (const item of items) {\n    if (excludeItems.includes(item)) {\n      continue;\n    }\n    if (item.hasAttribute('tabindex')) {\n      item.setAttribute('tabindex', '-1');\n    }\n  }\n}\n\n/**\n * @param {HTMLElement} element\n * @return {boolean}\n */\nfunction attemptFocus(element) {\n  try {\n    element.focus();\n  } catch {\n    // Ignore error.\n  }\n  return document.activeElement === element;\n}\n\n/**\n * @param {Iterable<HTMLElement>} list\n * @param {Element} [current]\n * @param {boolean} [loop=true]\n * @param {boolean} [reverse]\n * @return {void}\n */\nexport function selectNext(list, current = null, loop = true, reverse = false) {\n  let foundCurrent = false;\n\n  const iterateResult = [...list].some((item, index, array) => {\n    const candidate = reverse ? (array[array.length - 1 - index]) : item;\n    if (!foundCurrent) {\n      if (current) {\n        if (candidate === current) {\n          foundCurrent = true;\n        }\n      } else if (candidate.getAttribute('tabindex') === '0') {\n        foundCurrent = true;\n      }\n      return false;\n    }\n    if (!candidate.hasAttribute('tabindex')) {\n      return false;\n    }\n    if (candidate.getAttribute('aria-hidden') === 'true') {\n      return false;\n    }\n    if (candidate.getAttribute('mdw-skip-tab') === 'true') {\n      return false;\n    }\n    return attemptFocus(candidate);\n  });\n  if (iterateResult) {\n    return;\n  }\n  if (!loop) {\n    if (document.activeElement !== current && current instanceof HTMLElement) {\n      current.focus();\n    }\n    return;\n  }\n  [...list].some((item, index, array) => {\n    const candidate = reverse ? (array[array.length - 1 - index]) : item;\n    if (!candidate.hasAttribute('tabindex')) {\n      return false;\n    }\n    if (candidate.getAttribute('aria-hidden') === 'true') {\n      return false;\n    }\n    if (candidate.getAttribute('mdw-skip-tab') === 'true') {\n      return false;\n    }\n    // Abort if we've looped all the way back to original element\n    // Abort if candidate received focus\n    return (attemptFocus(candidate) || candidate === current);\n  });\n}\n\n/**\n * Alias for selectNext(list, current, true);\n * @param {Iterable<HTMLElement>} list\n * @param {Element} [current]\n * @param {boolean} [loop=true]\n * @return {void}\n */\nexport function selectPrevious(list, current, loop = true) {\n  return selectNext(list, current, loop, true);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  if (!element.hasAttribute('tabindex')) {\n    element.setAttribute('tabindex', (document.activeElement === element) ? '0' : '-1');\n  }\n  element.addEventListener('focus', onChildFocus);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeEventListener('focus', onChildFocus);\n}\n\n/**\n * @param {Iterable<Element>} items\n * @param {boolean} [focusableWhenDisabled=true]\n * @return {void}\n */\nexport function setupTabIndexes(items, focusableWhenDisabled = true) {\n  /** @type {Element} */\n  let currentlyFocusedChild = null;\n  /** @type {Element} */\n  let currentTabIndexChild = null;\n  /** @type {Element} */\n  let firstFocusableChild = null;\n  for (const child of items) {\n    if (!currentlyFocusedChild && document.activeElement === child) {\n      currentlyFocusedChild = child;\n    } else if (!currentTabIndexChild && child.getAttribute('tabindex') === '0') {\n      currentTabIndexChild = child;\n    } else {\n      if (!firstFocusableChild && child.getAttribute('aria-hidden') !== 'true'\n        && (focusableWhenDisabled || child.getAttribute('aria-disabled') !== 'true')) {\n        firstFocusableChild = child;\n      }\n      child.setAttribute('tabindex', '-1');\n    }\n    attach(child);\n  }\n  if (currentlyFocusedChild) {\n    currentlyFocusedChild.setAttribute('tabindex', '0');\n  } else if (currentTabIndexChild) {\n    if (currentlyFocusedChild) {\n      currentTabIndexChild.setAttribute('tabindex', '-1');\n    }\n  } else if (firstFocusableChild) {\n    firstFocusableChild.setAttribute('tabindex', '0');\n  }\n}\n","// https://www.w3.org/TR/wai-aria-1.1/#tab\n\nimport * as Attributes from './attributes.js';\nimport * as Keyboard from './keyboard.js';\n\n/**\n * @param {Element} element\n * @param {string|boolean} value\n * @param {string} [dispatchEventName]\n * @return {boolean} successful\n */\nexport function setSelected(element, value, dispatchEventName) {\n  if (Attributes.setSelected(element, value, dispatchEventName)) {\n    Attributes.setCurrent(element, value);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Remap Space and Enter as Click\n * @param {KeyboardEvent} event\n * @return {void}\n */\nfunction onKeyDown(event) {\n  if (event.key !== 'Enter' && event.key !== 'Spacebar' && event.key !== ' ') {\n    return;\n  }\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (!element) {\n    return;\n  }\n  event.stopPropagation();\n  event.preventDefault();\n  const newEvent = document.createEvent('Event');\n  newEvent.initEvent('click', true, true);\n  element.dispatchEvent(newEvent);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('role', 'tab');\n  element.setAttribute('mdw-aria-tab-js', '');\n  element.addEventListener('keydown', onKeyDown);\n  Keyboard.attach(element);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  Keyboard.detach(element);\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeAttribute('mdw-aria-tab-js');\n}\n","/**\n * @param {Element} element\n * @param {string} className\n * @return {Element}\n */\nexport function getChildElementByClass(element, className) {\n  const child = element.getElementsByClassName(className)[0];\n  if (child && child.parentElement !== element) {\n    return null;\n  }\n  return child;\n}\n\n/** @return {boolean} */\nexport function isRtl() {\n  return document.documentElement.dir === 'rtl';\n}\n\n/**\n * @param {EventTarget} eventTarget\n * @param {string} type\n * @param {Object} [detail]\n * @return {boolean}\n */\nexport function dispatchDomEvent(eventTarget, type, detail) {\n  let event;\n  if (typeof CustomEvent === 'function') {\n    event = new CustomEvent(type, {\n      bubbles: true,\n      cancelable: true,\n      detail,\n    });\n  } else if (detail == null) {\n    if (typeof Event === 'function') {\n      event = new Event(type, {\n        bubbles: true,\n        cancelable: true,\n      });\n    } else {\n      event = document.createEvent('Event');\n      event.initEvent(type, true, true);\n    }\n  } else {\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent(type, true, true, detail);\n  }\n  return eventTarget.dispatchEvent(event);\n}\n\n/**\n * @param {Element} element\n * @param {function(Element, number):boolean|void} fn\n * @return {boolean}\n */\nexport function iterateElementSiblings(element, fn) {\n  let distance = -1;\n  let sibling = element.previousElementSibling;\n  while (sibling) {\n    fn(sibling, distance);\n    sibling = sibling.previousElementSibling;\n    distance -= 1;\n  }\n  sibling = element.nextElementSibling;\n  distance = 1;\n  while (sibling) {\n    fn(sibling, distance);\n    sibling = sibling.nextElementSibling;\n    distance += 1;\n  }\n  return false;\n}\n\n/**\n * @param {Element} element\n * @param {function(Element, number):boolean|void} fn\n * @return {boolean}\n */\nexport function iterateSomeOfElementSiblings(element, fn) {\n  let distance = -1;\n  let sibling = element.previousElementSibling;\n  while (sibling) {\n    if (fn(sibling, distance)) {\n      return true;\n    }\n    sibling = sibling.previousElementSibling;\n    distance -= 1;\n  }\n  sibling = element.nextElementSibling;\n  distance = 1;\n  while (sibling) {\n    if (fn(sibling, distance)) {\n      return true;\n    }\n    sibling = sibling.previousElementSibling;\n    distance += 1;\n  }\n  return false;\n}\n\n/**\n * @param {Node} node\n * @param {boolean} [create]\n * @return {?Text}\n */\nexport function getTextNode(node, create) {\n  for (const childNode of node.childNodes) {\n    if (childNode.nodeType === Node.TEXT_NODE) {\n      return /** @type {Text} */ (childNode);\n    }\n  }\n  if (!create) return null;\n  return node.appendChild(document.createTextNode(''));\n}\n\n/**\n * @param {Node} node\n * @param {string} value\n * @return {?Text}\n */\nexport function setTextNode(node, value) {\n  for (const childNode of node.childNodes) {\n    if (childNode.nodeType === Node.TEXT_NODE) {\n      if (value) {\n        childNode.nodeValue = value;\n      } else {\n        node.removeChild(childNode);\n      }\n      return /** @type {Text} */ (childNode);\n    }\n  }\n  if (!value) return null;\n  return node.appendChild(document.createTextNode(value));\n}\n\n/**\n * @param {HTMLElement} element\n * @param {boolean} [smooth=false]\n * @param {boolean} [rtl=false]\n * @return {void}\n */\nexport function scrollToElement(element, smooth, rtl) {\n  if (!element) {\n    return;\n  }\n  const parent = element.parentElement;\n  if (!parent) {\n    return;\n  }\n\n  let targetScrollLeft = rtl\n    ? parent.scrollWidth + element.offsetLeft - element.offsetWidth\n    : element.offsetLeft;\n\n  const elementRect = element.getBoundingClientRect();\n  const parentRect = parent.getBoundingClientRect();\n  let subPixelScrollPosition = elementRect.left - parentRect.left;\n  if (subPixelScrollPosition < 0) {\n    subPixelScrollPosition = 0;\n  }\n  if (Math.abs(subPixelScrollPosition - targetScrollLeft) < 2) {\n    targetScrollLeft = subPixelScrollPosition;\n  }\n  if (parent.scrollLeft === targetScrollLeft) {\n    return;\n  }\n\n  if (parent.scrollTo) {\n    parent.scrollTo({\n      top: 0,\n      left: targetScrollLeft,\n      behavior: smooth ? 'smooth' : 'auto',\n    });\n    return;\n  }\n  parent.style.setProperty('scroll-behavior', 'auto');\n  parent.scrollLeft = targetScrollLeft;\n  requestAnimationFrame(() => {\n    parent.style.removeProperty('scroll-behavior');\n  });\n}\n","let lastInteractionWasTouch = false;\n\nif (window && window.matchMedia) {\n  lastInteractionWasTouch = window.matchMedia('(any-pointer: coarse)').matches;\n}\n\n/**\n * @param {PointerEvent|MouseEvent} event\n * @return {void}\n */\nexport function onMouseDown(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  if (element.hasAttribute('mdw-overlay-touch')) {\n    return;\n  }\n  element.setAttribute('mdw-overlay-touch', 'false');\n}\n\n/**\n * @param {TouchEvent} event\n * @return {void}\n */\nexport function onTouchStart(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  element.setAttribute('mdw-overlay-touch', 'true');\n}\n\n/**\n * @param {TouchEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  element.setAttribute('mdw-overlay-touch', 'false');\n}\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nexport function onBlur(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  const value = element.getAttribute('mdw-overlay-touch');\n  if (value == null) {\n    return;\n  }\n  lastInteractionWasTouch = value === 'true';\n  element.removeAttribute('mdw-overlay-touch');\n}\n\n/**\n * @param {FocusEvent} event\n * @return {void}\n */\nexport function onFocus(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  // Element was focused without a mouse or touch event (keyboard or programmatic)\n  if (!element.hasAttribute('mdw-overlay-touch') && lastInteractionWasTouch) {\n    element.setAttribute('mdw-overlay-touch', 'true');\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  element.setAttribute('mdw-overlay-js', '');\n  element.addEventListener('mousedown', onMouseDown, { passive: true });\n  element.addEventListener('touchstart', onTouchStart, { passive: true });\n  element.addEventListener('keydown', onKeyDown, { passive: true });\n  element.addEventListener('blur', onBlur, { passive: true });\n  element.addEventListener('focus', onFocus, { passive: true });\n}\n\n/**\n * @param {Element|Document} [root=document]\n * @return {void}\n */\nexport function attachAll(root = document) {\n  for (const el of root.getElementsByClassName('mdw-overlay')) attach(el);\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  element.removeAttribute('mdw-overlay-js');\n  element.removeAttribute('mdw-overlay-touch');\n  element.removeEventListener('mousedown', onMouseDown);\n  element.removeEventListener('touchstart', onTouchStart);\n  element.removeEventListener('keydown', onKeyDown);\n  element.removeEventListener('blur', onBlur);\n}\n","import { getChildElementByClass } from '../dom.js';\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nexport function isActive(element) {\n  if (element.matches) {\n    return element.matches(':active');\n  }\n  if ('msMatchesSelector' in element) {\n    // @ts-ignore: Compatibility\n    element.msMatchesSelector(':active');\n  }\n  return false;\n}\n\n/**\n * @param {HTMLElement} rippleInner\n * @param {number} [x]\n * @param {number} [y]\n * @return {void}\n */\nexport function updateRipplePosition(rippleInner, x, y) {\n  let width;\n  let height;\n  let xPos = x;\n  let yPos = y;\n  const {\n    clientWidth: parentWidth,\n    clientHeight: parentHeight,\n  } = /** @type {HTMLElement} */ (rippleInner.parentElement);\n\n  if (x == null) {\n    xPos = parentWidth / 2;\n    width = xPos;\n  } else if (x >= parentWidth / 2) {\n    width = x;\n    // furthest horizontal side is left\n  } else {\n    width = parentWidth - x;\n    // furthest horizontal side is right\n  }\n  if (y == null) {\n    yPos = parentHeight / 2;\n    height = yPos;\n  } else if (y >= parentHeight / 2) {\n    height = y;\n    // furthest vertical side is bottom\n  } else {\n    height = parentHeight - y;\n    // furthest vertical side is top\n  }\n  const hypotenuse = Math.sqrt((width * width) + (height * height));\n  rippleInner.style.setProperty('height', `${hypotenuse}px`);\n  rippleInner.style.setProperty('width', `${hypotenuse}px`);\n  rippleInner.style.setProperty('left', `${xPos - (hypotenuse / 2)}px`);\n  rippleInner.style.setProperty('top', `${yPos - (hypotenuse / 2)}px`);\n}\n\n/**\n * @param {Element} rippleInner\n * @param {string} initiator\n * @return {void}\n */\nexport function drawRipple(rippleInner, initiator) {\n  const currentInitiator = rippleInner.getAttribute('mdw-fade-in');\n  if (currentInitiator && currentInitiator !== initiator) {\n    // Only allow repeat interactions from same initiator\n    return;\n  }\n  rippleInner.setAttribute('mdw-fade-in', initiator);\n  if (currentInitiator === initiator) {\n    // Repeat the animation\n    if (rippleInner.hasAttribute('mdw-fade-in-repeat')) {\n      rippleInner.removeAttribute('mdw-fade-in-repeat');\n    } else {\n      rippleInner.setAttribute('mdw-fade-in-repeat', '');\n    }\n  }\n}\n\n/**\n * @param {AnimationEvent} event\n * @return {void}\n */\nexport function onAnimationEnd(event) {\n  const rippleInner = /** @type {HTMLElement} */ (event.currentTarget);\n  if (event.animationName === 'ripple-fade-in' || event.animationName === 'ripple-fade-in-repeat') {\n    rippleInner.setAttribute('mdw-fade-in-complete', '');\n    return;\n  }\n  if (event.animationName === 'ripple-fade-out') {\n    rippleInner.removeAttribute('mdw-fade-in');\n    rippleInner.removeAttribute('mdw-fade-in-repeat');\n    rippleInner.removeAttribute('mdw-fade-in-complete');\n    rippleInner.removeAttribute('mdw-fade-out');\n  }\n}\n\n/**\n * @param {Element} rippleInner\n * @return {void}\n */\nexport function clearRipple(rippleInner) {\n  if (!rippleInner.hasAttribute('mdw-fade-in')) {\n    return;\n  }\n  if (rippleInner.hasAttribute('mdw-keydown') && !rippleInner.hasAttribute('mdw-keyup')) {\n    return;\n  }\n  if (!rippleInner.hasAttribute('mdw-fade-in-complete')) {\n    return;\n  }\n  rippleInner.removeAttribute('mdw-fade-in');\n  rippleInner.removeAttribute('mdw-fade-in-repeat');\n  rippleInner.removeAttribute('mdw-fade-in-complete');\n  rippleInner.setAttribute('mdw-fade-out', '');\n}\n\n/**\n * @param {PointerEvent|MouseEvent} event\n * @return {void}\n */\nexport function onMouseDown(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  const rippleContainer = /** @type {HTMLElement} */ (getChildElementByClass(element, 'mdw-ripple__container'));\n  if (!rippleContainer) {\n    return;\n  }\n  const rippleInner = /** @type {HTMLElement} */ (getChildElementByClass(rippleContainer, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n  // @ts-ignore: Optimization\n  if (!event.pointerType && !event.detail) {\n    return;\n  }\n  const rect = rippleContainer.getBoundingClientRect();\n  const x = event.pageX - rect.left - window.pageXOffset;\n  const y = event.pageY - rect.top - window.pageYOffset;\n  updateRipplePosition(rippleInner, x, y);\n  drawRipple(rippleInner, 'mouse');\n}\n\n/**\n * @param {TouchEvent} event\n * @return {void}\n */\nexport function onTouchStart(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  const rippleContainer = /** @type {HTMLElement} */ (getChildElementByClass(element, 'mdw-ripple__container'));\n  if (!rippleContainer) {\n    return;\n  }\n  const rippleInner = /** @type {HTMLElement} */ (getChildElementByClass(rippleContainer, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n  const touch = event.changedTouches[0];\n  if (!touch) {\n    return;\n  }\n  const rect = rippleContainer.getBoundingClientRect();\n  const x = touch.pageX - rect.left - window.pageXOffset;\n  const y = touch.pageY - rect.top - window.pageYOffset;\n  updateRipplePosition(rippleInner, x, y);\n  drawRipple(rippleInner, 'touch');\n}\n\n/**\n * @param {PointerEvent|MouseEvent} event\n * @return {void}\n */\nexport function onClick(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  const rippleContainer = /** @type {HTMLElement} */ (getChildElementByClass(element, 'mdw-ripple__container'));\n  if (!rippleContainer) {\n    return;\n  }\n  const rippleInner = /** @type {HTMLElement} */ (getChildElementByClass(rippleContainer, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n  // @ts-ignore: Optimization\n  if (event.pointerType || event.detail) {\n    return;\n  }\n  if (rippleInner.getAttribute('mdw-fade-in') === 'key') {\n    // Already handled by keydown\n    return;\n  }\n  updateRipplePosition(rippleInner);\n  drawRipple(rippleInner, 'key');\n  requestAnimationFrame(() => {\n    clearRipple(rippleInner);\n  });\n}\n\n/**\n * @param {TouchEvent} event\n * @return {void}\n */\nexport function onKeyDown(event) {\n  const element = /** @type {HTMLElement} */ (event.currentTarget);\n  const rippleContainer = /** @type {HTMLElement} */ (getChildElementByClass(element, 'mdw-ripple__container'));\n  if (!rippleContainer) {\n    return;\n  }\n  const rippleInner = /** @type {HTMLElement} */ (getChildElementByClass(rippleContainer, 'mdw-ripple__inner'));\n  if (!rippleInner) {\n    return;\n  }\n\n  requestAnimationFrame(() => {\n    if (isActive(rippleContainer.parentElement)) {\n      if (rippleInner.getAttribute('mdw-fade-in') === 'key') {\n        return;\n      }\n      updateRipplePosition(rippleInner);\n      drawRipple(rippleInner, 'key');\n    }\n  });\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function attach(element) {\n  let rippleContainer = getChildElementByClass(element, 'mdw-ripple__container');\n  if (!rippleContainer) {\n    rippleContainer = document.createElement('div');\n    rippleContainer.classList.add('mdw-ripple__container');\n    rippleContainer.setAttribute('role', 'presentation');\n    if (element.firstChild) {\n      element.prepend(rippleContainer);\n    } else {\n      element.appendChild(rippleContainer);\n    }\n  }\n\n  let rippleInner = getChildElementByClass(rippleContainer, 'mdw-ripple__inner');\n  if (!rippleInner) {\n    rippleInner = document.createElement('div');\n    rippleInner.classList.add('mdw-ripple__inner');\n    rippleInner.setAttribute('role', 'presentation');\n    rippleContainer.appendChild(rippleInner);\n  }\n  rippleInner.removeAttribute('mdw-fade-in');\n  rippleInner.removeAttribute('mdw-fade-in-repeat');\n  rippleInner.removeAttribute('mdw-fade-in-complete');\n  rippleInner.removeAttribute('mdw-fade-out');\n  element.setAttribute('mdw-ripple-js', '');\n  element.addEventListener('click', onClick, { passive: true });\n  element.addEventListener('mousedown', onMouseDown, { passive: true });\n  element.addEventListener('touchstart', onTouchStart, { passive: true });\n  element.addEventListener('keydown', onKeyDown, { passive: true });\n  rippleInner.addEventListener('animationend', onAnimationEnd, { passive: true });\n}\n\n/**\n * @param {Element|Document} [root=document]\n * @return {void}\n */\nexport function attachAll(root = document) {\n  for (const el of root.getElementsByClassName('mdw-ripple')) {\n    attach(el);\n  }\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nexport function detach(element) {\n  const rippleContainer = getChildElementByClass(element, 'mdw-ripple__container');\n  if (rippleContainer) {\n    element.removeChild(rippleContainer);\n  }\n  element.removeAttribute('mdw-ripple-js');\n  element.removeEventListener('click', onClick);\n  element.removeEventListener('mousedown', onMouseDown);\n  element.removeEventListener('touchstart', onTouchStart);\n  element.removeEventListener('keydown', onKeyDown);\n}\n","export default class Throttler {\n  /** @param {number} throttleTimeMs */\n  constructor(throttleTimeMs) {\n    this.pending = false;\n    this.queued = false;\n    this.queue = null;\n    this.throttleTimeMs = throttleTimeMs;\n  }\n\n  abort() {\n    if (this.queue) {\n      clearTimeout(this.queue);\n      this.queue = null;\n    }\n    this.pending = false;\n    this.queued = false;\n  }\n\n  /**\n   * @param {Function} fn\n   * @return {void}\n   */\n  run(fn) {\n    if (this.pending) {\n      this.queued = true;\n      return;\n    }\n    if (this.queue) {\n      clearTimeout(this.queue);\n      this.queue = null;\n    }\n    this.queued = false;\n    this.pending = true;\n    this.queue = setTimeout(() => {\n      this.pending = false;\n      if (this.queued) {\n        this.run(fn);\n      }\n    }, this.throttleTimeMs);\n    fn();\n  }\n}\n","// https://material.io/design/navigation/navigation-transitions.html\n\nconst EXPAND_DURATION_MS = 300;\nconst COLLAPSE_DURATION_MS = 250;\n\n/**\n * @typedef {Object} ShapeTranformDetails\n * @prop {number} originWidth\n * @prop {number} originHeight\n * @prop {number} translateX\n * @prop {number} translateY\n * @prop {number} scaleX\n * @prop {number} scaleY\n * @prop {function():string} toString\n */\n\n/**\n * @param {string} px\n * @return {number}\n */\nfunction pxToInteger(px) {\n  if (!px) {\n    return 0;\n  }\n  return Number.parseInt(px, 10);\n}\n\n/**\n * @param {string} stringValue\n * @param {number} scaleX\n * @param {number} scaleY\n * @return {string}\n */\nfunction convertBoxShadow(stringValue, scaleX, scaleY) {\n  /**\n   * @param {string} shadow\n   * @return {string}\n   */\n  function convertShadow(shadow) {\n    let inset = '';\n    let offsetX = '';\n    let offsetY = '';\n    let blurRadius = '';\n    let spreadRadius = '';\n    let color = '';\n    for (const value of shadow.trim().split(' ')) {\n      if (value.toLowerCase() === 'inset') {\n        inset = value;\n        continue;\n      }\n      if (value.includes('(') || !value.match(/\\d/).length) {\n        color = value;\n        continue;\n      }\n      const numberValue = pxToInteger(value);\n      if (!offsetX) {\n        offsetX = `${numberValue / scaleX}${value.replace(/[\\d.\\\\]/g, '')}`;\n      } else if (!offsetY) {\n        offsetY = `${numberValue / scaleY}${value.replace(/[\\d.\\\\]/g, '')}`;\n      } else if (!blurRadius) {\n        blurRadius = `${numberValue / (scaleX * scaleY)}${value.replace(/[\\d.\\\\-]/g, '')}`;\n      } else {\n        spreadRadius = `${numberValue / (scaleX * scaleY)}${value.replace(/[\\d.\\\\-]/g, '')}`;\n      }\n    }\n    return [\n      inset,\n      offsetX,\n      offsetY,\n      blurRadius,\n      spreadRadius,\n      color,\n    ].filter(Boolean).join(' ');\n  }\n\n  if (!stringValue) {\n    return '';\n  }\n  return stringValue\n    // Strip spaces from anything parenthesized\n    .replace(/\\([^)]+\\)/g, (substring) => substring.replace(/ /g, ''))\n    // Split shadows by commas no inside parentheses\n    .match(/[^(,]+\\([^)]+\\)?[^,]*(|$)/g)\n    // Convert values\n    .map((shadow) => convertShadow(shadow))\n    // Rejoin shadows\n    .join(', ');\n}\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nfunction parsePercentage(value, length) {\n  const numValue = pxToInteger(value);\n  if (!value.includes('%')) {\n    return numValue;\n  }\n  return ((numValue * length) / 100);\n}\n\n/**\n * @param {string} stringValue\n * @param {number} width\n * @param {number} height\n * @return {{horizontal:number, vertical:number}}\n */\nfunction convertBorderRadius(stringValue, width, height) {\n  if (!stringValue) {\n    return {\n      horizontal: 0,\n      vertical: 0,\n    };\n  }\n\n  const split = stringValue.split(' ');\n  if (split.length === 1) {\n    return {\n      horizontal: parsePercentage(stringValue, width),\n      vertical: parsePercentage(stringValue, height),\n    };\n  }\n  return {\n    horizontal: parsePercentage(split[0], width),\n    vertical: parsePercentage(split[1], height),\n  };\n}\n\n/**\n * @param {HTMLElement} targetElement\n * @param {HTMLElement} originElement\n * @param {CSSStyleDeclaration} [originStyle]\n * @return {ShapeTranformDetails}\n */\nexport function getShapeTransform(targetElement, originElement, originStyle) {\n  const originRect = originElement.getBoundingClientRect();\n  const targetRect = targetElement.getBoundingClientRect();\n  const originCSSStyle = originStyle || window.getComputedStyle(originElement);\n\n  let originX = originRect.left;\n  let originWidth = originRect.width;\n  let originY = originRect.top;\n  let originHeight = originRect.height;\n  if (originCSSStyle.boxSizing === 'border-box') {\n    const paddingTop = pxToInteger(originCSSStyle.paddingTop);\n    const paddingRight = pxToInteger(originCSSStyle.paddingRight);\n    const paddingBottom = pxToInteger(originCSSStyle.paddingBottom);\n    const paddingLeft = pxToInteger(originCSSStyle.paddingLeft);\n    originX += paddingLeft;\n    originWidth -= (paddingLeft + paddingRight);\n    originY += paddingTop;\n    originHeight -= (paddingTop + paddingBottom);\n  }\n\n  return {\n    originWidth,\n    originHeight,\n    translateX: originX - targetRect.left,\n    translateY: originY - targetRect.top,\n    scaleX: originWidth / targetRect.width,\n    scaleY: originHeight / targetRect.height,\n    toString() {\n      return [\n        `translateX(${this.translateX}px)`,\n        `translateY(${this.translateY}px)`,\n        `scaleX(${this.scaleX})`,\n        `scaleY(${this.scaleY})`,\n      ].join(' ');\n    },\n  };\n}\n\n/**\n * @param {HTMLElement} element\n * @param {string} property\n * @param {function(TransitionEvent):void} callback\n * @param {number} [expectedDuration]\n * @return {Function} removeListener\n */\nfunction buildTransitionEndListener(element, property, callback, expectedDuration) {\n  let hasEnded = false;\n  const onTransitionEnd = (/** @type {TransitionEvent} */ event) => {\n    if (event.propertyName !== property) {\n      return;\n    }\n    hasEnded = true;\n    element.removeEventListener('transitionend', onTransitionEnd);\n    callback(event);\n  };\n  element.addEventListener('transitionend', onTransitionEnd);\n  if (expectedDuration) {\n    setTimeout(() => {\n      element.removeEventListener('transitionend', onTransitionEnd);\n      if (!hasEnded) {\n        callback(null);\n      }\n    }, expectedDuration + 500);\n  }\n  return () => {\n    element.removeEventListener('transitionend', onTransitionEnd);\n  };\n}\n\n/**\n * @typedef {Object} TransitionElementOptions\n * @prop {HTMLElement} fromShapeElement\n * @prop {HTMLElement} toShapeElement\n * @prop {HTMLElement} fromContentElement\n * @prop {HTMLElement} toContentElement\n * @prop {number} [duration=250|300] (250ms collapse or 300ms expand)\n * @prop {boolean} [revertFrom=false] Revert from elements on completion\n * @prop {function(TransitionElementOptions):any} [onTransitionEnd]\n * @prop {function(TransitionElementOptions):any} [onComplete]\n */\n\n/**\n * @param {TransitionElementOptions} options\n * @return {function():void} revertAllElements()\n */\nexport function transitionElement(options) {\n  const toStyleSyle = window.getComputedStyle(options.toShapeElement);\n\n  const shapeTransform = getShapeTransform(options.fromShapeElement, options.toShapeElement, toStyleSyle);\n  const contentTransform = getShapeTransform(options.toContentElement, options.fromContentElement);\n\n  const transitionProperties = [\n    'transition',\n    'transform-origin',\n    'transform',\n    'background-color',\n    'border-radius',\n    'box-shadow',\n    'z-index',\n    'filter',\n    'opacity',\n    'visibility',\n  ];\n\n  /** @type {Record<string,string>} */\n  const oldFromShapeProperties = {};\n  /** @type {Record<string,string>} */\n  const oldToShapeProperties = {};\n  /** @type {Record<string,string>} */\n  const oldFromContentProperties = {};\n  /** @type {Record<string,string>} */\n  const oldToContentProperties = {};\n  /** @type {Record<string,string>} */\n  const newFromShapeProperties = {};\n  for (const prop of transitionProperties) {\n    oldFromShapeProperties[prop] = options.fromShapeElement.style.getPropertyValue(prop);\n    oldToShapeProperties[prop] = options.toShapeElement.style.getPropertyValue(prop);\n    oldFromContentProperties[prop] = options.fromContentElement.style.getPropertyValue(prop);\n    oldToContentProperties[prop] = options.toContentElement.style.getPropertyValue(prop);\n    if (prop === 'box-shadow') {\n      newFromShapeProperties[prop] = convertBoxShadow(\n        toStyleSyle.getPropertyValue(prop),\n        shapeTransform.scaleX,\n        shapeTransform.scaleY,\n      );\n    } else if (prop === 'border-radius') {\n      const topLeft = convertBorderRadius(\n        toStyleSyle.getPropertyValue('border-top-left-radius'),\n        shapeTransform.originWidth,\n        shapeTransform.originHeight,\n      );\n      const topRight = convertBorderRadius(\n        toStyleSyle.getPropertyValue('border-top-right-radius'),\n        shapeTransform.originWidth,\n        shapeTransform.originHeight,\n      );\n      const bottomLeft = convertBorderRadius(\n        toStyleSyle.getPropertyValue('border-bottom-left-radius'),\n        shapeTransform.originWidth,\n        shapeTransform.originHeight,\n      );\n      const bottomRight = convertBorderRadius(\n        toStyleSyle.getPropertyValue('border-bottom-right-radius'),\n        shapeTransform.originWidth,\n        shapeTransform.originHeight,\n      );\n      const horizontalRadii = [\n        `${topLeft.horizontal / shapeTransform.scaleX}px`,\n        `${topRight.horizontal / shapeTransform.scaleX}px`,\n        `${bottomLeft.horizontal / shapeTransform.scaleX}px`,\n        `${bottomRight.horizontal / shapeTransform.scaleX}px`,\n      ].join(' ');\n      const verticalRadii = [\n        `${topLeft.vertical / shapeTransform.scaleY}px`,\n        `${topRight.vertical / shapeTransform.scaleY}px`,\n        `${bottomLeft.vertical / shapeTransform.scaleY}px`,\n        `${bottomRight.vertical / shapeTransform.scaleY}px`,\n      ].join(' ');\n      newFromShapeProperties[prop] = `${horizontalRadii} / ${verticalRadii}`;\n    } else {\n      newFromShapeProperties[prop] = toStyleSyle.getPropertyValue(prop);\n    }\n  }\n\n  options.fromShapeElement.setAttribute('mdw-transition-busy', '');\n  options.toShapeElement.setAttribute('mdw-transition-busy', '');\n  options.toContentElement.setAttribute('mdw-transition-busy', '');\n  options.fromContentElement.setAttribute('mdw-transition-busy', '');\n\n  // Hide toContentElement and overlay over fromContentElement immediately\n  options.toContentElement.style.setProperty('opacity', '0');\n  options.toContentElement.style.setProperty('transition', 'none');\n  options.toContentElement.style.setProperty('transform-origin', '0 0 0');\n  options.toContentElement.style.setProperty('transform', contentTransform.toString());\n  options.toContentElement.style.setProperty('z-index', '9');\n  options.toContentElement.style.setProperty('visibility', 'visible');\n\n  options.fromContentElement.style.setProperty('opacity', '1');\n\n  options.fromShapeElement.style.setProperty('transition', 'none');\n  options.fromShapeElement.style.setProperty('transform-origin', '0 0 0');\n  options.fromShapeElement.style.setProperty('transform', 'none');\n  options.fromShapeElement.style.setProperty('z-index', '8');\n\n  options.toShapeElement.style.setProperty('background-color', 'transparent');\n  options.toShapeElement.style.setProperty('filter', 'none');\n  options.toShapeElement.style.setProperty('box-shadow', 'none');\n  options.toShapeElement.style.setProperty('visibility', 'visible');\n\n  const revertFunction = () => {\n    for (const prop of transitionProperties) {\n      if (oldFromShapeProperties[prop] == null) {\n        options.fromShapeElement.style.removeProperty(prop);\n      } else {\n        options.fromShapeElement.style.setProperty(prop, oldFromShapeProperties[prop]);\n      }\n      if (oldToShapeProperties[prop] == null) {\n        options.toShapeElement.style.removeProperty(prop);\n      } else {\n        options.toShapeElement.style.setProperty(prop, oldToShapeProperties[prop]);\n      }\n      if (oldFromContentProperties[prop] == null) {\n        options.fromContentElement.style.removeProperty(prop);\n      } else {\n        options.fromContentElement.style.setProperty(prop, oldFromContentProperties[prop]);\n      }\n      if (oldToContentProperties[prop] == null) {\n        options.toContentElement.style.removeProperty(prop);\n      } else {\n        options.toContentElement.style.setProperty(prop, oldToContentProperties[prop]);\n      }\n    }\n  };\n\n  requestAnimationFrame(() => {\n    requestAnimationFrame(() => {\n      const calculatedDuration = options.duration\n        ?? ((shapeTransform.scaleX * shapeTransform.scaleY >= 1) ? EXPAND_DURATION_MS : COLLAPSE_DURATION_MS);\n      const totalDuration = calculatedDuration.toString(10);\n      const fadeInTime = (calculatedDuration * 0.7).toString(10);\n      const fadeOutTime = (calculatedDuration * 0.3).toString(10);\n      const transformTransition = transitionProperties\n        .filter((prop) => prop !== 'transform-origin' && prop !== 'opacity' && prop !== 'transition')\n        .map((prop) => `${prop} ${totalDuration}ms cubic-bezier(0.4, 0.0, 0.2, 1) 0s`)\n        .join(', ');\n      const fadeInTransition = `opacity ${fadeInTime}ms cubic-bezier(0.0, 0.0, 0.2, 1) ${fadeOutTime}ms`;\n      const fadeOutTransition = [\n        `opacity ${fadeOutTime}ms cubic-bezier(0.0, 0.0, 0.2, 1) 0ms`,\n        `visibility ${fadeOutTime}ms cubic-bezier(0.0, 0.0, 0.2, 1) 0ms`,\n      ].join(', ');\n\n      options.fromShapeElement.style.setProperty('transition', transformTransition);\n      for (const prop of transitionProperties) {\n        switch (prop) {\n          case 'transform': {\n            options.fromShapeElement.style.setProperty('transform', shapeTransform.toString());\n            continue;\n          }\n          case 'transition': continue;\n          case 'transform-origin':\n            options.fromShapeElement.style.setProperty('transform-origin', '0 0 0');\n            continue;\n          case 'z-index':\n            options.fromShapeElement.style.setProperty('z-index', '8');\n            continue;\n          case 'visibility':\n            options.fromShapeElement.style.setProperty('visibility', 'hidden');\n            continue;\n          default:\n            if (newFromShapeProperties[prop] == null) {\n              options.fromShapeElement.style.removeProperty(prop);\n            } else {\n              options.fromShapeElement.style.setProperty(prop, newFromShapeProperties[prop]);\n            }\n        }\n      }\n\n      requestAnimationFrame(() => {\n        buildTransitionEndListener(options.fromShapeElement, 'transform', () => {\n          for (const prop of transitionProperties) {\n            if (prop === 'transition') {\n              options.toShapeElement.style.setProperty('transition', 'none');\n              options.toContentElement.style.setProperty('transition', 'none');\n            } else {\n              if (oldToShapeProperties[prop] == null) {\n                options.toShapeElement.style.removeProperty(prop);\n              } else {\n                options.toShapeElement.style.setProperty(prop, oldToShapeProperties[prop]);\n              }\n              if (oldToContentProperties[prop] == null) {\n                options.toContentElement.style.removeProperty(prop);\n              } else {\n                options.toContentElement.style.setProperty(prop, oldToContentProperties[prop]);\n              }\n            }\n\n            if (prop === 'visibility' && !options.revertFrom) continue;\n\n            if (oldFromContentProperties[prop] == null) {\n              options.fromContentElement.style.removeProperty(prop);\n            } else {\n              options.fromContentElement.style.setProperty(prop, oldFromContentProperties[prop]);\n            }\n            if (oldFromShapeProperties[prop] == null) {\n              options.fromShapeElement.style.removeProperty(prop);\n            } else {\n              options.fromShapeElement.style.setProperty(prop, oldFromShapeProperties[prop]);\n            }\n          }\n          if (options.onTransitionEnd) {\n            options.onTransitionEnd(options);\n          }\n          requestAnimationFrame(() => {\n            if (oldToShapeProperties.transition == null) {\n              options.toShapeElement.style.removeProperty('transition');\n            } else {\n              options.toShapeElement.style.setProperty('transition', oldToShapeProperties.transition);\n            }\n            if (oldToContentProperties.transition == null) {\n              options.toContentElement.style.removeProperty('transition');\n            } else {\n              options.toContentElement.style.setProperty('transition', oldToContentProperties.transition);\n            }\n            options.fromShapeElement.removeAttribute('mdw-transition-busy');\n            options.toShapeElement.removeAttribute('mdw-transition-busy');\n            options.toContentElement.removeAttribute('mdw-transition-busy');\n            options.fromContentElement.removeAttribute('mdw-transition-busy');\n            if (options.onComplete) {\n              options.onComplete(options);\n            }\n          });\n        }, calculatedDuration);\n      });\n\n      // Fade out fromContent while shaping into new content\n      options.fromContentElement.style.setProperty('transition', fadeOutTransition);\n      options.fromContentElement.style.setProperty('opacity', '0');\n      options.fromContentElement.style.setProperty('visibility', 'hidden');\n\n      options.toContentElement.style.setProperty('transition', [\n        transformTransition,\n        fadeInTransition,\n      ].join(', '));\n      options.toContentElement.style.setProperty('opacity', '1');\n      options.toContentElement.style.setProperty('transform', 'none');\n    });\n  });\n\n  return revertFunction;\n}\n"],"names":["constructTableCheckbox","element","document","createElement","className","setAttribute","appendChild","icon","Selection","DataTableAdapterColumn","constructor","options","this","innerHTML","fragment","key","dataset","sortable","sortIcon","customSortIcon","textContent","prepend","tooltip","wrapper","target","append","name","primaryColumn","rowSelector","type","checkboxLabel","classList","add","renderer","defaultCheckboxRenderer","defaultCellRenderer","formatter","value","sorter","DataTableColumnHeader","cell","contains","checked","selectionElement","getElementsByClassName","Attributes","stringValue","toString","setTextNode","DataTableAdapter","datatable","datasource","filter","onValueChangeRequested","onValueChanged","DataTable","onElementScrollListener","onElementScroll","onDataTableColumnHeaderSortListener","event","onDataTableColumnHeaderSort","onCheckedChangeEventListener","onCheckedChangeEvent","addEventListener","DataTableRow","onRowSelectedChangeEvent","tbody","scroller","columns","page","pageLimit","debounceTimeMs","throttleTimeMs","useLazyRendering","ascending","detail","sort","updateSortIcons","updateSortColumn","detach","removeAttribute","filteredDatasource","performThrottledRender","forceRefresh","performLazyRender","throttledRenderPending","scheduleThrottledRender","window","requestAnimationFrame","setTimeout","querySelector","debounceTimeout","clearTimeout","buildScrollListener","passive","destroyScrollListener","removeEventListener","currentCell","getTableCell","getAttribute","setCheckOnAllRows","cellIndex","setHasSelection","currentRow","getTableRow","object","getDataForTableRow","preventDefault","hasAttribute","tableHeaderCell","refresh","index","tableColumn","direction","a","b","valueA","valueB","Number","parseFloat","localeCompare","sortedTableHeaderCell","otherTableHeader","getHeaderRow","getElementsByTagName","columnIndex","column","HTMLTableRowElement","parentElement","HTMLTableCellElement","getSelectedRows","selectorColumn","find","getDatasource","row","setDatasource","setUseLazyRendering","addColumn","push","updatePaginator","min","total","length","max","paginationDetailsElement","previousPageButton","nextPageButton","setPagination","footer","getFooter","disabled","style","setProperty","needsDraw","removeProperty","optionsElement","rowsPerPageText","limits","limitsElement","select","limit","option","dropdownIcon","parseInt","updateRowCount","refreshRows","paginationControls","buttons","Button","create","isRowVisible","el","viewportTop","scrollTop","viewportBottom","offsetHeight","rowTop","offsetTop","rowBottom","clearNonvisibleRows","visibleRows","getTableBody","rows","firstRowIndex","POSITIVE_INFINITY","lastRowIndex","NEGATIVE_INFINITY","sectionRowIndex","lastChild","removeChild","getLazyRenderRows","len","minRowCount","screen","height","foundFirstVisibleRow","startIndex","endIndex","i","item","cells","refreshRow","setFilter","refreshFilter","setSorter","slice","rowLength","rowsToDisplay","offset","rowDifference","newRows","createDocumentFragment","RovingTabIndex","getTableRowForData","data","datasourceIndex","indexOf","minIndex","rowIndex","refreshCell","createdCells","missingColumn","missingCell","DataTableRowHeader","insertCell","DataTableCell","querySelectorAll","formattedValue","getColumn","search","getTable","table","insertBefore","thead","headerRow","refreshColumn","AnyDomAdapterCreator","AnyDomAdapterRenderer","s","String","DomAdapter","dataElementMap","Map","elementDataMap","WeakMap","dataBoundsMap","render","onScrollerScrollListener","onScrollerScroll","setupRecycleOptions","recycle","recycleOptions","getComputedStyle","position","drawViewport","deferRenderDebounce","deferRender","unlinkedDataItems","orphanedElements","keys","includes","children","child","get","removeItem","removeElement","clear","refreshItem","maxBottomBounds","idle","itemsToDraw","foundVisibleItem","expectedTop","paddingTopSet","lastBottom","additionalPrerenderSize","clientHeight","preRenderTop","preRenderBottom","dataBounds","getBounds","newBounds","top","bottom","block","invalidate","storeBoundsCache","isBottomInPrerender","isTopInPrerender","isBottomVisible","isTopVisible","delete","renderedElements","lastRenderedBounds","newPaddingTop","cachedBounds","lastItem","lastItemBounds","equalSize","indexHint","cached","cache","set","previousBounds","firstBounds","measureElementBounds","fastMeasure","right","offsetWidth","offsetLeft","left","width","clientWidth","offsetParentRect","offsetParent","getBoundingClientRect","elementRect","scrollLeft","invalidateAll","dataIndex","elementIndex","bounds","checkPosition","sibling","firstElementChild","siblingIndex","nextElementSibling","hasChildNodes","previousDataObject","inserted","previousElement","previousElementSibling","remove","after","prevClientWidth","prevClientHeight","invalidateItem","currentBounds","j","previousIndex","AnyListAdapterRenderer","primaryText","contentElement","ListItem","ListAdapter","super","containsTextFilter","input","content","trim","toLocaleLowerCase","startsWithTextFilter","defaultItemTextParser","textElement","some","textNode","getTextNode","selectSibling","list","backwards","current","items","scrollItemIntoView","listItem","visibility","rect","next","body","documentElement","getElementVisibility","scrollIntoView","behavior","inline","SearchAdapter","textfield","List","textFilter","itemTextParser","ListContent","onItemSelected","inputValue","suggestedInput","setSelectionRange","focus","hideDropDown","onTextFieldKeydownEvent","handleInputEvent","handleBlurEvent","searchOnFocus","dropdown","filterItems","debounce","suggestionMethod","currentSearchTerm","previousValue","performSearch","bind","updateList","results","activeElement","showDropDown","performDebounce","checkExpired","searchResults","filterListItems","error","message","Promise","resolve","reject","Error","searchTerm","dropDownElement","changed","isDropDownShown","suggestion","TextField","selectionStart","selectionEnd","fnFilter","hasItem","newSelection","defaultPrevented","ctrlKey","altKey","stopPropagation","click","onTabIndexZeroed","bottomnavElement","currentTarget","currentItem","onForwardsRequested","shiftKey","metaKey","onBackwardsRequested","onSelectedChangeEvent","itemElement","BottomNavItem","attach","setupARIA","selectedItem","Keyboard","SELECTED_CHANGE_EVENT","setSelected","dispatchEvent","AriaTab","onClick","attachCore","attachAria","Overlay","Ripple","detachCore","AriaButton","ChipItem","FOCUS_EVENT","onFocus","gridCellElement","dispatchDomEvent","SORT_EVENT","columnHeaderElement","ariaSort","Cell","CELL_TABINDEX_QUERIES","onSelectedChange","selected","dataTableElement","getScroller","datatableElement","before","HTMLTableElement","onItemFocus","onFocusInteraction","interaction","split","onSort","th","deleteRow","aCell","bCell","aText","bText","reverse","sortColumn","emitter","join","onKeyboard","checkNavKeys","searchElements","loop","map","q","tableElement","tableRows","rowElement","DialogStack","previousFocus","state","previousState","OPEN_DIALOGS","CANCEL_EVENT","CONFIRM_EVENT","onTransitionEnd","propertyName","dialogElement","popupElement","hide","stackIndex","stack","HTMLElement","closest","splice","history","hash","back","onPopState","cancel","onCancelClick","HTMLAnchorElement","onConfirmClick","confirm","onCustomButtonClick","button","onKeyDown","onEscapeKeyDown","focusableElements","foundTarget","candidate","handleTabKeyPress","getTitleText","title","titleElement","bodyElement","lastOpenDialog","Object","every","pushState","updateButtonText","texts","updateBody","DocumentFragment","dialogCloser","getChildElementByClass","firstChild","popup","foundConfirmButton","foundCancelButton","updateTitle","buttonArea","buttonText","custom","autofocus","stacked","parent","show","hadLayer","getPropertyValue","pageX","pageY","dialogRect","pageXOffset","pageYOffset","Element","transformOriginX","transformOriginY","updateTransformOrigin","newState","Math","random","replaceState","dialogStack","focusElement","fabElement","onCloserClicked","onFabButtonClicked","toggle","closer","TABLET_BREAKPOINT","lastScrollY","penultimateScrollY","scrolledPastAppBar","appBarElement","layoutContentElement","lastScrollBottomDistance","scrollThrottler","getScrollThrottler","Throttler","onScrimScroll","scrollHeight","scrollWidth","isNavDrawerModalShowing","navDrawer","location","id","innerWidth","showNavDrawer","hideNavDrawer","toggleNavDrawer","showSideSheet","hideSideSheet","onScrimClick","sidesheet","toggleSideSheet","getAppBarElement","shouldAutoHideAppBar","appBar","autoHide","showFab","changeFabCut","fabCutAttr","openAppBarFabCut","hideFab","replace","closeAppBarFabCut","getContentElement","onScroll","isBody","scrollElement","currentScrollY","change","delta","abs","scrollBottom","scrollBottomDistance","scrollBottomChange","didScrollUp","isAtScrollTop","newScrollUp","didScrollDown","isAtScrollBottom","newScrollDown","bottomAppBar","scrolledAway","newScrollAway","scrolledBack","isAtRest","onContentScroll","run","onBodyScroll","resetScroll","scrim","ACTIVATE_EVENT","onEnterKey","listContentElement","newEvent","createEvent","initEvent","secondaryElement","ListSecondary","onContentFocusEvent","listElement","listElementRole","role","onDownArrowKey","onUpArrowKey","newRole","setupAria","attachAll","root","isExpanded","listItemElement","setExpanded","treeitem","onChildContentActivate","activatedElement","activatorContent","isTreeItem","roleIsNone","parentRole","contentChild","SECONDARY_ACTION_EVENT","onInteraction","listSecondaryElement","MenuStack","originalEvent","pendingResizeOperation","OPEN_MENUS","menuElement","menuStack","onWindowResize","onMenuScroll","onMenuClick","updateMenuPosition","alignTarget","transformOrigin","useAlignTarget","margin","mdwPosition","mdwDirection","alignTop","alignBottom","alignVCenter","alignStart","alignEnd","alignLeft","alignRight","alignHCenter","openUp","openDown","openNormal","openReverse","openVCenter","openHCenter","openLtr","openRtl","isPageRTL","isRtl","offsetY","offsetBottom","offsetX","offsetRight","popupElementHeight","popupElementWidth","canOpenDownwardsFromBottom","innerHeight","canOpenDownwardsFromTop","canOpenUpwardsFromTop","canOpenUpwardsFromBottom","canOpenRightwardsFromLeft","canOpenRightwardsFromRight","canOpenLeftwardsFromRight","canOpenLeftwardsFromLeft","canOpenFromCenter","candidates","candidateNumber","number","lastOpenMenu","cancelAnimationFrame","selectNextMenuItem","menu","menuItems","firstFocusableItem","lastFocusableElement","focusable","menuItem","MenuItem","refreshMenuItems","pointerType","CHECK_EVENT","UNCHECK_EVENT","onMouseMove","setChecked","isCheckable","iterateElementSiblings","toggleChecked","menuItemElement","useAriaChecked","circumference","PI","setValue","progressCircleElement","dashOffset","pathElements","CHECKED_CHANGE_EVENT","newValue","onActivateEvent","HTMLInputElement","SelectionInput","inputElement","CLICK_EVENT","onCheckedChange","radiogroupElement","SnackbarQueueItem","hideTimeout","clearHideTimeout","SNACKBAR_QUEUE","findNextQueueItem","queue","handleAnimationChange","snackbarElement","currentQueueItem","autoHideString","timeInSeconds","timeout","nextQueueItem","update","onAnimationEnd","animationName","onButtonClick","buttonElement","span","createTextNode","text","buttonInk","autoDestroy","newlyCreated","skipQueue","SCROLL_EVENT","HTMLTextAreaElement","onTabContentScroll","tabContentElement","isPageRtl","scrollPoint","visibleIndex","floor","visibilityPercentage","panel","isResting","rightPanel","leftPeekPanel","rightPeekPanel","selectedIndex","leftPanelIndex","leftSelected","rightSelected","lastIndex","leftPanel","currentTargetIndexString","currentTargetIndex","updateSelected","forceSelection","TabPanel","selectPanel","panelElement","scrollToPanel","currentSelectedIndex","panelIndex","otherPanels","forEach","targetScrollLeft","scrollToElement","onResize","tabElement","stage","performResize","relatedPanel","TabContent","RESIZE_WAIT_FRAMES","tabListElement","relatedItem","TabList","updateSelectedIndex","currentIndex","onTabItemSelectedChange","tabItemElement","tabItemIndex","onTabPanelExpandedChange","TabItem","panels","selectedPanel","onForwardArrowKey","onBackArrowKey","setIndicatorPosition","percentage","animate","indicatorElement","leftItem","nextItem","getTabItemIndex","selectItemAtIndex","dispatchEvents","EXPANDED_CHANGE_EVENT","tabPanelElement","setHidden","updateInputEmptyState","attrName","textfieldElement","updateTextAreaSize","previousRowsAttrValue","paddingTop","heightPx","paddingTopPx","onInput","HTMLSelectElement","Date","hoursStr","getHours","minutesStr","getMinutes","secondsStr","getSeconds","getMilliseconds","valueAsDate","valueAsNumber","getTime","getTimezoneOffset","dispatchEventName","explicit","emptyValue","attr","setCurrent","isChecked","isDisabled","setDisabled","isReadonly","HTMLButtonElement","FORWARD_ARROW_KEY","BACK_ARROW_KEY","UP_ARROW_KEY","DOWN_ARROW_KEY","HOME_KEY","END_KEY","SPACEBAR_KEY","ENTER_KEY","onKeyDownHandler","repeat","TABINDEX_ZEROED","onChildFocus","removeTabIndex","excludeItems","attemptFocus","selectNext","foundCurrent","iterateResult","array","selectPrevious","setupTabIndexes","focusableWhenDisabled","currentlyFocusedChild","currentTabIndexChild","firstFocusableChild","dir","eventTarget","CustomEvent","bubbles","cancelable","Event","initCustomEvent","fn","distance","node","childNode","childNodes","nodeType","Node","TEXT_NODE","nodeValue","smooth","rtl","parentRect","subPixelScrollPosition","scrollTo","lastInteractionWasTouch","onMouseDown","onTouchStart","onBlur","matchMedia","matches","updateRipplePosition","rippleInner","x","y","xPos","yPos","parentWidth","parentHeight","hypotenuse","sqrt","drawRipple","initiator","currentInitiator","rippleContainer","touch","changedTouches","clearRipple","msMatchesSelector","isActive","pending","queued","abort","pxToInteger","px","convertBoxShadow","scaleX","scaleY","substring","match","shadow","inset","blurRadius","spreadRadius","color","toLowerCase","numberValue","Boolean","convertShadow","parsePercentage","numValue","convertBorderRadius","horizontal","vertical","getShapeTransform","targetElement","originElement","originStyle","originRect","targetRect","originCSSStyle","originX","originWidth","originY","originHeight","boxSizing","paddingRight","paddingBottom","paddingLeft","translateX","translateY","transitionElement","toStyleSyle","toShapeElement","shapeTransform","fromShapeElement","contentTransform","toContentElement","fromContentElement","transitionProperties","oldFromShapeProperties","oldToShapeProperties","oldFromContentProperties","oldToContentProperties","newFromShapeProperties","prop","topLeft","topRight","bottomLeft","bottomRight","horizontalRadii","verticalRadii","calculatedDuration","duration","totalDuration","fadeInTime","fadeOutTime","transformTransition","fadeInTransition","fadeOutTransition","property","callback","expectedDuration","hasEnded","buildTransitionEndListener","revertFrom","transition","onComplete"],"sourceRoot":""}