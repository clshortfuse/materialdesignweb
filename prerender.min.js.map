{"version":3,"file":"prerender.min.js","mappings":"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","sources":["webpack:///./_storage.js","webpack:///./_menuoptions.js","webpack:///./prerender.js","webpack:///../core/document/index.js"],"sourcesContent":["/**\n * @param {string} key\n * @return {string}\n */\nexport function getStorageItem(key) {\n  if (!window.localStorage) {\n    return null;\n  }\n  return localStorage.getItem(key);\n}\n\n/**\n * @param {string} key\n * @param {string} value\n * @return {void}\n */\nexport function setStorageItem(key, value) {\n  if (!window.localStorage) {\n    return;\n  }\n  localStorage.setItem(key, value);\n}\n\n/**\n * @param {string} key\n * @return {void}\n */\nexport function removeStorageItem(key) {\n  if (!window.localStorage) {\n    return;\n  }\n  localStorage.removeItem(key);\n}\n","import { getStorageItem, removeStorageItem, setStorageItem } from './_storage.js';\n\n/**\n * @param {boolean} value\n * @param {Element} [button]\n * @return {void}\n */\nexport function setRTLMode(value, button) {\n  if (value) {\n    document.documentElement.dir = 'rtl';\n    setStorageItem('rtlmode', 'true');\n  } else {\n    // Explicit LTR is required for Safari to support repeated toggling\n    document.documentElement.dir = 'ltr';\n    removeStorageItem('rtlmode');\n  }\n  if (button) {\n    button.setAttribute('aria-pressed', value ? 'true' : 'false');\n  }\n}\n\n/** @return {boolean} */\nexport function isDarkMode() {\n  const userPreference = getStorageItem('darkmode');\n  if (userPreference == null) {\n    return window.matchMedia('(prefers-color-scheme: dark)').matches;\n  }\n  return userPreference === 'true';\n}\n\n/**\n * @param {boolean} value\n * @param {Element} [button]\n * @return {void}\n */\nexport function setDarkMode(value, button) {\n  if (value) {\n    document.documentElement.setAttribute('mdw-dark', '');\n    document.documentElement.removeAttribute('mdw-light');\n  } else {\n    document.documentElement.setAttribute('mdw-light', '');\n    document.documentElement.removeAttribute('mdw-dark');\n  }\n  const stringValue = (value ? 'true' : 'false');\n  if (button) {\n    button.setAttribute('aria-pressed', stringValue);\n  }\n  setStorageItem('darkmode', stringValue);\n}\n\n/**\n * @param {boolean} value\n * @param {Element} [button]\n * @return {void}\n */\nexport function setAltTheme(value, button) {\n  const items = document.head.getElementsByTagName('link');\n  for (let i = 0; i < items.length; i += 1) {\n    const stylesheet = items.item(i);\n    if (stylesheet.href.includes(value ? 'theme-colored' : 'theme-default')) {\n      stylesheet.disabled = false;\n    }\n    if (stylesheet.href.includes(value ? 'theme-default' : 'theme-colored')) {\n      stylesheet.disabled = true;\n    }\n  }\n\n  const stringValue = (value ? 'true' : 'false');\n  if (button) {\n    button.setAttribute('aria-pressed', stringValue);\n  }\n  const statusBarAttribute = document.head.getElementsByTagName('meta').namedItem('theme-color');\n  if (statusBarAttribute) {\n    statusBarAttribute.setAttribute('content', value ? '#FF5722' : '#E91E63');\n  }\n\n  setStorageItem('alttheme', stringValue);\n}\n\n/**\n * @param {string} value\n * @param {Element} [button]\n * @return {void}\n */\nexport function setFontSize(value, button) {\n  if (value) {\n    document.documentElement.style.setProperty('font-size', value);\n    setStorageItem('fontsize', value);\n  } else {\n    document.documentElement.style.removeProperty('font-size');\n    removeStorageItem('fontsize');\n  }\n  if (button) {\n    button.setAttribute('aria-pressed', value ? 'true' : 'false');\n  }\n}\n\n/**\n * @param {Element} [element]\n * @return {void}\n */\nfunction setupRTLMode(element) {\n  if (getStorageItem('rtlmode') === 'true') {\n    setRTLMode(true, element);\n  }\n  if (!element) {\n    return;\n  }\n  element.addEventListener('click', () => {\n    if (document.documentElement.dir === 'rtl') {\n      setRTLMode(false, element);\n    } else {\n      setRTLMode(true, element);\n    }\n  });\n}\n\n/**\n * @param {Element} [element]\n * @return {void}\n */\nfunction setupAltTheme(element) {\n  if (getStorageItem('alttheme') === 'true') {\n    setAltTheme(true, element);\n  }\n  if (!element) {\n    return;\n  }\n  element.addEventListener('click', () => {\n    if (getStorageItem('alttheme') !== 'true') {\n      setAltTheme(true, element);\n    } else {\n      setAltTheme(false, element);\n    }\n  });\n}\n\n/**\n * @param {Element} [element]\n * @return {void}\n */\nfunction setupDarkMode(element) {\n  if (isDarkMode()) {\n    setDarkMode(true, element);\n  }\n  if (!element) {\n    return;\n  }\n  element.addEventListener('click', () => {\n    if (document.documentElement.hasAttribute('mdw-dark')) {\n      setDarkMode(false, element);\n    } else {\n      setDarkMode(true, element);\n    }\n  });\n}\n\n/**\n * @param {Element} element\n * @return {void}\n */\nfunction setupLargeFontMode(element) {\n  const fontsize = getStorageItem('fontsize');\n  setFontSize(fontsize, element);\n  if (!element) {\n    return;\n  }\n  element.addEventListener('click', () => {\n    if (document.documentElement.style.getPropertyValue('font-size')) {\n      setFontSize(null, element);\n    } else {\n      setFontSize('200%', element);\n    }\n  });\n}\n\n/** @return {void} */\nexport function setupMenuOptions() {\n  setupAltTheme(document.getElementById('altThemeButton'));\n  setupRTLMode(document.getElementById('rtlButton'));\n  setupDarkMode(document.getElementById('darkModeButton'));\n  setupLargeFontMode(document.getElementById('largeFontButton'));\n}\n","import * as Document from '../core/document/index.js';\n\nimport { setupMenuOptions } from './_menuoptions.js';\n\n/** @return {void} */\nfunction onDOMContentLoaded() {\n  document.removeEventListener('DOMContentLoaded', onDOMContentLoaded);\n  // Apply button states\n  setupMenuOptions();\n}\n\n// Apply context first\nsetupMenuOptions();\nDocument.onPrerender();\n\ndocument.addEventListener('DOMContentLoaded', onDOMContentLoaded);\n","/** @return {void} */\nexport function detectStandalone() {\n  // @ts-ignore: Safari uses navigator.standalone\n  if (navigator.standalone === true || window.matchMedia('(display-mode: standalone)').matches) {\n    document.documentElement.setAttribute('mdw-standalone', '');\n  }\n}\n\n/** @return {void} */\nexport function detectUserAgent() {\n  const ua = navigator.userAgent.toLowerCase();\n  if (/iphone/i.test(ua) || /ipad/i.test(ua) || /macintosh/i.test(ua)) {\n    document.documentElement.setAttribute('mdw-ios', '');\n  }\n}\n\n/** @return {void} */\nexport function detectColorScheme() {\n  // Auto lightness and fill\n  if (!document.documentElement.hasAttribute('mdw-surface')\n    && !document.documentElement.hasAttribute('mdw-light')\n    && !document.documentElement.hasAttribute('mdw-dark')) {\n    if (window.matchMedia('(prefers-color-scheme:dark)').matches) {\n      document.documentElement.setAttribute('mdw-dark', '');\n    } else {\n      document.documentElement.setAttribute('mdw-light', '');\n    }\n  }\n}\n\n/**\n * Run before document has loaded\n * @return {void}\n */\nexport function onPrerender() {\n  detectStandalone();\n  detectUserAgent();\n  detectColorScheme();\n}\n"],"names":["getStorageItem","key","window","localStorage","getItem","setStorageItem","value","setItem","removeStorageItem","removeItem","setRTLMode","button","document","documentElement","dir","setAttribute","setDarkMode","removeAttribute","stringValue","setAltTheme","items","head","getElementsByTagName","i","length","stylesheet","item","href","includes","disabled","statusBarAttribute","namedItem","setFontSize","style","setProperty","removeProperty","setupDarkMode","element","userPreference","matchMedia","matches","isDarkMode","addEventListener","hasAttribute","setupMenuOptions","getElementById","setupRTLMode","getPropertyValue","setupLargeFontMode","navigator","standalone","ua","userAgent","toLowerCase","test","detectUserAgent","onDOMContentLoaded","removeEventListener"],"sourceRoot":""}