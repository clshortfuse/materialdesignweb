/* https://m3.material.io/foundations/interaction-states */

:host {
  --mdw-state__hover-opacity: 0.08;
  --mdw-state__focus-opacity: 0.12;
  --mdw-state__pressed-opacity: 0.12;
  --mdw-state__dragged-opacity: 0.12;
  position: relative;

  outline: none;
  -webkit-tap-highlight-color: transparent;
}

/* Remove Firefox inner */
:host(::-moz-focus-inner) {
  border: 0;
}

#state {
  position: absolute;
  inset: 0;

  pointer-events: none;

  opacity: calc(
      var(--mdw-state__hover-opacity) +
      var(--mdw-state__focus-opacity) +
      var(--mdw-state__pressed-opacity) +
      var(--mdw-state__dragged-opacity)
    );
  /* opacity handled by theme engine */
  background-color: currentColor;
  border-radius: inherit;

  transition-delay: 1ms;
  transition-duration: 0ms;
  transition-property: opacity, color, background-color;
  will-change: opacity;
}

#state[touched] {
  --mdw-state__hover-opacity: 0;
  --mdw-state__focus-opacity: 0;
}

/* Remove Hover State */
:host(:not(:hover)) #state,
#state:is(
  [disabled]:not([state-disabled~="hover"]),
  [state-off~="hover"]) {
  --mdw-state__hover-opacity: 0;
}

/* Remove Focus State */
:host(:not(:focus)) #state,
#state:is(
  [disabled]:not([state-disabled~="focus"]),
  [state-off~="focus"]) {
  --mdw-state__focus-opacity: 0;
}

/* Remove Pressed State */
:host(:not(:active)) #state,
#state:is(
  [disabled]:not([state-disabled~="pressed"]),
  [state-off~="pressed"]) {
  --mdw-state__pressed-opacity: 0;
}

/* Remove Dragged State */
:host(:not([aria-dragged="true"])) #state,
#state:is(
  [disabled]:not([state-disabled~="dragged"]),
  [state-off~="dragged"]) {
  --mdw-state__dragged-opacity: 0;
}

/* Disabled */
#state[disabled]:not([state-disabled]) {
  display: none;
}
