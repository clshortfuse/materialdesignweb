.mdw-theme {
  --mdw-list__divider-color: var(--mdw-divider-color);
  --mdw-list__focus-opacity: var(--mdw-list__focus-opacity-value);
  --mdw-list__focus-selected-opacity: calc(var(--mdw-list__focus-opacity-value) + var(--mdw-list__selected-opacity-value));
  --mdw-list__focus-activated-opacity: calc(var(--mdw-list__focus-opacity-value) + var(--mdw-list__activated-opacity-value));
  --mdw-list__focus-hover-opacity: calc(var(--mdw-list__focus-opacity-value) + var(--mdw-list__hover-opacity-value));
  --mdw-list__focus-hover-selected-opacity: calc(var(--mdw-list__focus-opacity-value) + var(--mdw-list__hover-opacity-value) + var(--mdw-list__selected-opacity-value));
  --mdw-list__focus-hover-activated-opacity: calc(var(--mdw-list__focus-opacity-value) + var(--mdw-list__hover-opacity-value) + var(--mdw-list__activated-opacity-value));
}

.mdw-theme[mdw-light] {
  --mdw-list__focus-opacity-value: 0.12;
  --mdw-list__hover-opacity-value: 0.04;
  --mdw-list__selected-opacity-value: 0.08;
  --mdw-list__activated-opacity-value: 0.12;
}

.mdw-theme[mdw-dark] {
  --mdw-list__focus-opacity-value: 0.24;
  --mdw-list__hover-opacity-value: 0.08;
  --mdw-list__selected-opacity-value: 0.16;
  --mdw-list__activated-opacity-value: 0.24;
}



.mdw-list__content {
  &[mdw-ink][aria-current] {
    .mdw-list__icon,
    .mdw-list__text {
      color: inherit;
    }
  }
}

.mdw-list[mdw-divider] {
  & > .mdw-list__item:not(:last-child) .mdw-list__text::after {
    background-color: var(--mdw-list__divider-color);
  }
}

.mdw-list__item[aria-expanded]:focus {
  & > .mdw-list__content {
    &:not([mdw-overlay-touch="true"]) {
      &:not([mdw-overlay-off~="focus"]):not([mdw-overlay-touch="true"])::before {
        opacity: var(--mdw-list__focus-opacity);
      }

      &:not([aria-disabled="true"]):not([mdw-overlay-touch="true"]) {
        &:hover:not([mdw-overlay-off~="hover"]):not([mdw-overlay-off~="focus"])::before {
          opacity: var(--mdw-list__focus-hover-opacity);
        }
      }
    }

    // Selected
    &[aria-selected="true"]:not([mdw-overlay-off~="selected"]) {
      &:not([mdw-overlay-touch="true"]) {
        &:focus:not([mdw-overlay-off~="focus"])::before {
          opacity: var(--mdw-list__focus-selected-opacity);
        }

        &:not([aria-disabled="true"]) {
          &:hover:not([mdw-overlay-off~="hover"]):not([mdw-overlay-off~="focus"])::before {
            opacity: var(--mdw-list__focus-hover-selected-opacity);
          }
        }
      }
    }

    // Activated
    &[aria-current]:not([mdw-overlay-off~="current"]),
    &[aria-pressed="true"]:not([mdw-overlay-off~="activated"]) {
      &:not([mdw-overlay-touch="true"]) {
        &:not([mdw-overlay-off~="focus"])::before {
          opacity: var(--mdw-list__focus-activated-opacity);
        }

        &:not([aria-disabled="true"]) {
          &:hover:not([mdw-overlay-off~="hover"]):not([mdw-overlay-off~="focus"])::before {
            opacity: var(--mdw-list__focus-hover-activated-opacity);
          }
        }
      }
    }
  }
}

.mdw-list__item[aria-expanded="true"] {
  &::before,
  &::after {
    background-color: var(--mdw-list__divider-color);
  }

  &[mdw-ink][aria-expanded="true"] {
    & > .mdw-list__content,
    & > .mdw-list__content::before,
    & > .mdw-list__content > .mdw-list__text {
      color: inherit;
    }
  }
}