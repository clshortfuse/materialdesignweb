/* https://m3.material.io/components/segmented-buttons/specs */

:host {
  --mdw-shape__size: 0;
  --mdw-button__icon__font-variation-settings: 'FILL' 0;
  --mdw-button__outline__size: 1px;
  --mdw-ink: var(--mdw-color__on-surface);
  color: rgb(var(--mdw-ink));
}

:host(:first-child) {
  --mdw-shape__size__top-start-size: var(--mdw-shape__full);
  --mdw-shape__size__top-end-size: 0;
  --mdw-shape__size__bottom-start-size: var(--mdw-shape__full);
  --mdw-shape__size__bottom-end-size: 0;
}

:host(:last-child) {
  --mdw-shape__size__top-start-size: 0;
  --mdw-shape__size__top-end-size: var(--mdw-shape__full);
  --mdw-shape__size__bottom-start-size: 0;
  --mdw-shape__size__bottom-end-size: var(--mdw-shape__full);
}

#outline {
  inset-inline-end: calc(-1 * var(--mdw-button__outline__size));

  border-inline-start-width: var(--mdw-button__outline__size);
  border-inline-end-width: var(--mdw-button__outline__size);
  /* border-color: rgb(var(--mdw-color__outline)); */
}

:host(:first-child) #outline {
  border-inline-start-width: var(--mdw-button__outline__size);
}

:host(:last-child) #outline {
  inset-inline-end: 0;

  border-inline-end-width: var(--mdw-button__outline__size);
}

:host(:focus) {
  --mdw-button__outline__rgb: var(--mdw-color__outline);
}

:host([disabled]:is([checked])) {
  background-color: rgba(var(--mdw-color__on-surface), 0.12);
  /* color: rgba(var(--mdw-color__on-surface), 0.38); */
}

:host([checked]) {
  --mdw-ink: inherit;
  --mdw-bg: inherit;

  background-color: rgb(var(--mdw-bg));
}

:host([type="checkbox"]:not([checked])) {
  --mdw-button__icon__size: 0;
  --mdw-button__icon__opacity: 0;
}

#icon {
  display: none;
}

#check-icon {
  --mdw-icon__font-variation-settings: 'FILL' 1;
  --mdw-icon__size: 0;
  --mdw-icon__opacity: 0;

  order: -1;

  display: var(--mdw-button__icon__display);

  margin-inline-start: var(--mdw-button__icon__margin-inline-start);
  margin-inline-end: var(--mdw-button__icon__margin-inline-end);
}

:host([checked]) #check-icon {
  --mdw-icon__size: 18px;
  --mdw-icon__opacity: 1;
}

:host([icon]) #icon {
  display: block;
}

:host([icon]) #check-icon {
  --mdw-icon__size: 18px;
  --mdw-icon__opacity: 0;
  position: absolute;
  inset-inline-start: var(--mdw-button__icon__margin-inline-start);

  overflow: visible;

  margin: 0;
}

:host([icon][checked]) #icon {
  --mdw-icon__opacity: 0;
}

:host([icon][checked]) #check-icon {
  --mdw-icon__size: 18px;
  --mdw-icon__opacity: 1;
}
